var pn=Object.defineProperty;var hn=(i,o,_)=>o in i?pn(i,o,{enumerable:!0,configurable:!0,writable:!0,value:_}):i[o]=_;var gr=(i,o,_)=>hn(i,typeof o!="symbol"?o+"":o,_);function _mergeNamespaces(i,o){for(var _=0;_<o.length;_++){const j=o[_];if(typeof j!="string"&&!Array.isArray(j)){for(const _e in j)if(_e!=="default"&&!(_e in i)){const et=Object.getOwnPropertyDescriptor(j,_e);et&&Object.defineProperty(i,_e,et.get?et:{enumerable:!0,get:()=>j[_e]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const et of _e)if(et.type==="childList")for(const tt of et.addedNodes)tt.tagName==="LINK"&&tt.rel==="modulepreload"&&j(tt)}).observe(document,{childList:!0,subtree:!0});function _(_e){const et={};return _e.integrity&&(et.integrity=_e.integrity),_e.referrerPolicy&&(et.referrerPolicy=_e.referrerPolicy),_e.crossOrigin==="use-credentials"?et.credentials="include":_e.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function j(_e){if(_e.ep)return;_e.ep=!0;const et=_(_e);fetch(_e.href,et)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var o=i.default;if(typeof o=="function"){var _=function j(){return this instanceof j?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};_.prototype=o.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(i).forEach(function(j){var _e=Object.getOwnPropertyDescriptor(i,j);Object.defineProperty(_,j,_e.get?_e:{enumerable:!0,get:function(){return i[j]}})}),_}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,o,_){this.props=i,this.context=o,this.refs=D$1,this.updater=_||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,o){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,o,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,o,_){this.props=i,this.context=o,this.refs=D$1,this.updater=_||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,o,_){var j,_e={},et=null,tt=null;if(o!=null)for(j in o.ref!==void 0&&(tt=o.ref),o.key!==void 0&&(et=""+o.key),o)J.call(o,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=o[j]);var rt=arguments.length-2;if(rt===1)_e.children=_;else if(1<rt){for(var nt=Array(rt),st=0;st<rt;st++)nt[st]=arguments[st+2];_e.children=nt}if(i&&i.defaultProps)for(j in rt=i.defaultProps,rt)_e[j]===void 0&&(_e[j]=rt[j]);return{$$typeof:l$2,type:i,key:et,ref:tt,props:_e,_owner:K$1.current}}function N$1(i,o){return{$$typeof:l$2,type:i.type,key:o,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$2}function escape(i){var o={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(_){return o[_]})}var P$2=/\/+/g;function Q$1(i,o){return typeof i=="object"&&i!==null&&i.key!=null?escape(""+i.key):o.toString(36)}function R$1(i,o,_,j,_e){var et=typeof i;(et==="undefined"||et==="boolean")&&(i=null);var tt=!1;if(i===null)tt=!0;else switch(et){case"string":case"number":tt=!0;break;case"object":switch(i.$$typeof){case l$2:case n$2:tt=!0}}if(tt)return tt=i,_e=_e(tt),i=j===""?"."+Q$1(tt,0):j,I$1(_e)?(_="",i!=null&&(_=i.replace(P$2,"$&/")+"/"),R$1(_e,o,_,"",function(st){return st})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,_+(!_e.key||tt&&tt.key===_e.key?"":(""+_e.key).replace(P$2,"$&/")+"/")+i)),o.push(_e)),1;if(tt=0,j=j===""?".":j+":",I$1(i))for(var rt=0;rt<i.length;rt++){et=i[rt];var nt=j+Q$1(et,rt);tt+=R$1(et,o,_,nt,_e)}else if(nt=A$1(i),typeof nt=="function")for(i=nt.call(i),rt=0;!(et=i.next()).done;)et=et.value,nt=j+Q$1(et,rt++),tt+=R$1(et,o,_,nt,_e);else if(et==="object")throw o=String(i),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return tt}function S$1(i,o,_){if(i==null)return i;var j=[],_e=0;return R$1(i,j,"","",function(et){return o.call(_,et,_e++)}),j}function T$1(i){if(i._status===-1){var o=i._result;o=o(),o.then(function(_){(i._status===0||i._status===-1)&&(i._status=1,i._result=_)},function(_){(i._status===0||i._status===-1)&&(i._status=2,i._result=_)}),i._status===-1&&(i._status=0,i._result=o)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,o,_){S$1(i,function(){o.apply(this,arguments)},_)},count:function(i){var o=0;return S$1(i,function(){o++}),o},toArray:function(i){return S$1(i,function(o){return o})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$3;react_production_min.cloneElement=function(i,o,_){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var j=C$1({},i.props),_e=i.key,et=i.ref,tt=i._owner;if(o!=null){if(o.ref!==void 0&&(et=o.ref,tt=K$1.current),o.key!==void 0&&(_e=""+o.key),i.type&&i.type.defaultProps)var rt=i.type.defaultProps;for(nt in o)J.call(o,nt)&&!L$1.hasOwnProperty(nt)&&(j[nt]=o[nt]===void 0&&rt!==void 0?rt[nt]:o[nt])}var nt=arguments.length-2;if(nt===1)j.children=_;else if(1<nt){rt=Array(nt);for(var st=0;st<nt;st++)rt[st]=arguments[st+2];j.children=rt}return{$$typeof:l$2,type:i.type,key:_e,ref:et,props:j,_owner:tt}};react_production_min.createContext=function(i){return i={$$typeof:u$1,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t$1,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var o=M$1.bind(null,i);return o.type=i,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$3,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y$1,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,o){return{$$typeof:x$1,type:i,compare:o===void 0?null:o}};react_production_min.startTransition=function(i){var o=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=o}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(i,o){return U$1.current.useCallback(i,o)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,o){return U$1.current.useEffect(i,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,o,_){return U$1.current.useImperativeHandle(i,o,_)};react_production_min.useInsertionEffect=function(i,o){return U$1.current.useInsertionEffect(i,o)};react_production_min.useLayoutEffect=function(i,o){return U$1.current.useLayoutEffect(i,o)};react_production_min.useMemo=function(i,o){return U$1.current.useMemo(i,o)};react_production_min.useReducer=function(i,o,_){return U$1.current.useReducer(i,o,_)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,o,_){return U$1.current.useSyncExternalStore(i,o,_)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$7=getDefaultExportFromCjs(reactExports),React$8=_mergeNamespaces({__proto__:null,default:React$7},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$2=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,o,_){var j,_e={},et=null,tt=null;_!==void 0&&(et=""+_),o.key!==void 0&&(et=""+o.key),o.ref!==void 0&&(tt=o.ref);for(j in o)m$2.call(o,j)&&!p$2.hasOwnProperty(j)&&(_e[j]=o[j]);if(i&&i.defaultProps)for(j in o=i.defaultProps,o)_e[j]===void 0&&(_e[j]=o[j]);return{$$typeof:k$2,type:i,key:et,ref:tt,props:_e,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function o(bt,vt){var At=bt.length;bt.push(vt);e:for(;0<At;){var Ot=At-1>>>1,Ct=bt[Ot];if(0<_e(Ct,vt))bt[Ot]=vt,bt[At]=Ct,At=Ot;else break e}}function _(bt){return bt.length===0?null:bt[0]}function j(bt){if(bt.length===0)return null;var vt=bt[0],At=bt.pop();if(At!==vt){bt[0]=At;e:for(var Ot=0,Ct=bt.length,Lt=Ct>>>1;Ot<Lt;){var It=2*(Ot+1)-1,Dt=bt[It],Zt=It+1,Qt=bt[Zt];if(0>_e(Dt,At))Zt<Ct&&0>_e(Qt,Dt)?(bt[Ot]=Qt,bt[Zt]=At,Ot=Zt):(bt[Ot]=Dt,bt[It]=At,Ot=It);else if(Zt<Ct&&0>_e(Qt,At))bt[Ot]=Qt,bt[Zt]=At,Ot=Zt;else break e}}return vt}function _e(bt,vt){var At=bt.sortIndex-vt.sortIndex;return At!==0?At:bt.id-vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;i.unstable_now=function(){return et.now()}}else{var tt=Date,rt=tt.now();i.unstable_now=function(){return tt.now()-rt}}var nt=[],st=[],it=1,at=null,ot=3,ct=!1,ut=!1,lt=!1,pt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ft(bt){for(var vt=_(st);vt!==null;){if(vt.callback===null)j(st);else if(vt.startTime<=bt)j(st),vt.sortIndex=vt.expirationTime,o(nt,vt);else break;vt=_(st)}}function mt(bt){if(lt=!1,ft(bt),!ut)if(_(nt)!==null)ut=!0,St(xt);else{var vt=_(st);vt!==null&&Rt(mt,vt.startTime-bt)}}function xt(bt,vt){ut=!1,lt&&(lt=!1,dt(_t),_t=-1),ct=!0;var At=ot;try{for(ft(vt),at=_(nt);at!==null&&(!(at.expirationTime>vt)||bt&&!$t());){var Ot=at.callback;if(typeof Ot=="function"){at.callback=null,ot=at.priorityLevel;var Ct=Ot(at.expirationTime<=vt);vt=i.unstable_now(),typeof Ct=="function"?at.callback=Ct:at===_(nt)&&j(nt),ft(vt)}else j(nt);at=_(nt)}if(at!==null)var Lt=!0;else{var It=_(st);It!==null&&Rt(mt,It.startTime-vt),Lt=!1}return Lt}finally{at=null,ot=At,ct=!1}}var gt=!1,yt=null,_t=-1,Et=5,wt=-1;function $t(){return!(i.unstable_now()-wt<Et)}function jt(){if(yt!==null){var bt=i.unstable_now();wt=bt;var vt=!0;try{vt=yt(!0,bt)}finally{vt?Tt():(gt=!1,yt=null)}}else gt=!1}var Tt;if(typeof ht=="function")Tt=function(){ht(jt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Pt=kt.port2;kt.port1.onmessage=jt,Tt=function(){Pt.postMessage(null)}}else Tt=function(){pt(jt,0)};function St(bt){yt=bt,gt||(gt=!0,Tt())}function Rt(bt,vt){_t=pt(function(){bt(i.unstable_now())},vt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(bt){bt.callback=null},i.unstable_continueExecution=function(){ut||ct||(ut=!0,St(xt))},i.unstable_forceFrameRate=function(bt){0>bt||125<bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<bt?Math.floor(1e3/bt):5},i.unstable_getCurrentPriorityLevel=function(){return ot},i.unstable_getFirstCallbackNode=function(){return _(nt)},i.unstable_next=function(bt){switch(ot){case 1:case 2:case 3:var vt=3;break;default:vt=ot}var At=ot;ot=vt;try{return bt()}finally{ot=At}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(bt,vt){switch(bt){case 1:case 2:case 3:case 4:case 5:break;default:bt=3}var At=ot;ot=bt;try{return vt()}finally{ot=At}},i.unstable_scheduleCallback=function(bt,vt,At){var Ot=i.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Ot+At:Ot):At=Ot,bt){case 1:var Ct=-1;break;case 2:Ct=250;break;case 5:Ct=1073741823;break;case 4:Ct=1e4;break;default:Ct=5e3}return Ct=At+Ct,bt={id:it++,callback:vt,priorityLevel:bt,startTime:At,expirationTime:Ct,sortIndex:-1},At>Ot?(bt.sortIndex=At,o(st,bt),_(nt)===null&&bt===_(st)&&(lt?(dt(_t),_t=-1):lt=!0,Rt(mt,At-Ot))):(bt.sortIndex=Ct,o(nt,bt),ut||ct||(ut=!0,St(xt))),bt},i.unstable_shouldYield=$t,i.unstable_wrapCallback=function(bt){var vt=ot;return function(){var At=ot;ot=vt;try{return bt.apply(this,arguments)}finally{ot=At}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,_=1;_<arguments.length;_++)o+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,o){ha(i,o),ha(i+"Capture",o)}function ha(i,o){for(ea[i]=o,i=0;i<o.length;i++)da.add(o[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka$1.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,o,_,j){if(_!==null&&_.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return j?!1:_!==null?!_.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,o,_,j){if(o===null||typeof o>"u"||pa(i,o,_,j))return!0;if(j)return!1;if(_!==null)switch(_.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2(i,o,_,j,_e,et,tt){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=_,this.propertyName=i,this.type=o,this.sanitizeURL=et,this.removeEmptyString=tt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v$2(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];z[o]=new v$2(o,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v$2(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v$2(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v$2(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v$2(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v$2(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v$2(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v$2(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(ra,sa);z[o]=new v$2(o,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(ra,sa);z[o]=new v$2(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(ra,sa);z[o]=new v$2(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v$2(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v$2(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,o,_,j){var _e=z.hasOwnProperty(o)?z[o]:null;(_e!==null?_e.type!==0:j||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,_,_e,j)&&(_=null),j||_e===null?oa(o)&&(_===null?i.removeAttribute(o):i.setAttribute(o,""+_)):_e.mustUseProperty?i[_e.propertyName]=_===null?_e.type===3?!1:"":_:(o=_e.attributeName,j=_e.attributeNamespace,_===null?i.removeAttribute(o):(_e=_e.type,_=_e===3||_e===4&&_===!0?"":""+_,j?i.setAttributeNS(j,o,_):i.setAttribute(o,_))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(_){var o=_.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+i}var Na=!1;function Oa(i,o){if(!i||Na)return"";Na=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(st){var j=st}Reflect.construct(i,[],o)}else{try{o.call()}catch(st){j=st}i.call(o.prototype)}else{try{throw Error()}catch(st){j=st}i()}}catch(st){if(st&&j&&typeof st.stack=="string"){for(var _e=st.stack.split(`
`),et=j.stack.split(`
`),tt=_e.length-1,rt=et.length-1;1<=tt&&0<=rt&&_e[tt]!==et[rt];)rt--;for(;1<=tt&&0<=rt;tt--,rt--)if(_e[tt]!==et[rt]){if(tt!==1||rt!==1)do if(tt--,rt--,0>rt||_e[tt]!==et[rt]){var nt=`
`+_e[tt].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=tt&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=_}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return o=i.displayName||null,o!==null?o:Qa(i.type)||"Memo";case Ha:o=i._payload,i=i._init;try{return Qa(i(o))}catch{}}return null}function Ra(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(i){var o=Ta(i)?"checked":"value",_=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),j=""+i[o];if(!i.hasOwnProperty(o)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var _e=_.get,et=_.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return _e.call(this)},set:function(tt){j=""+tt,et.call(this,tt)}}),Object.defineProperty(i,o,{enumerable:_.enumerable}),{getValue:function(){return j},setValue:function(tt){j=""+tt},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var _=o.getValue(),j="";return i&&(j=Ta(i)?i.checked?"true":"false":i.value),i=j,i!==_?(o.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,o){var _=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??i._wrapperState.initialChecked})}function Za(i,o){var _=o.defaultValue==null?"":o.defaultValue,j=o.checked!=null?o.checked:o.defaultChecked;_=Sa(o.value!=null?o.value:_),i._wrapperState={initialChecked:j,initialValue:_,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(i,o){o=o.checked,o!=null&&ta(i,"checked",o,!1)}function bb(i,o){ab(i,o);var _=Sa(o.value),j=o.type;if(_!=null)j==="number"?(_===0&&i.value===""||i.value!=_)&&(i.value=""+_):i.value!==""+_&&(i.value=""+_);else if(j==="submit"||j==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?cb(i,o.type,_):o.hasOwnProperty("defaultValue")&&cb(i,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function db(i,o,_){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var j=o.type;if(!(j!=="submit"&&j!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,_||o===i.value||(i.value=o),i.defaultValue=o}_=i.name,_!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,_!==""&&(i.name=_)}function cb(i,o,_){(o!=="number"||Xa(i.ownerDocument)!==i)&&(_==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+_&&(i.defaultValue=""+_))}var eb=Array.isArray;function fb(i,o,_,j){if(i=i.options,o){o={};for(var _e=0;_e<_.length;_e++)o["$"+_[_e]]=!0;for(_=0;_<i.length;_++)_e=o.hasOwnProperty("$"+i[_].value),i[_].selected!==_e&&(i[_].selected=_e),_e&&j&&(i[_].defaultSelected=!0)}else{for(_=""+Sa(_),o=null,_e=0;_e<i.length;_e++){if(i[_e].value===_){i[_e].selected=!0,j&&(i[_e].defaultSelected=!0);return}o!==null||i[_e].disabled||(o=i[_e])}o!==null&&(o.selected=!0)}}function gb(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,o){var _=o.value;if(_==null){if(_=o.children,o=o.defaultValue,_!=null){if(o!=null)throw Error(p$1(92));if(eb(_)){if(1<_.length)throw Error(p$1(93));_=_[0]}o=_}o==null&&(o=""),_=o}i._wrapperState={initialValue:Sa(_)}}function ib(i,o){var _=Sa(o.value),j=Sa(o.defaultValue);_!=null&&(_=""+_,_!==i.value&&(i.value=_),o.defaultValue==null&&i.defaultValue!==_&&(i.defaultValue=_)),j!=null&&(i.defaultValue=""+j)}function jb(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,_,j,_e){MSApp.execUnsafeLocalFunction(function(){return i(o,_,j,_e)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ob(i,o){if(o){var _=i.firstChild;if(_&&_===i.lastChild&&_.nodeType===3){_.nodeValue=o;return}}i.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),pb[o]=pb[i]})});function rb(i,o,_){return o==null||typeof o=="boolean"||o===""?"":_||typeof o!="number"||o===0||pb.hasOwnProperty(i)&&pb[i]?(""+o).trim():o+"px"}function sb(i,o){i=i.style;for(var _ in o)if(o.hasOwnProperty(_)){var j=_.indexOf("--")===0,_e=rb(_,o[_],j);_==="float"&&(_="cssFloat"),j?i.setProperty(_,_e):i[_]=_e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,o){if(o){if(tb[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p$1(280));var o=i.stateNode;o&&(o=Db(o),yb(i.stateNode,i.type,o))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,o=Ab;if(Ab=zb=null,Bb(i),o)for(i=0;i<o.length;i++)Bb(o[i])}}function Gb(i,o){return i(o)}function Hb(){}var Ib=!1;function Jb(i,o,_){if(Ib)return i(o,_);Ib=!0;try{return Gb(i,o,_)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,o){var _=i.stateNode;if(_===null)return null;var j=Db(_);if(j===null)return null;_=j[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(i=i.type,j=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!j;break e;default:i=!1}if(i)return null;if(_&&typeof _!="function")throw Error(p$1(231,o,typeof _));return _}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,o,_,j,_e,et,tt,rt,nt){var st=Array.prototype.slice.call(arguments,3);try{o.apply(_,st)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,o,_,j,_e,et,tt,rt,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,o,_,j,_e,et,tt,rt,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var st=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=st)}}function Vb(i){var o=i,_=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(_=o.return),i=o.return;while(i)}return o.tag===3?_:null}function Wb(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p$1(188))}function Yb(i){var o=i.alternate;if(!o){if(o=Vb(i),o===null)throw Error(p$1(188));return o!==i?null:i}for(var _=i,j=o;;){var _e=_.return;if(_e===null)break;var et=_e.alternate;if(et===null){if(j=_e.return,j!==null){_=j;continue}break}if(_e.child===et.child){for(et=_e.child;et;){if(et===_)return Xb(_e),i;if(et===j)return Xb(_e),o;et=et.sibling}throw Error(p$1(188))}if(_.return!==j.return)_=_e,j=et;else{for(var tt=!1,rt=_e.child;rt;){if(rt===_){tt=!0,_=_e,j=et;break}if(rt===j){tt=!0,j=_e,_=et;break}rt=rt.sibling}if(!tt){for(rt=et.child;rt;){if(rt===_){tt=!0,_=et,j=_e;break}if(rt===j){tt=!0,j=et,_=_e;break}rt=rt.sibling}if(!tt)throw Error(p$1(189))}}if(_.alternate!==j)throw Error(p$1(190))}if(_.tag!==3)throw Error(p$1(188));return _.stateNode.current===_?i:o}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$b(i);if(o!==null)return o;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,o){var _=i.pendingLanes;if(_===0)return 0;var j=0,_e=i.suspendedLanes,et=i.pingedLanes,tt=_&268435455;if(tt!==0){var rt=tt&~_e;rt!==0?j=tc(rt):(et&=tt,et!==0&&(j=tc(et)))}else tt=_&~_e,tt!==0?j=tc(tt):et!==0&&(j=tc(et));if(j===0)return 0;if(o!==0&&o!==j&&!(o&_e)&&(_e=j&-j,et=o&-o,_e>=et||_e===16&&(et&4194240)!==0))return o;if(j&4&&(j|=_&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=j;0<o;)_=31-oc(o),_e=1<<_,j|=i[_],o&=~_e;return j}function vc(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,o){for(var _=i.suspendedLanes,j=i.pingedLanes,_e=i.expirationTimes,et=i.pendingLanes;0<et;){var tt=31-oc(et),rt=1<<tt,nt=_e[tt];nt===-1?(!(rt&_)||rt&j)&&(_e[tt]=vc(rt,o)):nt<=o&&(i.expiredLanes|=rt),et&=~rt}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var o=[],_=0;31>_;_++)o.push(i);return o}function Ac(i,o,_){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-oc(o),i[o]=_}function Bc(i,o){var _=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var j=i.eventTimes;for(i=i.expirationTimes;0<_;){var _e=31-oc(_),et=1<<_e;o[_e]=0,j[_e]=-1,i[_e]=-1,_&=~et}}function Cc(i,o){var _=i.entangledLanes|=o;for(i=i.entanglements;_;){var j=31-oc(_),_e=1<<j;_e&o|i[j]&o&&(i[j]|=o),_&=~_e}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,o){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(i,o,_,j,_e,et){return i===null||i.nativeEvent!==et?(i={blockedOn:o,domEventName:_,eventSystemFlags:j,nativeEvent:et,targetContainers:[_e]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),i):(i.eventSystemFlags|=j,o=i.targetContainers,_e!==null&&o.indexOf(_e)===-1&&o.push(_e),i)}function Uc(i,o,_,j,_e){switch(o){case"focusin":return Lc=Tc(Lc,i,o,_,j,_e),!0;case"dragenter":return Mc=Tc(Mc,i,o,_,j,_e),!0;case"mouseover":return Nc=Tc(Nc,i,o,_,j,_e),!0;case"pointerover":var et=_e.pointerId;return Oc.set(et,Tc(Oc.get(et)||null,i,o,_,j,_e)),!0;case"gotpointercapture":return et=_e.pointerId,Pc.set(et,Tc(Pc.get(et)||null,i,o,_,j,_e)),!0}return!1}function Vc(i){var o=Wc(i.target);if(o!==null){var _=Vb(o);if(_!==null){if(o=_.tag,o===13){if(o=Wb(_),o!==null){i.blockedOn=o,Ic(i.priority,function(){Gc(_)});return}}else if(o===3&&_.stateNode.current.memoizedState.isDehydrated){i.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var _=Yc(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(_===null){_=i.nativeEvent;var j=new _.constructor(_.type,_);wb=j,_.target.dispatchEvent(j),wb=null}else return o=Cb(_),o!==null&&Fc(o),i.blockedOn=_,!1;o.shift()}return!0}function Zc(i,o,_){Xc(i)&&_.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,o){i.blockedOn===o&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function o(_e){return ad(_e,i)}if(0<Kc.length){ad(Kc[0],i);for(var _=1;_<Kc.length;_++){var j=Kc[_];j.blockedOn===i&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(o),Pc.forEach(o),_=0;_<Qc.length;_++)j=Qc[_],j.blockedOn===i&&(j.blockedOn=null);for(;0<Qc.length&&(_=Qc[0],_.blockedOn===null);)Vc(_),_.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,o,_,j){var _e=C,et=cd.transition;cd.transition=null;try{C=1,fd(i,o,_,j)}finally{C=_e,cd.transition=et}}function gd(i,o,_,j){var _e=C,et=cd.transition;cd.transition=null;try{C=4,fd(i,o,_,j)}finally{C=_e,cd.transition=et}}function fd(i,o,_,j){if(dd){var _e=Yc(i,o,_,j);if(_e===null)hd(i,o,j,id,_),Sc(i,j);else if(Uc(_e,i,o,_,j))j.stopPropagation();else if(Sc(i,j),o&4&&-1<Rc.indexOf(i)){for(;_e!==null;){var et=Cb(_e);if(et!==null&&Ec(et),et=Yc(i,o,_,j),et===null&&hd(i,o,j,id,_),et===_e)break;_e=et}_e!==null&&j.stopPropagation()}else hd(i,o,j,null,_)}}var id=null;function Yc(i,o,_,j){if(id=null,i=xb(j),i=Wc(i),i!==null)if(o=Vb(i),o===null)i=null;else if(_=o.tag,_===13){if(i=Wb(o),i!==null)return i;i=null}else if(_===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,o=ld,_=o.length,j,_e="value"in kd?kd.value:kd.textContent,et=_e.length;for(i=0;i<_&&o[i]===_e[i];i++);var tt=_-i;for(j=1;j<=tt&&o[_-j]===_e[et-j];j++);return md=_e.slice(i,1<j?1-j:void 0)}function od(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function o(_,j,_e,et,tt){this._reactName=_,this._targetInst=_e,this.type=j,this.nativeEvent=et,this.target=tt,this.currentTarget=null;for(var rt in i)i.hasOwnProperty(rt)&&(_=i[rt],this[rt]=_?_(et):et[rt]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Od[i])?!!o[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var o=Md[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,o){switch(i){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return i=o.data,i===ee&&fe?null:i;default:return null}}function ke(i,o){if(ie)return i==="compositionend"||!ae&&ge(i,o)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!le[i.type]:o==="textarea"}function ne(i,o,_,j){Eb(j),o=oe(o,"onChange"),0<o.length&&(_=new td("onChange","change",null,_,j),i.push({event:_,listeners:o}))}var pe=null,qe=null;function re$1(i){se(i,0)}function te(i){var o=ue(i);if(Wa(o))return i}function ve(i,o){if(i==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,i,xb(i)),Jb(re$1,o)}}function Ce(i,o,_){i==="focusin"?(Ae(),pe=o,qe=_,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,o){if(i==="click")return te(o)}function Fe(i,o){if(i==="input"||i==="change")return te(o)}function Ge(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,o){if(He(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var _=Object.keys(i),j=Object.keys(o);if(_.length!==j.length)return!1;for(j=0;j<_.length;j++){var _e=_[j];if(!ja.call(o,_e)||!He(i[_e],o[_e]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,o){var _=Je(i);i=0;for(var j;_;){if(_.nodeType===3){if(j=i+_.textContent.length,i<=o&&j>=o)return{node:_,offset:o-i};i=j}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Je(_)}}function Le(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Le(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var i=window,o=Xa();o instanceof i.HTMLIFrameElement;){try{var _=typeof o.contentWindow.location.href=="string"}catch{_=!1}if(_)i=o.contentWindow;else break;o=Xa(i.document)}return o}function Ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Oe(i){var o=Me(),_=i.focusedElem,j=i.selectionRange;if(o!==_&&_&&_.ownerDocument&&Le(_.ownerDocument.documentElement,_)){if(j!==null&&Ne(_)){if(o=j.start,i=j.end,i===void 0&&(i=o),"selectionStart"in _)_.selectionStart=o,_.selectionEnd=Math.min(i,_.value.length);else if(i=(o=_.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var _e=_.textContent.length,et=Math.min(j.start,_e);j=j.end===void 0?et:Math.min(j.end,_e),!i.extend&&et>j&&(_e=j,j=et,et=_e),_e=Ke(_,et);var tt=Ke(_,j);_e&&tt&&(i.rangeCount!==1||i.anchorNode!==_e.node||i.anchorOffset!==_e.offset||i.focusNode!==tt.node||i.focusOffset!==tt.offset)&&(o=o.createRange(),o.setStart(_e.node,_e.offset),i.removeAllRanges(),et>j?(i.addRange(o),i.extend(tt.node,tt.offset)):(o.setEnd(tt.node,tt.offset),i.addRange(o)))}}for(o=[],i=_;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<o.length;_++)i=o[_],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,o,_){var j=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(o=new td("onSelect","select",null,o,_),i.push({event:o,listeners:j}),o.target=Qe)))}function Ve(i,o){var _={};return _[i.toLowerCase()]=o.toLowerCase(),_["Webkit"+i]="webkit"+o,_["Moz"+i]="moz"+o,_}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var o=We[i],_;for(_ in o)if(o.hasOwnProperty(_)&&_ in Ye)return Xe[i]=o[_];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,o){df.set(i,o),fa(o,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,o,_){var j=i.type||"unknown-event";i.currentTarget=_,Ub(j,o,void 0,i),i.currentTarget=null}function se(i,o){o=(o&4)!==0;for(var _=0;_<i.length;_++){var j=i[_],_e=j.event;j=j.listeners;e:{var et=void 0;if(o)for(var tt=j.length-1;0<=tt;tt--){var rt=j[tt],nt=rt.instance,st=rt.currentTarget;if(rt=rt.listener,nt!==et&&_e.isPropagationStopped())break e;nf(_e,rt,st),et=nt}else for(tt=0;tt<j.length;tt++){if(rt=j[tt],nt=rt.instance,st=rt.currentTarget,rt=rt.listener,nt!==et&&_e.isPropagationStopped())break e;nf(_e,rt,st),et=nt}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,o){var _=o[of];_===void 0&&(_=o[of]=new Set);var j=i+"__bubble";_.has(j)||(pf(o,i,2,!1),_.add(j))}function qf(i,o,_){var j=0;o&&(j|=4),pf(_,i,j,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(_){_!=="selectionchange"&&(mf.has(_)||qf(_,!1,i),qf(_,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(i,o,_,j){switch(jd(o)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}_=_e.bind(null,o,_,i),_e=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_e=!0),j?_e!==void 0?i.addEventListener(o,_,{capture:!0,passive:_e}):i.addEventListener(o,_,!0):_e!==void 0?i.addEventListener(o,_,{passive:_e}):i.addEventListener(o,_,!1)}function hd(i,o,_,j,_e){var et=j;if(!(o&1)&&!(o&2)&&j!==null)e:for(;;){if(j===null)return;var tt=j.tag;if(tt===3||tt===4){var rt=j.stateNode.containerInfo;if(rt===_e||rt.nodeType===8&&rt.parentNode===_e)break;if(tt===4)for(tt=j.return;tt!==null;){var nt=tt.tag;if((nt===3||nt===4)&&(nt=tt.stateNode.containerInfo,nt===_e||nt.nodeType===8&&nt.parentNode===_e))return;tt=tt.return}for(;rt!==null;){if(tt=Wc(rt),tt===null)return;if(nt=tt.tag,nt===5||nt===6){j=et=tt;continue e}rt=rt.parentNode}}j=j.return}Jb(function(){var st=et,it=xb(_),at=[];e:{var ot=df.get(i);if(ot!==void 0){var ct=td,ut=i;switch(i){case"keypress":if(od(_)===0)break e;case"keydown":case"keyup":ct=Rd;break;case"focusin":ut="focus",ct=Fd;break;case"focusout":ut="blur",ct=Fd;break;case"beforeblur":case"afterblur":ct=Fd;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Vd;break;case $e:case af:case bf:ct=Hd;break;case cf:ct=Xd;break;case"scroll":ct=vd;break;case"wheel":ct=Zd;break;case"copy":case"cut":case"paste":ct=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Td}var lt=(o&4)!==0,pt=!lt&&i==="scroll",dt=lt?ot!==null?ot+"Capture":null:ot;lt=[];for(var ht=st,ft;ht!==null;){ft=ht;var mt=ft.stateNode;if(ft.tag===5&&mt!==null&&(ft=mt,dt!==null&&(mt=Kb(ht,dt),mt!=null&&lt.push(tf(ht,mt,ft)))),pt)break;ht=ht.return}0<lt.length&&(ot=new ct(ot,ut,null,_,it),at.push({event:ot,listeners:lt}))}}if(!(o&7)){e:{if(ot=i==="mouseover"||i==="pointerover",ct=i==="mouseout"||i==="pointerout",ot&&_!==wb&&(ut=_.relatedTarget||_.fromElement)&&(Wc(ut)||ut[uf]))break e;if((ct||ot)&&(ot=it.window===it?it:(ot=it.ownerDocument)?ot.defaultView||ot.parentWindow:window,ct?(ut=_.relatedTarget||_.toElement,ct=st,ut=ut?Wc(ut):null,ut!==null&&(pt=Vb(ut),ut!==pt||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(ct=null,ut=st),ct!==ut)){if(lt=Bd,mt="onMouseLeave",dt="onMouseEnter",ht="mouse",(i==="pointerout"||i==="pointerover")&&(lt=Td,mt="onPointerLeave",dt="onPointerEnter",ht="pointer"),pt=ct==null?ot:ue(ct),ft=ut==null?ot:ue(ut),ot=new lt(mt,ht+"leave",ct,_,it),ot.target=pt,ot.relatedTarget=ft,mt=null,Wc(it)===st&&(lt=new lt(dt,ht+"enter",ut,_,it),lt.target=ft,lt.relatedTarget=pt,mt=lt),pt=mt,ct&&ut)t:{for(lt=ct,dt=ut,ht=0,ft=lt;ft;ft=vf(ft))ht++;for(ft=0,mt=dt;mt;mt=vf(mt))ft++;for(;0<ht-ft;)lt=vf(lt),ht--;for(;0<ft-ht;)dt=vf(dt),ft--;for(;ht--;){if(lt===dt||dt!==null&&lt===dt.alternate)break t;lt=vf(lt),dt=vf(dt)}lt=null}else lt=null;ct!==null&&wf(at,ot,ct,lt,!1),ut!==null&&pt!==null&&wf(at,pt,ut,lt,!0)}}e:{if(ot=st?ue(st):window,ct=ot.nodeName&&ot.nodeName.toLowerCase(),ct==="select"||ct==="input"&&ot.type==="file")var xt=ve;else if(me(ot))if(we)xt=Fe;else{xt=De;var gt=Ce}else(ct=ot.nodeName)&&ct.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(xt=Ee);if(xt&&(xt=xt(i,st))){ne(at,xt,_,it);break e}gt&&gt(i,ot,st),i==="focusout"&&(gt=ot._wrapperState)&&gt.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(gt=st?ue(st):window,i){case"focusin":(me(gt)||gt.contentEditable==="true")&&(Qe=gt,Re=st,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,_,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,_,it)}var yt;if(ae)e:{switch(i){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ie?ge(i,_)&&(_t="onCompositionEnd"):i==="keydown"&&_.keyCode===229&&(_t="onCompositionStart");_t&&(de&&_.locale!=="ko"&&(ie||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ie&&(yt=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),gt=oe(st,_t),0<gt.length&&(_t=new Ld(_t,i,null,_,it),at.push({event:_t,listeners:gt}),yt?_t.data=yt:(yt=he(_),yt!==null&&(_t.data=yt)))),(yt=ce?je(i,_):ke(i,_))&&(st=oe(st,"onBeforeInput"),0<st.length&&(it=new Ld("onBeforeInput","beforeinput",null,_,it),at.push({event:it,listeners:st}),it.data=yt))}se(at,o)})}function tf(i,o,_){return{instance:i,listener:o,currentTarget:_}}function oe(i,o){for(var _=o+"Capture",j=[];i!==null;){var _e=i,et=_e.stateNode;_e.tag===5&&et!==null&&(_e=et,et=Kb(i,_),et!=null&&j.unshift(tf(i,et,_e)),et=Kb(i,o),et!=null&&j.push(tf(i,et,_e))),i=i.return}return j}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,o,_,j,_e){for(var et=o._reactName,tt=[];_!==null&&_!==j;){var rt=_,nt=rt.alternate,st=rt.stateNode;if(nt!==null&&nt===j)break;rt.tag===5&&st!==null&&(rt=st,_e?(nt=Kb(_,et),nt!=null&&tt.unshift(tf(_,nt,rt))):_e||(nt=Kb(_,et),nt!=null&&tt.push(tf(_,nt,rt)))),_=_.return}tt.length!==0&&i.push({event:o,listeners:tt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,o,_){if(o=zf(o),zf(i)!==o&&_)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,o){var _=o,j=0;do{var _e=_.nextSibling;if(i.removeChild(_),_e&&_e.nodeType===8)if(_=_e.data,_==="/$"){if(j===0){i.removeChild(_e),bd(o);return}j--}else _!=="$"&&_!=="$?"&&_!=="$!"||j++;_=_e}while(_);bd(o)}function Lf(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var _=i.data;if(_==="$"||_==="$!"||_==="$?"){if(o===0)return i;o--}else _==="/$"&&o++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var o=i[Of];if(o)return o;for(var _=i.parentNode;_;){if(o=_[uf]||_[Of]){if(_=o.alternate,o.child!==null||_!==null&&_.child!==null)for(i=Mf(i);i!==null;){if(_=i[Of])return _;i=Mf(i)}return o}i=_,_=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p$1(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,o){Tf++,Sf[Tf]=i.current,i.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,o){var _=i.type.contextTypes;if(!_)return Vf;var j=i.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===o)return j.__reactInternalMemoizedMaskedChildContext;var _e={},et;for(et in _)_e[et]=o[et];return j&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,o,_){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,_)}function bg(i,o,_){var j=i.stateNode;if(o=o.childContextTypes,typeof j.getChildContext!="function")return _;j=j.getChildContext();for(var _e in j)if(!(_e in o))throw Error(p$1(108,Ra(i)||"Unknown",_e));return A({},_,j)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,o,_){var j=i.stateNode;if(!j)throw Error(p$1(169));_?(i=bg(i,o,Xf),j.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,_)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,o=C;try{var _=eg;for(C=1;i<_.length;i++){var j=_[i];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),_e}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,o){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=o}function ug(i,o,_){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var j=rg;i=sg;var _e=32-oc(j)-1;j&=~(1<<_e),_+=1;var et=32-oc(o)+_e;if(30<et){var tt=_e-_e%5;et=(j&(1<<tt)-1).toString(32),j>>=tt,_e-=tt,rg=1<<32-oc(o)+_e|_<<_e|j,sg=et+i}else rg=1<<et|_<<_e|j,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,o){var _=Bg(5,null,null,0);_.elementType="DELETED",_.stateNode=o,_.return=i,o=i.deletions,o===null?(i.deletions=[_],i.flags|=16):o.push(_)}function Cg(i,o){switch(i.tag){case 5:var _=i.type;return o=o.nodeType!==1||_.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,xg=i,yg=Lf(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,xg=i,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(_=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:o,treeContext:_,retryLane:1073741824},_=Bg(18,null,null,0),_.stateNode=o,_.return=i,i.child=_,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var o=yg;if(o){var _=o;if(!Cg(i,o)){if(Dg(i))throw Error(p$1(418));o=Lf(_.nextSibling);var j=xg;o&&Cg(i,o)?Ag(j,_):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p$1(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ef(i.type,i.memoizedProps)),o&&(o=yg)){if(Dg(i))throw Hg(),Error(p$1(418));for(;o;)Ag(i,o),o=Lf(o.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p$1(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var _=i.data;if(_==="/$"){if(o===0){yg=Lf(i.nextSibling);break e}o--}else _!=="$"&&_!=="$!"&&_!=="$?"||o++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,o,_){if(i=_.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(p$1(309));var j=_.stateNode}if(!j)throw Error(p$1(147,i));var _e=j,et=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===et?o.ref:(o=function(tt){var rt=_e.refs;tt===null?delete rt[et]:rt[et]=tt},o._stringRef=et,o)}if(typeof i!="string")throw Error(p$1(284));if(!_._owner)throw Error(p$1(290,i))}return i}function Mg(i,o){throw i=Object.prototype.toString.call(o),Error(p$1(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ng(i){var o=i._init;return o(i._payload)}function Og(i){function o(dt,ht){if(i){var ft=dt.deletions;ft===null?(dt.deletions=[ht],dt.flags|=16):ft.push(ht)}}function _(dt,ht){if(!i)return null;for(;ht!==null;)o(dt,ht),ht=ht.sibling;return null}function j(dt,ht){for(dt=new Map;ht!==null;)ht.key!==null?dt.set(ht.key,ht):dt.set(ht.index,ht),ht=ht.sibling;return dt}function _e(dt,ht){return dt=Pg(dt,ht),dt.index=0,dt.sibling=null,dt}function et(dt,ht,ft){return dt.index=ft,i?(ft=dt.alternate,ft!==null?(ft=ft.index,ft<ht?(dt.flags|=2,ht):ft):(dt.flags|=2,ht)):(dt.flags|=1048576,ht)}function tt(dt){return i&&dt.alternate===null&&(dt.flags|=2),dt}function rt(dt,ht,ft,mt){return ht===null||ht.tag!==6?(ht=Qg(ft,dt.mode,mt),ht.return=dt,ht):(ht=_e(ht,ft),ht.return=dt,ht)}function nt(dt,ht,ft,mt){var xt=ft.type;return xt===ya?it(dt,ht,ft.props.children,mt,ft.key):ht!==null&&(ht.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&Ng(xt)===ht.type)?(mt=_e(ht,ft.props),mt.ref=Lg(dt,ht,ft),mt.return=dt,mt):(mt=Rg(ft.type,ft.key,ft.props,null,dt.mode,mt),mt.ref=Lg(dt,ht,ft),mt.return=dt,mt)}function st(dt,ht,ft,mt){return ht===null||ht.tag!==4||ht.stateNode.containerInfo!==ft.containerInfo||ht.stateNode.implementation!==ft.implementation?(ht=Sg(ft,dt.mode,mt),ht.return=dt,ht):(ht=_e(ht,ft.children||[]),ht.return=dt,ht)}function it(dt,ht,ft,mt,xt){return ht===null||ht.tag!==7?(ht=Tg(ft,dt.mode,mt,xt),ht.return=dt,ht):(ht=_e(ht,ft),ht.return=dt,ht)}function at(dt,ht,ft){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ht=Qg(""+ht,dt.mode,ft),ht.return=dt,ht;if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ft=Rg(ht.type,ht.key,ht.props,null,dt.mode,ft),ft.ref=Lg(dt,null,ht),ft.return=dt,ft;case wa:return ht=Sg(ht,dt.mode,ft),ht.return=dt,ht;case Ha:var mt=ht._init;return at(dt,mt(ht._payload),ft)}if(eb(ht)||Ka(ht))return ht=Tg(ht,dt.mode,ft,null),ht.return=dt,ht;Mg(dt,ht)}return null}function ot(dt,ht,ft,mt){var xt=ht!==null?ht.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number")return xt!==null?null:rt(dt,ht,""+ft,mt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return ft.key===xt?nt(dt,ht,ft,mt):null;case wa:return ft.key===xt?st(dt,ht,ft,mt):null;case Ha:return xt=ft._init,ot(dt,ht,xt(ft._payload),mt)}if(eb(ft)||Ka(ft))return xt!==null?null:it(dt,ht,ft,mt,null);Mg(dt,ft)}return null}function ct(dt,ht,ft,mt,xt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return dt=dt.get(ft)||null,rt(ht,dt,""+mt,xt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return dt=dt.get(mt.key===null?ft:mt.key)||null,nt(ht,dt,mt,xt);case wa:return dt=dt.get(mt.key===null?ft:mt.key)||null,st(ht,dt,mt,xt);case Ha:var gt=mt._init;return ct(dt,ht,ft,gt(mt._payload),xt)}if(eb(mt)||Ka(mt))return dt=dt.get(ft)||null,it(ht,dt,mt,xt,null);Mg(ht,mt)}return null}function ut(dt,ht,ft,mt){for(var xt=null,gt=null,yt=ht,_t=ht=0,Et=null;yt!==null&&_t<ft.length;_t++){yt.index>_t?(Et=yt,yt=null):Et=yt.sibling;var wt=ot(dt,yt,ft[_t],mt);if(wt===null){yt===null&&(yt=Et);break}i&&yt&&wt.alternate===null&&o(dt,yt),ht=et(wt,ht,_t),gt===null?xt=wt:gt.sibling=wt,gt=wt,yt=Et}if(_t===ft.length)return _(dt,yt),I&&tg(dt,_t),xt;if(yt===null){for(;_t<ft.length;_t++)yt=at(dt,ft[_t],mt),yt!==null&&(ht=et(yt,ht,_t),gt===null?xt=yt:gt.sibling=yt,gt=yt);return I&&tg(dt,_t),xt}for(yt=j(dt,yt);_t<ft.length;_t++)Et=ct(yt,dt,_t,ft[_t],mt),Et!==null&&(i&&Et.alternate!==null&&yt.delete(Et.key===null?_t:Et.key),ht=et(Et,ht,_t),gt===null?xt=Et:gt.sibling=Et,gt=Et);return i&&yt.forEach(function($t){return o(dt,$t)}),I&&tg(dt,_t),xt}function lt(dt,ht,ft,mt){var xt=Ka(ft);if(typeof xt!="function")throw Error(p$1(150));if(ft=xt.call(ft),ft==null)throw Error(p$1(151));for(var gt=xt=null,yt=ht,_t=ht=0,Et=null,wt=ft.next();yt!==null&&!wt.done;_t++,wt=ft.next()){yt.index>_t?(Et=yt,yt=null):Et=yt.sibling;var $t=ot(dt,yt,wt.value,mt);if($t===null){yt===null&&(yt=Et);break}i&&yt&&$t.alternate===null&&o(dt,yt),ht=et($t,ht,_t),gt===null?xt=$t:gt.sibling=$t,gt=$t,yt=Et}if(wt.done)return _(dt,yt),I&&tg(dt,_t),xt;if(yt===null){for(;!wt.done;_t++,wt=ft.next())wt=at(dt,wt.value,mt),wt!==null&&(ht=et(wt,ht,_t),gt===null?xt=wt:gt.sibling=wt,gt=wt);return I&&tg(dt,_t),xt}for(yt=j(dt,yt);!wt.done;_t++,wt=ft.next())wt=ct(yt,dt,_t,wt.value,mt),wt!==null&&(i&&wt.alternate!==null&&yt.delete(wt.key===null?_t:wt.key),ht=et(wt,ht,_t),gt===null?xt=wt:gt.sibling=wt,gt=wt);return i&&yt.forEach(function(jt){return o(dt,jt)}),I&&tg(dt,_t),xt}function pt(dt,ht,ft,mt){if(typeof ft=="object"&&ft!==null&&ft.type===ya&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:e:{for(var xt=ft.key,gt=ht;gt!==null;){if(gt.key===xt){if(xt=ft.type,xt===ya){if(gt.tag===7){_(dt,gt.sibling),ht=_e(gt,ft.props.children),ht.return=dt,dt=ht;break e}}else if(gt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&Ng(xt)===gt.type){_(dt,gt.sibling),ht=_e(gt,ft.props),ht.ref=Lg(dt,gt,ft),ht.return=dt,dt=ht;break e}_(dt,gt);break}else o(dt,gt);gt=gt.sibling}ft.type===ya?(ht=Tg(ft.props.children,dt.mode,mt,ft.key),ht.return=dt,dt=ht):(mt=Rg(ft.type,ft.key,ft.props,null,dt.mode,mt),mt.ref=Lg(dt,ht,ft),mt.return=dt,dt=mt)}return tt(dt);case wa:e:{for(gt=ft.key;ht!==null;){if(ht.key===gt)if(ht.tag===4&&ht.stateNode.containerInfo===ft.containerInfo&&ht.stateNode.implementation===ft.implementation){_(dt,ht.sibling),ht=_e(ht,ft.children||[]),ht.return=dt,dt=ht;break e}else{_(dt,ht);break}else o(dt,ht);ht=ht.sibling}ht=Sg(ft,dt.mode,mt),ht.return=dt,dt=ht}return tt(dt);case Ha:return gt=ft._init,pt(dt,ht,gt(ft._payload),mt)}if(eb(ft))return ut(dt,ht,ft,mt);if(Ka(ft))return lt(dt,ht,ft,mt);Mg(dt,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"?(ft=""+ft,ht!==null&&ht.tag===6?(_(dt,ht.sibling),ht=_e(ht,ft),ht.return=dt,dt=ht):(_(dt,ht),ht=Qg(ft,dt.mode,mt),ht.return=dt,dt=ht),tt(dt)):_(dt,ht)}return pt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var o=Wg.current;E(Wg),i._currentValue=o}function bh(i,o,_){for(;i!==null;){var j=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,j!==null&&(j.childLanes|=o)):j!==null&&(j.childLanes&o)!==o&&(j.childLanes|=o),i===_)break;i=i.return}}function ch(i,o){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(dh=!0),i.firstContext=null)}function eh(i){var o=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:o,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return o}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,o,_,j){var _e=o.interleaved;return _e===null?(_.next=_,gh(o)):(_.next=_e.next,_e.next=_),o.interleaved=_,ih(i,j)}function ih(i,o){i.lanes|=o;var _=i.alternate;for(_!==null&&(_.lanes|=o),_=i,i=i.return;i!==null;)i.childLanes|=o,_=i.alternate,_!==null&&(_.childLanes|=o),_=i,i=i.return;return _.tag===3?_.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function nh(i,o,_){var j=i.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var _e=j.pending;return _e===null?o.next=o:(o.next=_e.next,_e.next=o),j.pending=o,ih(i,_)}return _e=j.interleaved,_e===null?(o.next=o,gh(j)):(o.next=_e.next,_e.next=o),j.interleaved=o,ih(i,_)}function oh(i,o,_){if(o=o.updateQueue,o!==null&&(o=o.shared,(_&4194240)!==0)){var j=o.lanes;j&=i.pendingLanes,_|=j,o.lanes=_,Cc(i,_)}}function ph(i,o){var _=i.updateQueue,j=i.alternate;if(j!==null&&(j=j.updateQueue,_===j)){var _e=null,et=null;if(_=_.firstBaseUpdate,_!==null){do{var tt={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};et===null?_e=et=tt:et=et.next=tt,_=_.next}while(_!==null);et===null?_e=et=o:et=et.next=o}else _e=et=o;_={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:et,shared:j.shared,effects:j.effects},i.updateQueue=_;return}i=_.lastBaseUpdate,i===null?_.firstBaseUpdate=o:i.next=o,_.lastBaseUpdate=o}function qh(i,o,_,j){var _e=i.updateQueue;jh=!1;var et=_e.firstBaseUpdate,tt=_e.lastBaseUpdate,rt=_e.shared.pending;if(rt!==null){_e.shared.pending=null;var nt=rt,st=nt.next;nt.next=null,tt===null?et=st:tt.next=st,tt=nt;var it=i.alternate;it!==null&&(it=it.updateQueue,rt=it.lastBaseUpdate,rt!==tt&&(rt===null?it.firstBaseUpdate=st:rt.next=st,it.lastBaseUpdate=nt))}if(et!==null){var at=_e.baseState;tt=0,it=st=nt=null,rt=et;do{var ot=rt.lane,ct=rt.eventTime;if((j&ot)===ot){it!==null&&(it=it.next={eventTime:ct,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var ut=i,lt=rt;switch(ot=o,ct=_,lt.tag){case 1:if(ut=lt.payload,typeof ut=="function"){at=ut.call(ct,at,ot);break e}at=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=lt.payload,ot=typeof ut=="function"?ut.call(ct,at,ot):ut,ot==null)break e;at=A({},at,ot);break e;case 2:jh=!0}}rt.callback!==null&&rt.lane!==0&&(i.flags|=64,ot=_e.effects,ot===null?_e.effects=[rt]:ot.push(rt))}else ct={eventTime:ct,lane:ot,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},it===null?(st=it=ct,nt=at):it=it.next=ct,tt|=ot;if(rt=rt.next,rt===null){if(rt=_e.shared.pending,rt===null)break;ot=rt,rt=ot.next,ot.next=null,_e.lastBaseUpdate=ot,_e.shared.pending=null}}while(!0);if(it===null&&(nt=at),_e.baseState=nt,_e.firstBaseUpdate=st,_e.lastBaseUpdate=it,o=_e.shared.interleaved,o!==null){_e=o;do tt|=_e.lane,_e=_e.next;while(_e!==o)}else et===null&&(_e.shared.lanes=0);rh|=tt,i.lanes=tt,i.memoizedState=at}}function sh(i,o,_){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var j=i[o],_e=j.callback;if(_e!==null){if(j.callback=null,j=_,typeof _e!="function")throw Error(p$1(191,_e));_e.call(j)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p$1(174));return i}function yh(i,o){switch(G(wh,o),G(vh,i),G(uh,th),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=lb(o,i)}E(uh),G(uh,o)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var o=xh(uh.current),_=lb(o,i.type);o!==_&&(G(vh,i),G(uh,_))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var o=i;o!==null;){if(o.tag===13){var _=o.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(i,o){if(o===null)return!1;for(var _=0;_<o.length&&_<i.length;_++)if(!He(i[_],o[_]))return!1;return!0}function Nh(i,o,_,j,_e,et){if(Hh=et,M=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=_(j,_e),Jh){et=0;do{if(Jh=!1,Kh=0,25<=et)throw Error(p$1(301));et+=1,O=N=null,o.updateQueue=null,Fh.current=Qh,i=_(j,_e)}while(Jh)}if(Fh.current=Rh,o=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,o)throw Error(p$1(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var o=O===null?M.memoizedState:O.next;if(o!==null)O=o,N=i;else{if(i===null)throw Error(p$1(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,o){return typeof o=="function"?o(i):o}function Wh(i){var o=Uh(),_=o.queue;if(_===null)throw Error(p$1(311));_.lastRenderedReducer=i;var j=N,_e=j.baseQueue,et=_.pending;if(et!==null){if(_e!==null){var tt=_e.next;_e.next=et.next,et.next=tt}j.baseQueue=_e=et,_.pending=null}if(_e!==null){et=_e.next,j=j.baseState;var rt=tt=null,nt=null,st=et;do{var it=st.lane;if((Hh&it)===it)nt!==null&&(nt=nt.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),j=st.hasEagerState?st.eagerState:i(j,st.action);else{var at={lane:it,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};nt===null?(rt=nt=at,tt=j):nt=nt.next=at,M.lanes|=it,rh|=it}st=st.next}while(st!==null&&st!==et);nt===null?tt=j:nt.next=rt,He(j,o.memoizedState)||(dh=!0),o.memoizedState=j,o.baseState=tt,o.baseQueue=nt,_.lastRenderedState=j}if(i=_.interleaved,i!==null){_e=i;do et=_e.lane,M.lanes|=et,rh|=et,_e=_e.next;while(_e!==i)}else _e===null&&(_.lanes=0);return[o.memoizedState,_.dispatch]}function Xh(i){var o=Uh(),_=o.queue;if(_===null)throw Error(p$1(311));_.lastRenderedReducer=i;var j=_.dispatch,_e=_.pending,et=o.memoizedState;if(_e!==null){_.pending=null;var tt=_e=_e.next;do et=i(et,tt.action),tt=tt.next;while(tt!==_e);He(et,o.memoizedState)||(dh=!0),o.memoizedState=et,o.baseQueue===null&&(o.baseState=et),_.lastRenderedState=et}return[et,j]}function Yh(){}function Zh(i,o){var _=M,j=Uh(),_e=o(),et=!He(j.memoizedState,_e);if(et&&(j.memoizedState=_e,dh=!0),j=j.queue,$h(ai.bind(null,_,j,i),[i]),j.getSnapshot!==o||et||O!==null&&O.memoizedState.tag&1){if(_.flags|=2048,bi(9,ci.bind(null,_,j,_e,o),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(_,o,_e)}return _e}function di(i,o,_){i.flags|=16384,i={getSnapshot:o,value:_},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.stores=[i]):(_=o.stores,_===null?o.stores=[i]:_.push(i))}function ci(i,o,_,j){o.value=_,o.getSnapshot=j,ei(o)&&fi(i)}function ai(i,o,_){return _(function(){ei(o)&&fi(i)})}function ei(i){var o=i.getSnapshot;i=i.value;try{var _=o();return!He(i,_)}catch{return!0}}function fi(i){var o=ih(i,1);o!==null&&gi(o,i,1,-1)}function hi(i){var o=Th();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},o.queue=i,i=i.dispatch=ii.bind(null,M,i),[o.memoizedState,i]}function bi(i,o,_,j){return i={tag:i,create:o,destroy:_,deps:j,next:null},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.lastEffect=i.next=i):(_=o.lastEffect,_===null?o.lastEffect=i.next=i:(j=_.next,_.next=i,i.next=j,o.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,o,_,j){var _e=Th();M.flags|=i,_e.memoizedState=bi(1|o,_,void 0,j===void 0?null:j)}function li(i,o,_,j){var _e=Uh();j=j===void 0?null:j;var et=void 0;if(N!==null){var tt=N.memoizedState;if(et=tt.destroy,j!==null&&Mh(j,tt.deps)){_e.memoizedState=bi(o,_,et,j);return}}M.flags|=i,_e.memoizedState=bi(1|o,_,et,j)}function mi(i,o){return ki(8390656,8,i,o)}function $h(i,o){return li(2048,8,i,o)}function ni(i,o){return li(4,2,i,o)}function oi(i,o){return li(4,4,i,o)}function pi$2(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function qi(i,o,_){return _=_!=null?_.concat([i]):null,li(4,4,pi$2.bind(null,o,i),_)}function ri(){}function si(i,o){var _=Uh();o=o===void 0?null:o;var j=_.memoizedState;return j!==null&&o!==null&&Mh(o,j[1])?j[0]:(_.memoizedState=[i,o],i)}function ti(i,o){var _=Uh();o=o===void 0?null:o;var j=_.memoizedState;return j!==null&&o!==null&&Mh(o,j[1])?j[0]:(i=i(),_.memoizedState=[i,o],i)}function ui(i,o,_){return Hh&21?(He(_,o)||(_=yc(),M.lanes|=_,rh|=_,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=_)}function vi(i,o){var _=C;C=_!==0&&4>_?_:4,i(!0);var j=Gh.transition;Gh.transition={};try{i(!1),o()}finally{C=_,Gh.transition=j}}function wi(){return Uh().memoizedState}function xi(i,o,_){var j=yi(i);if(_={lane:j,action:_,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(o,_);else if(_=hh(i,o,_,j),_!==null){var _e=R();gi(_,i,j,_e),Bi(_,o,j)}}function ii(i,o,_){var j=yi(i),_e={lane:j,action:_,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(o,_e);else{var et=i.alternate;if(i.lanes===0&&(et===null||et.lanes===0)&&(et=o.lastRenderedReducer,et!==null))try{var tt=o.lastRenderedState,rt=et(tt,_);if(_e.hasEagerState=!0,_e.eagerState=rt,He(rt,tt)){var nt=o.interleaved;nt===null?(_e.next=_e,gh(o)):(_e.next=nt.next,nt.next=_e),o.interleaved=_e;return}}catch{}finally{}_=hh(i,o,_e,j),_!==null&&(_e=R(),gi(_,i,j,_e),Bi(_,o,j))}}function zi(i){var o=i.alternate;return i===M||o!==null&&o===M}function Ai(i,o){Jh=Ih=!0;var _=i.pending;_===null?o.next=o:(o.next=_.next,_.next=o),i.pending=o}function Bi(i,o,_){if(_&4194240){var j=o.lanes;j&=i.pendingLanes,_|=j,o.lanes=_,Cc(i,_)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,o){return Th().memoizedState=[i,o===void 0?null:o],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,o,_){return _=_!=null?_.concat([i]):null,ki(4194308,4,pi$2.bind(null,o,i),_)},useLayoutEffect:function(i,o){return ki(4194308,4,i,o)},useInsertionEffect:function(i,o){return ki(4,2,i,o)},useMemo:function(i,o){var _=Th();return o=o===void 0?null:o,i=i(),_.memoizedState=[i,o],i},useReducer:function(i,o,_){var j=Th();return o=_!==void 0?_(o):o,j.memoizedState=j.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},j.queue=i,i=i.dispatch=xi.bind(null,M,i),[j.memoizedState,i]},useRef:function(i){var o=Th();return i={current:i},o.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),o=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,_){var j=M,_e=Th();if(I){if(_===void 0)throw Error(p$1(407));_=_()}else{if(_=o(),Q===null)throw Error(p$1(349));Hh&30||di(j,o,_)}_e.memoizedState=_;var et={value:_,getSnapshot:o};return _e.queue=et,mi(ai.bind(null,j,et,i),[i]),j.flags|=2048,bi(9,ci.bind(null,j,et,_,o),void 0,null),_},useId:function(){var i=Th(),o=Q.identifierPrefix;if(I){var _=sg,j=rg;_=(j&~(1<<32-oc(j)-1)).toString(32)+_,o=":"+o+"R"+_,_=Kh++,0<_&&(o+="H"+_.toString(32)),o+=":"}else _=Lh++,o=":"+o+"r"+_.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var o=Uh();return ui(o,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],o=Uh().memoizedState;return[i,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var o=Uh();return N===null?o.memoizedState=i:ui(o,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],o=Uh().memoizedState;return[i,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,o){if(i&&i.defaultProps){o=A({},o),i=i.defaultProps;for(var _ in i)o[_]===void 0&&(o[_]=i[_]);return o}return o}function Di(i,o,_,j){o=i.memoizedState,_=_(j,o),_=_==null?o:A({},o,_),i.memoizedState=_,i.lanes===0&&(i.updateQueue.baseState=_)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,o,_){i=i._reactInternals;var j=R(),_e=yi(i),et=mh(j,_e);et.payload=o,_!=null&&(et.callback=_),o=nh(i,et,_e),o!==null&&(gi(o,i,_e,j),oh(o,i,_e))},enqueueReplaceState:function(i,o,_){i=i._reactInternals;var j=R(),_e=yi(i),et=mh(j,_e);et.tag=1,et.payload=o,_!=null&&(et.callback=_),o=nh(i,et,_e),o!==null&&(gi(o,i,_e,j),oh(o,i,_e))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var _=R(),j=yi(i),_e=mh(_,j);_e.tag=2,o!=null&&(_e.callback=o),o=nh(i,_e,j),o!==null&&(gi(o,i,j,_),oh(o,i,j))}};function Fi(i,o,_,j,_e,et,tt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(j,et,tt):o.prototype&&o.prototype.isPureReactComponent?!Ie(_,j)||!Ie(_e,et):!0}function Gi(i,o,_){var j=!1,_e=Vf,et=o.contextType;return typeof et=="object"&&et!==null?et=eh(et):(_e=Zf(o)?Xf:H.current,j=o.contextTypes,et=(j=j!=null)?Yf(i,_e):Vf),o=new o(_,et),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei,i.stateNode=o,o._reactInternals=i,j&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_e,i.__reactInternalMemoizedMaskedChildContext=et),o}function Hi(i,o,_,j){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(_,j),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(_,j),o.state!==i&&Ei.enqueueReplaceState(o,o.state,null)}function Ii(i,o,_,j){var _e=i.stateNode;_e.props=_,_e.state=i.memoizedState,_e.refs={},kh(i);var et=o.contextType;typeof et=="object"&&et!==null?_e.context=eh(et):(et=Zf(o)?Xf:H.current,_e.context=Yf(i,et)),_e.state=i.memoizedState,et=o.getDerivedStateFromProps,typeof et=="function"&&(Di(i,o,et,_),_e.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(o=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),o!==_e.state&&Ei.enqueueReplaceState(_e,_e.state,null),qh(i,_,_e,j),_e.state=i.memoizedState),typeof _e.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,o){try{var _="",j=o;do _+=Pa(j),j=j.return;while(j);var _e=_}catch(et){_e=`
Error generating stack: `+et.message+`
`+et.stack}return{value:i,source:o,stack:_e,digest:null}}function Ki(i,o,_){return{value:i,source:null,stack:_??null,digest:o??null}}function Li(i,o){try{console.error(o.value)}catch(_){setTimeout(function(){throw _})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,o,_){_=mh(-1,_),_.tag=3,_.payload={element:null};var j=o.value;return _.callback=function(){Oi||(Oi=!0,Pi=j),Li(i,o)},_}function Qi(i,o,_){_=mh(-1,_),_.tag=3;var j=i.type.getDerivedStateFromError;if(typeof j=="function"){var _e=o.value;_.payload=function(){return j(_e)},_.callback=function(){Li(i,o)}}var et=i.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(_.callback=function(){Li(i,o),typeof j!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var tt=o.stack;this.componentDidCatch(o.value,{componentStack:tt!==null?tt:""})}),_}function Si(i,o,_){var j=i.pingCache;if(j===null){j=i.pingCache=new Mi;var _e=new Set;j.set(o,_e)}else _e=j.get(o),_e===void 0&&(_e=new Set,j.set(o,_e));_e.has(_)||(_e.add(_),i=Ti.bind(null,i,o,_),o.then(i,i))}function Ui(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Vi(i,o,_,j,_e){return i.mode&1?(i.flags|=65536,i.lanes=_e,i):(i===o?i.flags|=65536:(i.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(o=mh(-1,1),o.tag=2,nh(_,o,1))),_.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,o,_,j){o.child=i===null?Vg(o,null,_,j):Ug(o,i.child,_,j)}function Yi(i,o,_,j,_e){_=_.render;var et=o.ref;return ch(o,_e),j=Nh(i,o,_,j,et,_e),_=Sh(),i!==null&&!dh?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~_e,Zi(i,o,_e)):(I&&_&&vg(o),o.flags|=1,Xi(i,o,j,_e),o.child)}function $i(i,o,_,j,_e){if(i===null){var et=_.type;return typeof et=="function"&&!aj(et)&&et.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(o.tag=15,o.type=et,bj(i,o,et,j,_e)):(i=Rg(_.type,null,j,o,o.mode,_e),i.ref=o.ref,i.return=o,o.child=i)}if(et=i.child,!(i.lanes&_e)){var tt=et.memoizedProps;if(_=_.compare,_=_!==null?_:Ie,_(tt,j)&&i.ref===o.ref)return Zi(i,o,_e)}return o.flags|=1,i=Pg(et,j),i.ref=o.ref,i.return=o,o.child=i}function bj(i,o,_,j,_e){if(i!==null){var et=i.memoizedProps;if(Ie(et,j)&&i.ref===o.ref)if(dh=!1,o.pendingProps=j=et,(i.lanes&_e)!==0)i.flags&131072&&(dh=!0);else return o.lanes=i.lanes,Zi(i,o,_e)}return cj(i,o,_,j,_e)}function dj(i,o,_){var j=o.pendingProps,_e=j.children,et=i!==null?i.memoizedState:null;if(j.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_;else{if(!(_&1073741824))return i=et!==null?et.baseLanes|_:_,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,G(ej,fj),fj|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=et!==null?et.baseLanes:_,G(ej,fj),fj|=j}else et!==null?(j=et.baseLanes|_,o.memoizedState=null):j=_,G(ej,fj),fj|=j;return Xi(i,o,_e,_),o.child}function gj(i,o){var _=o.ref;(i===null&&_!==null||i!==null&&i.ref!==_)&&(o.flags|=512,o.flags|=2097152)}function cj(i,o,_,j,_e){var et=Zf(_)?Xf:H.current;return et=Yf(o,et),ch(o,_e),_=Nh(i,o,_,j,et,_e),j=Sh(),i!==null&&!dh?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~_e,Zi(i,o,_e)):(I&&j&&vg(o),o.flags|=1,Xi(i,o,_,_e),o.child)}function hj(i,o,_,j,_e){if(Zf(_)){var et=!0;cg(o)}else et=!1;if(ch(o,_e),o.stateNode===null)ij(i,o),Gi(o,_,j),Ii(o,_,j,_e),j=!0;else if(i===null){var tt=o.stateNode,rt=o.memoizedProps;tt.props=rt;var nt=tt.context,st=_.contextType;typeof st=="object"&&st!==null?st=eh(st):(st=Zf(_)?Xf:H.current,st=Yf(o,st));var it=_.getDerivedStateFromProps,at=typeof it=="function"||typeof tt.getSnapshotBeforeUpdate=="function";at||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==j||nt!==st)&&Hi(o,tt,j,st),jh=!1;var ot=o.memoizedState;tt.state=ot,qh(o,j,tt,_e),nt=o.memoizedState,rt!==j||ot!==nt||Wf.current||jh?(typeof it=="function"&&(Di(o,_,it,j),nt=o.memoizedState),(rt=jh||Fi(o,_,rt,j,ot,nt,st))?(at||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount()),typeof tt.componentDidMount=="function"&&(o.flags|=4194308)):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=j,o.memoizedState=nt),tt.props=j,tt.state=nt,tt.context=st,j=rt):(typeof tt.componentDidMount=="function"&&(o.flags|=4194308),j=!1)}else{tt=o.stateNode,lh(i,o),rt=o.memoizedProps,st=o.type===o.elementType?rt:Ci(o.type,rt),tt.props=st,at=o.pendingProps,ot=tt.context,nt=_.contextType,typeof nt=="object"&&nt!==null?nt=eh(nt):(nt=Zf(_)?Xf:H.current,nt=Yf(o,nt));var ct=_.getDerivedStateFromProps;(it=typeof ct=="function"||typeof tt.getSnapshotBeforeUpdate=="function")||typeof tt.UNSAFE_componentWillReceiveProps!="function"&&typeof tt.componentWillReceiveProps!="function"||(rt!==at||ot!==nt)&&Hi(o,tt,j,nt),jh=!1,ot=o.memoizedState,tt.state=ot,qh(o,j,tt,_e);var ut=o.memoizedState;rt!==at||ot!==ut||Wf.current||jh?(typeof ct=="function"&&(Di(o,_,ct,j),ut=o.memoizedState),(st=jh||Fi(o,_,st,j,ot,ut,nt)||!1)?(it||typeof tt.UNSAFE_componentWillUpdate!="function"&&typeof tt.componentWillUpdate!="function"||(typeof tt.componentWillUpdate=="function"&&tt.componentWillUpdate(j,ut,nt),typeof tt.UNSAFE_componentWillUpdate=="function"&&tt.UNSAFE_componentWillUpdate(j,ut,nt)),typeof tt.componentDidUpdate=="function"&&(o.flags|=4),typeof tt.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof tt.componentDidUpdate!="function"||rt===i.memoizedProps&&ot===i.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===i.memoizedProps&&ot===i.memoizedState||(o.flags|=1024),o.memoizedProps=j,o.memoizedState=ut),tt.props=j,tt.state=ut,tt.context=nt,j=st):(typeof tt.componentDidUpdate!="function"||rt===i.memoizedProps&&ot===i.memoizedState||(o.flags|=4),typeof tt.getSnapshotBeforeUpdate!="function"||rt===i.memoizedProps&&ot===i.memoizedState||(o.flags|=1024),j=!1)}return jj(i,o,_,j,et,_e)}function jj(i,o,_,j,_e,et){gj(i,o);var tt=(o.flags&128)!==0;if(!j&&!tt)return _e&&dg(o,_,!1),Zi(i,o,et);j=o.stateNode,Wi.current=o;var rt=tt&&typeof _.getDerivedStateFromError!="function"?null:j.render();return o.flags|=1,i!==null&&tt?(o.child=Ug(o,i.child,null,et),o.child=Ug(o,null,rt,et)):Xi(i,o,rt,et),o.memoizedState=j.state,_e&&dg(o,_,!0),o.child}function kj(i){var o=i.stateNode;o.pendingContext?ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(i,o.context,!1),yh(i,o.containerInfo)}function lj(i,o,_,j,_e){return Ig(),Jg(_e),o.flags|=256,Xi(i,o,_,j),o.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,o,_){var j=o.pendingProps,_e=L.current,et=!1,tt=(o.flags&128)!==0,rt;if((rt=tt)||(rt=i!==null&&i.memoizedState===null?!1:(_e&2)!==0),rt?(et=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(_e|=1),G(L,_e&1),i===null)return Eg(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(tt=j.children,i=j.fallback,et?(j=o.mode,et=o.child,tt={mode:"hidden",children:tt},!(j&1)&&et!==null?(et.childLanes=0,et.pendingProps=tt):et=pj(tt,j,0,null),i=Tg(i,j,_,null),et.return=o,i.return=o,et.sibling=i,o.child=et,o.child.memoizedState=nj(_),o.memoizedState=mj,i):qj(o,tt));if(_e=i.memoizedState,_e!==null&&(rt=_e.dehydrated,rt!==null))return rj(i,o,tt,j,rt,_e,_);if(et){et=j.fallback,tt=o.mode,_e=i.child,rt=_e.sibling;var nt={mode:"hidden",children:j.children};return!(tt&1)&&o.child!==_e?(j=o.child,j.childLanes=0,j.pendingProps=nt,o.deletions=null):(j=Pg(_e,nt),j.subtreeFlags=_e.subtreeFlags&14680064),rt!==null?et=Pg(rt,et):(et=Tg(et,tt,_,null),et.flags|=2),et.return=o,j.return=o,j.sibling=et,o.child=j,j=et,et=o.child,tt=i.child.memoizedState,tt=tt===null?nj(_):{baseLanes:tt.baseLanes|_,cachePool:null,transitions:tt.transitions},et.memoizedState=tt,et.childLanes=i.childLanes&~_,o.memoizedState=mj,j}return et=i.child,i=et.sibling,j=Pg(et,{mode:"visible",children:j.children}),!(o.mode&1)&&(j.lanes=_),j.return=o,j.sibling=null,i!==null&&(_=o.deletions,_===null?(o.deletions=[i],o.flags|=16):_.push(i)),o.child=j,o.memoizedState=null,j}function qj(i,o){return o=pj({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function sj(i,o,_,j){return j!==null&&Jg(j),Ug(o,i.child,null,_),i=qj(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function rj(i,o,_,j,_e,et,tt){if(_)return o.flags&256?(o.flags&=-257,j=Ki(Error(p$1(422))),sj(i,o,tt,j)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(et=j.fallback,_e=o.mode,j=pj({mode:"visible",children:j.children},_e,0,null),et=Tg(et,_e,tt,null),et.flags|=2,j.return=o,et.return=o,j.sibling=et,o.child=j,o.mode&1&&Ug(o,i.child,null,tt),o.child.memoizedState=nj(tt),o.memoizedState=mj,et);if(!(o.mode&1))return sj(i,o,tt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var rt=j.dgst;return j=rt,et=Error(p$1(419)),j=Ki(et,j,void 0),sj(i,o,tt,j)}if(rt=(tt&i.childLanes)!==0,dh||rt){if(j=Q,j!==null){switch(tt&-tt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|tt)?0:_e,_e!==0&&_e!==et.retryLane&&(et.retryLane=_e,ih(i,_e),gi(j,i,_e,-1))}return tj(),j=Ki(Error(p$1(421))),sj(i,o,tt,j)}return _e.data==="$?"?(o.flags|=128,o.child=i.child,o=uj.bind(null,i),_e._reactRetry=o,null):(i=et.treeContext,yg=Lf(_e.nextSibling),xg=o,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=o),o=qj(o,j.children),o.flags|=4096,o)}function vj(i,o,_){i.lanes|=o;var j=i.alternate;j!==null&&(j.lanes|=o),bh(i.return,o,_)}function wj(i,o,_,j,_e){var et=i.memoizedState;et===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:j,tail:_,tailMode:_e}:(et.isBackwards=o,et.rendering=null,et.renderingStartTime=0,et.last=j,et.tail=_,et.tailMode=_e)}function xj(i,o,_){var j=o.pendingProps,_e=j.revealOrder,et=j.tail;if(Xi(i,o,j.children,_),j=L.current,j&2)j=j&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,_,o);else if(i.tag===19)vj(i,_,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}j&=1}if(G(L,j),!(o.mode&1))o.memoizedState=null;else switch(_e){case"forwards":for(_=o.child,_e=null;_!==null;)i=_.alternate,i!==null&&Ch(i)===null&&(_e=_),_=_.sibling;_=_e,_===null?(_e=o.child,o.child=null):(_e=_.sibling,_.sibling=null),wj(o,!1,_e,_,et);break;case"backwards":for(_=null,_e=o.child,o.child=null;_e!==null;){if(i=_e.alternate,i!==null&&Ch(i)===null){o.child=_e;break}i=_e.sibling,_e.sibling=_,_=_e,_e=i}wj(o,!0,_,null,et);break;case"together":wj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Zi(i,o,_){if(i!==null&&(o.dependencies=i.dependencies),rh|=o.lanes,!(_&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(p$1(153));if(o.child!==null){for(i=o.child,_=Pg(i,i.pendingProps),o.child=_,_.return=o;i.sibling!==null;)i=i.sibling,_=_.sibling=Pg(i,i.pendingProps),_.return=o;_.sibling=null}return o.child}function yj(i,o,_){switch(o.tag){case 3:kj(o),Ig();break;case 5:Ah(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var j=o.type._context,_e=o.memoizedProps.value;G(Wg,j._currentValue),j._currentValue=_e;break;case 13:if(j=o.memoizedState,j!==null)return j.dehydrated!==null?(G(L,L.current&1),o.flags|=128,null):_&o.child.childLanes?oj(i,o,_):(G(L,L.current&1),i=Zi(i,o,_),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(j=(_&o.childLanes)!==0,i.flags&128){if(j)return xj(i,o,_);o.flags|=128}if(_e=o.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(L,L.current),j)break;return null;case 22:case 23:return o.lanes=0,dj(i,o,_)}return Zi(i,o,_)}var zj,Aj,Bj,Cj;zj=function(i,o){for(var _=o.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break;for(;_.sibling===null;){if(_.return===null||_.return===o)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Aj=function(){};Bj=function(i,o,_,j){var _e=i.memoizedProps;if(_e!==j){i=o.stateNode,xh(uh.current);var et=null;switch(_){case"input":_e=Ya(i,_e),j=Ya(i,j),et=[];break;case"select":_e=A({},_e,{value:void 0}),j=A({},j,{value:void 0}),et=[];break;case"textarea":_e=gb(i,_e),j=gb(i,j),et=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&(i.onclick=Bf)}ub(_,j);var tt;_=null;for(st in _e)if(!j.hasOwnProperty(st)&&_e.hasOwnProperty(st)&&_e[st]!=null)if(st==="style"){var rt=_e[st];for(tt in rt)rt.hasOwnProperty(tt)&&(_||(_={}),_[tt]="")}else st!=="dangerouslySetInnerHTML"&&st!=="children"&&st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?et||(et=[]):(et=et||[]).push(st,null));for(st in j){var nt=j[st];if(rt=_e!=null?_e[st]:void 0,j.hasOwnProperty(st)&&nt!==rt&&(nt!=null||rt!=null))if(st==="style")if(rt){for(tt in rt)!rt.hasOwnProperty(tt)||nt&&nt.hasOwnProperty(tt)||(_||(_={}),_[tt]="");for(tt in nt)nt.hasOwnProperty(tt)&&rt[tt]!==nt[tt]&&(_||(_={}),_[tt]=nt[tt])}else _||(et||(et=[]),et.push(st,_)),_=nt;else st==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,rt=rt?rt.__html:void 0,nt!=null&&rt!==nt&&(et=et||[]).push(st,nt)):st==="children"?typeof nt!="string"&&typeof nt!="number"||(et=et||[]).push(st,""+nt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&(ea.hasOwnProperty(st)?(nt!=null&&st==="onScroll"&&D("scroll",i),et||rt===nt||(et=[])):(et=et||[]).push(st,nt))}_&&(et=et||[]).push("style",_);var st=et;(o.updateQueue=st)&&(o.flags|=4)}};Cj=function(i,o,_,j){_!==j&&(o.flags|=4)};function Dj(i,o){if(!I)switch(i.tailMode){case"hidden":o=i.tail;for(var _=null;o!==null;)o.alternate!==null&&(_=o),o=o.sibling;_===null?i.tail=null:_.sibling=null;break;case"collapsed":_=i.tail;for(var j=null;_!==null;)_.alternate!==null&&(j=_),_=_.sibling;j===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:j.sibling=null}}function S(i){var o=i.alternate!==null&&i.alternate.child===i.child,_=0,j=0;if(o)for(var _e=i.child;_e!==null;)_|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=i,_e=_e.sibling;else for(_e=i.child;_e!==null;)_|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=i,_e=_e.sibling;return i.subtreeFlags|=j,i.childLanes=_,o}function Ej(i,o,_){var j=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return j=o.stateNode,zh(),E(Wf),E(H),Eh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(i===null||i.child===null)&&(Gg(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,o),S(o),null;case 5:Bh(o);var _e=xh(wh.current);if(_=o.type,i!==null&&o.stateNode!=null)Bj(i,o,_,j,_e),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!j){if(o.stateNode===null)throw Error(p$1(166));return S(o),null}if(i=xh(uh.current),Gg(o)){j=o.stateNode,_=o.type;var et=o.memoizedProps;switch(j[Of]=o,j[Pf]=et,i=(o.mode&1)!==0,_){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,et),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!et.multiple},D("invalid",j);break;case"textarea":hb(j,et),D("invalid",j)}ub(_,et),_e=null;for(var tt in et)if(et.hasOwnProperty(tt)){var rt=et[tt];tt==="children"?typeof rt=="string"?j.textContent!==rt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,rt,i),_e=["children",rt]):typeof rt=="number"&&j.textContent!==""+rt&&(et.suppressHydrationWarning!==!0&&Af(j.textContent,rt,i),_e=["children",""+rt]):ea.hasOwnProperty(tt)&&rt!=null&&tt==="onScroll"&&D("scroll",j)}switch(_){case"input":Va(j),db(j,et,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(j.onclick=Bf)}j=_e,o.updateQueue=j,j!==null&&(o.flags|=4)}else{tt=_e.nodeType===9?_e:_e.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(_)),i==="http://www.w3.org/1999/xhtml"?_==="script"?(i=tt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof j.is=="string"?i=tt.createElement(_,{is:j.is}):(i=tt.createElement(_),_==="select"&&(tt=i,j.multiple?tt.multiple=!0:j.size&&(tt.size=j.size))):i=tt.createElementNS(i,_),i[Of]=o,i[Pf]=j,zj(i,o,!1,!1),o.stateNode=i;e:{switch(tt=vb(_,j),_){case"dialog":D("cancel",i),D("close",i),_e=j;break;case"iframe":case"object":case"embed":D("load",i),_e=j;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],i);_e=j;break;case"source":D("error",i),_e=j;break;case"img":case"image":case"link":D("error",i),D("load",i),_e=j;break;case"details":D("toggle",i),_e=j;break;case"input":Za(i,j),_e=Ya(i,j),D("invalid",i);break;case"option":_e=j;break;case"select":i._wrapperState={wasMultiple:!!j.multiple},_e=A({},j,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,j),_e=gb(i,j),D("invalid",i);break;default:_e=j}ub(_,_e),rt=_e;for(et in rt)if(rt.hasOwnProperty(et)){var nt=rt[et];et==="style"?sb(i,nt):et==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb(i,nt)):et==="children"?typeof nt=="string"?(_!=="textarea"||nt!=="")&&ob(i,nt):typeof nt=="number"&&ob(i,""+nt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?nt!=null&&et==="onScroll"&&D("scroll",i):nt!=null&&ta(i,et,nt,tt))}switch(_){case"input":Va(i),db(i,j,!1);break;case"textarea":Va(i),jb(i);break;case"option":j.value!=null&&i.setAttribute("value",""+Sa(j.value));break;case"select":i.multiple=!!j.multiple,et=j.value,et!=null?fb(i,!!j.multiple,et,!1):j.defaultValue!=null&&fb(i,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(i.onclick=Bf)}switch(_){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(i&&o.stateNode!=null)Cj(i,o,i.memoizedProps,j);else{if(typeof j!="string"&&o.stateNode===null)throw Error(p$1(166));if(_=xh(wh.current),xh(uh.current),Gg(o)){if(j=o.stateNode,_=o.memoizedProps,j[Of]=o,(et=j.nodeValue!==_)&&(i=xg,i!==null))switch(i.tag){case 3:Af(j.nodeValue,_,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,_,(i.mode&1)!==0)}et&&(o.flags|=4)}else j=(_.nodeType===9?_:_.ownerDocument).createTextNode(j),j[Of]=o,o.stateNode=j}return S(o),null;case 13:if(E(L),j=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,et=!1;else if(et=Gg(o),j!==null&&j.dehydrated!==null){if(i===null){if(!et)throw Error(p$1(318));if(et=o.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$1(317));et[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),et=!1}else zg!==null&&(Fj(zg),zg=null),et=!0;if(!et)return o.flags&65536?o:null}return o.flags&128?(o.lanes=_,o):(j=j!==null,j!==(i!==null&&i.memoizedState!==null)&&j&&(o.child.flags|=8192,o.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return zh(),Aj(i,o),i===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return ah(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(L),et=o.memoizedState,et===null)return S(o),null;if(j=(o.flags&128)!==0,tt=et.rendering,tt===null)if(j)Dj(et,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(tt=Ch(i),tt!==null){for(o.flags|=128,Dj(et,!1),j=tt.updateQueue,j!==null&&(o.updateQueue=j,o.flags|=4),o.subtreeFlags=0,j=_,_=o.child;_!==null;)et=_,i=j,et.flags&=14680066,tt=et.alternate,tt===null?(et.childLanes=0,et.lanes=i,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=tt.childLanes,et.lanes=tt.lanes,et.child=tt.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=tt.memoizedProps,et.memoizedState=tt.memoizedState,et.updateQueue=tt.updateQueue,et.type=tt.type,i=tt.dependencies,et.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),_=_.sibling;return G(L,L.current&1|2),o.child}i=i.sibling}et.tail!==null&&B()>Gj&&(o.flags|=128,j=!0,Dj(et,!1),o.lanes=4194304)}else{if(!j)if(i=Ch(tt),i!==null){if(o.flags|=128,j=!0,_=i.updateQueue,_!==null&&(o.updateQueue=_,o.flags|=4),Dj(et,!0),et.tail===null&&et.tailMode==="hidden"&&!tt.alternate&&!I)return S(o),null}else 2*B()-et.renderingStartTime>Gj&&_!==1073741824&&(o.flags|=128,j=!0,Dj(et,!1),o.lanes=4194304);et.isBackwards?(tt.sibling=o.child,o.child=tt):(_=et.last,_!==null?_.sibling=tt:o.child=tt,et.last=tt)}return et.tail!==null?(o=et.tail,et.rendering=o,et.tail=o.sibling,et.renderingStartTime=B(),o.sibling=null,_=L.current,G(L,j?_&1|2:_&1),o):(S(o),null);case 22:case 23:return Hj(),j=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==j&&(o.flags|=8192),j&&o.mode&1?fj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Ij(i,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return zh(),E(Wf),E(H),Eh(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(E(L),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,o){var _=i.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(j){W(i,o,j)}else _.current=null}function Mj(i,o,_){try{_()}catch(j){W(i,o,j)}}var Nj=!1;function Oj(i,o){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var _={start:i.selectionStart,end:i.selectionEnd};else e:{_=(_=i.ownerDocument)&&_.defaultView||window;var j=_.getSelection&&_.getSelection();if(j&&j.rangeCount!==0){_=j.anchorNode;var _e=j.anchorOffset,et=j.focusNode;j=j.focusOffset;try{_.nodeType,et.nodeType}catch{_=null;break e}var tt=0,rt=-1,nt=-1,st=0,it=0,at=i,ot=null;t:for(;;){for(var ct;at!==_||_e!==0&&at.nodeType!==3||(rt=tt+_e),at!==et||j!==0&&at.nodeType!==3||(nt=tt+j),at.nodeType===3&&(tt+=at.nodeValue.length),(ct=at.firstChild)!==null;)ot=at,at=ct;for(;;){if(at===i)break t;if(ot===_&&++st===_e&&(rt=tt),ot===et&&++it===j&&(nt=tt),(ct=at.nextSibling)!==null)break;at=ot,ot=at.parentNode}at=ct}_=rt===-1||nt===-1?null:{start:rt,end:nt}}else _=null}_=_||{start:0,end:0}}else _=null;for(Df={focusedElem:i,selectionRange:_},dd=!1,V=o;V!==null;)if(o=V,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,V=i;else for(;V!==null;){o=V;try{var ut=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var lt=ut.memoizedProps,pt=ut.memoizedState,dt=o.stateNode,ht=dt.getSnapshotBeforeUpdate(o.elementType===o.type?lt:Ci(o.type,lt),pt);dt.__reactInternalSnapshotBeforeUpdate=ht}break;case 3:var ft=o.stateNode.containerInfo;ft.nodeType===1?ft.textContent="":ft.nodeType===9&&ft.documentElement&&ft.removeChild(ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(mt){W(o,o.return,mt)}if(i=o.sibling,i!==null){i.return=o.return,V=i;break}V=o.return}return ut=Nj,Nj=!1,ut}function Pj(i,o,_){var j=o.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&i)===i){var et=_e.destroy;_e.destroy=void 0,et!==void 0&&Mj(o,_,et)}_e=_e.next}while(_e!==j)}}function Qj(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var _=o=o.next;do{if((_.tag&i)===i){var j=_.create;_.destroy=j()}_=_.next}while(_!==o)}}function Rj(i){var o=i.ref;if(o!==null){var _=i.stateNode;switch(i.tag){case 5:i=_;break;default:i=_}typeof o=="function"?o(i):o.current=i}}function Sj(i){var o=i.alternate;o!==null&&(i.alternate=null,Sj(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,o,_){var j=i.tag;if(j===5||j===6)i=i.stateNode,o?_.nodeType===8?_.parentNode.insertBefore(i,o):_.insertBefore(i,o):(_.nodeType===8?(o=_.parentNode,o.insertBefore(i,_)):(o=_,o.appendChild(i)),_=_._reactRootContainer,_!=null||o.onclick!==null||(o.onclick=Bf));else if(j!==4&&(i=i.child,i!==null))for(Vj(i,o,_),i=i.sibling;i!==null;)Vj(i,o,_),i=i.sibling}function Wj(i,o,_){var j=i.tag;if(j===5||j===6)i=i.stateNode,o?_.insertBefore(i,o):_.appendChild(i);else if(j!==4&&(i=i.child,i!==null))for(Wj(i,o,_),i=i.sibling;i!==null;)Wj(i,o,_),i=i.sibling}var X$2=null,Xj=!1;function Yj(i,o,_){for(_=_.child;_!==null;)Zj(i,o,_),_=_.sibling}function Zj(i,o,_){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_)}catch{}switch(_.tag){case 5:U||Lj(_,o);case 6:var j=X$2,_e=Xj;X$2=null,Yj(i,o,_),X$2=j,Xj=_e,X$2!==null&&(Xj?(i=X$2,_=_.stateNode,i.nodeType===8?i.parentNode.removeChild(_):i.removeChild(_)):X$2.removeChild(_.stateNode));break;case 18:X$2!==null&&(Xj?(i=X$2,_=_.stateNode,i.nodeType===8?Kf(i.parentNode,_):i.nodeType===1&&Kf(i,_),bd(i)):Kf(X$2,_.stateNode));break;case 4:j=X$2,_e=Xj,X$2=_.stateNode.containerInfo,Xj=!0,Yj(i,o,_),X$2=j,Xj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=_.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var et=_e,tt=et.destroy;et=et.tag,tt!==void 0&&(et&2||et&4)&&Mj(_,o,tt),_e=_e.next}while(_e!==j)}Yj(i,o,_);break;case 1:if(!U&&(Lj(_,o),j=_.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=_.memoizedProps,j.state=_.memoizedState,j.componentWillUnmount()}catch(rt){W(_,o,rt)}Yj(i,o,_);break;case 21:Yj(i,o,_);break;case 22:_.mode&1?(U=(j=U)||_.memoizedState!==null,Yj(i,o,_),U=j):Yj(i,o,_);break;default:Yj(i,o,_)}}function ak(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var _=i.stateNode;_===null&&(_=i.stateNode=new Kj),o.forEach(function(j){var _e=bk.bind(null,i,j);_.has(j)||(_.add(j),j.then(_e,_e))})}}function ck(i,o){var _=o.deletions;if(_!==null)for(var j=0;j<_.length;j++){var _e=_[j];try{var et=i,tt=o,rt=tt;e:for(;rt!==null;){switch(rt.tag){case 5:X$2=rt.stateNode,Xj=!1;break e;case 3:X$2=rt.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=rt.stateNode.containerInfo,Xj=!0;break e}rt=rt.return}if(X$2===null)throw Error(p$1(160));Zj(et,tt,_e),X$2=null,Xj=!1;var nt=_e.alternate;nt!==null&&(nt.return=null),_e.return=null}catch(st){W(_e,o,st)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk(o,i),o=o.sibling}function dk(i,o){var _=i.alternate,j=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(o,i),ek(i),j&4){try{Pj(3,i,i.return),Qj(3,i)}catch(lt){W(i,i.return,lt)}try{Pj(5,i,i.return)}catch(lt){W(i,i.return,lt)}}break;case 1:ck(o,i),ek(i),j&512&&_!==null&&Lj(_,_.return);break;case 5:if(ck(o,i),ek(i),j&512&&_!==null&&Lj(_,_.return),i.flags&32){var _e=i.stateNode;try{ob(_e,"")}catch(lt){W(i,i.return,lt)}}if(j&4&&(_e=i.stateNode,_e!=null)){var et=i.memoizedProps,tt=_!==null?_.memoizedProps:et,rt=i.type,nt=i.updateQueue;if(i.updateQueue=null,nt!==null)try{rt==="input"&&et.type==="radio"&&et.name!=null&&ab(_e,et),vb(rt,tt);var st=vb(rt,et);for(tt=0;tt<nt.length;tt+=2){var it=nt[tt],at=nt[tt+1];it==="style"?sb(_e,at):it==="dangerouslySetInnerHTML"?nb(_e,at):it==="children"?ob(_e,at):ta(_e,it,at,st)}switch(rt){case"input":bb(_e,et);break;case"textarea":ib(_e,et);break;case"select":var ot=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!et.multiple;var ct=et.value;ct!=null?fb(_e,!!et.multiple,ct,!1):ot!==!!et.multiple&&(et.defaultValue!=null?fb(_e,!!et.multiple,et.defaultValue,!0):fb(_e,!!et.multiple,et.multiple?[]:"",!1))}_e[Pf]=et}catch(lt){W(i,i.return,lt)}}break;case 6:if(ck(o,i),ek(i),j&4){if(i.stateNode===null)throw Error(p$1(162));_e=i.stateNode,et=i.memoizedProps;try{_e.nodeValue=et}catch(lt){W(i,i.return,lt)}}break;case 3:if(ck(o,i),ek(i),j&4&&_!==null&&_.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(lt){W(i,i.return,lt)}break;case 4:ck(o,i),ek(i);break;case 13:ck(o,i),ek(i),_e=i.child,_e.flags&8192&&(et=_e.memoizedState!==null,_e.stateNode.isHidden=et,!et||_e.alternate!==null&&_e.alternate.memoizedState!==null||(fk=B())),j&4&&ak(i);break;case 22:if(it=_!==null&&_.memoizedState!==null,i.mode&1?(U=(st=U)||it,ck(o,i),U=st):ck(o,i),ek(i),j&8192){if(st=i.memoizedState!==null,(i.stateNode.isHidden=st)&&!it&&i.mode&1)for(V=i,it=i.child;it!==null;){for(at=V=it;V!==null;){switch(ot=V,ct=ot.child,ot.tag){case 0:case 11:case 14:case 15:Pj(4,ot,ot.return);break;case 1:Lj(ot,ot.return);var ut=ot.stateNode;if(typeof ut.componentWillUnmount=="function"){j=ot,_=ot.return;try{o=j,ut.props=o.memoizedProps,ut.state=o.memoizedState,ut.componentWillUnmount()}catch(lt){W(j,_,lt)}}break;case 5:Lj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){gk(at);continue}}ct!==null?(ct.return=ot,V=ct):gk(at)}it=it.sibling}e:for(it=null,at=i;;){if(at.tag===5){if(it===null){it=at;try{_e=at.stateNode,st?(et=_e.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(rt=at.stateNode,nt=at.memoizedProps.style,tt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,rt.style.display=rb("display",tt))}catch(lt){W(i,i.return,lt)}}}else if(at.tag===6){if(it===null)try{at.stateNode.nodeValue=st?"":at.memoizedProps}catch(lt){W(i,i.return,lt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===i)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===i)break e;for(;at.sibling===null;){if(at.return===null||at.return===i)break e;it===at&&(it=null),at=at.return}it===at&&(it=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:ck(o,i),ek(i),j&4&&ak(i);break;case 21:break;default:ck(o,i),ek(i)}}function ek(i){var o=i.flags;if(o&2){try{e:{for(var _=i.return;_!==null;){if(Tj(_)){var j=_;break e}_=_.return}throw Error(p$1(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var et=Uj(i);Wj(i,et,_e);break;case 3:case 4:var tt=j.stateNode.containerInfo,rt=Uj(i);Vj(i,rt,tt);break;default:throw Error(p$1(161))}}catch(nt){W(i,i.return,nt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function hk(i,o,_){V=i,ik(i)}function ik(i,o,_){for(var j=(i.mode&1)!==0;V!==null;){var _e=V,et=_e.child;if(_e.tag===22&&j){var tt=_e.memoizedState!==null||Jj;if(!tt){var rt=_e.alternate,nt=rt!==null&&rt.memoizedState!==null||U;rt=Jj;var st=U;if(Jj=tt,(U=nt)&&!st)for(V=_e;V!==null;)tt=V,nt=tt.child,tt.tag===22&&tt.memoizedState!==null?jk(_e):nt!==null?(nt.return=tt,V=nt):jk(_e);for(;et!==null;)V=et,ik(et),et=et.sibling;V=_e,Jj=rt,U=st}kk(i)}else _e.subtreeFlags&8772&&et!==null?(et.return=_e,V=et):kk(i)}}function kk(i){for(;V!==null;){var o=V;if(o.flags&8772){var _=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Qj(5,o);break;case 1:var j=o.stateNode;if(o.flags&4&&!U)if(_===null)j.componentDidMount();else{var _e=o.elementType===o.type?_.memoizedProps:Ci(o.type,_.memoizedProps);j.componentDidUpdate(_e,_.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var et=o.updateQueue;et!==null&&sh(o,et,j);break;case 3:var tt=o.updateQueue;if(tt!==null){if(_=null,o.child!==null)switch(o.child.tag){case 5:_=o.child.stateNode;break;case 1:_=o.child.stateNode}sh(o,tt,_)}break;case 5:var rt=o.stateNode;if(_===null&&o.flags&4){_=rt;var nt=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&_.focus();break;case"img":nt.src&&(_.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var st=o.alternate;if(st!==null){var it=st.memoizedState;if(it!==null){var at=it.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Rj(o)}catch(ot){W(o,o.return,ot)}}if(o===i){V=null;break}if(_=o.sibling,_!==null){_.return=o.return,V=_;break}V=o.return}}function gk(i){for(;V!==null;){var o=V;if(o===i){V=null;break}var _=o.sibling;if(_!==null){_.return=o.return,V=_;break}V=o.return}}function jk(i){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var _=o.return;try{Qj(4,o)}catch(nt){W(o,_,nt)}break;case 1:var j=o.stateNode;if(typeof j.componentDidMount=="function"){var _e=o.return;try{j.componentDidMount()}catch(nt){W(o,_e,nt)}}var et=o.return;try{Rj(o)}catch(nt){W(o,et,nt)}break;case 5:var tt=o.return;try{Rj(o)}catch(nt){W(o,tt,nt)}}}catch(nt){W(o,o.return,nt)}if(o===i){V=null;break}var rt=o.sibling;if(rt!==null){rt.return=o.return,V=rt;break}V=o.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,o,_,j){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(i,_,j),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=_),T===4&&Ck(i,Z)),Dk(i,j),_===1&&K===0&&!(o.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,o){var _=i.callbackNode;wc(i,o);var j=uc(i,i===Q?Z:0);if(j===0)_!==null&&bc(_),i.callbackNode=null,i.callbackPriority=0;else if(o=j&-j,i.callbackPriority!==o){if(_!=null&&bc(_),o===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),_=null;else{switch(Dc(j)){case 1:_=fc;break;case 4:_=gc;break;case 16:_=hc;break;case 536870912:_=jc;break;default:_=hc}_=Fk(_,Gk.bind(null,i))}i.callbackPriority=o,i.callbackNode=_}}function Gk(i,o){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var _=i.callbackNode;if(Hk()&&i.callbackNode!==_)return null;var j=uc(i,i===Q?Z:0);if(j===0)return null;if(j&30||j&i.expiredLanes||o)o=Ik(i,j);else{o=j;var _e=K;K|=2;var et=Jk();(Q!==i||Z!==o)&&(uk=null,Gj=B()+500,Kk(i,o));do try{Lk();break}catch(rt){Mk(i,rt)}while(!0);$g(),mk.current=et,K=_e,Y!==null?o=0:(Q=null,Z=0,o=T)}if(o!==0){if(o===2&&(_e=xc(i),_e!==0&&(j=_e,o=Nk(i,_e))),o===1)throw _=pk,Kk(i,0),Ck(i,j),Dk(i,B()),_;if(o===6)Ck(i,j);else{if(_e=i.current.alternate,!(j&30)&&!Ok(_e)&&(o=Ik(i,j),o===2&&(et=xc(i),et!==0&&(j=et,o=Nk(i,et))),o===1))throw _=pk,Kk(i,0),Ck(i,j),Dk(i,B()),_;switch(i.finishedWork=_e,i.finishedLanes=j,o){case 0:case 1:throw Error(p$1(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,j),(j&130023424)===j&&(o=fk+500-B(),10<o)){if(uc(i,0)!==0)break;if(_e=i.suspendedLanes,(_e&j)!==j){R(),i.pingedLanes|=i.suspendedLanes&_e;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),o);break}Pk(i,tk,uk);break;case 4:if(Ck(i,j),(j&4194240)===j)break;for(o=i.eventTimes,_e=-1;0<j;){var tt=31-oc(j);et=1<<tt,tt=o[tt],tt>_e&&(_e=tt),j&=~et}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk(j/1960))-j,10<j){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),j);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(i,B()),i.callbackNode===_?Gk.bind(null,i):null}function Nk(i,o){var _=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,o).flags|=256),i=Ik(i,o),i!==2&&(o=tk,tk=_,o!==null&&Fj(o)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var o=i;;){if(o.flags&16384){var _=o.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var j=0;j<_.length;j++){var _e=_[j],et=_e.getSnapshot;_e=_e.value;try{if(!He(et(),_e))return!1}catch{return!1}}}if(_=o.child,o.subtreeFlags&16384&&_!==null)_.return=o,o=_;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck(i,o){for(o&=~rk,o&=~qk,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var _=31-oc(o),j=1<<_;i[_]=-1,o&=~j}}function Ek(i){if(K&6)throw Error(p$1(327));Hk();var o=uc(i,0);if(!(o&1))return Dk(i,B()),null;var _=Ik(i,o);if(i.tag!==0&&_===2){var j=xc(i);j!==0&&(o=j,_=Nk(i,j))}if(_===1)throw _=pk,Kk(i,0),Ck(i,o),Dk(i,B()),_;if(_===6)throw Error(p$1(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,o){var _=K;K|=1;try{return i(o)}finally{K=_,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var o=K;K|=1;var _=ok.transition,j=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=j,ok.transition=_,K=o,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,o){i.finishedWork=null,i.finishedLanes=0;var _=i.timeoutHandle;if(_!==-1&&(i.timeoutHandle=-1,Gf(_)),Y!==null)for(_=Y.return;_!==null;){var j=_;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(j);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(j.type._context);break;case 22:case 23:Hj()}_=_.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=o,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(o=0;o<fh.length;o++)if(_=fh[o],j=_.interleaved,j!==null){_.interleaved=null;var _e=j.next,et=_.pending;if(et!==null){var tt=et.next;et.next=_e,j.next=tt}_.pending=j}fh=null}return i}function Mk(i,o){do{var _=Y;try{if($g(),Fh.current=Rh,Ih){for(var j=M.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,_===null||_.return===null){T=1,pk=o,Y=null;break}e:{var et=i,tt=_.return,rt=_,nt=o;if(o=Z,rt.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var st=nt,it=rt,at=it.tag;if(!(it.mode&1)&&(at===0||at===11||at===15)){var ot=it.alternate;ot?(it.updateQueue=ot.updateQueue,it.memoizedState=ot.memoizedState,it.lanes=ot.lanes):(it.updateQueue=null,it.memoizedState=null)}var ct=Ui(tt);if(ct!==null){ct.flags&=-257,Vi(ct,tt,rt,et,o),ct.mode&1&&Si(et,st,o),o=ct,nt=st;var ut=o.updateQueue;if(ut===null){var lt=new Set;lt.add(nt),o.updateQueue=lt}else ut.add(nt);break e}else{if(!(o&1)){Si(et,st,o),tj();break e}nt=Error(p$1(426))}}else if(I&&rt.mode&1){var pt=Ui(tt);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),Vi(pt,tt,rt,et,o),Jg(Ji(nt,rt));break e}}et=nt=Ji(nt,rt),T!==4&&(T=2),sk===null?sk=[et]:sk.push(et),et=tt;do{switch(et.tag){case 3:et.flags|=65536,o&=-o,et.lanes|=o;var dt=Ni(et,nt,o);ph(et,dt);break e;case 1:rt=nt;var ht=et.type,ft=et.stateNode;if(!(et.flags&128)&&(typeof ht.getDerivedStateFromError=="function"||ft!==null&&typeof ft.componentDidCatch=="function"&&(Ri===null||!Ri.has(ft)))){et.flags|=65536,o&=-o,et.lanes|=o;var mt=Qi(et,rt,o);ph(et,mt);break e}}et=et.return}while(et!==null)}Sk(_)}catch(xt){o=xt,Y===_&&_!==null&&(Y=_=_.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,o){var _=K;K|=2;var j=Jk();(Q!==i||Z!==o)&&(uk=null,Kk(i,o));do try{Tk();break}catch(_e){Mk(i,_e)}while(!0);if($g(),K=_,mk.current=j,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var o=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,o===null?Sk(i):Y=o,nk.current=null}function Sk(i){var o=i;do{var _=o.alternate;if(i=o.return,o.flags&32768){if(_=Ij(_,o),_!==null){_.flags&=32767,Y=_;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(_=Ej(_,o,fj),_!==null){Y=_;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=i}while(o!==null);T===0&&(T=5)}function Pk(i,o,_){var j=C,_e=ok.transition;try{ok.transition=null,C=1,Wk(i,o,_,j)}finally{ok.transition=_e,C=j}return null}function Wk(i,o,_,j){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));_=i.finishedWork;var _e=i.finishedLanes;if(_===null)return null;if(i.finishedWork=null,i.finishedLanes=0,_===i.current)throw Error(p$1(177));i.callbackNode=null,i.callbackPriority=0;var et=_.lanes|_.childLanes;if(Bc(i,et),i===Q&&(Y=Q=null,Z=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),et=(_.flags&15990)!==0,_.subtreeFlags&15990||et){et=ok.transition,ok.transition=null;var tt=C;C=1;var rt=K;K|=4,nk.current=null,Oj(i,_),dk(_,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=_,hk(_),dc(),K=rt,C=tt,ok.transition=et}else i.current=_;if(vk&&(vk=!1,wk=i,xk=_e),et=i.pendingLanes,et===0&&(Ri=null),mc(_.stateNode),Dk(i,B()),o!==null)for(j=i.onRecoverableError,_=0;_<o.length;_++)_e=o[_],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),et=i.pendingLanes,et&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),o=ok.transition,_=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var j=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var _e=K;for(K|=4,V=i.current;V!==null;){var et=V,tt=et.child;if(V.flags&16){var rt=et.deletions;if(rt!==null){for(var nt=0;nt<rt.length;nt++){var st=rt[nt];for(V=st;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Pj(8,it,et)}var at=it.child;if(at!==null)at.return=it,V=at;else for(;V!==null;){it=V;var ot=it.sibling,ct=it.return;if(Sj(it),it===st){V=null;break}if(ot!==null){ot.return=ct,V=ot;break}V=ct}}}var ut=et.alternate;if(ut!==null){var lt=ut.child;if(lt!==null){ut.child=null;do{var pt=lt.sibling;lt.sibling=null,lt=pt}while(lt!==null)}}V=et}}if(et.subtreeFlags&2064&&tt!==null)tt.return=et,V=tt;else e:for(;V!==null;){if(et=V,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Pj(9,et,et.return)}var dt=et.sibling;if(dt!==null){dt.return=et.return,V=dt;break e}V=et.return}}var ht=i.current;for(V=ht;V!==null;){tt=V;var ft=tt.child;if(tt.subtreeFlags&2064&&ft!==null)ft.return=tt,V=ft;else e:for(tt=ht;V!==null;){if(rt=V,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Qj(9,rt)}}catch(xt){W(rt,rt.return,xt)}if(rt===tt){V=null;break e}var mt=rt.sibling;if(mt!==null){mt.return=rt.return,V=mt;break e}V=rt.return}}if(K=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}j=!0}return j}finally{C=_,ok.transition=o}}return!1}function Xk(i,o,_){o=Ji(_,o),o=Ni(i,o,1),i=nh(i,o,1),o=R(),i!==null&&(Ac(i,1,o),Dk(i,o))}function W(i,o,_){if(i.tag===3)Xk(i,i,_);else for(;o!==null;){if(o.tag===3){Xk(o,i,_);break}else if(o.tag===1){var j=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri===null||!Ri.has(j))){i=Ji(_,i),i=Qi(o,i,1),o=nh(o,i,1),i=R(),o!==null&&(Ac(o,1,i),Dk(o,i));break}}o=o.return}}function Ti(i,o,_){var j=i.pingCache;j!==null&&j.delete(o),o=R(),i.pingedLanes|=i.suspendedLanes&_,Q===i&&(Z&_)===_&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=_),Dk(i,o)}function Yk(i,o){o===0&&(i.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var _=R();i=ih(i,o),i!==null&&(Ac(i,o,_),Dk(i,_))}function uj(i){var o=i.memoizedState,_=0;o!==null&&(_=o.retryLane),Yk(i,_)}function bk(i,o){var _=0;switch(i.tag){case 13:var j=i.stateNode,_e=i.memoizedState;_e!==null&&(_=_e.retryLane);break;case 19:j=i.stateNode;break;default:throw Error(p$1(314))}j!==null&&j.delete(o),Yk(i,_)}var Vk;Vk=function(i,o,_){if(i!==null)if(i.memoizedProps!==o.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&_)&&!(o.flags&128))return dh=!1,yj(i,o,_);dh=!!(i.flags&131072)}else dh=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var j=o.type;ij(i,o),i=o.pendingProps;var _e=Yf(o,H.current);ch(o,_),_e=Nh(null,o,j,i,_e,_);var et=Sh();return o.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(j)?(et=!0,cg(o)):et=!1,o.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,kh(o),_e.updater=Ei,o.stateNode=_e,_e._reactInternals=o,Ii(o,j,i,_),o=jj(null,o,j,!0,et,_)):(o.tag=0,I&&et&&vg(o),Xi(null,o,_e,_),o=o.child),o;case 16:j=o.elementType;e:{switch(ij(i,o),i=o.pendingProps,_e=j._init,j=_e(j._payload),o.type=j,_e=o.tag=Zk(j),i=Ci(j,i),_e){case 0:o=cj(null,o,j,i,_);break e;case 1:o=hj(null,o,j,i,_);break e;case 11:o=Yi(null,o,j,i,_);break e;case 14:o=$i(null,o,j,Ci(j.type,i),_);break e}throw Error(p$1(306,j,""))}return o;case 0:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Ci(j,_e),cj(i,o,j,_e,_);case 1:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Ci(j,_e),hj(i,o,j,_e,_);case 3:e:{if(kj(o),i===null)throw Error(p$1(387));j=o.pendingProps,et=o.memoizedState,_e=et.element,lh(i,o),qh(o,j,null,_);var tt=o.memoizedState;if(j=tt.element,et.isDehydrated)if(et={element:j,isDehydrated:!1,cache:tt.cache,pendingSuspenseBoundaries:tt.pendingSuspenseBoundaries,transitions:tt.transitions},o.updateQueue.baseState=et,o.memoizedState=et,o.flags&256){_e=Ji(Error(p$1(423)),o),o=lj(i,o,j,_,_e);break e}else if(j!==_e){_e=Ji(Error(p$1(424)),o),o=lj(i,o,j,_,_e);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,_=Vg(o,null,j,_),o.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ig(),j===_e){o=Zi(i,o,_);break e}Xi(i,o,j,_)}o=o.child}return o;case 5:return Ah(o),i===null&&Eg(o),j=o.type,_e=o.pendingProps,et=i!==null?i.memoizedProps:null,tt=_e.children,Ef(j,_e)?tt=null:et!==null&&Ef(j,et)&&(o.flags|=32),gj(i,o),Xi(i,o,tt,_),o.child;case 6:return i===null&&Eg(o),null;case 13:return oj(i,o,_);case 4:return yh(o,o.stateNode.containerInfo),j=o.pendingProps,i===null?o.child=Ug(o,null,j,_):Xi(i,o,j,_),o.child;case 11:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Ci(j,_e),Yi(i,o,j,_e,_);case 7:return Xi(i,o,o.pendingProps,_),o.child;case 8:return Xi(i,o,o.pendingProps.children,_),o.child;case 12:return Xi(i,o,o.pendingProps.children,_),o.child;case 10:e:{if(j=o.type._context,_e=o.pendingProps,et=o.memoizedProps,tt=_e.value,G(Wg,j._currentValue),j._currentValue=tt,et!==null)if(He(et.value,tt)){if(et.children===_e.children&&!Wf.current){o=Zi(i,o,_);break e}}else for(et=o.child,et!==null&&(et.return=o);et!==null;){var rt=et.dependencies;if(rt!==null){tt=et.child;for(var nt=rt.firstContext;nt!==null;){if(nt.context===j){if(et.tag===1){nt=mh(-1,_&-_),nt.tag=2;var st=et.updateQueue;if(st!==null){st=st.shared;var it=st.pending;it===null?nt.next=nt:(nt.next=it.next,it.next=nt),st.pending=nt}}et.lanes|=_,nt=et.alternate,nt!==null&&(nt.lanes|=_),bh(et.return,_,o),rt.lanes|=_;break}nt=nt.next}}else if(et.tag===10)tt=et.type===o.type?null:et.child;else if(et.tag===18){if(tt=et.return,tt===null)throw Error(p$1(341));tt.lanes|=_,rt=tt.alternate,rt!==null&&(rt.lanes|=_),bh(tt,_,o),tt=et.sibling}else tt=et.child;if(tt!==null)tt.return=et;else for(tt=et;tt!==null;){if(tt===o){tt=null;break}if(et=tt.sibling,et!==null){et.return=tt.return,tt=et;break}tt=tt.return}et=tt}Xi(i,o,_e.children,_),o=o.child}return o;case 9:return _e=o.type,j=o.pendingProps.children,ch(o,_),_e=eh(_e),j=j(_e),o.flags|=1,Xi(i,o,j,_),o.child;case 14:return j=o.type,_e=Ci(j,o.pendingProps),_e=Ci(j.type,_e),$i(i,o,j,_e,_);case 15:return bj(i,o,o.type,o.pendingProps,_);case 17:return j=o.type,_e=o.pendingProps,_e=o.elementType===j?_e:Ci(j,_e),ij(i,o),o.tag=1,Zf(j)?(i=!0,cg(o)):i=!1,ch(o,_),Gi(o,j,_e),Ii(o,j,_e,_),jj(null,o,j,!0,i,_);case 19:return xj(i,o,_);case 22:return dj(i,o,_)}throw Error(p$1(156,o.tag))};function Fk(i,o){return ac(i,o)}function $k(i,o,_,j){this.tag=i,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,o,_,j){return new $k(i,o,_,j)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,o){var _=i.alternate;return _===null?(_=Bg(i.tag,o,i.key,i.mode),_.elementType=i.elementType,_.type=i.type,_.stateNode=i.stateNode,_.alternate=i,i.alternate=_):(_.pendingProps=o,_.type=i.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=i.flags&14680064,_.childLanes=i.childLanes,_.lanes=i.lanes,_.child=i.child,_.memoizedProps=i.memoizedProps,_.memoizedState=i.memoizedState,_.updateQueue=i.updateQueue,o=i.dependencies,_.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},_.sibling=i.sibling,_.index=i.index,_.ref=i.ref,_}function Rg(i,o,_,j,_e,et){var tt=2;if(j=i,typeof i=="function")aj(i)&&(tt=1);else if(typeof i=="string")tt=5;else e:switch(i){case ya:return Tg(_.children,_e,et,o);case za:tt=8,_e|=8;break;case Aa:return i=Bg(12,_,o,_e|2),i.elementType=Aa,i.lanes=et,i;case Ea:return i=Bg(13,_,o,_e),i.elementType=Ea,i.lanes=et,i;case Fa:return i=Bg(19,_,o,_e),i.elementType=Fa,i.lanes=et,i;case Ia:return pj(_,_e,et,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:tt=10;break e;case Ca:tt=9;break e;case Da:tt=11;break e;case Ga:tt=14;break e;case Ha:tt=16,j=null;break e}throw Error(p$1(130,i==null?i:typeof i,""))}return o=Bg(tt,_,o,_e),o.elementType=i,o.type=j,o.lanes=et,o}function Tg(i,o,_,j){return i=Bg(7,i,j,o),i.lanes=_,i}function pj(i,o,_,j){return i=Bg(22,i,j,o),i.elementType=Ia,i.lanes=_,i.stateNode={isHidden:!1},i}function Qg(i,o,_){return i=Bg(6,i,null,o),i.lanes=_,i}function Sg(i,o,_){return o=Bg(4,i.children!==null?i.children:[],i.key,o),o.lanes=_,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function al(i,o,_,j,_e){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function bl(i,o,_,j,_e,et,tt,rt,nt){return i=new al(i,o,_,rt,nt),o===1?(o=1,et===!0&&(o|=8)):o=0,et=Bg(3,null,null,o),i.current=et,et.stateNode=i,et.memoizedState={element:j,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(et),i}function cl(i,o,_){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:i,containerInfo:o,implementation:_}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p$1(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(i.tag===1){var _=i.type;if(Zf(_))return bg(i,_,o)}return o}function el(i,o,_,j,_e,et,tt,rt,nt){return i=bl(_,j,!0,i,_e,et,tt,rt,nt),i.context=dl(null),_=i.current,j=R(),_e=yi(_),et=mh(j,_e),et.callback=o??null,nh(_,et,_e),i.current.lanes=_e,Ac(i,_e,j),Dk(i,j),i}function fl(i,o,_,j){var _e=o.current,et=R(),tt=yi(_e);return _=dl(_),o.context===null?o.context=_:o.pendingContext=_,o=mh(et,tt),o.payload={element:i},j=j===void 0?null:j,j!==null&&(o.callback=j),i=nh(_e,o,tt),i!==null&&(gi(i,_e,tt,et),oh(i,_e,tt)),tt}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var _=i.retryLane;i.retryLane=_!==0&&_<o?_:o}}function il(i,o){hl(i,o),(i=i.alternate)&&hl(i,o)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(p$1(409));fl(i,o,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Rk(function(){fl(null,i,null,null)}),o[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var _=0;_<Qc.length&&o!==0&&o<Qc[_].priority;_++);Qc.splice(_,0,i),_===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,o,_,j,_e){if(_e){if(typeof j=="function"){var et=j;j=function(){var st=gl(tt);et.call(st)}}var tt=el(o,j,i,0,null,!1,!1,"",pl);return i._reactRootContainer=tt,i[uf]=tt.current,sf(i.nodeType===8?i.parentNode:i),Rk(),tt}for(;_e=i.lastChild;)i.removeChild(_e);if(typeof j=="function"){var rt=j;j=function(){var st=gl(nt);rt.call(st)}}var nt=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=nt,i[uf]=nt.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(o,nt,_,j)}),nt}function rl(i,o,_,j,_e){var et=_._reactRootContainer;if(et){var tt=et;if(typeof _e=="function"){var rt=_e;_e=function(){var nt=gl(tt);rt.call(nt)}}fl(o,tt,i,_e)}else tt=ql(_,o,i,_e,j);return gl(tt)}Ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var _=tc(o.pendingLanes);_!==0&&(Cc(o,_|1),Dk(o,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var j=ih(i,1);if(j!==null){var _e=R();gi(j,i,1,_e)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var o=ih(i,134217728);if(o!==null){var _=R();gi(o,i,134217728,_)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var o=yi(i),_=ih(i,o);if(_!==null){var j=R();gi(_,i,o,j)}il(i,o)}};Hc=function(){return C};Ic=function(i,o){var _=C;try{return C=i,o()}finally{C=_}};yb=function(i,o,_){switch(o){case"input":if(bb(i,_),o=_.name,_.type==="radio"&&o!=null){for(_=i;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<_.length;o++){var j=_[o];if(j!==i&&j.form===i.form){var _e=Db(j);if(!_e)throw Error(p$1(90));Wa(j),bb(j,_e)}}}break;case"textarea":ib(i,_);break;case"select":o=_.value,o!=null&&fb(i,!!_.multiple,o,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,o){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(o))throw Error(p$1(200));return cl(i,o,null,_)};reactDom_production_min.createRoot=function(i,o){if(!nl(i))throw Error(p$1(299));var _=!1,j="",_e=kl;return o!=null&&(o.unstable_strictMode===!0&&(_=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(_e=o.onRecoverableError)),o=bl(i,1,!1,null,null,_,!1,j,_e),i[uf]=o.current,sf(i.nodeType===8?i.parentNode:i),new ll(o)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(p$1(188)):(i=Object.keys(i).join(","),Error(p$1(268,i)));return i=Zb(o),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,o,_){if(!ol(o))throw Error(p$1(200));return rl(null,i,o,!0,_)};reactDom_production_min.hydrateRoot=function(i,o,_){if(!nl(i))throw Error(p$1(405));var j=_!=null&&_.hydratedSources||null,_e=!1,et="",tt=kl;if(_!=null&&(_.unstable_strictMode===!0&&(_e=!0),_.identifierPrefix!==void 0&&(et=_.identifierPrefix),_.onRecoverableError!==void 0&&(tt=_.onRecoverableError)),o=el(o,null,i,1,_??null,_e,!1,et,tt),i[uf]=o.current,sf(i),j)for(i=0;i<j.length;i++)_=j[i],_e=_._getVersion,_e=_e(_._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[_,_e]:o.mutableSourceEagerHydrationData.push(_,_e);return new ml(o)};reactDom_production_min.render=function(i,o,_){if(!ol(o))throw Error(p$1(200));return rl(null,i,o,!1,_)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p$1(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,o,_,j){if(!ol(_))throw Error(p$1(200));if(i==null||i._reactInternals===void 0)throw Error(p$1(38));return rl(i,o,_,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$C(){return _extends$C=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$C.apply(this,arguments)}var Action;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(i){i===void 0&&(i={});function o(j,_e){let{pathname:et,search:tt,hash:rt}=j.location;return createLocation("",{pathname:et,search:tt,hash:rt},_e.state&&_e.state.usr||null,_e.state&&_e.state.key||"default")}function _(j,_e){return typeof _e=="string"?_e:createPath(_e)}return getUrlBasedHistory(o,_,null,i)}function invariant$1(i,o){if(i===!1||i===null||typeof i>"u")throw new Error(o)}function warning(i,o){if(!i){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(i,o){return{usr:i.state,key:i.key,idx:o}}function createLocation(i,o,_,j){return _===void 0&&(_=null),_extends$C({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:_,key:o&&o.key||j||createKey()})}function createPath(i){let{pathname:o="/",search:_="",hash:j=""}=i;return _&&_!=="?"&&(o+=_.charAt(0)==="?"?_:"?"+_),j&&j!=="#"&&(o+=j.charAt(0)==="#"?j:"#"+j),o}function parsePath(i){let o={};if(i){let _=i.indexOf("#");_>=0&&(o.hash=i.substr(_),i=i.substr(0,_));let j=i.indexOf("?");j>=0&&(o.search=i.substr(j),i=i.substr(0,j)),i&&(o.pathname=i)}return o}function getUrlBasedHistory(i,o,_,j){j===void 0&&(j={});let{window:_e=document.defaultView,v5Compat:et=!1}=j,tt=_e.history,rt=Action.Pop,nt=null,st=it();st==null&&(st=0,tt.replaceState(_extends$C({},tt.state,{idx:st}),""));function it(){return(tt.state||{idx:null}).idx}function at(){rt=Action.Pop;let pt=it(),dt=pt==null?null:pt-st;st=pt,nt&&nt({action:rt,location:lt.location,delta:dt})}function ot(pt,dt){rt=Action.Push;let ht=createLocation(lt.location,pt,dt);st=it()+1;let ft=getHistoryState(ht,st),mt=lt.createHref(ht);try{tt.pushState(ft,"",mt)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;_e.location.assign(mt)}et&&nt&&nt({action:rt,location:lt.location,delta:1})}function ct(pt,dt){rt=Action.Replace;let ht=createLocation(lt.location,pt,dt);st=it();let ft=getHistoryState(ht,st),mt=lt.createHref(ht);tt.replaceState(ft,"",mt),et&&nt&&nt({action:rt,location:lt.location,delta:0})}function ut(pt){let dt=_e.location.origin!=="null"?_e.location.origin:_e.location.href,ht=typeof pt=="string"?pt:createPath(pt);return ht=ht.replace(/ $/,"%20"),invariant$1(dt,"No window.location.(origin|href) available to create URL for href: "+ht),new URL(ht,dt)}let lt={get action(){return rt},get location(){return i(_e,tt)},listen(pt){if(nt)throw new Error("A history only accepts one active listener");return _e.addEventListener(PopStateEventType,at),nt=pt,()=>{_e.removeEventListener(PopStateEventType,at),nt=null}},createHref(pt){return o(_e,pt)},createURL:ut,encodeLocation(pt){let dt=ut(pt);return{pathname:dt.pathname,search:dt.search,hash:dt.hash}},push:ot,replace:ct,go(pt){return tt.go(pt)}};return lt}var ResultType;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(ResultType||(ResultType={}));function matchRoutes(i,o,_){return _===void 0&&(_="/"),matchRoutesImpl(i,o,_)}function matchRoutesImpl(i,o,_,j){let _e=typeof o=="string"?parsePath(o):o,et=stripBasename(_e.pathname||"/",_);if(et==null)return null;let tt=flattenRoutes(i);rankRouteBranches(tt);let rt=null;for(let nt=0;rt==null&&nt<tt.length;++nt){let st=decodePath(et);rt=matchRouteBranch(tt[nt],st)}return rt}function flattenRoutes(i,o,_,j){o===void 0&&(o=[]),_===void 0&&(_=[]),j===void 0&&(j="");let _e=(et,tt,rt)=>{let nt={relativePath:rt===void 0?et.path||"":rt,caseSensitive:et.caseSensitive===!0,childrenIndex:tt,route:et};nt.relativePath.startsWith("/")&&(invariant$1(nt.relativePath.startsWith(j),'Absolute route path "'+nt.relativePath+'" nested under path '+('"'+j+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),nt.relativePath=nt.relativePath.slice(j.length));let st=joinPaths([j,nt.relativePath]),it=_.concat(nt);et.children&&et.children.length>0&&(invariant$1(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+st+'".')),flattenRoutes(et.children,o,it,st)),!(et.path==null&&!et.index)&&o.push({path:st,score:computeScore(st,et.index),routesMeta:it})};return i.forEach((et,tt)=>{var rt;if(et.path===""||!((rt=et.path)!=null&&rt.includes("?")))_e(et,tt);else for(let nt of explodeOptionalSegments(et.path))_e(et,tt,nt)}),o}function explodeOptionalSegments(i){let o=i.split("/");if(o.length===0)return[];let[_,...j]=o,_e=_.endsWith("?"),et=_.replace(/\?$/,"");if(j.length===0)return _e?[et,""]:[et];let tt=explodeOptionalSegments(j.join("/")),rt=[];return rt.push(...tt.map(nt=>nt===""?et:[et,nt].join("/"))),_e&&rt.push(...tt),rt.map(nt=>i.startsWith("/")&&nt===""?"/":nt)}function rankRouteBranches(i){i.sort((o,_)=>o.score!==_.score?_.score-o.score:compareIndexes(o.routesMeta.map(j=>j.childrenIndex),_.routesMeta.map(j=>j.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=i=>i==="*";function computeScore(i,o){let _=i.split("/"),j=_.length;return _.some(isSplat)&&(j+=splatPenalty),o&&(j+=indexRouteValue),_.filter(_e=>!isSplat(_e)).reduce((_e,et)=>_e+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),j)}function compareIndexes(i,o){return i.length===o.length&&i.slice(0,-1).every((j,_e)=>j===o[_e])?i[i.length-1]-o[o.length-1]:0}function matchRouteBranch(i,o,_){let{routesMeta:j}=i,_e={},et="/",tt=[];for(let rt=0;rt<j.length;++rt){let nt=j[rt],st=rt===j.length-1,it=et==="/"?o:o.slice(et.length)||"/",at=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:st},it),ot=nt.route;if(!at)return null;Object.assign(_e,at.params),tt.push({params:_e,pathname:joinPaths([et,at.pathname]),pathnameBase:normalizePathname(joinPaths([et,at.pathnameBase])),route:ot}),at.pathnameBase!=="/"&&(et=joinPaths([et,at.pathnameBase]))}return tt}function matchPath(i,o){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[_,j]=compilePath(i.path,i.caseSensitive,i.end),_e=o.match(_);if(!_e)return null;let et=_e[0],tt=et.replace(/(.)\/+$/,"$1"),rt=_e.slice(1);return{params:j.reduce((st,it,at)=>{let{paramName:ot,isOptional:ct}=it;if(ot==="*"){let lt=rt[at]||"";tt=et.slice(0,et.length-lt.length).replace(/(.)\/+$/,"$1")}const ut=rt[at];return ct&&!ut?st[ot]=void 0:st[ot]=(ut||"").replace(/%2F/g,"/"),st},{}),pathname:et,pathnameBase:tt,pattern:i}}function compilePath(i,o,_){o===void 0&&(o=!1),_===void 0&&(_=!0),warning(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let j=[],_e="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(tt,rt,nt)=>(j.push({paramName:rt,isOptional:nt!=null}),nt?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(j.push({paramName:"*"}),_e+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_?_e+="\\/*$":i!==""&&i!=="/"&&(_e+="(?:(?=\\/|$))"),[new RegExp(_e,o?void 0:"i"),j]}function decodePath(i){try{return i.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),i}}function stripBasename(i,o){if(o==="/")return i;if(!i.toLowerCase().startsWith(o.toLowerCase()))return null;let _=o.endsWith("/")?o.length-1:o.length,j=i.charAt(_);return j&&j!=="/"?null:i.slice(_)||"/"}const ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=i=>ABSOLUTE_URL_REGEX$1.test(i);function resolvePath(i,o){o===void 0&&(o="/");let{pathname:_,search:j="",hash:_e=""}=typeof i=="string"?parsePath(i):i,et;if(_)if(isAbsoluteUrl(_))et=_;else{if(_.includes("//")){let tt=_;_=_.replace(/\/\/+/g,"/"),warning(!1,"Pathnames cannot have embedded double slashes - normalizing "+(tt+" -> "+_))}_.startsWith("/")?et=resolvePathname(_.substring(1),"/"):et=resolvePathname(_,o)}else et=o;return{pathname:et,search:normalizeSearch(j),hash:normalizeHash(_e)}}function resolvePathname(i,o){let _=o.replace(/\/+$/,"").split("/");return i.split("/").forEach(_e=>{_e===".."?_.length>1&&_.pop():_e!=="."&&_.push(_e)}),_.length>1?_.join("/"):"/"}function getInvalidPathError(i,o,_,j){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(j)+"].  Please separate it out to the ")+("`to."+_+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(i){return i.filter((o,_)=>_===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(i,o){let _=getPathContributingMatches(i);return o?_.map((j,_e)=>_e===_.length-1?j.pathname:j.pathnameBase):_.map(j=>j.pathnameBase)}function resolveTo(i,o,_,j){j===void 0&&(j=!1);let _e;typeof i=="string"?_e=parsePath(i):(_e=_extends$C({},i),invariant$1(!_e.pathname||!_e.pathname.includes("?"),getInvalidPathError("?","pathname","search",_e)),invariant$1(!_e.pathname||!_e.pathname.includes("#"),getInvalidPathError("#","pathname","hash",_e)),invariant$1(!_e.search||!_e.search.includes("#"),getInvalidPathError("#","search","hash",_e)));let et=i===""||_e.pathname==="",tt=et?"/":_e.pathname,rt;if(tt==null)rt=_;else{let at=o.length-1;if(!j&&tt.startsWith("..")){let ot=tt.split("/");for(;ot[0]==="..";)ot.shift(),at-=1;_e.pathname=ot.join("/")}rt=at>=0?o[at]:"/"}let nt=resolvePath(_e,rt),st=tt&&tt!=="/"&&tt.endsWith("/"),it=(et||tt===".")&&_.endsWith("/");return!nt.pathname.endsWith("/")&&(st||it)&&(nt.pathname+="/"),nt}const joinPaths=i=>i.join("/").replace(/\/\/+/g,"/"),normalizePathname=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,normalizeHash=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function isRouteErrorResponse(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$B(){return _extends$B=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$B.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(i,o){let{relative:_}=o===void 0?{}:o;useInRouterContext()||invariant$1(!1);let{basename:j,navigator:_e}=reactExports.useContext(NavigationContext),{hash:et,pathname:tt,search:rt}=useResolvedPath(i,{relative:_}),nt=tt;return j!=="/"&&(nt=tt==="/"?j:joinPaths([j,tt])),_e.createHref({pathname:nt,search:rt,hash:et})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(i){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(i)}function useNavigate(){let{isDataRoute:i}=reactExports.useContext(RouteContext);return i?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let i=reactExports.useContext(DataRouterContext),{basename:o,future:_,navigator:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),tt=JSON.stringify(getResolveToMatches(_e,_.v7_relativeSplatPath)),rt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{rt.current=!0}),reactExports.useCallback(function(st,it){if(it===void 0&&(it={}),!rt.current)return;if(typeof st=="number"){j.go(st);return}let at=resolveTo(st,JSON.parse(tt),et,it.relative==="path");i==null&&o!=="/"&&(at.pathname=at.pathname==="/"?o:joinPaths([o,at.pathname])),(it.replace?j.replace:j.push)(at,it.state,it)},[o,j,tt,et,i])}function useParams(){let{matches:i}=reactExports.useContext(RouteContext),o=i[i.length-1];return o?o.params:{}}function useResolvedPath(i,o){let{relative:_}=o===void 0?{}:o,{future:j}=reactExports.useContext(NavigationContext),{matches:_e}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),tt=JSON.stringify(getResolveToMatches(_e,j.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(i,JSON.parse(tt),et,_==="path"),[i,tt,et,_])}function useRoutes(i,o){return useRoutesImpl(i,o)}function useRoutesImpl(i,o,_,j){useInRouterContext()||invariant$1(!1);let{navigator:_e}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),tt=et[et.length-1],rt=tt?tt.params:{};tt&&tt.pathname;let nt=tt?tt.pathnameBase:"/";tt&&tt.route;let st=useLocation(),it;if(o){var at;let pt=typeof o=="string"?parsePath(o):o;nt==="/"||(at=pt.pathname)!=null&&at.startsWith(nt)||invariant$1(!1),it=pt}else it=st;let ot=it.pathname||"/",ct=ot;if(nt!=="/"){let pt=nt.replace(/^\//,"").split("/");ct="/"+ot.replace(/^\//,"").split("/").slice(pt.length).join("/")}let ut=matchRoutes(i,{pathname:ct}),lt=_renderMatches(ut&&ut.map(pt=>Object.assign({},pt,{params:Object.assign({},rt,pt.params),pathname:joinPaths([nt,_e.encodeLocation?_e.encodeLocation(pt.pathname).pathname:pt.pathname]),pathnameBase:pt.pathnameBase==="/"?nt:joinPaths([nt,_e.encodeLocation?_e.encodeLocation(pt.pathnameBase).pathname:pt.pathnameBase])})),et,_,j);return o&&lt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$B({pathname:"/",search:"",hash:"",state:null,key:"default"},it),navigationType:Action.Pop}},lt):lt}function DefaultErrorComponent(){let i=useRouteError(),o=isRouteErrorResponse(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),_=i instanceof Error?i.stack:null,_e={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),_?reactExports.createElement("pre",{style:_e},_):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,_){return _.location!==o.location||_.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:_.error,location:_.location,revalidation:o.revalidation||_.revalidation}}componentDidCatch(o,_){console.error("React Router caught the following error during render",o,_)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(i){let{routeContext:o,match:_,children:j}=i,_e=reactExports.useContext(DataRouterContext);return _e&&_e.static&&_e.staticContext&&(_.route.errorElement||_.route.ErrorBoundary)&&(_e.staticContext._deepestRenderedBoundaryId=_.route.id),reactExports.createElement(RouteContext.Provider,{value:o},j)}function _renderMatches(i,o,_,j){var _e;if(o===void 0&&(o=[]),_===void 0&&(_=null),j===void 0&&(j=null),i==null){var et;if(!_)return null;if(_.errors)i=_.matches;else if((et=j)!=null&&et.v7_partialHydration&&o.length===0&&!_.initialized&&_.matches.length>0)i=_.matches;else return null}let tt=i,rt=(_e=_)==null?void 0:_e.errors;if(rt!=null){let it=tt.findIndex(at=>at.route.id&&(rt==null?void 0:rt[at.route.id])!==void 0);it>=0||invariant$1(!1),tt=tt.slice(0,Math.min(tt.length,it+1))}let nt=!1,st=-1;if(_&&j&&j.v7_partialHydration)for(let it=0;it<tt.length;it++){let at=tt[it];if((at.route.HydrateFallback||at.route.hydrateFallbackElement)&&(st=it),at.route.id){let{loaderData:ot,errors:ct}=_,ut=at.route.loader&&ot[at.route.id]===void 0&&(!ct||ct[at.route.id]===void 0);if(at.route.lazy||ut){nt=!0,st>=0?tt=tt.slice(0,st+1):tt=[tt[0]];break}}}return tt.reduceRight((it,at,ot)=>{let ct,ut=!1,lt=null,pt=null;_&&(ct=rt&&at.route.id?rt[at.route.id]:void 0,lt=at.route.errorElement||defaultErrorElement,nt&&(st<0&&ot===0?(warningOnce("route-fallback"),ut=!0,pt=null):st===ot&&(ut=!0,pt=at.route.hydrateFallbackElement||null)));let dt=o.concat(tt.slice(0,ot+1)),ht=()=>{let ft;return ct?ft=lt:ut?ft=pt:at.route.Component?ft=reactExports.createElement(at.route.Component,null):at.route.element?ft=at.route.element:ft=it,reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:it,matches:dt,isDataRoute:_!=null},children:ft})};return _&&(at.route.ErrorBoundary||at.route.errorElement||ot===0)?reactExports.createElement(RenderErrorBoundary,{location:_.location,revalidation:_.revalidation,component:lt,error:ct,children:ht(),routeContext:{outlet:null,matches:dt,isDataRoute:!0}}):ht()},null)}var DataRouterHook$1=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(DataRouterHook$1||{}),DataRouterStateHook$1=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DataRouterStateHook$1||{});function useDataRouterContext(i){let o=reactExports.useContext(DataRouterContext);return o||invariant$1(!1),o}function useDataRouterState(i){let o=reactExports.useContext(DataRouterStateContext);return o||invariant$1(!1),o}function useRouteContext(i){let o=reactExports.useContext(RouteContext);return o||invariant$1(!1),o}function useCurrentRouteId(i){let o=useRouteContext(),_=o.matches[o.matches.length-1];return _.route.id||invariant$1(!1),_.route.id}function useRouteError(){var i;let o=reactExports.useContext(RouteErrorContext),_=useDataRouterState(),j=useCurrentRouteId();return o!==void 0?o:(i=_.errors)==null?void 0:i[j]}function useNavigateStable(){let{router:i}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{_.current=!0}),reactExports.useCallback(function(_e,et){et===void 0&&(et={}),_.current&&(typeof _e=="number"?i.navigate(_e):i.navigate(_e,_extends$B({fromRouteId:o},et)))},[i,o])}const alreadyWarned$1={};function warningOnce(i,o,_){alreadyWarned$1[i]||(alreadyWarned$1[i]=!0)}function logV6DeprecationWarnings(i,o){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Navigate(i){let{to:o,replace:_,state:j,relative:_e}=i;useInRouterContext()||invariant$1(!1);let{future:et,static:tt}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),st=useNavigate(),it=resolveTo(o,getResolveToMatches(rt,et.v7_relativeSplatPath),nt,_e==="path"),at=JSON.stringify(it);return reactExports.useEffect(()=>st(JSON.parse(at),{replace:_,state:j,relative:_e}),[st,at,_e,_,j]),null}function Route$1(i){invariant$1(!1)}function Router(i){let{basename:o="/",children:_=null,location:j,navigationType:_e=Action.Pop,navigator:et,static:tt=!1,future:rt}=i;useInRouterContext()&&invariant$1(!1);let nt=o.replace(/^\/*/,"/"),st=reactExports.useMemo(()=>({basename:nt,navigator:et,static:tt,future:_extends$B({v7_relativeSplatPath:!1},rt)}),[nt,rt,et,tt]);typeof j=="string"&&(j=parsePath(j));let{pathname:it="/",search:at="",hash:ot="",state:ct=null,key:ut="default"}=j,lt=reactExports.useMemo(()=>{let pt=stripBasename(it,nt);return pt==null?null:{location:{pathname:pt,search:at,hash:ot,state:ct,key:ut},navigationType:_e}},[nt,it,at,ot,ct,ut,_e]);return lt==null?null:reactExports.createElement(NavigationContext.Provider,{value:st},reactExports.createElement(LocationContext.Provider,{children:_,value:lt}))}function Routes(i){let{children:o,location:_}=i;return useRoutes(createRoutesFromChildren(o),_)}new Promise(()=>{});function createRoutesFromChildren(i,o){o===void 0&&(o=[]);let _=[];return reactExports.Children.forEach(i,(j,_e)=>{if(!reactExports.isValidElement(j))return;let et=[...o,_e];if(j.type===reactExports.Fragment){_.push.apply(_,createRoutesFromChildren(j.props.children,et));return}j.type!==Route$1&&invariant$1(!1),!j.props.index||!j.props.children||invariant$1(!1);let tt={id:j.props.id||et.join("-"),caseSensitive:j.props.caseSensitive,element:j.props.element,Component:j.props.Component,index:j.props.index,path:j.props.path,loader:j.props.loader,action:j.props.action,errorElement:j.props.errorElement,ErrorBoundary:j.props.ErrorBoundary,hasErrorBoundary:j.props.ErrorBoundary!=null||j.props.errorElement!=null,shouldRevalidate:j.props.shouldRevalidate,handle:j.props.handle,lazy:j.props.lazy};j.props.children&&(tt.children=createRoutesFromChildren(j.props.children,et)),_.push(tt)}),_}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$A(){return _extends$A=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$A.apply(this,arguments)}function _objectWithoutPropertiesLoose$q(i,o){if(i==null)return{};var _={},j=Object.keys(i),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&(_[_e]=i[_e]);return _}function isModifiedEvent(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function shouldProcessLinkClick(i,o){return i.button===0&&(!o||o==="_self")&&!isModifiedEvent(i)}function createSearchParams(i){return i===void 0&&(i=""),new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((o,_)=>{let j=i[_];return o.concat(Array.isArray(j)?j.map(_e=>[_,_e]):[[_,j]])},[]))}function getSearchParamsForLocation(i,o){let _=createSearchParams(i);return o&&o.forEach((j,_e)=>{_.has(_e)||o.getAll(_e).forEach(et=>{_.append(_e,et)})}),_}const _excluded$r=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$8[START_TRANSITION];function BrowserRouter(i){let{basename:o,children:_,future:j,window:_e}=i,et=reactExports.useRef();et.current==null&&(et.current=createBrowserHistory({window:_e,v5Compat:!0}));let tt=et.current,[rt,nt]=reactExports.useState({action:tt.action,location:tt.location}),{v7_startTransition:st}=j||{},it=reactExports.useCallback(at=>{st&&startTransitionImpl?startTransitionImpl(()=>nt(at)):nt(at)},[nt,st]);return reactExports.useLayoutEffect(()=>tt.listen(it),[tt,it]),reactExports.useEffect(()=>logV6DeprecationWarnings(j),[j]),reactExports.createElement(Router,{basename:o,children:_,location:rt.location,navigationType:rt.action,navigator:tt,future:j})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(o,_){let{onClick:j,relative:_e,reloadDocument:et,replace:tt,state:rt,target:nt,to:st,preventScrollReset:it,viewTransition:at}=o,ot=_objectWithoutPropertiesLoose$q(o,_excluded$r),{basename:ct}=reactExports.useContext(NavigationContext),ut,lt=!1;if(typeof st=="string"&&ABSOLUTE_URL_REGEX.test(st)&&(ut=st,isBrowser$1))try{let ft=new URL(window.location.href),mt=st.startsWith("//")?new URL(ft.protocol+st):new URL(st),xt=stripBasename(mt.pathname,ct);mt.origin===ft.origin&&xt!=null?st=xt+mt.search+mt.hash:lt=!0}catch{}let pt=useHref(st,{relative:_e}),dt=useLinkClickHandler(st,{replace:tt,state:rt,target:nt,preventScrollReset:it,relative:_e,viewTransition:at});function ht(ft){j&&j(ft),ft.defaultPrevented||dt(ft)}return reactExports.createElement("a",_extends$A({},ot,{href:ut||pt,onClick:lt||et?j:ht,ref:_,target:nt}))});var DataRouterHook;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(i,o){let{target:_,replace:j,state:_e,preventScrollReset:et,relative:tt,viewTransition:rt}=o===void 0?{}:o,nt=useNavigate(),st=useLocation(),it=useResolvedPath(i,{relative:tt});return reactExports.useCallback(at=>{if(shouldProcessLinkClick(at,_)){at.preventDefault();let ot=j!==void 0?j:createPath(st)===createPath(it);nt(i,{replace:ot,state:_e,preventScrollReset:et,relative:tt,viewTransition:rt})}},[st,nt,it,j,_e,_,i,et,tt,rt])}function useSearchParams(i){let o=reactExports.useRef(createSearchParams(i)),_=reactExports.useRef(!1),j=useLocation(),_e=reactExports.useMemo(()=>getSearchParamsForLocation(j.search,_.current?null:o.current),[j.search]),et=useNavigate(),tt=reactExports.useCallback((rt,nt)=>{const st=createSearchParams(typeof rt=="function"?rt(_e):rt);_.current=!0,et("?"+st,nt)},[et,_e]);return[_e,tt]}const API_BASE_URL="http://localhost:3001";let ApiClient$1=class{constructor(o){this.baseUrl=o}getToken(){return localStorage.getItem("auth_token")}getHeaders(){const o={"Content-Type":"application/json"},_=this.getToken();return _&&(o.Authorization=`Bearer ${_}`),o}async get(o,_){const j=new URL(`${this.baseUrl}${o}`);_&&Object.entries(_).forEach(([et,tt])=>{tt!=null&&tt!==""&&j.searchParams.set(et,String(tt))});const _e=await fetch(j.toString(),{method:"GET",headers:this.getHeaders()});if(!_e.ok){const et=await _e.json().catch(()=>({error:_e.statusText}));throw new ApiError(_e.status,et.error||_e.statusText)}return _e.json()}async post(o,_){const j=await fetch(`${this.baseUrl}${o}`,{method:"POST",headers:this.getHeaders(),body:_?JSON.stringify(_):void 0});if(!j.ok){const _e=await j.json().catch(()=>({error:j.statusText}));throw new ApiError(j.status,_e.error||j.statusText)}return j.json()}async put(o,_){const j=await fetch(`${this.baseUrl}${o}`,{method:"PUT",headers:this.getHeaders(),body:_?JSON.stringify(_):void 0});if(!j.ok){const _e=await j.json().catch(()=>({error:j.statusText}));throw new ApiError(j.status,_e.error||j.statusText)}return j.json()}async delete(o){const _=await fetch(`${this.baseUrl}${o}`,{method:"DELETE",headers:this.getHeaders()});if(!_.ok){const j=await _.json().catch(()=>({error:_.statusText}));throw new ApiError(_.status,j.error||_.statusText)}return _.json()}};class ApiError extends Error{constructor(o,_){super(_),this.status=o,this.name="ApiError"}get isUnauthorized(){return this.status===401}get isForbidden(){return this.status===403}get isNotFound(){return this.status===404}}const api=new ApiClient$1(API_BASE_URL),TOKEN_KEY="auth_token",AGENT_KEY="auth_agent",authService={async login(i,o){const _=await api.post("/api/v1/auth/login",{agent_id:i,pin:o});return localStorage.setItem(TOKEN_KEY,_.token),localStorage.setItem(AGENT_KEY,JSON.stringify(_.agent)),_},async getCurrentAgent(){if(!localStorage.getItem(TOKEN_KEY))return null;try{const o=await api.get("/api/v1/auth/me");return localStorage.setItem(AGENT_KEY,JSON.stringify(o.agent)),o.agent}catch(o){if(o instanceof ApiError&&o.isUnauthorized)return this.logout(),null;throw o}},getCachedAgent(){const i=localStorage.getItem(AGENT_KEY);if(!i)return null;try{return JSON.parse(i)}catch{return null}},getToken(){return localStorage.getItem(TOKEN_KEY)},isLoggedIn(){return!!localStorage.getItem(TOKEN_KEY)},logout(){localStorage.removeItem(TOKEN_KEY),localStorage.removeItem(AGENT_KEY)}};function Login(){const i=useNavigate(),[o,_]=reactExports.useState(""),[j,_e]=reactExports.useState(""),[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(""),st=async it=>{it.preventDefault(),tt(!0),nt("");try{await authService.login(o.trim(),j),i("/dashboard")}catch(at){nt(at.message||"Invalid credentials. Please try again.")}finally{tt(!1)}};return jsxRuntimeExports.jsxs("div",{className:"login-page relative min-h-dvh flex items-center justify-center bg-gradient-to-br from-[#0f1419] via-[#1a1f2a] to-[#2c3e50] font-sans p-4 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(15,20,25,0.9)_0%,rgba(121,213,233,0.15)_20%,rgba(26,31,42,0.95)_40%,rgba(77,174,172,0.1)_60%,rgba(44,62,80,0.9)_80%,rgba(121,213,233,0.1)_100%)] bg-[length:300%_300%] animate-gradient-shift"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_30%_40%,rgba(121,213,233,0.12)_0%,transparent_40%),radial-gradient(ellipse_at_70%_60%,rgba(77,174,172,0.08)_0%,transparent_50%)] animate-gradient-pulse pointer-events-none z-[1]"}),jsxRuntimeExports.jsx("div",{className:"absolute top-[20%] right-[15%] w-[clamp(200px,30vw,300px)] h-[clamp(200px,30vw,300px)] bg-[radial-gradient(circle,rgba(121,213,233,0.1)_0%,rgba(121,213,233,0.05)_50%,transparent_100%)] rounded-full blur-[40px] animate-gentle-float pointer-events-none z-[3] max-sm:hidden"}),jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-[400px] md:max-w-[440px] lg:max-w-[480px]",children:jsxRuntimeExports.jsxs("div",{className:"bg-[rgba(26,31,42,0.95)] backdrop-blur-xl border-2 border-brand-300/30 rounded-2xl p-8 lg:p-10 shadow-[0_25px_50px_rgba(0,0,0,0.5),0_0_40px_rgba(121,213,233,0.1)] transition-shadow duration-300 hover:shadow-[0_25px_50px_rgba(0,0,0,0.5),0_0_60px_rgba(121,213,233,0.15)]",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx("img",{src:"/logos/splitfinrow.png",alt:"Splitfin",className:"h-[clamp(2.5rem,8vw,3rem)] w-auto object-contain brightness-110 drop-shadow-[0_4px_8px_rgba(121,213,233,0.3)] transition-transform duration-300 hover:scale-105",onError:it=>{it.currentTarget.style.display="none"}})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 font-medium opacity-90",children:"Access your dashboard"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:st,className:"flex flex-col gap-1",children:[rt&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-sm font-medium mb-4 backdrop-blur-sm animate-error-slide-in",children:[jsxRuntimeExports.jsx("span",{className:"text-xl shrink-0",children:""}),jsxRuntimeExports.jsx("span",{children:rt})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"agentId",className:"text-xs font-semibold text-white pl-1",children:"Agent ID"}),jsxRuntimeExports.jsx("input",{id:"agentId",type:"text",placeholder:"Enter your agent ID",value:o,onChange:it=>_(it.target.value),className:"w-full px-5 py-3 border-2 border-transparent rounded-xl text-sm font-medium bg-[rgba(31,41,55,0.8)] text-white placeholder-gray-500 outline-none transition-all duration-300 shadow-md min-h-[48px] focus:border-brand-300 focus:bg-[rgba(31,41,55,0.9)] focus:shadow-[0_0_0_3px_rgba(121,213,233,0.1),0_8px_25px_rgba(0,0,0,0.15)] focus:-translate-y-0.5 disabled:bg-gray-800/50 disabled:text-gray-500 disabled:cursor-not-allowed md:text-base",required:!0,disabled:et,autoComplete:"username"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"pin",className:"text-xs font-semibold text-white pl-1",children:"PIN"}),jsxRuntimeExports.jsx("input",{id:"pin",type:"password",placeholder:"Enter your PIN",value:j,onChange:it=>_e(it.target.value),className:"w-full px-5 py-3 border-2 border-transparent rounded-xl text-sm font-medium bg-[rgba(31,41,55,0.8)] text-white placeholder-gray-500 outline-none transition-all duration-300 shadow-md min-h-[48px] focus:border-brand-300 focus:bg-[rgba(31,41,55,0.9)] focus:shadow-[0_0_0_3px_rgba(121,213,233,0.1),0_8px_25px_rgba(0,0,0,0.15)] focus:-translate-y-0.5 disabled:bg-gray-800/50 disabled:text-gray-500 disabled:cursor-not-allowed md:text-base",required:!0,disabled:et,autoComplete:"current-password"})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"flex items-center justify-center gap-2 w-full px-6 py-3.5 mt-4 bg-gradient-to-br from-brand-300 to-brand-400 text-[#0f1419] border-none rounded-xl text-sm font-bold cursor-pointer transition-all duration-300 shadow-[0_8px_25px_rgba(121,213,233,0.15)] min-h-[48px] relative overflow-hidden hover:-translate-y-0.5 hover:shadow-[0_15px_35px_rgba(121,213,233,0.3)] hover:from-brand-400 hover:to-brand-300 active:-translate-y-px disabled:cursor-not-allowed disabled:opacity-80 disabled:hover:translate-y-0 focus-visible:outline-2 focus-visible:outline-brand-300 focus-visible:outline-offset-2",disabled:et,children:et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),jsxRuntimeExports.jsx("span",{children:"Signing In..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"Sign In"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:"Need help? Contact your administrator for assistance."})})]})})]})}var propTypes$1={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function i(j,_e,et,tt,rt,nt){if(nt!==ReactPropTypesSecret){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}i.isRequired=i;function o(){return i}var _={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _.PropTypes=_,_};propTypes$1.exports=factoryWithThrowingShims();var propTypesExports=propTypes$1.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var createReactComponent=(i,o,_)=>{const j=reactExports.forwardRef(({color:_e="currentColor",size:et=24,stroke:tt="1.5",children:rt,...nt},st)=>reactExports.createElement("svg",{ref:st,width:et,height:et,fill:"none",stroke:_e,strokeWidth:tt,viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",...nt},[..._.map(([it,at])=>reactExports.createElement(it,at)),...rt||[]]));return j.propTypes={color:PropTypes.string,size:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),stroke:PropTypes.oneOfType([PropTypes.string,PropTypes.number])},j.displayName=`${o}`,j},ChartLine=createReactComponent("chart-line","ChartLine",[["path",{d:"M21 21H9.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C3 17.96 3 16.84 3 14.6V3",key:"svg-0"}],["path",{d:"m3 15.5 3.857-3.213c1.634-1.362 2.708-1.222 4.119.189l.006.006c1.538 1.538 2.64 1.474 4.172.133L21 7.5",key:"svg-1"}]]),Cog=createReactComponent("cog","Cog",[["path",{d:"M10.11 3.9a1 1 0 0 1 .995-.9h1.79a1 1 0 0 1 .995.9l.033.333a8 8 0 0 1 2.209.915l.259-.212a1 1 0 0 1 1.34.067l1.266 1.266a1 1 0 0 1 .067 1.34l-.212.26c.409.676.72 1.419.915 2.208l.332.033a1 1 0 0 1 .901.995v1.79a1 1 0 0 1-.9.995l-.333.033a8 8 0 0 1-.915 2.209l.212.259a1 1 0 0 1-.067 1.34l-1.266 1.266a1 1 0 0 1-1.34.067l-.26-.212a8 8 0 0 1-2.208.915l-.033.332a1 1 0 0 1-.995.901h-1.79a1 1 0 0 1-.995-.9l-.033-.333a8 8 0 0 1-2.209-.915l-.259.212a1 1 0 0 1-1.34-.067L5.003 17.73a1 1 0 0 1-.067-1.34l.212-.26a8 8 0 0 1-.915-2.208L3.9 13.89a1 1 0 0 1-.9-.995v-1.79a1 1 0 0 1 .9-.995l.333-.033a8 8 0 0 1 .915-2.209l-.212-.259a1 1 0 0 1 .067-1.34L6.27 5.003a1 1 0 0 1 1.34-.067l.26.212a8 8 0 0 1 2.208-.915z",key:"svg-0"}],["path",{d:"M14.5 12a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0",key:"svg-1"}]]),User$1=createReactComponent("user","User",[["path",{d:"M15 7.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m4.5 13c-.475-9.333-14.525-9.333-15 0",key:"svg-0"}]]),Dollar=createReactComponent("dollar","Dollar",[["path",{d:"M17 5h-5m0 0H9.5a3.5 3.5 0 1 0 0 7H12m0-7V3m0 2v7m0 0h2.5a3.5 3.5 0 1 1 0 7H12m0-7v7m0 0H6m6 0v2",key:"svg-0"}]]),Home$1=createReactComponent("home","Home",[["path",{d:"M6.133 21C4.955 21 4 20.02 4 18.81v-8.802c0-.665.295-1.295.8-1.71l5.867-4.818a2.09 2.09 0 0 1 2.666 0l5.866 4.818c.506.415.801 1.045.801 1.71v8.802c0 1.21-.955 2.19-2.133 2.19z",key:"svg-0"}],["path",{d:"M9.5 21v-5.5a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2V21",key:"svg-1"}]]),ChevronDown$1=createReactComponent("chevron-down","ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"svg-0"}]]),Logout=createReactComponent("logout","Logout",[["path",{d:"M13.496 21H6.5c-1.105 0-2-1.151-2-2.571V5.57c0-1.419.895-2.57 2-2.57h7M16 15.5l3.5-3.5L16 8.5m-6.5 3.496h10",key:"svg-0"}]]),Map$6=createReactComponent("map","Map",[["path",{d:"M3 8.593c0-1.527 0-2.29.393-2.735.139-.159.308-.285.497-.372 1.416-.653 3.272 1.066 4.77 1.013q.297-.011.587-.082c2.184-.535 3.552-3.08 5.798-3.39 1.287-.18 2.7.598 3.904 1.014.99.342 1.485.513 1.768.92S21 5.91 21 6.99v8.422c0 1.526 0 2.29-.393 2.735a1.5 1.5 0 0 1-.497.371c-1.416.653-3.272-1.065-4.77-1.012a3 3 0 0 0-.587.081c-2.184.535-3.552 3.08-5.798 3.391-1.281.178-4.847-.75-5.672-1.935C3 18.636 3 18.096 3 17.014zm6-2.052v14.255m6-17.615v14.255",key:"svg-0"}]]),Database$1=createReactComponent("database","Database",[["path",{d:"M12 3C7.582 3 4 4.29 4 5.88c0 4.16 16 4.16 16 0C20 4.29 16.418 3 12 3m8 8.75c0 4.667-16 4.667-16 0",key:"svg-0"}],["path",{d:"M4 6v12.165c0 3.78 16 3.78 16 0V6",key:"svg-1"}]]),File$2=createReactComponent("file","File",[["path",{d:"M9.728 3H7.5a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h9a2.25 2.25 0 0 0 2.25-2.25V12M9.728 3C10.971 3 12 4.007 12 5.25V7.5a2.25 2.25 0 0 0 2.25 2.25h2.25A2.25 2.25 0 0 1 18.75 12M9.728 3c3.69 0 9.022 5.36 9.022 9",key:"svg-0"}]]),X$1=createReactComponent("x","X",[["path",{d:"M18 6 6 18M6 6l12 12",key:"svg-0"}]]),QuestionCircle=createReactComponent("question-circle","QuestionCircle",[["path",{d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0",key:"svg-0"}],["path",{d:"M12 13.496c0-2.003 2-1.503 2-3.506 0-2.659-4-2.659-4 0m2 6.007v-.5",key:"svg-1"}]]),ChevronRight$1=createReactComponent("chevron-right","ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"svg-0"}]]),Clipboard=createReactComponent("clipboard","Clipboard",[["path",{d:"M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2H9z",key:"svg-0"}],["path",{d:"M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2",key:"svg-1"}]]),Package$1=createReactComponent("package","Package",[["path",{d:"m12 21 8.131-4.208c.316-.164.474-.245.589-.366a1 1 0 0 0 .226-.373c.054-.159.054-.336.054-.692V7.533M12 21l-8.131-4.208c-.316-.164-.474-.245-.589-.366a1 1 0 0 1-.226-.373C3 15.894 3 15.716 3 15.359V7.533M12 21v-9.063m9-4.404-9 4.404m9-4.404-4.5-2.33M3 7.534l8.269-4.28c.268-.138.401-.208.542-.235a1 1 0 0 1 .378 0c.14.027.274.097.541.235l3.77 1.95M3 7.534l4.5 2.202m4.5 2.202L7.5 9.735m0 0 9-4.531m-9 4.531v2.202",key:"svg-0"}]]),Store=createReactComponent("store","Store",[["path",{d:"M19.996 10.621V19a2 2 0 0 1-2 2H6.004a2 2 0 0 1-1.999-2v-8.379M7.502 8.75l.5-5.75m-.5 5.75c0 2.902 4.498 2.902 4.498 0m-4.498 0c0 3.176-5.155 2.52-4.433-.248l1.045-4.007A2 2 0 0 1 6.048 3h11.904a2 2 0 0 1 1.934 1.495l1.045 4.007c.722 2.769-4.433 3.424-4.433.248M12 8.75V3m0 5.75c0 2.902 4.498 2.902 4.498 0m0 0-.5-5.75",key:"svg-0"}]]),Cart=createReactComponent("cart","Cart",[["path",{d:"M16.5 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m-8 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M3.71 5.4h15.214c1.378 0 2.373 1.27 1.995 2.548l-1.654 5.6C19.01 14.408 18.196 15 17.27 15H8.112c-.927 0-1.742-.593-1.996-1.452zm0 0L3 3",key:"svg-0"}]]),Mail$1=createReactComponent("mail","Mail",[["path",{d:"m2.357 7.714 6.98 4.654c.963.641 1.444.962 1.964 1.087.46.11.939.11 1.398 0 .52-.125 1.001-.446 1.964-1.087l6.98-4.654M7.157 19.5h9.686c1.68 0 2.52 0 3.162-.327a3 3 0 0 0 1.31-1.311c.328-.642.328-1.482.328-3.162V9.3c0-1.68 0-2.52-.327-3.162a3 3 0 0 0-1.311-1.311c-.642-.327-1.482-.327-3.162-.327H7.157c-1.68 0-2.52 0-3.162.327a3 3 0 0 0-1.31 1.311c-.328.642-.328 1.482-.328 3.162v5.4c0 1.68 0 2.52.327 3.162a3 3 0 0 0 1.311 1.311c.642.327 1.482.327 3.162.327",key:"svg-0"}]]),UserPlus$1=createReactComponent("user-plus","UserPlus",[["path",{d:"M15 7.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m4.5 13c-.475-9.333-14.525-9.333-15 0m5.5-2h4m-2-2v4",key:"svg-0"}]]),Bell$1=createReactComponent("bell","Bell",[["path",{d:"M15.019 17h-6.04m6.04 0h3.614c1.876 0 1.559-1.86.61-2.804C15.825 10.801 20.68 3 11.999 3s-3.825 7.8-7.243 11.196c-.913.908-1.302 2.804.61 2.804H8.98m6.039 0c0 1.925-.648 4-3.02 4s-3.02-2.075-3.02-4",key:"svg-0"}]]),Plus$1=createReactComponent("plus","Plus",[["path",{d:"M18 12h-6m0 0H6m6 0V6m0 6v6",key:"svg-0"}]]),Image$2=createReactComponent("image","Image",[["path",{d:"M6.5 8a2 2 0 1 0 4 0 2 2 0 0 0-4 0m14.427 1.99c-6.61-.908-12.31 4-11.927 10.51",key:"svg-0"}],["path",{d:"M3 13.066c2.78-.385 5.275.958 6.624 3.1",key:"svg-1"}],["path",{d:"M3 9.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C6.04 3 7.16 3 9.4 3h5.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C21 6.04 21 7.16 21 9.4v5.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C17.96 21 16.84 21 14.6 21H9.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C3 17.96 3 16.84 3 14.6z",key:"svg-2"}]]),Box$1=createReactComponent("box","Box",[["path",{d:"m12 21 8.131-4.208c.316-.164.474-.245.589-.366a1 1 0 0 0 .226-.373c.054-.159.054-.336.054-.692V7.533M12 21l-8.131-4.208c-.316-.164-.474-.245-.589-.366a1 1 0 0 1-.226-.373C3 15.894 3 15.716 3 15.359V7.533M12 21v-9.063m9-4.404-9 4.404m9-4.404-8.27-4.28c-.267-.138-.4-.208-.541-.235a1 1 0 0 0-.378 0c-.14.027-.274.097-.542.235L3 7.533m0 0 9 4.404",key:"svg-0"}]]),Truck$1=createReactComponent("truck","Truck",[["path",{d:"M9.207 16.455C9.207 17.86 8.095 19 6.724 19s-2.483-1.14-2.483-2.546m4.966 0c0-1.405-1.112-2.545-2.483-2.545s-2.483 1.14-2.483 2.545m4.966 0h5.586m-10.552 0H3V6a1 1 0 0 1 1-1h9.793a1 1 0 0 1 1 1v2.182m5.586 8.272c0 1.406-1.111 2.546-2.482 2.546s-2.483-1.14-2.483-2.546m4.965 0c0-1.405-1.111-2.545-2.482-2.545s-2.483 1.14-2.483 2.545m4.965 0H21v-5.09l-2.515-2.579a2 2 0 0 0-1.431-.603h-2.26m.62 8.272h-.62m0 0V8.182",key:"svg-0"}]]),UsersGroup=createReactComponent("users-group","UsersGroup",[["path",{d:"M17 19.5c0-1.657-2.239-3-5-3s-5 1.343-5 3m14-3c0-1.23-1.234-2.287-3-2.75M3 16.5c0-1.23 1.234-2.287 3-2.75m12-4.014a3 3 0 1 0-4-4.472M6 9.736a3 3 0 0 1 4-4.472m2 8.236a3 3 0 1 1 0-6 3 3 0 0 1 0 6",key:"svg-0"}]]),Calendar$1=createReactComponent("calendar","Calendar",[["path",{d:"M16.5 5V3m-9 2V3M3.25 8h17.5M3 10.044c0-2.115 0-3.173.436-3.981a3.9 3.9 0 0 1 1.748-1.651C6.04 4 7.16 4 9.4 4h5.2c2.24 0 3.36 0 4.216.412.753.362 1.364.94 1.748 1.65.436.81.436 1.868.436 3.983v4.912c0 2.115 0 3.173-.436 3.981a3.9 3.9 0 0 1-1.748 1.651C17.96 21 16.84 21 14.6 21H9.4c-2.24 0-3.36 0-4.216-.412a3.9 3.9 0 0 1-1.748-1.65C3 18.128 3 17.07 3 14.955z",key:"svg-0"}]]),Menu$1=createReactComponent("menu","Menu",[["path",{d:"M4.5 6.5h15M4.5 12h15m-15 5.5h15",key:"svg-0"}]]);const customerService={async list(i={}){return api.get("/api/v1/customers",i)},async getById(i){return(await api.get(`/api/v1/customers/${i}`)).data},async count(i){const o=i?{status:i}:{};return(await api.get("/api/v1/customers/count",o)).count},async create(i){return(await api.post("/api/v1/customers",i)).data},async update(i,o){return(await api.put(`/api/v1/customers/${i}`,o)).data}},notificationService={async list(i={}){return api.get("/v1/notifications",i)},async getUnreadCount(){return(await api.get("/v1/notifications/unread-count")).unread_count},async markRead(i){await api.put(`/v1/notifications/${i}/read`)},async markAllRead(){return api.put("/v1/notifications/mark-all-read")}},templateWidgets={customers:[{id:"customers-total",title:"Total Customers",subtitle:"All registered customers",type:"metric",displayFormat:"MetricCard",dataSource:"customers",config:{metric:"totalCustomers",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"customers-new",title:"New Customers",subtitle:"Recently joined customers",type:"metric",displayFormat:"MetricCard",dataSource:"customers",config:{metric:"newCustomers",displayMode:"medium",showTrend:!0,color:"#4daeac",variant:"variant2"}},{id:"customers-active",title:"Active Customers",subtitle:"Customers with recent orders",type:"metric",displayFormat:"MetricCard",dataSource:"customers",config:{metric:"activeCustomers",displayMode:"medium",showTrend:!0,color:"#61bc8e",variant:"variant3"}},{id:"customers-growth-chart",title:"Customer Growth",subtitle:"Customer acquisition over time",type:"chart",displayFormat:"FullGraph",dataSource:"customers",config:{chartType:"line",size:"full",color:"#79d5e9",showLegend:!0}},{id:"customers-table",title:"Top Customers",subtitle:"Customers by revenue",type:"table",displayFormat:"DataTable",dataSource:"customers",config:{size:"full",maxRows:10,columns:[{key:"name",header:"Customer",width:"40%",format:"text"},{key:"orders",header:"Orders",width:"20%",format:"number"},{key:"revenue",header:"Revenue",width:"25%",format:"currency"},{key:"status",header:"Status",width:"15%",format:"text"}]}}],orders:[{id:"orders-total",title:"Total Orders",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"totalOrders",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"orders-pending",title:"Pending Orders",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"pendingOrders",displayMode:"medium",showTrend:!1,color:"#fbbf24",variant:"variant2"}},{id:"orders-conversion",title:"Order Conversion",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"orderConversion",displayMode:"medium",showTrend:!0,color:"#61bc8e",variant:"variant3"}},{id:"orders-chart",title:"Orders Over Time",subtitle:"",type:"chart",displayFormat:"FullGraph",dataSource:"orders",config:{chartType:"bar",size:"full",color:"#79d5e9"}},{id:"orders-table",title:"Recent Orders",subtitle:"",type:"table",displayFormat:"DataTable",dataSource:"orders",config:{size:"full",maxRows:10}}],invoices:[{id:"invoices-revenue",title:"Total Revenue",subtitle:"Revenue from all invoices",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"totalRevenue",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"invoices-outstanding",title:"Outstanding Invoices",subtitle:"Unpaid invoices",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"outstandingInvoices",displayMode:"medium",showTrend:!1,color:"#dc2626",variant:"variant2"}},{id:"invoices-paid",title:"Paid Invoices",subtitle:"Successfully collected payments",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"paidInvoices",displayMode:"medium",showTrend:!0,color:"#61bc8e",variant:"variant3"}},{id:"invoices-chart",title:"Revenue Trend",subtitle:"Monthly revenue progression",type:"chart",displayFormat:"FullGraph",dataSource:"orders",config:{chartType:"area",size:"full",color:"#79d5e9"}},{id:"invoices-table",title:"Recent Invoices",subtitle:"Latest invoice activity",type:"activity",displayFormat:"ActivityFeed",dataSource:"activities",config:{size:"full",maxActivities:8,showFilters:!0}}],"sales-team":[{id:"sales-performance",title:"Team Performance",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"sales_team",config:{metric:"teamPerformance",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"sales-targets",title:"Monthly Targets",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"sales_team",config:{metric:"monthlyTargets",displayMode:"medium",showTrend:!1,color:"#fbbf24",variant:"variant2"}},{id:"sales-conversion",title:"Conversion Rate",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"sales_team",config:{metric:"conversionRate",displayMode:"medium",showTrend:!0,color:"#61bc8e",variant:"variant3"}},{id:"sales-chart",title:"Sales Performance",subtitle:"",type:"chart",displayFormat:"FullGraph",dataSource:"sales_team",config:{chartType:"bar",size:"full",color:"#79d5e9"}},{id:"sales-table",title:"Sales Team Leaderboard",subtitle:"",type:"table",displayFormat:"DataTable",dataSource:"sales_team",config:{size:"full",maxRows:10,columns:[{key:"name",header:"Name",width:"40%",format:"text"},{key:"orders",header:"Orders",width:"30%",format:"number"},{key:"revenue",header:"Revenue",width:"30%",format:"currency"}]}}],admin:[{id:"admin-health",title:"System Health",subtitle:"Overall system performance",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"systemHealth",displayMode:"medium",showTrend:!1,color:"#61bc8e",variant:"variant1"}},{id:"admin-users",title:"Active Users",subtitle:"Currently active system users",type:"metric",displayFormat:"MetricCard",dataSource:"customers",config:{metric:"activeUsers",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant2"}},{id:"admin-storage",title:"Storage Usage",subtitle:"System storage utilization",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"storageUsage",displayMode:"medium",showTrend:!1,color:"#fbbf24",variant:"variant3"}},{id:"admin-chart",title:"System Activity",subtitle:"Daily system usage metrics",type:"chart",displayFormat:"FullGraph",dataSource:"orders",config:{chartType:"line",size:"full",color:"#79d5e9"}},{id:"admin-activities",title:"Recent Admin Actions",subtitle:"Latest system activities",type:"activity",displayFormat:"ActivityFeed",dataSource:"activities",config:{size:"full",maxActivities:10,showFilters:!0}}],finance:[{id:"finance-revenue",title:"Total Revenue",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"totalRevenue",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"finance-expenses",title:"Monthly Expenses",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"monthlyExpenses",displayMode:"medium",showTrend:!0,color:"#dc2626",variant:"variant2"}},{id:"finance-profit",title:"Profit Margin",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"profitMargin",displayMode:"medium",showTrend:!0,color:"#61bc8e",variant:"variant3"}},{id:"finance-chart",title:"Financial Trend",subtitle:"",type:"chart",displayFormat:"FullGraph",dataSource:"orders",config:{chartType:"area",size:"full",color:"#79d5e9"}},{id:"finance-table",title:"Budget vs Actual",subtitle:"",type:"table",displayFormat:"DataTable",dataSource:"orders",config:{size:"full",maxRows:10}}],overview:[{id:"overview-revenue",title:"Total Revenue",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"totalRevenue",displayMode:"medium",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"overview-orders",title:"Total Orders",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"orders",config:{metric:"totalOrders",displayMode:"medium",showTrend:!0,color:"#4daeac",variant:"variant2"}},{id:"overview-customers",title:"Active Customers",subtitle:"",type:"metric",displayFormat:"MetricCard",dataSource:"customers",config:{metric:"activeCustomers",displayMode:"medium",showTrend:!0,color:"#61bc8e",variant:"variant3"}},{id:"overview-chart",title:"Business Overview",subtitle:"",type:"chart",displayFormat:"FullGraph",dataSource:"orders",config:{chartType:"area",size:"full",color:"#79d5e9"}},{id:"overview-activity",title:"Recent Activity",subtitle:"",type:"activity",displayFormat:"ActivityFeed",dataSource:"activities",config:{size:"full",maxActivities:6,showFilters:!0}}]};function generateDefaultLayouts(i){const o=[],_=[],j=[];let _e=0,et=0;return i.forEach((tt,rt)=>{const nt=tt.config.size==="full"||["FullGraph","DataTable","ActivityFeed"].includes(tt.displayFormat),st=nt?9:3,it=["FullGraph"].includes(tt.displayFormat)?5:["DataTable","ActivityFeed"].includes(tt.displayFormat)?4:3;(nt||et+st>12)&&(_e+=it,et=0),o.push({i:tt.id,x:et,y:_e,w:st,h:it}),nt?(et=0,_e+=it):et+=st,_.push({i:tt.id,x:et>0?Math.min(et,4):0,y:_e,w:st===9?8:st===3?4:st,h:it}),j.push({i:tt.id,x:0,y:rt*it,w:6,h:it})}),{lg:o,md:_,sm:j}}function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const o=Math.random()*16|0;return(i==="x"?o:o&3|8).toString(16)})}const STORAGE_KEY="splitfin_analytics_pages";class AnalyticsPageService{getPages(){try{const o=localStorage.getItem(STORAGE_KEY);return o?JSON.parse(o):[]}catch{return[]}}savePages(o){localStorage.setItem(STORAGE_KEY,JSON.stringify(o))}getUserId(){const o=localStorage.getItem("agent_id");if(!o)throw new Error("User not authenticated");return o}async createPage(o){const _=this.getUserId(),_e=(templateWidgets[o.template]||templateWidgets.overview).map(st=>({...st,id:`${o.template}-${st.id.split("-").pop()}-${Date.now()}`})),et=generateDefaultLayouts(_e),tt=new Date().toISOString(),rt={id:generateUUID(),name:o.name,icon:o.icon,template:o.template,user_id:_,created_at:tt,updated_at:tt,widgets:_e,layouts:et},nt=this.getPages();return nt.push(rt),this.savePages(nt),rt}async getUserPages(){const o=this.getUserId();return this.getPages().filter(j=>j.user_id===o).sort((j,_e)=>new Date(j.created_at).getTime()-new Date(_e.created_at).getTime())}async getPage(o){const _=this.getUserId();return this.getPages().find(_e=>_e.id===o&&_e.user_id===_)||null}async updatePage(o,_){const j=this.getUserId(),_e=this.getPages(),et=_e.findIndex(rt=>rt.id===o&&rt.user_id===j);if(et===-1)throw new Error("Failed to update analytics page: page not found");const tt={..._e[et],..._,id:_e[et].id,user_id:_e[et].user_id,created_at:_e[et].created_at,updated_at:new Date().toISOString()};return _e[et]=tt,this.savePages(_e),tt}async deletePage(o){const _=this.getUserId(),j=this.getPages(),_e=j.filter(et=>!(et.id===o&&et.user_id===_));if(_e.length===j.length)throw new Error("Failed to delete analytics page: page not found");this.savePages(_e)}}const analyticsPageService=new AnalyticsPageService;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(i,o)=>{const _=reactExports.forwardRef(({color:j="currentColor",size:_e=24,strokeWidth:et=2,absoluteStrokeWidth:tt,className:rt="",children:nt,...st},it)=>reactExports.createElement("svg",{ref:it,...defaultAttributes,width:_e,height:_e,stroke:j,strokeWidth:tt?Number(et)*24/Number(_e):et,className:["lucide",`lucide-${toKebabCase(i)}`,rt].join(" "),...st},[...o.map(([at,ot])=>reactExports.createElement(at,ot)),...Array.isArray(nt)?nt:[nt]]));return _.displayName=`${i}`,_};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart3=createLucideIcon("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart$1=createLucideIcon("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Barcode=createLucideIcon("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Book=createLucideIcon("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Box=createLucideIcon("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boxes=createLucideIcon("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ClipboardList=createLucideIcon("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coins=createLucideIcon("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FilePlus2=createLucideIcon("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const File$1=createLucideIcon("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Grid3x3=createLucideIcon("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GripVertical=createLucideIcon("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HelpCircle=createLucideIcon("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart$1=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Link=createLucideIcon("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const List=createLucideIcon("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Map$5=createLucideIcon("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MoreVertical=createLucideIcon("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package2=createLucideIcon("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Paperclip=createLucideIcon("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenSquare=createLucideIcon("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pencil=createLucideIcon("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PieChart$1=createLucideIcon("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PoundSterling=createLucideIcon("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Route=createLucideIcon("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Scan=createLucideIcon("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings$1=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Table=createLucideIcon("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash=createLucideIcon("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users$1=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Video=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Warehouse$2=createLucideIcon("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WifiOff=createLucideIcon("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XCircle=createLucideIcon("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class ApiClient{constructor(o){this.baseUrl=o}getAuthHeaders(){const o=localStorage.getItem("auth_token"),_={"Content-Type":"application/json"};return o&&(_.Authorization=`Bearer ${o}`),_}async get(o){const _=await fetch(`${this.baseUrl}/api/v1${o}`,{method:"GET",headers:this.getAuthHeaders()});if(!_.ok)throw new Error(`API error: ${_.status} ${_.statusText}`);return{data:await _.json(),status:_.status}}async post(o,_){const j=await fetch(`${this.baseUrl}/api/v1${o}`,{method:"POST",headers:this.getAuthHeaders(),body:_?JSON.stringify(_):void 0});if(!j.ok)throw new Error(`API error: ${j.status} ${j.statusText}`);return{data:await j.json(),status:j.status}}async put(o,_){const j=await fetch(`${this.baseUrl}/api/v1${o}`,{method:"PUT",headers:this.getAuthHeaders(),body:_?JSON.stringify(_):void 0});if(!j.ok)throw new Error(`API error: ${j.status} ${j.statusText}`);return{data:await j.json(),status:j.status}}async delete(o){const _=await fetch(`${this.baseUrl}/api/v1${o}`,{method:"DELETE",headers:this.getAuthHeaders()});if(!_.ok)throw new Error(`API error: ${_.status} ${_.statusText}`);return{data:await _.json(),status:_.status}}}const apiClient=new ApiClient(API_BASE_URL),ColorContext=reactExports.createContext(void 0),colorPalette={primary:"#79d5e9",secondary:"#799de9",tertiary:"#79e9c5",fourth:"#FF9F00",fifth:"#C96868",sixth:"#4daeac",seventh:"#61bc8e",eighth:"#fbbf24",ninth:"#dc2626",tenth:"#8b5cf6",eleventh:"#ec4899"},useColors=()=>{const i=reactExports.useContext(ColorContext);return i||(console.warn("useColors used outside of ColorProvider, returning defaults"),{barChartColors:"primary",graphColors:{primary:"#79d5e9",secondary:"#4daeac",tertiary:"#f77d11"},getChartColors:()=>["#79d5e9"],getMetricCardColor:(o=0)=>"#79d5e9"})},ColorProvider=({children:i,barChartColors:o,graphColors:_})=>{const j=Object.values(colorPalette),_e=()=>o==="multicolored"?j:[colorPalette[o]||colorPalette.primary],et=(tt=0)=>o==="multicolored"?j[tt%j.length]:colorPalette[o]||colorPalette.primary;return jsxRuntimeExports.jsx(ColorContext.Provider,{value:{barChartColors:o,graphColors:_,getChartColors:_e,getMetricCardColor:et},children:i})};function r(i){var o,_,j="";if(typeof i=="string"||typeof i=="number")j+=i;else if(typeof i=="object")if(Array.isArray(i)){var _e=i.length;for(o=0;o<_e;o++)i[o]&&(_=r(i[o]))&&(j&&(j+=" "),j+=_)}else for(_ in i)i[_]&&(j&&(j+=" "),j+=_);return j}function clsx(){for(var i,o,_=0,j="",_e=arguments.length;_<_e;_++)(i=arguments[_])&&(o=r(i))&&(j&&(j+=" "),j+=o);return j}const clsx$1=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"}));var isArray$f=Array.isArray,isArray_1=isArray$f,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$a=freeGlobal||freeSelf||Function("return this")(),_root=root$a,root$9=_root,Symbol$7=root$9.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(i){var o=hasOwnProperty$a.call(i,symToStringTag$1),_=i[symToStringTag$1];try{i[symToStringTag$1]=void 0;var j=!0}catch{}var _e=nativeObjectToString$1.call(i);return j&&(o?i[symToStringTag$1]=_:delete i[symToStringTag$1]),_e}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(i){return nativeObjectToString.call(i)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$9(i){return i==null?i===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(i)?getRawTag(i):objectToString(i)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(i){return i!=null&&typeof i=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(i){return typeof i=="symbol"||isObjectLike$8(i)&&baseGetTag$8(i)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(i,o){if(isArray$e(i))return!1;var _=typeof i;return _=="number"||_=="symbol"||_=="boolean"||i==null||isSymbol$5(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||o!=null&&i in Object(o)}var _isKey=isKey$3;function isObject$8(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}var isObject_1=isObject$8;const isObject$9=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$7=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(i){if(!isObject$7(i))return!1;var o=baseGetTag$7(i);return o==funcTag$1||o==genTag||o==asyncTag||o==proxyTag}var isFunction_1=isFunction$4;const isFunction$5=getDefaultExportFromCjs(isFunction_1);var root$8=_root,coreJsData$1=root$8["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function isMasked$1(i){return!!maskSrcKey&&maskSrcKey in i}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(i){if(i!=null){try{return funcToString$2.call(i)}catch{}try{return i+""}catch{}}return""}var _toSource=toSource$2,isFunction$3=isFunction_1,isMasked=_isMasked,isObject$6=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(i){if(!isObject$6(i)||isMasked(i))return!1;var o=isFunction$3(i)?reIsNative:reIsHostCtor;return o.test(toSource$1(i))}var _baseIsNative=baseIsNative$1;function getValue$1(i,o){return i==null?void 0:i[o]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(i,o){var _=getValue(i,o);return baseIsNative(_)?_:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet$1(i){var o=this.__data__;if(nativeCreate$2){var _=o[i];return _===HASH_UNDEFINED$2?void 0:_}return hasOwnProperty$8.call(o,i)?o[i]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas$1(i){var o=this.__data__;return nativeCreate$1?o[i]!==void 0:hasOwnProperty$7.call(o,i)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(i,o){var _=this.__data__;return this.size+=this.has(i)?0:1,_[i]=nativeCreate&&o===void 0?HASH_UNDEFINED$1:o,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(i){var o=-1,_=i==null?0:i.length;for(this.clear();++o<_;){var j=i[o];this.set(j[0],j[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$4(i,o){return i===o||i!==i&&o!==o}var eq_1=eq$4,eq$3=eq_1;function assocIndexOf$4(i,o){for(var _=i.length;_--;)if(eq$3(i[_][0],o))return _;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(i){var o=this.__data__,_=assocIndexOf$3(o,i);if(_<0)return!1;var j=o.length-1;return _==j?o.pop():splice.call(o,_,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(i){var o=this.__data__,_=assocIndexOf$2(o,i);return _<0?void 0:o[_][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(i){return assocIndexOf$1(this.__data__,i)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(i,o){var _=this.__data__,j=assocIndexOf(_,i);return j<0?(++this.size,_.push([i,o])):_[j][1]=o,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(i){var o=-1,_=i==null?0:i.length;for(this.clear();++o<_;){var j=i[o];this.set(j[0],j[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$7=_root,Map$4=getNative$5(root$7,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(i,o){var _=i.__data__;return isKeyable(o)?_[typeof o=="string"?"string":"hash"]:_.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(i){var o=getMapData$3(this,i).delete(i);return this.size-=o?1:0,o}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(i){return getMapData$2(this,i).get(i)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(i){return getMapData$1(this,i).has(i)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(i,o){var _=getMapData(this,i),j=_.size;return _.set(i,o),this.size+=_.size==j?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(i){var o=-1,_=i==null?0:i.length;for(this.clear();++o<_;){var j=i[o];this.set(j[0],j[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var _=function(){var j=arguments,_e=o?o.apply(this,j):j[0],et=_.cache;if(et.has(_e))return et.get(_e);var tt=i.apply(this,j);return _.cache=et.set(_e,tt)||et,tt};return _.cache=new(memoize$2.Cache||MapCache$2),_}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(i){var o=memoize$1(i,function(j){return _.size===MAX_MEMOIZE_SIZE&&_.clear(),j}),_=o.cache;return o}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(rePropName,function(_,j,_e,et){o.push(_e?et.replace(reEscapeChar,"$1"):j||_)}),o}),_stringToPath=stringToPath$1;function arrayMap$3(i,o){for(var _=-1,j=i==null?0:i.length,_e=Array(j);++_<j;)_e[_]=o(i[_],_,i);return _e}var _arrayMap=arrayMap$3,Symbol$4=_Symbol,arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,symbolProto$1=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(i){if(typeof i=="string")return i;if(isArray$d(i))return arrayMap$2(i,baseToString$1)+"";if(isSymbol$4(i))return symbolToString?symbolToString.call(i):"";var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4(i){return i==null?"":baseToString(i)}var toString_1=toString$4,isArray$c=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString$3=toString_1;function castPath$2(i,o){return isArray$c(i)?i:isKey$2(i,o)?[i]:stringToPath(toString$3(i))}var _castPath=castPath$2,isSymbol$3=isSymbol_1;function toKey$4(i){if(typeof i=="string"||isSymbol$3(i))return i;var o=i+"";return o=="0"&&1/i==-1/0?"-0":o}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(i,o){o=castPath$1(o,i);for(var _=0,j=o.length;i!=null&&_<j;)i=i[toKey$3(o[_++])];return _&&_==j?i:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$1(i,o,_){var j=i==null?void 0:baseGet$2(i,o);return j===void 0?_:j}var get_1=get$1;const get$2=getDefaultExportFromCjs(get_1);function isNil(i){return i==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString(i){return typeof i=="string"||!isArray$b(i)&&isObjectLike$7(i)&&baseGetTag$6(i)==stringTag$2}var isString_1=isString;const isString$1=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$1(i){if(typeof i=="object"&&i!==null){var o=i.$$typeof;switch(o){case b:switch(i=i.type,i){case d:case f:case e:case m:case n:return i;default:switch(i=i&&i.$$typeof,i){case k$1:case h$1:case l:case q:case p:case g:return i;default:return o}}case c$1:return o}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(i){return v$1(i)===h$1};reactIs_production_min.isContextProvider=function(i){return v$1(i)===g};reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===b};reactIs_production_min.isForwardRef=function(i){return v$1(i)===l};reactIs_production_min.isFragment=function(i){return v$1(i)===d};reactIs_production_min.isLazy=function(i){return v$1(i)===q};reactIs_production_min.isMemo=function(i){return v$1(i)===p};reactIs_production_min.isPortal=function(i){return v$1(i)===c$1};reactIs_production_min.isProfiler=function(i){return v$1(i)===f};reactIs_production_min.isStrictMode=function(i){return v$1(i)===e};reactIs_production_min.isSuspense=function(i){return v$1(i)===m};reactIs_production_min.isSuspenseList=function(i){return v$1(i)===n};reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===d||i===f||i===e||i===m||i===n||i===t||typeof i=="object"&&i!==null&&(i.$$typeof===q||i.$$typeof===p||i.$$typeof===g||i.$$typeof===h$1||i.$$typeof===l||i.$$typeof===u||i.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$3(i){return typeof i=="number"||isObjectLike$6(i)&&baseGetTag$5(i)==numberTag$2}var isNumber_1=isNumber$3;const isNumber$4=getDefaultExportFromCjs(isNumber_1);var isNumber$2=isNumber_1;function isNaN$1(i){return isNumber$2(i)&&i!=+i}var _isNaN=isNaN$1;const isNan=getDefaultExportFromCjs(_isNaN);var mathSign=function(o){return o===0?0:o>0?1:-1},isPercent=function(o){return isString$1(o)&&o.indexOf("%")===o.length-1},isNumber$1=function(o){return isNumber$4(o)&&!isNan(o)},isNullish=function(o){return isNil$1(o)},isNumOrStr=function(o){return isNumber$1(o)||isString$1(o)},idCounter=0,uniqueId=function(o){var _=++idCounter;return"".concat(o||"").concat(_)},getPercentValue=function(o,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber$1(o)&&!isString$1(o))return j;var et;if(isPercent(o)){var tt=o.indexOf("%");et=_*parseFloat(o.slice(0,tt))/100}else et=+o;return isNan(et)&&(et=j),_e&&et>_&&(et=_),et},getAnyElementOfObject=function(o){if(!o)return null;var _=Object.keys(o);return _&&_.length?o[_[0]]:null},hasDuplicate=function(o){if(!Array.isArray(o))return!1;for(var _=o.length,j={},_e=0;_e<_;_e++)if(!j[o[_e]])j[o[_e]]=!0;else return!0;return!1},interpolateNumber$2=function(o,_){return isNumber$1(o)&&isNumber$1(_)?function(j){return o+j*(_-o)}:function(){return _}};function findEntryInArray(i,o,_){return!i||!i.length?null:i.find(function(j){return j&&(typeof o=="function"?o(j):get$2(j,o))===_})}var compareValues=function(o,_){return isNumber$1(o)&&isNumber$1(_)?o-_:isString$1(o)&&isString$1(_)?o.localeCompare(_):o instanceof Date&&_ instanceof Date?o.getTime()-_.getTime():String(o).localeCompare(String(_))};function shallowEqual(i,o){for(var _ in i)if({}.hasOwnProperty.call(i,_)&&(!{}.hasOwnProperty.call(o,_)||i[_]!==o[_]))return!1;for(var j in o)if({}.hasOwnProperty.call(o,j)&&!{}.hasOwnProperty.call(i,j))return!1;return!0}function _typeof$L(i){"@babel/helpers - typeof";return _typeof$L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$L(i)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(o,_){if(!o||typeof o=="function"||typeof o=="boolean")return null;var j=o;if(reactExports.isValidElement(o)&&(j=o.props),!isObject$9(j))return null;var _e={};return Object.keys(j).forEach(function(et){EventKeys.includes(et)&&(_e[et]=_||function(tt){return j[et](j,tt)})}),_e},getEventHandlerOfChild=function(o,_,j){return function(_e){return o(_,j,_e),null}},adaptEventsOfChild=function(o,_,j){if(!isObject$9(o)||_typeof$L(o)!=="object")return null;var _e=null;return Object.keys(o).forEach(function(et){var tt=o[et];EventKeys.includes(et)&&typeof tt=="function"&&(_e||(_e={}),_e[et]=getEventHandlerOfChild(tt,_,j))}),_e},_excluded$q=["children"],_excluded2$7=["children"];function _objectWithoutProperties$p(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$p(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$p(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _typeof$K(i){"@babel/helpers - typeof";return _typeof$K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$K(i)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(o){return typeof o=="string"?o:o?o.displayName||o.name||"Component":""},lastChildren=null,lastResult=null,toArray=function i(o){if(o===lastChildren&&Array.isArray(lastResult))return lastResult;var _=[];return reactExports.Children.forEach(o,function(j){isNil$1(j)||(reactIsExports.isFragment(j)?_=_.concat(i(j.props.children)):_.push(j))}),lastResult=_,lastChildren=o,_};function findAllByType(i,o){var _=[],j=[];return Array.isArray(o)?j=o.map(function(_e){return getDisplayName(_e)}):j=[getDisplayName(o)],toArray(i).forEach(function(_e){var et=get$2(_e,"type.displayName")||get$2(_e,"type.name");j.indexOf(et)!==-1&&_.push(_e)}),_}function findChildByType(i,o){var _=findAllByType(i,o);return _&&_[0]}var validateWidthHeight=function(o){if(!o||!o.props)return!1;var _=o.props,j=_.width,_e=_.height;return!(!isNumber$1(j)||j<=0||!isNumber$1(_e)||_e<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(o){return o&&o.type&&isString$1(o.type)&&SVG_TAGS.indexOf(o.type)>=0},hasClipDot=function(o){return o&&_typeof$K(o)==="object"&&"clipDot"in o},isValidSpreadableProp=function(o,_,j,_e){var et,tt=(et=FilteredElementKeyMap==null?void 0:FilteredElementKeyMap[_e])!==null&&et!==void 0?et:[];return _.startsWith("data-")||!isFunction$5(o)&&(_e&&tt.includes(_)||SVGElementPropKeys.includes(_))||j&&EventKeys.includes(_)},filterProps=function(o,_,j){if(!o||typeof o=="function"||typeof o=="boolean")return null;var _e=o;if(reactExports.isValidElement(o)&&(_e=o.props),!isObject$9(_e))return null;var et={};return Object.keys(_e).forEach(function(tt){var rt;isValidSpreadableProp((rt=_e)===null||rt===void 0?void 0:rt[tt],tt,_,j)&&(et[tt]=_e[tt])}),et},isChildrenEqual=function i(o,_){if(o===_)return!0;var j=reactExports.Children.count(o);if(j!==reactExports.Children.count(_))return!1;if(j===0)return!0;if(j===1)return isSingleChildEqual(Array.isArray(o)?o[0]:o,Array.isArray(_)?_[0]:_);for(var _e=0;_e<j;_e++){var et=o[_e],tt=_[_e];if(Array.isArray(et)||Array.isArray(tt)){if(!i(et,tt))return!1}else if(!isSingleChildEqual(et,tt))return!1}return!0},isSingleChildEqual=function(o,_){if(isNil$1(o)&&isNil$1(_))return!0;if(!isNil$1(o)&&!isNil$1(_)){var j=o.props||{},_e=j.children,et=_objectWithoutProperties$p(j,_excluded$q),tt=_.props||{},rt=tt.children,nt=_objectWithoutProperties$p(tt,_excluded2$7);return _e&&rt?shallowEqual(et,nt)&&isChildrenEqual(_e,rt):!_e&&!rt?shallowEqual(et,nt):!1}return!1},renderByOrder=function(o,_){var j=[],_e={};return toArray(o).forEach(function(et,tt){if(isSvgElement(et))j.push(et);else if(et){var rt=getDisplayName(et.type),nt=_[rt]||{},st=nt.handler,it=nt.once;if(st&&(!it||!_e[rt])){var at=st(et,rt,tt);j.push(at),_e[rt]=!0}}}),j},getReactEventByType=function(o){var _=o&&o.type;return _&&REACT_BROWSER_EVENT_MAP[_]?REACT_BROWSER_EVENT_MAP[_]:null},parseChildIndex=function(o,_){return toArray(_).indexOf(o)},_excluded$p=["children","width","height","viewBox","className","style","title","desc"];function _extends$z(){return _extends$z=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$z.apply(this,arguments)}function _objectWithoutProperties$o(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$o(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$o(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function Surface(i){var o=i.children,_=i.width,j=i.height,_e=i.viewBox,et=i.className,tt=i.style,rt=i.title,nt=i.desc,st=_objectWithoutProperties$o(i,_excluded$p),it=_e||{width:_,height:j,x:0,y:0},at=clsx("recharts-surface",et);return React$7.createElement("svg",_extends$z({},filterProps(st,!0,"svg"),{className:at,width:_,height:j,style:tt,viewBox:"".concat(it.x," ").concat(it.y," ").concat(it.width," ").concat(it.height)}),React$7.createElement("title",null,rt),React$7.createElement("desc",null,nt),o)}var _excluded$o=["children","className"];function _extends$y(){return _extends$y=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$y.apply(this,arguments)}function _objectWithoutProperties$n(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$n(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$n(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}var Layer=React$7.forwardRef(function(i,o){var _=i.children,j=i.className,_e=_objectWithoutProperties$n(i,_excluded$o),et=clsx("recharts-layer",j);return React$7.createElement("g",_extends$y({className:et},filterProps(_e,!0),{ref:o}),_)}),warn=function(o,_){for(var j=arguments.length,_e=new Array(j>2?j-2:0),et=2;et<j;et++)_e[et-2]=arguments[et]};function baseSlice$1(i,o,_){var j=-1,_e=i.length;o<0&&(o=-o>_e?0:_e+o),_=_>_e?_e:_,_<0&&(_+=_e),_e=o>_?0:_-o>>>0,o>>>=0;for(var et=Array(_e);++j<_e;)et[j]=i[j+o];return et}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(i,o,_){var j=i.length;return _=_===void 0?j:_,!o&&_>=j?i:baseSlice(i,o,_)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(i){return reHasUnicode.test(i)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(i){return i.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(i){return i.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(i){return hasUnicode$1(i)?unicodeToArray(i):asciiToArray(i)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$2=toString_1;function createCaseFirst$1(i){return function(o){o=toString$2(o);var _=hasUnicode(o)?stringToArray(o):void 0,j=_?_[0]:o.charAt(0),_e=_?castSlice(_,1).join(""):o.slice(1);return j[i]()+_e}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(i){return function(){return i}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(i){this._+=i[0];for(let o=1,_=i.length;o<_;++o)this._+=arguments[o]+i[o]}function appendRound(i){let o=Math.floor(i);if(!(o>=0))throw new Error(`invalid digits: ${i}`);if(o>15)return append;const _=10**o;return function(j){this._+=j[0];for(let _e=1,et=j.length;_e<et;++_e)this._+=Math.round(arguments[_e]*_)/_+j[_e]}}class Path{constructor(o){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=o==null?append:appendRound(o)}moveTo(o,_){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+_}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(o,_){this._append`L${this._x1=+o},${this._y1=+_}`}quadraticCurveTo(o,_,j,_e){this._append`Q${+o},${+_},${this._x1=+j},${this._y1=+_e}`}bezierCurveTo(o,_,j,_e,et,tt){this._append`C${+o},${+_},${+j},${+_e},${this._x1=+et},${this._y1=+tt}`}arcTo(o,_,j,_e,et){if(o=+o,_=+_,j=+j,_e=+_e,et=+et,et<0)throw new Error(`negative radius: ${et}`);let tt=this._x1,rt=this._y1,nt=j-o,st=_e-_,it=tt-o,at=rt-_,ot=it*it+at*at;if(this._x1===null)this._append`M${this._x1=o},${this._y1=_}`;else if(ot>epsilon)if(!(Math.abs(at*nt-st*it)>epsilon)||!et)this._append`L${this._x1=o},${this._y1=_}`;else{let ct=j-tt,ut=_e-rt,lt=nt*nt+st*st,pt=ct*ct+ut*ut,dt=Math.sqrt(lt),ht=Math.sqrt(ot),ft=et*Math.tan((pi-Math.acos((lt+ot-pt)/(2*dt*ht)))/2),mt=ft/ht,xt=ft/dt;Math.abs(mt-1)>epsilon&&this._append`L${o+mt*it},${_+mt*at}`,this._append`A${et},${et},0,0,${+(at*ct>it*ut)},${this._x1=o+xt*nt},${this._y1=_+xt*st}`}}arc(o,_,j,_e,et,tt){if(o=+o,_=+_,j=+j,tt=!!tt,j<0)throw new Error(`negative radius: ${j}`);let rt=j*Math.cos(_e),nt=j*Math.sin(_e),st=o+rt,it=_+nt,at=1^tt,ot=tt?_e-et:et-_e;this._x1===null?this._append`M${st},${it}`:(Math.abs(this._x1-st)>epsilon||Math.abs(this._y1-it)>epsilon)&&this._append`L${st},${it}`,j&&(ot<0&&(ot=ot%tau+tau),ot>tauEpsilon?this._append`A${j},${j},0,1,${at},${o-rt},${_-nt}A${j},${j},0,1,${at},${this._x1=st},${this._y1=it}`:ot>epsilon&&this._append`A${j},${j},0,${+(ot>=pi)},${at},${this._x1=o+j*Math.cos(et)},${this._y1=_+j*Math.sin(et)}`)}rect(o,_,j,_e){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+_}h${j=+j}v${+_e}h${-j}Z`}toString(){return this._}}function withPath(i){let o=3;return i.digits=function(_){if(!arguments.length)return o;if(_==null)o=null;else{const j=Math.floor(_);if(!(j>=0))throw new RangeError(`invalid digits: ${_}`);o=j}return i},()=>new Path(o)}function array(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Linear(i){this._context=i}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;default:this._context.lineTo(i,o);break}}};function curveLinear(i){return new Linear(i)}function x(i){return i[0]}function y(i){return i[1]}function shapeLine(i,o){var _=constant$3(!0),j=null,_e=curveLinear,et=null,tt=withPath(rt);i=typeof i=="function"?i:i===void 0?x:constant$3(i),o=typeof o=="function"?o:o===void 0?y:constant$3(o);function rt(nt){var st,it=(nt=array(nt)).length,at,ot=!1,ct;for(j==null&&(et=_e(ct=tt())),st=0;st<=it;++st)!(st<it&&_(at=nt[st],st,nt))===ot&&((ot=!ot)?et.lineStart():et.lineEnd()),ot&&et.point(+i(at,st,nt),+o(at,st,nt));if(ct)return et=null,ct+""||null}return rt.x=function(nt){return arguments.length?(i=typeof nt=="function"?nt:constant$3(+nt),rt):i},rt.y=function(nt){return arguments.length?(o=typeof nt=="function"?nt:constant$3(+nt),rt):o},rt.defined=function(nt){return arguments.length?(_=typeof nt=="function"?nt:constant$3(!!nt),rt):_},rt.curve=function(nt){return arguments.length?(_e=nt,j!=null&&(et=_e(j)),rt):_e},rt.context=function(nt){return arguments.length?(nt==null?j=et=null:et=_e(j=nt),rt):j},rt}function shapeArea(i,o,_){var j=null,_e=constant$3(!0),et=null,tt=curveLinear,rt=null,nt=withPath(st);i=typeof i=="function"?i:i===void 0?x:constant$3(+i),o=typeof o=="function"?o:constant$3(o===void 0?0:+o),_=typeof _=="function"?_:_===void 0?y:constant$3(+_);function st(at){var ot,ct,ut,lt=(at=array(at)).length,pt,dt=!1,ht,ft=new Array(lt),mt=new Array(lt);for(et==null&&(rt=tt(ht=nt())),ot=0;ot<=lt;++ot){if(!(ot<lt&&_e(pt=at[ot],ot,at))===dt)if(dt=!dt)ct=ot,rt.areaStart(),rt.lineStart();else{for(rt.lineEnd(),rt.lineStart(),ut=ot-1;ut>=ct;--ut)rt.point(ft[ut],mt[ut]);rt.lineEnd(),rt.areaEnd()}dt&&(ft[ot]=+i(pt,ot,at),mt[ot]=+o(pt,ot,at),rt.point(j?+j(pt,ot,at):ft[ot],_?+_(pt,ot,at):mt[ot]))}if(ht)return rt=null,ht+""||null}function it(){return shapeLine().defined(_e).curve(tt).context(et)}return st.x=function(at){return arguments.length?(i=typeof at=="function"?at:constant$3(+at),j=null,st):i},st.x0=function(at){return arguments.length?(i=typeof at=="function"?at:constant$3(+at),st):i},st.x1=function(at){return arguments.length?(j=at==null?null:typeof at=="function"?at:constant$3(+at),st):j},st.y=function(at){return arguments.length?(o=typeof at=="function"?at:constant$3(+at),_=null,st):o},st.y0=function(at){return arguments.length?(o=typeof at=="function"?at:constant$3(+at),st):o},st.y1=function(at){return arguments.length?(_=at==null?null:typeof at=="function"?at:constant$3(+at),st):_},st.lineX0=st.lineY0=function(){return it().x(i).y(o)},st.lineY1=function(){return it().x(i).y(_)},st.lineX1=function(){return it().x(j).y(o)},st.defined=function(at){return arguments.length?(_e=typeof at=="function"?at:constant$3(!!at),st):_e},st.curve=function(at){return arguments.length?(tt=at,et!=null&&(rt=tt(et)),st):tt},st.context=function(at){return arguments.length?(at==null?et=rt=null:rt=tt(et=at),st):et},st}class Bump{constructor(o,_){this._context=o,this._x=_}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(o,_){switch(o=+o,_=+_,this._point){case 0:{this._point=1,this._line?this._context.lineTo(o,_):this._context.moveTo(o,_);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+o)/2,this._y0,this._x0,_,o,_):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+_)/2,o,this._y0,o,_);break}}this._x0=o,this._y0=_}}function bumpX(i){return new Bump(i,!0)}function bumpY(i){return new Bump(i,!1)}const symbolCircle={draw(i,o){const _=sqrt$1(o/pi$1);i.moveTo(_,0),i.arc(0,0,_,0,tau$1)}},symbolCross={draw(i,o){const _=sqrt$1(o/5)/2;i.moveTo(-3*_,-_),i.lineTo(-_,-_),i.lineTo(-_,-3*_),i.lineTo(_,-3*_),i.lineTo(_,-_),i.lineTo(3*_,-_),i.lineTo(3*_,_),i.lineTo(_,_),i.lineTo(_,3*_),i.lineTo(-_,3*_),i.lineTo(-_,_),i.lineTo(-3*_,_),i.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(i,o){const _=sqrt$1(o/tan30_2),j=_*tan30;i.moveTo(0,-_),i.lineTo(j,0),i.lineTo(0,_),i.lineTo(-j,0),i.closePath()}},symbolSquare={draw(i,o){const _=sqrt$1(o),j=-_/2;i.rect(j,j,_,_)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(i,o){const _=sqrt$1(o*ka),j=kx*_,_e=ky*_;i.moveTo(0,-_),i.lineTo(j,_e);for(let et=1;et<5;++et){const tt=tau$1*et/5,rt=cos(tt),nt=sin(tt);i.lineTo(nt*_,-rt*_),i.lineTo(rt*j-nt*_e,nt*j+rt*_e)}i.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(i,o){const _=-sqrt$1(o/(sqrt3*3));i.moveTo(0,_*2),i.lineTo(-sqrt3*_,-_),i.lineTo(sqrt3*_,-_),i.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(i,o){const _=sqrt$1(o/a),j=_/2,_e=_*k,et=j,tt=_*k+_,rt=-et,nt=tt;i.moveTo(j,_e),i.lineTo(et,tt),i.lineTo(rt,nt),i.lineTo(c*j-s*_e,s*j+c*_e),i.lineTo(c*et-s*tt,s*et+c*tt),i.lineTo(c*rt-s*nt,s*rt+c*nt),i.lineTo(c*j+s*_e,c*_e-s*j),i.lineTo(c*et+s*tt,c*tt-s*et),i.lineTo(c*rt+s*nt,c*nt-s*rt),i.closePath()}};function Symbol$3(i,o){let _=null,j=withPath(_e);i=typeof i=="function"?i:constant$3(i||symbolCircle),o=typeof o=="function"?o:constant$3(o===void 0?64:+o);function _e(){let et;if(_||(_=et=j()),i.apply(this,arguments).draw(_,+o.apply(this,arguments)),et)return _=null,et+""||null}return _e.type=function(et){return arguments.length?(i=typeof et=="function"?et:constant$3(et),_e):i},_e.size=function(et){return arguments.length?(o=typeof et=="function"?et:constant$3(+et),_e):o},_e.context=function(et){return arguments.length?(_=et??null,_e):_},_e}function noop$4(){}function point$2(i,o,_){i._context.bezierCurveTo((2*i._x0+i._x1)/3,(2*i._y0+i._y1)/3,(i._x0+2*i._x1)/3,(i._y0+2*i._y1)/3,(i._x0+4*i._x1+o)/6,(i._y0+4*i._y1+_)/6)}function Basis(i){this._context=i}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,i,o);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o}};function curveBasis(i){return new Basis(i)}function BasisClosed(i){this._context=i}BasisClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._x2=i,this._y2=o;break;case 1:this._point=2,this._x3=i,this._y3=o;break;case 2:this._point=3,this._x4=i,this._y4=o,this._context.moveTo((this._x0+4*this._x1+i)/6,(this._y0+4*this._y1+o)/6);break;default:point$2(this,i,o);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o}};function curveBasisClosed(i){return new BasisClosed(i)}function BasisOpen(i){this._context=i}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var _=(this._x0+4*this._x1+i)/6,j=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(_,j):this._context.moveTo(_,j);break;case 3:this._point=4;default:point$2(this,i,o);break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o}};function curveBasisOpen(i){return new BasisOpen(i)}function LinearClosed(i){this._context=i}LinearClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(i,o){i=+i,o=+o,this._point?this._context.lineTo(i,o):(this._point=1,this._context.moveTo(i,o))}};function curveLinearClosed(i){return new LinearClosed(i)}function sign$1(i){return i<0?-1:1}function slope3(i,o,_){var j=i._x1-i._x0,_e=o-i._x1,et=(i._y1-i._y0)/(j||_e<0&&-0),tt=(_-i._y1)/(_e||j<0&&-0),rt=(et*_e+tt*j)/(j+_e);return(sign$1(et)+sign$1(tt))*Math.min(Math.abs(et),Math.abs(tt),.5*Math.abs(rt))||0}function slope2(i,o){var _=i._x1-i._x0;return _?(3*(i._y1-i._y0)/_-o)/2:o}function point$1(i,o,_){var j=i._x0,_e=i._y0,et=i._x1,tt=i._y1,rt=(et-j)/3;i._context.bezierCurveTo(j+rt,_e+rt*o,et-rt,tt-rt*_,et,tt)}function MonotoneX(i){this._context=i}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){var _=NaN;if(i=+i,o=+o,!(i===this._x1&&o===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,_=slope3(this,i,o)),_);break;default:point$1(this,this._t0,_=slope3(this,i,o));break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o,this._t0=_}}};function MonotoneY(i){this._context=new ReflectContext(i)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(i,o){MonotoneX.prototype.point.call(this,o,i)};function ReflectContext(i){this._context=i}ReflectContext.prototype={moveTo:function(i,o){this._context.moveTo(o,i)},closePath:function(){this._context.closePath()},lineTo:function(i,o){this._context.lineTo(o,i)},bezierCurveTo:function(i,o,_,j,_e,et){this._context.bezierCurveTo(o,i,j,_,et,_e)}};function monotoneX(i){return new MonotoneX(i)}function monotoneY(i){return new MonotoneY(i)}function Natural(i){this._context=i}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var i=this._x,o=this._y,_=i.length;if(_)if(this._line?this._context.lineTo(i[0],o[0]):this._context.moveTo(i[0],o[0]),_===2)this._context.lineTo(i[1],o[1]);else for(var j=controlPoints(i),_e=controlPoints(o),et=0,tt=1;tt<_;++et,++tt)this._context.bezierCurveTo(j[0][et],_e[0][et],j[1][et],_e[1][et],i[tt],o[tt]);(this._line||this._line!==0&&_===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(i,o){this._x.push(+i),this._y.push(+o)}};function controlPoints(i){var o,_=i.length-1,j,_e=new Array(_),et=new Array(_),tt=new Array(_);for(_e[0]=0,et[0]=2,tt[0]=i[0]+2*i[1],o=1;o<_-1;++o)_e[o]=1,et[o]=4,tt[o]=4*i[o]+2*i[o+1];for(_e[_-1]=2,et[_-1]=7,tt[_-1]=8*i[_-1]+i[_],o=1;o<_;++o)j=_e[o]/et[o-1],et[o]-=j,tt[o]-=j*tt[o-1];for(_e[_-1]=tt[_-1]/et[_-1],o=_-2;o>=0;--o)_e[o]=(tt[o]-_e[o+1])/et[o];for(et[_-1]=(i[_]+_e[_-1])/2,o=0;o<_-1;++o)et[o]=2*i[o+1]-_e[o+1];return[_e,et]}function curveNatural(i){return new Natural(i)}function Step(i,o){this._context=i,this._t=o}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(i,o);else{var _=this._x*(1-this._t)+i*this._t;this._context.lineTo(_,this._y),this._context.lineTo(_,o)}break}}this._x=i,this._y=o}};function curveStep(i){return new Step(i,.5)}function stepBefore(i){return new Step(i,0)}function stepAfter(i){return new Step(i,1)}function stackOffsetNone(i,o){if((tt=i.length)>1)for(var _=1,j,_e,et=i[o[0]],tt,rt=et.length;_<tt;++_)for(_e=et,et=i[o[_]],j=0;j<rt;++j)et[j][1]+=et[j][0]=isNaN(_e[j][1])?_e[j][0]:_e[j][1]}function stackOrderNone(i){for(var o=i.length,_=new Array(o);--o>=0;)_[o]=o;return _}function stackValue(i,o){return i[o]}function stackSeries(i){const o=[];return o.key=i,o}function shapeStack(){var i=constant$3([]),o=stackOrderNone,_=stackOffsetNone,j=stackValue;function _e(et){var tt=Array.from(i.apply(this,arguments),stackSeries),rt,nt=tt.length,st=-1,it;for(const at of et)for(rt=0,++st;rt<nt;++rt)(tt[rt][st]=[0,+j(at,tt[rt].key,st,et)]).data=at;for(rt=0,it=array(o(tt));rt<nt;++rt)tt[it[rt]].index=rt;return _(tt,it),tt}return _e.keys=function(et){return arguments.length?(i=typeof et=="function"?et:constant$3(Array.from(et)),_e):i},_e.value=function(et){return arguments.length?(j=typeof et=="function"?et:constant$3(+et),_e):j},_e.order=function(et){return arguments.length?(o=et==null?stackOrderNone:typeof et=="function"?et:constant$3(Array.from(et)),_e):o},_e.offset=function(et){return arguments.length?(_=et??stackOffsetNone,_e):_},_e}function stackOffsetExpand(i,o){if((j=i.length)>0){for(var _,j,_e=0,et=i[0].length,tt;_e<et;++_e){for(tt=_=0;_<j;++_)tt+=i[_][_e][1]||0;if(tt)for(_=0;_<j;++_)i[_][_e][1]/=tt}stackOffsetNone(i,o)}}function stackOffsetSilhouette(i,o){if((_e=i.length)>0){for(var _=0,j=i[o[0]],_e,et=j.length;_<et;++_){for(var tt=0,rt=0;tt<_e;++tt)rt+=i[tt][_][1]||0;j[_][1]+=j[_][0]=-rt/2}stackOffsetNone(i,o)}}function stackOffsetWiggle(i,o){if(!(!((tt=i.length)>0)||!((et=(_e=i[o[0]]).length)>0))){for(var _=0,j=1,_e,et,tt;j<et;++j){for(var rt=0,nt=0,st=0;rt<tt;++rt){for(var it=i[o[rt]],at=it[j][1]||0,ot=it[j-1][1]||0,ct=(at-ot)/2,ut=0;ut<rt;++ut){var lt=i[o[ut]],pt=lt[j][1]||0,dt=lt[j-1][1]||0;ct+=pt-dt}nt+=at,st+=ct*at}_e[j-1][1]+=_e[j-1][0]=_,nt&&(_-=st/nt)}_e[j-1][1]+=_e[j-1][0]=_,stackOffsetNone(i,o)}}function _typeof$J(i){"@babel/helpers - typeof";return _typeof$J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$J(i)}var _excluded$n=["type","size","sizeType"];function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$x.apply(this,arguments)}function ownKeys$L(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$J(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$L(Object(_),!0).forEach(function(j){_defineProperty$T(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$L(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$T(i,o,_){return o=_toPropertyKey$T(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$T(i){var o=_toPrimitive$T(i,"string");return _typeof$J(o)=="symbol"?o:o+""}function _toPrimitive$T(i,o){if(_typeof$J(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$J(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$m(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$m(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$m(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$2=Math.PI/180,getSymbolFactory=function(o){var _="symbol".concat(upperFirst$1(o));return symbolFactories[_]||symbolCircle},calculateAreaSize=function(o,_,j){if(_==="area")return o;switch(j){case"cross":return 5*o*o/9;case"diamond":return .5*o*o/Math.sqrt(3);case"square":return o*o;case"star":{var _e=18*RADIAN$2;return 1.25*o*o*(Math.tan(_e)-Math.tan(_e*2)*Math.pow(Math.tan(_e),2))}case"triangle":return Math.sqrt(3)*o*o/4;case"wye":return(21-10*Math.sqrt(3))*o*o/8;default:return Math.PI*o*o/4}},registerSymbol=function(o,_){symbolFactories["symbol".concat(upperFirst$1(o))]=_},Symbols=function(o){var _=o.type,j=_===void 0?"circle":_,_e=o.size,et=_e===void 0?64:_e,tt=o.sizeType,rt=tt===void 0?"area":tt,nt=_objectWithoutProperties$m(o,_excluded$n),st=_objectSpread$J(_objectSpread$J({},nt),{},{type:j,size:et,sizeType:rt}),it=function(){var pt=getSymbolFactory(j),dt=Symbol$3().type(pt).size(calculateAreaSize(et,rt,j));return dt()},at=st.className,ot=st.cx,ct=st.cy,ut=filterProps(st,!0);return ot===+ot&&ct===+ct&&et===+et?React$7.createElement("path",_extends$x({},ut,{className:clsx("recharts-symbols",at),transform:"translate(".concat(ot,", ").concat(ct,")"),d:it()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$I(i){"@babel/helpers - typeof";return _typeof$I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$I(i)}function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$w.apply(this,arguments)}function ownKeys$K(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$I(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$K(Object(_),!0).forEach(function(j){_defineProperty$S(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$K(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$m(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$m(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$S(j.key),j)}}function _createClass$m(i,o,_){return o&&_defineProperties$m(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$i(i,o,_){return o=_getPrototypeOf$j(o),_possibleConstructorReturn$j(i,_isNativeReflectConstruct$j()?Reflect.construct(o,_||[],_getPrototypeOf$j(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$j(i,o){if(o&&(_typeof$I(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$j(i)}function _assertThisInitialized$j(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$j(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$j=function(){return!!i})()}function _getPrototypeOf$j(i){return _getPrototypeOf$j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$j(i)}function _inherits$j(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$j(i,o)}function _setPrototypeOf$j(i,o){return _setPrototypeOf$j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$j(i,o)}function _defineProperty$S(i,o,_){return o=_toPropertyKey$S(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$S(i){var o=_toPrimitive$S(i,"string");return _typeof$I(o)=="symbol"?o:o+""}function _toPrimitive$S(i,o){if(_typeof$I(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$I(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var SIZE=32,DefaultLegendContent=function(i){function o(){return _classCallCheck$m(this,o),_callSuper$i(this,o,arguments)}return _inherits$j(o,i),_createClass$m(o,[{key:"renderIcon",value:function(j){var _e=this.props.inactiveColor,et=SIZE/2,tt=SIZE/6,rt=SIZE/3,nt=j.inactive?_e:j.color;if(j.type==="plainline")return React$7.createElement("line",{strokeWidth:4,fill:"none",stroke:nt,strokeDasharray:j.payload.strokeDasharray,x1:0,y1:et,x2:SIZE,y2:et,className:"recharts-legend-icon"});if(j.type==="line")return React$7.createElement("path",{strokeWidth:4,fill:"none",stroke:nt,d:"M0,".concat(et,"h").concat(rt,`
            A`).concat(tt,",").concat(tt,",0,1,1,").concat(2*rt,",").concat(et,`
            H`).concat(SIZE,"M").concat(2*rt,",").concat(et,`
            A`).concat(tt,",").concat(tt,",0,1,1,").concat(rt,",").concat(et),className:"recharts-legend-icon"});if(j.type==="rect")return React$7.createElement("path",{stroke:"none",fill:nt,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React$7.isValidElement(j.legendIcon)){var st=_objectSpread$I({},j);return delete st.legendIcon,React$7.cloneElement(j.legendIcon,st)}return React$7.createElement(Symbols,{fill:nt,cx:et,cy:et,size:SIZE,sizeType:"diameter",type:j.type})}},{key:"renderItems",value:function(){var j=this,_e=this.props,et=_e.payload,tt=_e.iconSize,rt=_e.layout,nt=_e.formatter,st=_e.inactiveColor,it={x:0,y:0,width:SIZE,height:SIZE},at={display:rt==="horizontal"?"inline-block":"block",marginRight:10},ot={display:"inline-block",verticalAlign:"middle",marginRight:4};return et.map(function(ct,ut){var lt=ct.formatter||nt,pt=clsx(_defineProperty$S(_defineProperty$S({"recharts-legend-item":!0},"legend-item-".concat(ut),!0),"inactive",ct.inactive));if(ct.type==="none")return null;var dt=isFunction$5(ct.value)?null:ct.value;warn(!isFunction$5(ct.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var ht=ct.inactive?st:ct.color;return React$7.createElement("li",_extends$w({className:pt,style:at,key:"legend-item-".concat(ut)},adaptEventsOfChild(j.props,ct,ut)),React$7.createElement(Surface,{width:tt,height:tt,viewBox:it,style:ot},j.renderIcon(ct)),React$7.createElement("span",{className:"recharts-legend-item-text",style:{color:ht}},lt?lt(dt,ct,ut):dt))})}},{key:"render",value:function(){var j=this.props,_e=j.payload,et=j.layout,tt=j.align;if(!_e||!_e.length)return null;var rt={padding:0,margin:0,textAlign:et==="horizontal"?tt:"left"};return React$7.createElement("ul",{className:"recharts-default-legend",style:rt},this.renderItems())}}])}(reactExports.PureComponent);_defineProperty$S(DefaultLegendContent,"displayName","Legend");_defineProperty$S(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(i){var o=this.__data__,_=o.delete(i);return this.size=o.size,_}var _stackDelete=stackDelete$1;function stackGet$1(i){return this.__data__.get(i)}var _stackGet=stackGet$1;function stackHas$1(i){return this.__data__.has(i)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(i,o){var _=this.__data__;if(_ instanceof ListCache$1){var j=_.__data__;if(!Map$2||j.length<LARGE_ARRAY_SIZE$1-1)return j.push([i,o]),this.size=++_.size,this;_=this.__data__=new MapCache$1(j)}return _.set(i,o),this.size=_.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(i){var o=this.__data__=new ListCache(i);this.size=o.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(i){return this.__data__.set(i,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(i){return this.__data__.has(i)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(i){var o=-1,_=i==null?0:i.length;for(this.__data__=new MapCache;++o<_;)this.add(i[o])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(i,o){for(var _=-1,j=i==null?0:i.length;++_<j;)if(o(i[_],_,i))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(i,o){return i.has(o)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(i,o,_,j,_e,et){var tt=_&COMPARE_PARTIAL_FLAG$5,rt=i.length,nt=o.length;if(rt!=nt&&!(tt&&nt>rt))return!1;var st=et.get(i),it=et.get(o);if(st&&it)return st==o&&it==i;var at=-1,ot=!0,ct=_&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(et.set(i,o),et.set(o,i);++at<rt;){var ut=i[at],lt=o[at];if(j)var pt=tt?j(lt,ut,at,o,i,et):j(ut,lt,at,i,o,et);if(pt!==void 0){if(pt)continue;ot=!1;break}if(ct){if(!arraySome$1(o,function(dt,ht){if(!cacheHas$1(ct,ht)&&(ut===dt||_e(ut,dt,_,j,et)))return ct.push(ht)})){ot=!1;break}}else if(!(ut===lt||_e(ut,lt,_,j,et))){ot=!1;break}}return et.delete(i),et.delete(o),ot}var _equalArrays=equalArrays$2,root$6=_root,Uint8Array$2=root$6.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(i){var o=-1,_=Array(i.size);return i.forEach(function(j,_e){_[++o]=[_e,j]}),_}var _mapToArray=mapToArray$1;function setToArray$3(i){var o=-1,_=Array(i.size);return i.forEach(function(j){_[++o]=j}),_}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq$2=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(i,o,_,j,_e,et,tt){switch(_){case dataViewTag$2:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case arrayBufferTag$1:return!(i.byteLength!=o.byteLength||!et(new Uint8Array$1(i),new Uint8Array$1(o)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$2(+i,+o);case errorTag$1:return i.name==o.name&&i.message==o.message;case regexpTag$1:case stringTag$1:return i==o+"";case mapTag$2:var rt=mapToArray;case setTag$2:var nt=j&COMPARE_PARTIAL_FLAG$4;if(rt||(rt=setToArray$2),i.size!=o.size&&!nt)return!1;var st=tt.get(i);if(st)return st==o;j|=COMPARE_UNORDERED_FLAG$2,tt.set(i,o);var it=equalArrays$1(rt(i),rt(o),j,_e,et,tt);return tt.delete(i),it;case symbolTag:if(symbolValueOf)return symbolValueOf.call(i)==symbolValueOf.call(o)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(i,o){for(var _=-1,j=o.length,_e=i.length;++_<j;)i[_e+_]=o[_];return i}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$a=isArray_1;function baseGetAllKeys$1(i,o,_){var j=o(i);return isArray$a(i)?j:arrayPush$1(j,_(i))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(i,o){for(var _=-1,j=i==null?0:i.length,_e=0,et=[];++_<j;){var tt=i[_];o(tt,_,i)&&(et[_e++]=tt)}return et}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(i){return i==null?[]:(i=Object(i),arrayFilter(nativeGetSymbols(i),function(o){return propertyIsEnumerable$1.call(i,o)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(i,o){for(var _=-1,j=Array(i);++_<i;)j[_]=o(_);return j}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(i){return isObjectLike$5(i)&&baseGetTag$4(i)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(i){return isObjectLike$4(i)&&hasOwnProperty$6.call(i,"callee")&&!propertyIsEnumerable.call(i,"callee")},isArguments_1=isArguments$3,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(i,o){var _=_root,j=stubFalse_1,_e=o&&!o.nodeType&&o,et=_e&&!0&&i&&!i.nodeType&&i,tt=et&&et.exports===_e,rt=tt?_.Buffer:void 0,nt=rt?rt.isBuffer:void 0,st=nt||j;i.exports=st})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(i,o){var _=typeof i;return o=o??MAX_SAFE_INTEGER$2,!!o&&(_=="number"||_!="symbol"&&reIsUint.test(i))&&i>-1&&i%1==0&&i<o}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(i){return isObjectLike$3(i)&&isLength$2(i.length)&&!!typedArrayTags[baseGetTag$3(i)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(i){return function(o){return i(o)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(i,o){var _=_freeGlobal,j=o&&!o.nodeType&&o,_e=j&&!0&&i&&!i.nodeType&&i,et=_e&&_e.exports===j,tt=et&&_.process,rt=function(){try{var nt=_e&&_e.require&&_e.require("util").types;return nt||tt&&tt.binding&&tt.binding("util")}catch{}}();i.exports=rt})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(i,o){var _=isArray$9(i),j=!_&&isArguments$2(i),_e=!_&&!j&&isBuffer$1(i),et=!_&&!j&&!_e&&isTypedArray$1(i),tt=_||j||_e||et,rt=tt?baseTimes(i.length,String):[],nt=rt.length;for(var st in i)(o||hasOwnProperty$5.call(i,st))&&!(tt&&(st=="length"||_e&&(st=="offset"||st=="parent")||et&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||isIndex$2(st,nt)))&&rt.push(st);return rt}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(i){var o=i&&i.constructor,_=typeof o=="function"&&o.prototype||objectProto$4;return i===_}var _isPrototype=isPrototype$1;function overArg$2(i,o){return function(_){return i(o(_))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$4=objectProto$3.hasOwnProperty;function baseKeys$1(i){if(!isPrototype(i))return nativeKeys(i);var o=[];for(var _ in Object(i))hasOwnProperty$4.call(i,_)&&_!="constructor"&&o.push(_);return o}var _baseKeys=baseKeys$1,isFunction$2=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(i){return i!=null&&isLength$1(i.length)&&!isFunction$2(i)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$5(i){return isArrayLike$3(i)?arrayLikeKeys(i):baseKeys(i)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(i){return baseGetAllKeys(i,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function equalObjects$1(i,o,_,j,_e,et){var tt=_&COMPARE_PARTIAL_FLAG$3,rt=getAllKeys(i),nt=rt.length,st=getAllKeys(o),it=st.length;if(nt!=it&&!tt)return!1;for(var at=nt;at--;){var ot=rt[at];if(!(tt?ot in o:hasOwnProperty$3.call(o,ot)))return!1}var ct=et.get(i),ut=et.get(o);if(ct&&ut)return ct==o&&ut==i;var lt=!0;et.set(i,o),et.set(o,i);for(var pt=tt;++at<nt;){ot=rt[at];var dt=i[ot],ht=o[ot];if(j)var ft=tt?j(ht,dt,ot,o,i,et):j(dt,ht,ot,i,o,et);if(!(ft===void 0?dt===ht||_e(dt,ht,_,j,et):ft)){lt=!1;break}pt||(pt=ot=="constructor")}if(lt&&!pt){var mt=i.constructor,xt=o.constructor;mt!=xt&&"constructor"in i&&"constructor"in o&&!(typeof mt=="function"&&mt instanceof mt&&typeof xt=="function"&&xt instanceof xt)&&(lt=!1)}return et.delete(i),et.delete(o),lt}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$5=_root,DataView$2=getNative$4(root$5,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$4=_root,Promise$2=getNative$3(root$4,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$3=_root,Set$3=getNative$2(root$3,"Set"),_Set=Set$3,getNative$1=_getNative,root$2=_root,WeakMap$2=getNative$1(root$2,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag$2;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$2&&getTag$1(new Set$2)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(i){var o=baseGetTag$2(i),_=o==objectTag$2?i.constructor:void 0,j=_?toSource(_):"";if(j)switch(j){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return o});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(i,o,_,j,_e,et){var tt=isArray$8(i),rt=isArray$8(o),nt=tt?arrayTag:getTag(i),st=rt?arrayTag:getTag(o);nt=nt==argsTag?objectTag$1:nt,st=st==argsTag?objectTag$1:st;var it=nt==objectTag$1,at=st==objectTag$1,ot=nt==st;if(ot&&isBuffer(i)){if(!isBuffer(o))return!1;tt=!0,it=!1}if(ot&&!it)return et||(et=new Stack$1),tt||isTypedArray(i)?equalArrays(i,o,_,j,_e,et):equalByTag(i,o,nt,_,j,_e,et);if(!(_&COMPARE_PARTIAL_FLAG$2)){var ct=it&&hasOwnProperty$2.call(i,"__wrapped__"),ut=at&&hasOwnProperty$2.call(o,"__wrapped__");if(ct||ut){var lt=ct?i.value():i,pt=ut?o.value():o;return et||(et=new Stack$1),_e(lt,pt,_,j,et)}}return ot?(et||(et=new Stack$1),equalObjects(i,o,_,j,_e,et)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(i,o,_,j,_e){return i===o?!0:i==null||o==null||!isObjectLike$2(i)&&!isObjectLike$2(o)?i!==i&&o!==o:baseIsEqualDeep(i,o,_,j,baseIsEqual$3,_e)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(i,o,_,j){var _e=_.length,et=_e,tt=!j;if(i==null)return!et;for(i=Object(i);_e--;){var rt=_[_e];if(tt&&rt[2]?rt[1]!==i[rt[0]]:!(rt[0]in i))return!1}for(;++_e<et;){rt=_[_e];var nt=rt[0],st=i[nt],it=rt[1];if(tt&&rt[2]){if(st===void 0&&!(nt in i))return!1}else{var at=new Stack;if(j)var ot=j(st,it,nt,i,o,at);if(!(ot===void 0?baseIsEqual$2(it,st,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,j,at):ot))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$5=isObject_1;function isStrictComparable$2(i){return i===i&&!isObject$5(i)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(i){for(var o=keys$3(i),_=o.length;_--;){var j=o[_],_e=i[j];o[_]=[j,_e,isStrictComparable$1(_e)]}return o}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(i,o){return function(_){return _==null?!1:_[i]===o&&(o!==void 0||i in Object(_))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(i){var o=getMatchData(i);return o.length==1&&o[0][2]?matchesStrictComparable$1(o[0][0],o[0][1]):function(_){return _===i||baseIsMatch(_,i,o)}}var _baseMatches=baseMatches$1;function baseHasIn$1(i,o){return i!=null&&o in Object(i)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(i,o,_){o=castPath(o,i);for(var j=-1,_e=o.length,et=!1;++j<_e;){var tt=toKey$2(o[j]);if(!(et=i!=null&&_(i,tt)))break;i=i[tt]}return et||++j!=_e?et:(_e=i==null?0:i.length,!!_e&&isLength(_e)&&isIndex$1(tt,_e)&&(isArray$7(i)||isArguments$1(i)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(i,o){return i!=null&&hasPath(i,o,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(i,o){return isKey$1(i)&&isStrictComparable(o)?matchesStrictComparable(toKey$1(i),o):function(_){var j=get(_,i);return j===void 0&&j===o?hasIn(_,i):baseIsEqual$1(o,j,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(i){return i}var identity_1=identity$b;function baseProperty$1(i){return function(o){return o==null?void 0:o[i]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(i){return function(o){return baseGet$1(o,i)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(i){return isKey(i)?baseProperty(toKey(i)):basePropertyDeep(i)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$6=isArray_1,property=property_1;function baseIteratee$8(i){return typeof i=="function"?i:i==null?identity$a:typeof i=="object"?isArray$6(i)?baseMatchesProperty(i[0],i[1]):baseMatches(i):property(i)}var _baseIteratee=baseIteratee$8;function baseFindIndex$1(i,o,_,j){for(var _e=i.length,et=_+(j?1:-1);j?et--:++et<_e;)if(o(i[et],et,i))return et;return-1}var _baseFindIndex=baseFindIndex$1;function baseIsNaN$1(i){return i!==i}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(i,o,_){for(var j=_-1,_e=i.length;++j<_e;)if(i[j]===o)return j;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(i,o,_){return o===o?strictIndexOf(i,o,_):baseFindIndex(i,baseIsNaN,_)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(i,o){var _=i==null?0:i.length;return!!_&&baseIndexOf(i,o,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(i,o,_){for(var j=-1,_e=i==null?0:i.length;++j<_e;)if(_(o,i[j]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$3(){}var noop_1=noop$3,Set$1=_Set,noop$2=noop_1,setToArray$1=_setToArray,INFINITY$2=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$2?function(i){return new Set$1(i)}:noop$2,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(i,o,_){var j=-1,_e=arrayIncludes,et=i.length,tt=!0,rt=[],nt=rt;if(_)tt=!1,_e=arrayIncludesWith;else if(et>=LARGE_ARRAY_SIZE){var st=o?null:createSet(i);if(st)return setToArray(st);tt=!1,_e=cacheHas,nt=new SetCache}else nt=o?[]:rt;e:for(;++j<et;){var it=i[j],at=o?o(it):it;if(it=_||it!==0?it:0,tt&&at===at){for(var ot=nt.length;ot--;)if(nt[ot]===at)continue e;o&&nt.push(at),rt.push(it)}else _e(nt,at,_)||(nt!==rt&&nt.push(at),rt.push(it))}return rt}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy(i,o){return i&&i.length?baseUniq(i,baseIteratee$7(o)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(i,o,_){return o===!0?uniqBy$1(i,_):isFunction$5(o)?uniqBy$1(i,o):i}function _typeof$H(i){"@babel/helpers - typeof";return _typeof$H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$H(i)}var _excluded$m=["ref"];function ownKeys$J(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$H(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$J(Object(_),!0).forEach(function(j){_defineProperty$R(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$J(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$l(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$l(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$R(j.key),j)}}function _createClass$l(i,o,_){return o&&_defineProperties$l(i.prototype,o),_&&_defineProperties$l(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$h(i,o,_){return o=_getPrototypeOf$i(o),_possibleConstructorReturn$i(i,_isNativeReflectConstruct$i()?Reflect.construct(o,_||[],_getPrototypeOf$i(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$i(i,o){if(o&&(_typeof$H(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$i(i)}function _assertThisInitialized$i(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$i(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$i=function(){return!!i})()}function _getPrototypeOf$i(i){return _getPrototypeOf$i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$i(i)}function _inherits$i(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$i(i,o)}function _setPrototypeOf$i(i,o){return _setPrototypeOf$i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$i(i,o)}function _defineProperty$R(i,o,_){return o=_toPropertyKey$R(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$R(i){var o=_toPrimitive$R(i,"string");return _typeof$H(o)=="symbol"?o:o+""}function _toPrimitive$R(i,o){if(_typeof$H(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$H(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _objectWithoutProperties$l(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$l(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$l(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function defaultUniqBy$1(i){return i.value}function renderContent$1(i,o){if(React$7.isValidElement(i))return React$7.cloneElement(i,o);if(typeof i=="function")return React$7.createElement(i,o);o.ref;var _=_objectWithoutProperties$l(o,_excluded$m);return React$7.createElement(DefaultLegendContent,_)}var EPS$1=1,Legend$1=function(i){function o(){var _;_classCallCheck$l(this,o);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return _=_callSuper$h(this,o,[].concat(_e)),_defineProperty$R(_,"lastBoundingBox",{width:-1,height:-1}),_}return _inherits$i(o,i),_createClass$l(o,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var j=this.wrapperNode.getBoundingClientRect();return j.height=this.wrapperNode.offsetHeight,j.width=this.wrapperNode.offsetWidth,j}return null}},{key:"updateBBox",value:function(){var j=this.props.onBBoxUpdate,_e=this.getBBox();_e?(Math.abs(_e.width-this.lastBoundingBox.width)>EPS$1||Math.abs(_e.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=_e.width,this.lastBoundingBox.height=_e.height,j&&j(_e)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,j&&j(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$H({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(j){var _e=this.props,et=_e.layout,tt=_e.align,rt=_e.verticalAlign,nt=_e.margin,st=_e.chartWidth,it=_e.chartHeight,at,ot;if(!j||(j.left===void 0||j.left===null)&&(j.right===void 0||j.right===null))if(tt==="center"&&et==="vertical"){var ct=this.getBBoxSnapshot();at={left:((st||0)-ct.width)/2}}else at=tt==="right"?{right:nt&&nt.right||0}:{left:nt&&nt.left||0};if(!j||(j.top===void 0||j.top===null)&&(j.bottom===void 0||j.bottom===null))if(rt==="middle"){var ut=this.getBBoxSnapshot();ot={top:((it||0)-ut.height)/2}}else ot=rt==="bottom"?{bottom:nt&&nt.bottom||0}:{top:nt&&nt.top||0};return _objectSpread$H(_objectSpread$H({},at),ot)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.content,tt=_e.width,rt=_e.height,nt=_e.wrapperStyle,st=_e.payloadUniqBy,it=_e.payload,at=_objectSpread$H(_objectSpread$H({position:"absolute",width:tt||"auto",height:rt||"auto"},this.getDefaultPosition(nt)),nt);return React$7.createElement("div",{className:"recharts-legend-wrapper",style:at,ref:function(ct){j.wrapperNode=ct}},renderContent$1(et,_objectSpread$H(_objectSpread$H({},this.props),{},{payload:getUniqPayload(it,st,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(j,_e){var et=_objectSpread$H(_objectSpread$H({},this.defaultProps),j.props),tt=et.layout;return tt==="vertical"&&isNumber$1(j.props.height)?{height:j.props.height}:tt==="horizontal"?{width:j.props.width||_e}:null}}])}(reactExports.PureComponent);_defineProperty$R(Legend$1,"displayName","Legend");_defineProperty$R(Legend$1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$1=_Symbol,isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(i){return isArray$5(i)||isArguments(i)||!!(spreadableSymbol&&i&&i[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(i,o,_,j,_e){var et=-1,tt=i.length;for(_||(_=isFlattenable),_e||(_e=[]);++et<tt;){var rt=i[et];o>0&&_(rt)?o>1?baseFlatten$2(rt,o-1,_,j,_e):arrayPush(_e,rt):j||(_e[_e.length]=rt)}return _e}var _baseFlatten=baseFlatten$2;function createBaseFor$1(i){return function(o,_,j){for(var _e=-1,et=Object(o),tt=j(o),rt=tt.length;rt--;){var nt=tt[i?rt:++_e];if(_(et[nt],nt,et)===!1)break}return o}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(i,o){return i&&baseFor(i,o,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$2=isArrayLike_1;function createBaseEach$1(i,o){return function(_,j){if(_==null)return _;if(!isArrayLike$2(_))return i(_,j);for(var _e=_.length,et=o?_e:-1,tt=Object(_);(o?et--:++et<_e)&&j(tt[et],et,tt)!==!1;);return _}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$2(i,o){var _=-1,j=isArrayLike$1(i)?Array(i.length):[];return baseEach$2(i,function(_e,et,tt){j[++_]=o(_e,et,tt)}),j}var _baseMap=baseMap$2;function baseSortBy$1(i,o){var _=i.length;for(i.sort(o);_--;)i[_]=i[_].value;return i}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(i,o){if(i!==o){var _=i!==void 0,j=i===null,_e=i===i,et=isSymbol$2(i),tt=o!==void 0,rt=o===null,nt=o===o,st=isSymbol$2(o);if(!rt&&!st&&!et&&i>o||et&&tt&&nt&&!rt&&!st||j&&tt&&nt||!_&&nt||!_e)return 1;if(!j&&!et&&!st&&i<o||st&&_&&_e&&!j&&!et||rt&&_&&_e||!tt&&_e||!nt)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(i,o,_){for(var j=-1,_e=i.criteria,et=o.criteria,tt=_e.length,rt=_.length;++j<tt;){var nt=compareAscending(_e[j],et[j]);if(nt){if(j>=rt)return nt;var st=_[j];return nt*(st=="desc"?-1:1)}}return i.index-o.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$4=isArray_1;function baseOrderBy$1(i,o,_){o.length?o=arrayMap$1(o,function(et){return isArray$4(et)?function(tt){return baseGet(tt,et.length===1?et[0]:et)}:et}):o=[identity$9];var j=-1;o=arrayMap$1(o,baseUnary(baseIteratee$6));var _e=baseMap$1(i,function(et,tt,rt){var nt=arrayMap$1(o,function(st){return st(et)});return{criteria:nt,index:++j,value:et}});return baseSortBy(_e,function(et,tt){return compareMultiple(et,tt,_)})}var _baseOrderBy=baseOrderBy$1;function apply$1(i,o,_){switch(_.length){case 0:return i.call(o);case 1:return i.call(o,_[0]);case 2:return i.call(o,_[0],_[1]);case 3:return i.call(o,_[0],_[1],_[2])}return i.apply(o,_)}var _apply=apply$1,apply=_apply,nativeMax$2=Math.max;function overRest$1(i,o,_){return o=nativeMax$2(o===void 0?i.length-1:o,0),function(){for(var j=arguments,_e=-1,et=nativeMax$2(j.length-o,0),tt=Array(et);++_e<et;)tt[_e]=j[o+_e];_e=-1;for(var rt=Array(o+1);++_e<o;)rt[_e]=j[_e];return rt[o]=_(tt),apply(i,this,rt)}}var _overRest=overRest$1;function constant$2(i){return function(){return i}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch{}}(),_defineProperty$Q=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$Q,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(i,o){return defineProperty$1(i,"toString",{configurable:!0,enumerable:!1,value:constant$1(o),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(i){var o=0,_=0;return function(){var j=nativeNow(),_e=HOT_SPAN-(j-_);if(_=j,_e>0){if(++o>=HOT_COUNT)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(i,o){return setToString(overRest(i,o,identity$7),i+"")}var _baseRest=baseRest$1,eq$1=eq_1,isArrayLike=isArrayLike_1,isIndex=_isIndex,isObject$4=isObject_1;function isIterateeCall$4(i,o,_){if(!isObject$4(_))return!1;var j=typeof o;return(j=="number"?isArrayLike(_)&&isIndex(o,_.length):j=="string"&&o in _)?eq$1(_[o],i):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(i,o){if(i==null)return[];var _=o.length;return _>1&&isIterateeCall$3(i,o[0],o[1])?o=[]:_>2&&isIterateeCall$3(o[0],o[1],o[2])&&(o=[o[0]]),baseOrderBy(i,baseFlatten$1(o,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$G(i){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$G(i)}function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$v.apply(this,arguments)}function _slicedToArray$e(i,o){return _arrayWithHoles$f(i)||_iterableToArrayLimit$e(i,o)||_unsupportedIterableToArray$n(i,o)||_nonIterableRest$f()}function _nonIterableRest$f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$n(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$n(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$n(i,o)}}function _arrayLikeToArray$n(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$e(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$f(i){if(Array.isArray(i))return i}function ownKeys$I(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$G(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$I(Object(_),!0).forEach(function(j){_defineProperty$P(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$I(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$P(i,o,_){return o=_toPropertyKey$Q(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$Q(i){var o=_toPrimitive$Q(i,"string");return _typeof$G(o)=="symbol"?o:o+""}function _toPrimitive$Q(i,o){if(_typeof$G(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$G(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function defaultFormatter(i){return Array.isArray(i)&&isNumOrStr(i[0])&&isNumOrStr(i[1])?i.join(" ~ "):i}var DefaultTooltipContent=function(o){var _=o.separator,j=_===void 0?" : ":_,_e=o.contentStyle,et=_e===void 0?{}:_e,tt=o.itemStyle,rt=tt===void 0?{}:tt,nt=o.labelStyle,st=nt===void 0?{}:nt,it=o.payload,at=o.formatter,ot=o.itemSorter,ct=o.wrapperClassName,ut=o.labelClassName,lt=o.label,pt=o.labelFormatter,dt=o.accessibilityLayer,ht=dt===void 0?!1:dt,ft=function(){if(it&&it.length){var jt={padding:0,margin:0},Tt=(ot?sortBy$1(it,ot):it).map(function(kt,Pt){if(kt.type==="none")return null;var St=_objectSpread$G({display:"block",paddingTop:4,paddingBottom:4,color:kt.color||"#000"},rt),Rt=kt.formatter||at||defaultFormatter,bt=kt.value,vt=kt.name,At=bt,Ot=vt;if(Rt&&At!=null&&Ot!=null){var Ct=Rt(bt,vt,kt,Pt,it);if(Array.isArray(Ct)){var Lt=_slicedToArray$e(Ct,2);At=Lt[0],Ot=Lt[1]}else At=Ct}return React$7.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Pt),style:St},isNumOrStr(Ot)?React$7.createElement("span",{className:"recharts-tooltip-item-name"},Ot):null,isNumOrStr(Ot)?React$7.createElement("span",{className:"recharts-tooltip-item-separator"},j):null,React$7.createElement("span",{className:"recharts-tooltip-item-value"},At),React$7.createElement("span",{className:"recharts-tooltip-item-unit"},kt.unit||""))});return React$7.createElement("ul",{className:"recharts-tooltip-item-list",style:jt},Tt)}return null},mt=_objectSpread$G({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},et),xt=_objectSpread$G({margin:0},st),gt=!isNil$1(lt),yt=gt?lt:"",_t=clsx("recharts-default-tooltip",ct),Et=clsx("recharts-tooltip-label",ut);gt&&pt&&it!==void 0&&it!==null&&(yt=pt(lt,it));var wt=ht?{role:"status","aria-live":"assertive"}:{};return React$7.createElement("div",_extends$v({className:_t,style:mt},wt),React$7.createElement("p",{className:Et,style:xt},React$7.isValidElement(yt)?yt:"".concat(yt)),ft())};function _typeof$F(i){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$F(i)}function _defineProperty$O(i,o,_){return o=_toPropertyKey$P(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$P(i){var o=_toPrimitive$P(i,"string");return _typeof$F(o)=="symbol"?o:o+""}function _toPrimitive$P(i,o){if(_typeof$F(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$F(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(i){var o=i.coordinate,_=i.translateX,j=i.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$O(_defineProperty$O(_defineProperty$O(_defineProperty$O({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber$1(_)&&o&&isNumber$1(o.x)&&_>=o.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber$1(_)&&o&&isNumber$1(o.x)&&_<o.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber$1(j)&&o&&isNumber$1(o.y)&&j>=o.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber$1(j)&&o&&isNumber$1(o.y)&&j<o.y))}function getTooltipTranslateXY(i){var o=i.allowEscapeViewBox,_=i.coordinate,j=i.key,_e=i.offsetTopLeft,et=i.position,tt=i.reverseDirection,rt=i.tooltipDimension,nt=i.viewBox,st=i.viewBoxDimension;if(et&&isNumber$1(et[j]))return et[j];var it=_[j]-rt-_e,at=_[j]+_e;if(o[j])return tt[j]?it:at;if(tt[j]){var ot=it,ct=nt[j];return ot<ct?Math.max(at,nt[j]):Math.max(it,nt[j])}var ut=at+rt,lt=nt[j]+st;return ut>lt?Math.max(it,nt[j]):Math.max(at,nt[j])}function getTransformStyle(i){var o=i.translateX,_=i.translateY,j=i.useTranslate3d;return{transform:j?"translate3d(".concat(o,"px, ").concat(_,"px, 0)"):"translate(".concat(o,"px, ").concat(_,"px)")}}function getTooltipTranslate(i){var o=i.allowEscapeViewBox,_=i.coordinate,j=i.offsetTopLeft,_e=i.position,et=i.reverseDirection,tt=i.tooltipBox,rt=i.useTranslate3d,nt=i.viewBox,st,it,at;return tt.height>0&&tt.width>0&&_?(it=getTooltipTranslateXY({allowEscapeViewBox:o,coordinate:_,key:"x",offsetTopLeft:j,position:_e,reverseDirection:et,tooltipDimension:tt.width,viewBox:nt,viewBoxDimension:nt.width}),at=getTooltipTranslateXY({allowEscapeViewBox:o,coordinate:_,key:"y",offsetTopLeft:j,position:_e,reverseDirection:et,tooltipDimension:tt.height,viewBox:nt,viewBoxDimension:nt.height}),st=getTransformStyle({translateX:it,translateY:at,useTranslate3d:rt})):st=TOOLTIP_HIDDEN,{cssProperties:st,cssClasses:getTooltipCSSClassName({translateX:it,translateY:at,coordinate:_})}}function _typeof$E(i){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$E(i)}function ownKeys$H(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$F(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$H(Object(_),!0).forEach(function(j){_defineProperty$N(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$H(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$k(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$k(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$O(j.key),j)}}function _createClass$k(i,o,_){return o&&_defineProperties$k(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$g(i,o,_){return o=_getPrototypeOf$h(o),_possibleConstructorReturn$h(i,_isNativeReflectConstruct$h()?Reflect.construct(o,_||[],_getPrototypeOf$h(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$h(i,o){if(o&&(_typeof$E(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$h(i)}function _assertThisInitialized$h(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$h(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$h=function(){return!!i})()}function _getPrototypeOf$h(i){return _getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$h(i)}function _inherits$h(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$h(i,o)}function _setPrototypeOf$h(i,o){return _setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$h(i,o)}function _defineProperty$N(i,o,_){return o=_toPropertyKey$O(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$O(i){var o=_toPrimitive$O(i,"string");return _typeof$E(o)=="symbol"?o:o+""}function _toPrimitive$O(i,o){if(_typeof$E(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$E(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var EPSILON$1=1,TooltipBoundingBox=function(i){function o(){var _;_classCallCheck$k(this,o);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return _=_callSuper$g(this,o,[].concat(_e)),_defineProperty$N(_,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$N(_,"handleKeyDown",function(tt){if(tt.key==="Escape"){var rt,nt,st,it;_.setState({dismissed:!0,dismissedAtCoordinate:{x:(rt=(nt=_.props.coordinate)===null||nt===void 0?void 0:nt.x)!==null&&rt!==void 0?rt:0,y:(st=(it=_.props.coordinate)===null||it===void 0?void 0:it.y)!==null&&st!==void 0?st:0}})}}),_}return _inherits$h(o,i),_createClass$k(o,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var j=this.wrapperNode.getBoundingClientRect();(Math.abs(j.width-this.state.lastBoundingBox.width)>EPSILON$1||Math.abs(j.height-this.state.lastBoundingBox.height)>EPSILON$1)&&this.setState({lastBoundingBox:{width:j.width,height:j.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var j,_e;this.props.active&&this.updateBBox(),this.state.dismissed&&(((j=this.props.coordinate)===null||j===void 0?void 0:j.x)!==this.state.dismissedAtCoordinate.x||((_e=this.props.coordinate)===null||_e===void 0?void 0:_e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.active,tt=_e.allowEscapeViewBox,rt=_e.animationDuration,nt=_e.animationEasing,st=_e.children,it=_e.coordinate,at=_e.hasPayload,ot=_e.isAnimationActive,ct=_e.offset,ut=_e.position,lt=_e.reverseDirection,pt=_e.useTranslate3d,dt=_e.viewBox,ht=_e.wrapperStyle,ft=getTooltipTranslate({allowEscapeViewBox:tt,coordinate:it,offsetTopLeft:ct,position:ut,reverseDirection:lt,tooltipBox:this.state.lastBoundingBox,useTranslate3d:pt,viewBox:dt}),mt=ft.cssClasses,xt=ft.cssProperties,gt=_objectSpread$F(_objectSpread$F({transition:ot&&et?"transform ".concat(rt,"ms ").concat(nt):void 0},xt),{},{pointerEvents:"none",visibility:!this.state.dismissed&&et&&at?"visible":"hidden",position:"absolute",top:0,left:0},ht);return React$7.createElement("div",{tabIndex:-1,className:mt,style:gt,ref:function(_t){j.wrapperNode=_t}},st)}}])}(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault()};function _typeof$D(i){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$D(i)}function ownKeys$G(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$E(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$G(Object(_),!0).forEach(function(j){_defineProperty$M(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$G(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$j(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$j(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$N(j.key),j)}}function _createClass$j(i,o,_){return o&&_defineProperties$j(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$f(i,o,_){return o=_getPrototypeOf$g(o),_possibleConstructorReturn$g(i,_isNativeReflectConstruct$g()?Reflect.construct(o,_||[],_getPrototypeOf$g(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$g(i,o){if(o&&(_typeof$D(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$g(i)}function _assertThisInitialized$g(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$g(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$g=function(){return!!i})()}function _getPrototypeOf$g(i){return _getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$g(i)}function _inherits$g(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$g(i,o)}function _setPrototypeOf$g(i,o){return _setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$g(i,o)}function _defineProperty$M(i,o,_){return o=_toPropertyKey$N(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$N(i){var o=_toPrimitive$N(i,"string");return _typeof$D(o)=="symbol"?o:o+""}function _toPrimitive$N(i,o){if(_typeof$D(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$D(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function defaultUniqBy(i){return i.dataKey}function renderContent(i,o){return React$7.isValidElement(i)?React$7.cloneElement(i,o):typeof i=="function"?React$7.createElement(i,o):React$7.createElement(DefaultTooltipContent,o)}var Tooltip$1=function(i){function o(){return _classCallCheck$j(this,o),_callSuper$f(this,o,arguments)}return _inherits$g(o,i),_createClass$j(o,[{key:"render",value:function(){var j=this,_e=this.props,et=_e.active,tt=_e.allowEscapeViewBox,rt=_e.animationDuration,nt=_e.animationEasing,st=_e.content,it=_e.coordinate,at=_e.filterNull,ot=_e.isAnimationActive,ct=_e.offset,ut=_e.payload,lt=_e.payloadUniqBy,pt=_e.position,dt=_e.reverseDirection,ht=_e.useTranslate3d,ft=_e.viewBox,mt=_e.wrapperStyle,xt=ut??[];at&&xt.length&&(xt=getUniqPayload(ut.filter(function(yt){return yt.value!=null&&(yt.hide!==!0||j.props.includeHidden)}),lt,defaultUniqBy));var gt=xt.length>0;return React$7.createElement(TooltipBoundingBox,{allowEscapeViewBox:tt,animationDuration:rt,animationEasing:nt,isAnimationActive:ot,active:et,coordinate:it,hasPayload:gt,offset:ct,position:pt,reverseDirection:dt,useTranslate3d:ht,viewBox:ft,wrapperStyle:mt},renderContent(st,_objectSpread$E(_objectSpread$E({},this.props),{},{payload:xt})))}}])}(reactExports.PureComponent);_defineProperty$M(Tooltip$1,"displayName","Tooltip");_defineProperty$M(Tooltip$1,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root$1=_root,now$1=function(){return root$1.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(i){for(var o=i.length;o--&&reWhitespace.test(i.charAt(o)););return o}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(i){return i&&i.slice(0,trimmedEndIndex(i)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$3=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(i){if(typeof i=="number")return i;if(isSymbol$1(i))return NAN;if(isObject$3(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=isObject$3(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=baseTrim(i);var _=reIsBinary.test(i);return _||reIsOctal.test(i)?freeParseInt(i.slice(2),_?2:8):reIsBadHex.test(i)?NAN:+i}var toNumber_1=toNumber$2,isObject$2=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin=Math.min;function debounce$2(i,o,_){var j,_e,et,tt,rt,nt,st=0,it=!1,at=!1,ot=!0;if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT$1);o=toNumber$1(o)||0,isObject$2(_)&&(it=!!_.leading,at="maxWait"in _,et=at?nativeMax$1(toNumber$1(_.maxWait)||0,o):et,ot="trailing"in _?!!_.trailing:ot);function ct(gt){var yt=j,_t=_e;return j=_e=void 0,st=gt,tt=i.apply(_t,yt),tt}function ut(gt){return st=gt,rt=setTimeout(dt,o),it?ct(gt):tt}function lt(gt){var yt=gt-nt,_t=gt-st,Et=o-yt;return at?nativeMin(Et,et-_t):Et}function pt(gt){var yt=gt-nt,_t=gt-st;return nt===void 0||yt>=o||yt<0||at&&_t>=et}function dt(){var gt=now();if(pt(gt))return ht(gt);rt=setTimeout(dt,lt(gt))}function ht(gt){return rt=void 0,ot&&j?ct(gt):(j=_e=void 0,tt)}function ft(){rt!==void 0&&clearTimeout(rt),st=0,j=nt=_e=rt=void 0}function mt(){return rt===void 0?tt:ht(now())}function xt(){var gt=now(),yt=pt(gt);if(j=arguments,_e=this,nt=gt,yt){if(rt===void 0)return ut(nt);if(at)return clearTimeout(rt),rt=setTimeout(dt,o),ct(nt)}return rt===void 0&&(rt=setTimeout(dt,o)),tt}return xt.cancel=ft,xt.flush=mt,xt}var debounce_1=debounce$2,debounce$1=debounce_1,isObject$1=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle$1(i,o,_){var j=!0,_e=!0;if(typeof i!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$1(_)&&(j="leading"in _?!!_.leading:j,_e="trailing"in _?!!_.trailing:_e),debounce$1(i,o,{leading:j,maxWait:o,trailing:_e})}var throttle_1=throttle$1;const throttle$2=getDefaultExportFromCjs(throttle_1);function _typeof$C(i){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$C(i)}function ownKeys$F(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$D(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$F(Object(_),!0).forEach(function(j){_defineProperty$L(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$F(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$L(i,o,_){return o=_toPropertyKey$M(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$M(i){var o=_toPrimitive$M(i,"string");return _typeof$C(o)=="symbol"?o:o+""}function _toPrimitive$M(i,o){if(_typeof$C(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$C(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray$d(i,o){return _arrayWithHoles$e(i)||_iterableToArrayLimit$d(i,o)||_unsupportedIterableToArray$m(i,o)||_nonIterableRest$e()}function _nonIterableRest$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$m(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$m(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$m(i,o)}}function _arrayLikeToArray$m(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$d(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$e(i){if(Array.isArray(i))return i}var ResponsiveContainer=reactExports.forwardRef(function(i,o){var _=i.aspect,j=i.initialDimension,_e=j===void 0?{width:-1,height:-1}:j,et=i.width,tt=et===void 0?"100%":et,rt=i.height,nt=rt===void 0?"100%":rt,st=i.minWidth,it=st===void 0?0:st,at=i.minHeight,ot=i.maxHeight,ct=i.children,ut=i.debounce,lt=ut===void 0?0:ut,pt=i.id,dt=i.className,ht=i.onResize,ft=i.style,mt=ft===void 0?{}:ft,xt=reactExports.useRef(null),gt=reactExports.useRef();gt.current=ht,reactExports.useImperativeHandle(o,function(){return Object.defineProperty(xt.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),xt.current},configurable:!0})});var yt=reactExports.useState({containerWidth:_e.width,containerHeight:_e.height}),_t=_slicedToArray$d(yt,2),Et=_t[0],wt=_t[1],$t=reactExports.useCallback(function(Tt,kt){wt(function(Pt){var St=Math.round(Tt),Rt=Math.round(kt);return Pt.containerWidth===St&&Pt.containerHeight===Rt?Pt:{containerWidth:St,containerHeight:Rt}})},[]);reactExports.useEffect(function(){var Tt=function(vt){var At,Ot=vt[0].contentRect,Ct=Ot.width,Lt=Ot.height;$t(Ct,Lt),(At=gt.current)===null||At===void 0||At.call(gt,Ct,Lt)};lt>0&&(Tt=throttle$2(Tt,lt,{trailing:!0,leading:!1}));var kt=new ResizeObserver(Tt),Pt=xt.current.getBoundingClientRect(),St=Pt.width,Rt=Pt.height;return $t(St,Rt),kt.observe(xt.current),function(){kt.disconnect()}},[$t,lt]);var jt=reactExports.useMemo(function(){var Tt=Et.containerWidth,kt=Et.containerHeight;if(Tt<0||kt<0)return null;warn(isPercent(tt)||isPercent(nt),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,tt,nt),warn(!_||_>0,"The aspect(%s) must be greater than zero.",_);var Pt=isPercent(tt)?Tt:tt,St=isPercent(nt)?kt:nt;_&&_>0&&(Pt?St=Pt/_:St&&(Pt=St*_),ot&&St>ot&&(St=ot)),warn(Pt>0||St>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Pt,St,tt,nt,it,at,_);var Rt=!Array.isArray(ct)&&getDisplayName(ct.type).endsWith("Chart");return React$7.Children.map(ct,function(bt){return React$7.isValidElement(bt)?reactExports.cloneElement(bt,_objectSpread$D({width:Pt,height:St},Rt?{style:_objectSpread$D({height:"100%",width:"100%",maxHeight:St,maxWidth:Pt},bt.props.style)}:{})):bt})},[_,ct,nt,ot,at,it,Et,tt]);return React$7.createElement("div",{id:pt?"".concat(pt):void 0,className:clsx("recharts-responsive-container",dt),style:_objectSpread$D(_objectSpread$D({},mt),{},{width:tt,height:nt,minWidth:it,minHeight:at,maxHeight:ot}),ref:xt},jt)}),Cell=function(o){return null};Cell.displayName="Cell";function _typeof$B(i){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$B(i)}function ownKeys$E(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$C(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$E(Object(_),!0).forEach(function(j){_defineProperty$K(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$E(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$K(i,o,_){return o=_toPropertyKey$L(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$L(i){var o=_toPrimitive$L(i,"string");return _typeof$B(o)=="symbol"?o:o+""}function _toPrimitive$L(i,o){if(_typeof$B(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$B(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(i){var o=_objectSpread$C({},i);return Object.keys(o).forEach(function(_){o[_]||delete o[_]}),o}var getStringSize=function(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o==null||Global.isSsr)return{width:0,height:0};var j=removeInvalidKeys(_),_e=JSON.stringify({text:o,copyStyle:j});if(stringCache.widthCache[_e])return stringCache.widthCache[_e];try{var et=document.getElementById(MEASUREMENT_SPAN_ID);et||(et=document.createElement("span"),et.setAttribute("id",MEASUREMENT_SPAN_ID),et.setAttribute("aria-hidden","true"),document.body.appendChild(et));var tt=_objectSpread$C(_objectSpread$C({},SPAN_STYLE),j);Object.assign(et.style,tt),et.textContent="".concat(o);var rt=et.getBoundingClientRect(),nt={width:rt.width,height:rt.height};return stringCache.widthCache[_e]=nt,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),nt}catch{return{width:0,height:0}}},getOffset=function(o){return{top:o.top+window.scrollY-document.documentElement.clientTop,left:o.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$A(i){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$A(i)}function _slicedToArray$c(i,o){return _arrayWithHoles$d(i)||_iterableToArrayLimit$c(i,o)||_unsupportedIterableToArray$l(i,o)||_nonIterableRest$d()}function _nonIterableRest$d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$l(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$l(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$l(i,o)}}function _arrayLikeToArray$l(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$c(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$d(i){if(Array.isArray(i))return i}function _classCallCheck$i(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$i(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$K(j.key),j)}}function _createClass$i(i,o,_){return o&&_defineProperties$i(i.prototype,o),_&&_defineProperties$i(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _toPropertyKey$K(i){var o=_toPrimitive$K(i,"string");return _typeof$A(o)=="symbol"?o:o+""}function _toPrimitive$K(i,o){if(_typeof$A(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$A(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(i,o){return i*CONVERSION_RATES[o]}var DecimalCSS=function(){function i(o,_){_classCallCheck$i(this,i),this.num=o,this.unit=_,this.num=o,this.unit=_,Number.isNaN(o)&&(this.unit=""),_!==""&&!CSS_LENGTH_UNIT_REGEX.test(_)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(_)&&(this.num=convertToPx(o,_),this.unit="px")}return _createClass$i(i,[{key:"add",value:function(_){return this.unit!==_.unit?new i(NaN,""):new i(this.num+_.num,this.unit)}},{key:"subtract",value:function(_){return this.unit!==_.unit?new i(NaN,""):new i(this.num-_.num,this.unit)}},{key:"multiply",value:function(_){return this.unit!==""&&_.unit!==""&&this.unit!==_.unit?new i(NaN,""):new i(this.num*_.num,this.unit||_.unit)}},{key:"divide",value:function(_){return this.unit!==""&&_.unit!==""&&this.unit!==_.unit?new i(NaN,""):new i(this.num/_.num,this.unit||_.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(_){var j,_e=(j=NUM_SPLIT_REGEX.exec(_))!==null&&j!==void 0?j:[],et=_slicedToArray$c(_e,3),tt=et[1],rt=et[2];return new i(parseFloat(tt),rt??"")}}])}();function calculateArithmetic(i){if(i.includes(STR_NAN))return STR_NAN;for(var o=i;o.includes("*")||o.includes("/");){var _,j=(_=MULTIPLY_OR_DIVIDE_REGEX.exec(o))!==null&&_!==void 0?_:[],_e=_slicedToArray$c(j,4),et=_e[1],tt=_e[2],rt=_e[3],nt=DecimalCSS.parse(et??""),st=DecimalCSS.parse(rt??""),it=tt==="*"?nt.multiply(st):nt.divide(st);if(it.isNaN())return STR_NAN;o=o.replace(MULTIPLY_OR_DIVIDE_REGEX,it.toString())}for(;o.includes("+")||/.-\d+(?:\.\d+)?/.test(o);){var at,ot=(at=ADD_OR_SUBTRACT_REGEX.exec(o))!==null&&at!==void 0?at:[],ct=_slicedToArray$c(ot,4),ut=ct[1],lt=ct[2],pt=ct[3],dt=DecimalCSS.parse(ut??""),ht=DecimalCSS.parse(pt??""),ft=lt==="+"?dt.add(ht):dt.subtract(ht);if(ft.isNaN())return STR_NAN;o=o.replace(ADD_OR_SUBTRACT_REGEX,ft.toString())}return o}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(i){for(var o=i;o.includes("(");){var _=PARENTHESES_REGEX.exec(o),j=_slicedToArray$c(_,2),_e=j[1];o=o.replace(PARENTHESES_REGEX,calculateArithmetic(_e))}return o}function evaluateExpression(i){var o=i.replace(/\s+/g,"");return o=calculateParentheses(o),o=calculateArithmetic(o),o}function safeEvaluateExpression(i){try{return evaluateExpression(i)}catch{return STR_NAN}}function reduceCSSCalc(i){var o=safeEvaluateExpression(i.slice(5,-1));return o===STR_NAN?"":o}var _excluded$l=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$6=["dx","dy","angle","className","breakAll"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$u.apply(this,arguments)}function _objectWithoutProperties$k(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$k(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$k(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _slicedToArray$b(i,o){return _arrayWithHoles$c(i)||_iterableToArrayLimit$b(i,o)||_unsupportedIterableToArray$k(i,o)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$k(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$k(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$k(i,o)}}function _arrayLikeToArray$k(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$b(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o===0){if(Object(_)!==_)return;nt=!1}else for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$c(i){if(Array.isArray(i))return i}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(o){var _=o.children,j=o.breakAll,_e=o.style;try{var et=[];isNil$1(_)||(j?et=_.toString().split(""):et=_.toString().split(BREAKING_SPACES));var tt=et.map(function(nt){return{word:nt,width:getStringSize(nt,_e).width}}),rt=j?0:getStringSize("",_e).width;return{wordsWithComputedWidth:tt,spaceWidth:rt}}catch{return null}},calculateWordsByLines=function(o,_,j,_e,et){var tt=o.maxLines,rt=o.children,nt=o.style,st=o.breakAll,it=isNumber$1(tt),at=rt,ot=function(){var Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Pt.reduce(function(St,Rt){var bt=Rt.word,vt=Rt.width,At=St[St.length-1];if(At&&(_e==null||et||At.width+vt+j<Number(_e)))At.words.push(bt),At.width+=vt+j;else{var Ot={words:[bt],width:vt};St.push(Ot)}return St},[])},ct=ot(_),ut=function(Pt){return Pt.reduce(function(St,Rt){return St.width>Rt.width?St:Rt})};if(!it)return ct;for(var lt="",pt=function(Pt){var St=at.slice(0,Pt),Rt=calculateWordWidths({breakAll:st,style:nt,children:St+lt}).wordsWithComputedWidth,bt=ot(Rt),vt=bt.length>tt||ut(bt).width>Number(_e);return[vt,bt]},dt=0,ht=at.length-1,ft=0,mt;dt<=ht&&ft<=at.length-1;){var xt=Math.floor((dt+ht)/2),gt=xt-1,yt=pt(gt),_t=_slicedToArray$b(yt,2),Et=_t[0],wt=_t[1],$t=pt(xt),jt=_slicedToArray$b($t,1),Tt=jt[0];if(!Et&&!Tt&&(dt=xt+1),Et&&Tt&&(ht=xt-1),!Et&&Tt){mt=wt;break}ft++}return mt||ct},getWordsWithoutCalculate=function(o){var _=isNil$1(o)?[]:o.toString().split(BREAKING_SPACES);return[{words:_}]},getWordsByLines=function(o){var _=o.width,j=o.scaleToFit,_e=o.children,et=o.style,tt=o.breakAll,rt=o.maxLines;if((_||j)&&!Global.isSsr){var nt,st,it=calculateWordWidths({breakAll:tt,children:_e,style:et});if(it){var at=it.wordsWithComputedWidth,ot=it.spaceWidth;nt=at,st=ot}else return getWordsWithoutCalculate(_e);return calculateWordsByLines({breakAll:tt,children:_e,maxLines:rt,style:et},nt,st,_,j)}return getWordsWithoutCalculate(_e)},DEFAULT_FILL="#808080",Text=function(o){var _=o.x,j=_===void 0?0:_,_e=o.y,et=_e===void 0?0:_e,tt=o.lineHeight,rt=tt===void 0?"1em":tt,nt=o.capHeight,st=nt===void 0?"0.71em":nt,it=o.scaleToFit,at=it===void 0?!1:it,ot=o.textAnchor,ct=ot===void 0?"start":ot,ut=o.verticalAnchor,lt=ut===void 0?"end":ut,pt=o.fill,dt=pt===void 0?DEFAULT_FILL:pt,ht=_objectWithoutProperties$k(o,_excluded$l),ft=reactExports.useMemo(function(){return getWordsByLines({breakAll:ht.breakAll,children:ht.children,maxLines:ht.maxLines,scaleToFit:at,style:ht.style,width:ht.width})},[ht.breakAll,ht.children,ht.maxLines,at,ht.style,ht.width]),mt=ht.dx,xt=ht.dy,gt=ht.angle,yt=ht.className,_t=ht.breakAll,Et=_objectWithoutProperties$k(ht,_excluded2$6);if(!isNumOrStr(j)||!isNumOrStr(et))return null;var wt=j+(isNumber$1(mt)?mt:0),$t=et+(isNumber$1(xt)?xt:0),jt;switch(lt){case"start":jt=reduceCSSCalc("calc(".concat(st,")"));break;case"middle":jt=reduceCSSCalc("calc(".concat((ft.length-1)/2," * -").concat(rt," + (").concat(st," / 2))"));break;default:jt=reduceCSSCalc("calc(".concat(ft.length-1," * -").concat(rt,")"));break}var Tt=[];if(at){var kt=ft[0].width,Pt=ht.width;Tt.push("scale(".concat((isNumber$1(Pt)?Pt/kt:1)/kt,")"))}return gt&&Tt.push("rotate(".concat(gt,", ").concat(wt,", ").concat($t,")")),Tt.length&&(Et.transform=Tt.join(" ")),React$7.createElement("text",_extends$u({},filterProps(Et,!0),{x:wt,y:$t,className:clsx("recharts-text",yt),textAnchor:ct,fill:dt.includes("url")?DEFAULT_FILL:dt}),ft.map(function(St,Rt){var bt=St.words.join(_t?"":" ");return React$7.createElement("tspan",{x:wt,dy:Rt===0?jt:rt,key:"".concat(bt,"-").concat(Rt)},bt)}))};function ascending(i,o){return i==null||o==null?NaN:i<o?-1:i>o?1:i>=o?0:NaN}function descending(i,o){return i==null||o==null?NaN:o<i?-1:o>i?1:o>=i?0:NaN}function bisector(i){let o,_,j;i.length!==2?(o=ascending,_=(rt,nt)=>ascending(i(rt),nt),j=(rt,nt)=>i(rt)-nt):(o=i===ascending||i===descending?i:zero$1,_=i,j=i);function _e(rt,nt,st=0,it=rt.length){if(st<it){if(o(nt,nt)!==0)return it;do{const at=st+it>>>1;_(rt[at],nt)<0?st=at+1:it=at}while(st<it)}return st}function et(rt,nt,st=0,it=rt.length){if(st<it){if(o(nt,nt)!==0)return it;do{const at=st+it>>>1;_(rt[at],nt)<=0?st=at+1:it=at}while(st<it)}return st}function tt(rt,nt,st=0,it=rt.length){const at=_e(rt,nt,st,it-1);return at>st&&j(rt[at-1],nt)>-j(rt[at],nt)?at-1:at}return{left:_e,center:tt,right:et}}function zero$1(){return 0}function number$2(i){return i===null?NaN:+i}function*numbers$1(i,o){for(let _ of i)_!=null&&(_=+_)>=_&&(yield _)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(o,_=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:_}}),o!=null)for(const[j,_e]of o)this.set(j,_e)}get(o){return super.get(intern_get(this,o))}has(o){return super.has(intern_get(this,o))}set(o,_){return super.set(intern_set(this,o),_)}delete(o){return super.delete(intern_delete(this,o))}}function intern_get({_intern:i,_key:o},_){const j=o(_);return i.has(j)?i.get(j):_}function intern_set({_intern:i,_key:o},_){const j=o(_);return i.has(j)?i.get(j):(i.set(j,_),_)}function intern_delete({_intern:i,_key:o},_){const j=o(_);return i.has(j)&&(_=i.get(j),i.delete(j)),_}function keyof(i){return i!==null&&typeof i=="object"?i.valueOf():i}function compareDefined(i=ascending){if(i===ascending)return ascendingDefined;if(typeof i!="function")throw new TypeError("compare is not a function");return(o,_)=>{const j=i(o,_);return j||j===0?j:(i(_,_)===0)-(i(o,o)===0)}}function ascendingDefined(i,o){return(i==null||!(i>=i))-(o==null||!(o>=o))||(i<o?-1:i>o?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(i,o,_){const j=(o-i)/Math.max(0,_),_e=Math.floor(Math.log10(j)),et=j/Math.pow(10,_e),tt=et>=e10?10:et>=e5?5:et>=e2?2:1;let rt,nt,st;return _e<0?(st=Math.pow(10,-_e)/tt,rt=Math.round(i*st),nt=Math.round(o*st),rt/st<i&&++rt,nt/st>o&&--nt,st=-st):(st=Math.pow(10,_e)*tt,rt=Math.round(i/st),nt=Math.round(o/st),rt*st<i&&++rt,nt*st>o&&--nt),nt<rt&&.5<=_&&_<2?tickSpec(i,o,_*2):[rt,nt,st]}function ticks(i,o,_){if(o=+o,i=+i,_=+_,!(_>0))return[];if(i===o)return[i];const j=o<i,[_e,et,tt]=j?tickSpec(o,i,_):tickSpec(i,o,_);if(!(et>=_e))return[];const rt=et-_e+1,nt=new Array(rt);if(j)if(tt<0)for(let st=0;st<rt;++st)nt[st]=(et-st)/-tt;else for(let st=0;st<rt;++st)nt[st]=(et-st)*tt;else if(tt<0)for(let st=0;st<rt;++st)nt[st]=(_e+st)/-tt;else for(let st=0;st<rt;++st)nt[st]=(_e+st)*tt;return nt}function tickIncrement(i,o,_){return o=+o,i=+i,_=+_,tickSpec(i,o,_)[2]}function tickStep(i,o,_){o=+o,i=+i,_=+_;const j=o<i,_e=j?tickIncrement(o,i,_):tickIncrement(i,o,_);return(j?-1:1)*(_e<0?1/-_e:_e)}function max$2(i,o){let _;for(const j of i)j!=null&&(_<j||_===void 0&&j>=j)&&(_=j);return _}function min$2(i,o){let _;for(const j of i)j!=null&&(_>j||_===void 0&&j>=j)&&(_=j);return _}function quickselect(i,o,_=0,j=1/0,_e){if(o=Math.floor(o),_=Math.floor(Math.max(0,_)),j=Math.floor(Math.min(i.length-1,j)),!(_<=o&&o<=j))return i;for(_e=_e===void 0?ascendingDefined:compareDefined(_e);j>_;){if(j-_>600){const nt=j-_+1,st=o-_+1,it=Math.log(nt),at=.5*Math.exp(2*it/3),ot=.5*Math.sqrt(it*at*(nt-at)/nt)*(st-nt/2<0?-1:1),ct=Math.max(_,Math.floor(o-st*at/nt+ot)),ut=Math.min(j,Math.floor(o+(nt-st)*at/nt+ot));quickselect(i,o,ct,ut,_e)}const et=i[o];let tt=_,rt=j;for(swap$1(i,_,o),_e(i[j],et)>0&&swap$1(i,_,j);tt<rt;){for(swap$1(i,tt,rt),++tt,--rt;_e(i[tt],et)<0;)++tt;for(;_e(i[rt],et)>0;)--rt}_e(i[_],et)===0?swap$1(i,_,rt):(++rt,swap$1(i,rt,j)),rt<=o&&(_=rt+1),o<=rt&&(j=rt-1)}return i}function swap$1(i,o,_){const j=i[o];i[o]=i[_],i[_]=j}function quantile$1(i,o,_){if(i=Float64Array.from(numbers$1(i)),!(!(j=i.length)||isNaN(o=+o))){if(o<=0||j<2)return min$2(i);if(o>=1)return max$2(i);var j,_e=(j-1)*o,et=Math.floor(_e),tt=max$2(quickselect(i,et).subarray(0,et+1)),rt=min$2(i.subarray(et+1));return tt+(rt-tt)*(_e-et)}}function quantileSorted(i,o,_=number$2){if(!(!(j=i.length)||isNaN(o=+o))){if(o<=0||j<2)return+_(i[0],0,i);if(o>=1)return+_(i[j-1],j-1,i);var j,_e=(j-1)*o,et=Math.floor(_e),tt=+_(i[et],et,i),rt=+_(i[et+1],et+1,i);return tt+(rt-tt)*(_e-et)}}function range$3(i,o,_){i=+i,o=+o,_=(_e=arguments.length)<2?(o=i,i=0,1):_e<3?1:+_;for(var j=-1,_e=Math.max(0,Math.ceil((o-i)/_))|0,et=new Array(_e);++j<_e;)et[j]=i+j*_;return et}function initRange(i,o){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(o).domain(i);break}return this}function initInterpolator(i,o){switch(arguments.length){case 0:break;case 1:{typeof i=="function"?this.interpolator(i):this.range(i);break}default:{this.domain(i),typeof o=="function"?this.interpolator(o):this.range(o);break}}return this}const implicit=Symbol("implicit");function ordinal(){var i=new InternMap,o=[],_=[],j=implicit;function _e(et){let tt=i.get(et);if(tt===void 0){if(j!==implicit)return j;i.set(et,tt=o.push(et)-1)}return _[tt%_.length]}return _e.domain=function(et){if(!arguments.length)return o.slice();o=[],i=new InternMap;for(const tt of et)i.has(tt)||i.set(tt,o.push(tt)-1);return _e},_e.range=function(et){return arguments.length?(_=Array.from(et),_e):_.slice()},_e.unknown=function(et){return arguments.length?(j=et,_e):j},_e.copy=function(){return ordinal(o,_).unknown(j)},initRange.apply(_e,arguments),_e}function band(){var i=ordinal().unknown(void 0),o=i.domain,_=i.range,j=0,_e=1,et,tt,rt=!1,nt=0,st=0,it=.5;delete i.unknown;function at(){var ot=o().length,ct=_e<j,ut=ct?_e:j,lt=ct?j:_e;et=(lt-ut)/Math.max(1,ot-nt+st*2),rt&&(et=Math.floor(et)),ut+=(lt-ut-et*(ot-nt))*it,tt=et*(1-nt),rt&&(ut=Math.round(ut),tt=Math.round(tt));var pt=range$3(ot).map(function(dt){return ut+et*dt});return _(ct?pt.reverse():pt)}return i.domain=function(ot){return arguments.length?(o(ot),at()):o()},i.range=function(ot){return arguments.length?([j,_e]=ot,j=+j,_e=+_e,at()):[j,_e]},i.rangeRound=function(ot){return[j,_e]=ot,j=+j,_e=+_e,rt=!0,at()},i.bandwidth=function(){return tt},i.step=function(){return et},i.round=function(ot){return arguments.length?(rt=!!ot,at()):rt},i.padding=function(ot){return arguments.length?(nt=Math.min(1,st=+ot),at()):nt},i.paddingInner=function(ot){return arguments.length?(nt=Math.min(1,ot),at()):nt},i.paddingOuter=function(ot){return arguments.length?(st=+ot,at()):st},i.align=function(ot){return arguments.length?(it=Math.max(0,Math.min(1,ot)),at()):it},i.copy=function(){return band(o(),[j,_e]).round(rt).paddingInner(nt).paddingOuter(st).align(it)},initRange.apply(at(),arguments)}function pointish(i){var o=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return pointish(o())},i}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(i,o,_){i.prototype=o.prototype=_,_.constructor=i}function extend(i,o){var _=Object.create(i.prototype);for(var j in o)_[j]=o[j];return _}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color$1,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(i){var o,_;return i=(i+"").trim().toLowerCase(),(o=reHex.exec(i))?(_=o[1].length,o=parseInt(o[1],16),_===6?rgbn(o):_===3?new Rgb(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):_===8?rgba(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):_===4?rgba(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=reRgbInteger.exec(i))?new Rgb(o[1],o[2],o[3],1):(o=reRgbPercent.exec(i))?new Rgb(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=reRgbaInteger.exec(i))?rgba(o[1],o[2],o[3],o[4]):(o=reRgbaPercent.exec(i))?rgba(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=reHslPercent.exec(i))?hsla(o[1],o[2]/100,o[3]/100,1):(o=reHslaPercent.exec(i))?hsla(o[1],o[2]/100,o[3]/100,o[4]):named.hasOwnProperty(i)?rgbn(named[i]):i==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(i){return new Rgb(i>>16&255,i>>8&255,i&255,1)}function rgba(i,o,_,j){return j<=0&&(i=o=_=NaN),new Rgb(i,o,_,j)}function rgbConvert(i){return i instanceof Color$1||(i=color$1(i)),i?(i=i.rgb(),new Rgb(i.r,i.g,i.b,i.opacity)):new Rgb}function rgb$1(i,o,_,j){return arguments.length===1?rgbConvert(i):new Rgb(i,o,_,j??1)}function Rgb(i,o,_,j){this.r=+i,this.g=+o,this.b=+_,this.opacity=+j}define(Rgb,rgb$1,extend(Color$1,{brighter(i){return i=i==null?brighter:Math.pow(brighter,i),new Rgb(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?darker:Math.pow(darker,i),new Rgb(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}`}function rgb_formatHex8(){return`#${hex$1(this.r)}${hex$1(this.g)}${hex$1(this.b)}${hex$1((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const i=clampa(this.opacity);return`${i===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${i===1?")":`, ${i})`}`}function clampa(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function clampi(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function hex$1(i){return i=clampi(i),(i<16?"0":"")+i.toString(16)}function hsla(i,o,_,j){return j<=0?i=o=_=NaN:_<=0||_>=1?i=o=NaN:o<=0&&(i=NaN),new Hsl(i,o,_,j)}function hslConvert(i){if(i instanceof Hsl)return new Hsl(i.h,i.s,i.l,i.opacity);if(i instanceof Color$1||(i=color$1(i)),!i)return new Hsl;if(i instanceof Hsl)return i;i=i.rgb();var o=i.r/255,_=i.g/255,j=i.b/255,_e=Math.min(o,_,j),et=Math.max(o,_,j),tt=NaN,rt=et-_e,nt=(et+_e)/2;return rt?(o===et?tt=(_-j)/rt+(_<j)*6:_===et?tt=(j-o)/rt+2:tt=(o-_)/rt+4,rt/=nt<.5?et+_e:2-et-_e,tt*=60):rt=nt>0&&nt<1?0:tt,new Hsl(tt,rt,nt,i.opacity)}function hsl(i,o,_,j){return arguments.length===1?hslConvert(i):new Hsl(i,o,_,j??1)}function Hsl(i,o,_,j){this.h=+i,this.s=+o,this.l=+_,this.opacity=+j}define(Hsl,hsl,extend(Color$1,{brighter(i){return i=i==null?brighter:Math.pow(brighter,i),new Hsl(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?darker:Math.pow(darker,i),new Hsl(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,o=isNaN(i)||isNaN(this.s)?0:this.s,_=this.l,j=_+(_<.5?_:1-_)*o,_e=2*_-j;return new Rgb(hsl2rgb$1(i>=240?i-240:i+120,_e,j),hsl2rgb$1(i,_e,j),hsl2rgb$1(i<120?i+240:i-120,_e,j),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=clampa(this.opacity);return`${i===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${i===1?")":`, ${i})`}`}}));function clamph(i){return i=(i||0)%360,i<0?i+360:i}function clampt(i){return Math.max(0,Math.min(1,i||0))}function hsl2rgb$1(i,o,_){return(i<60?o+(_-o)*i/60:i<180?_:i<240?o+(_-o)*(240-i)/60:o)*255}const constant=i=>()=>i;function linear$1(i,o){return function(_){return i+_*o}}function exponential(i,o,_){return i=Math.pow(i,_),o=Math.pow(o,_)-i,_=1/_,function(j){return Math.pow(i+j*o,_)}}function gamma(i){return(i=+i)==1?nogamma:function(o,_){return _-o?exponential(o,_,i):constant(isNaN(o)?_:o)}}function nogamma(i,o){var _=o-i;return _?linear$1(i,_):constant(isNaN(i)?o:i)}const rgb=function i(o){var _=gamma(o);function j(_e,et){var tt=_((_e=rgb$1(_e)).r,(et=rgb$1(et)).r),rt=_(_e.g,et.g),nt=_(_e.b,et.b),st=nogamma(_e.opacity,et.opacity);return function(it){return _e.r=tt(it),_e.g=rt(it),_e.b=nt(it),_e.opacity=st(it),_e+""}}return j.gamma=i,j}(1);function numberArray(i,o){o||(o=[]);var _=i?Math.min(o.length,i.length):0,j=o.slice(),_e;return function(et){for(_e=0;_e<_;++_e)j[_e]=i[_e]*(1-et)+o[_e]*et;return j}}function isNumberArray(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function genericArray(i,o){var _=o?o.length:0,j=i?Math.min(_,i.length):0,_e=new Array(j),et=new Array(_),tt;for(tt=0;tt<j;++tt)_e[tt]=interpolate$2(i[tt],o[tt]);for(;tt<_;++tt)et[tt]=o[tt];return function(rt){for(tt=0;tt<j;++tt)et[tt]=_e[tt](rt);return et}}function date$1(i,o){var _=new Date;return i=+i,o=+o,function(j){return _.setTime(i*(1-j)+o*j),_}}function interpolateNumber$1(i,o){return i=+i,o=+o,function(_){return i*(1-_)+o*_}}function object(i,o){var _={},j={},_e;(i===null||typeof i!="object")&&(i={}),(o===null||typeof o!="object")&&(o={});for(_e in o)_e in i?_[_e]=interpolate$2(i[_e],o[_e]):j[_e]=o[_e];return function(et){for(_e in _)j[_e]=_[_e](et);return j}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(i){return function(){return i}}function one(i){return function(o){return i(o)+""}}function string(i,o){var _=reA.lastIndex=reB.lastIndex=0,j,_e,et,tt=-1,rt=[],nt=[];for(i=i+"",o=o+"";(j=reA.exec(i))&&(_e=reB.exec(o));)(et=_e.index)>_&&(et=o.slice(_,et),rt[tt]?rt[tt]+=et:rt[++tt]=et),(j=j[0])===(_e=_e[0])?rt[tt]?rt[tt]+=_e:rt[++tt]=_e:(rt[++tt]=null,nt.push({i:tt,x:interpolateNumber$1(j,_e)})),_=reB.lastIndex;return _<o.length&&(et=o.slice(_),rt[tt]?rt[tt]+=et:rt[++tt]=et),rt.length<2?nt[0]?one(nt[0].x):zero(o):(o=nt.length,function(st){for(var it=0,at;it<o;++it)rt[(at=nt[it]).i]=at.x(st);return rt.join("")})}function interpolate$2(i,o){var _=typeof o,j;return o==null||_==="boolean"?constant(o):(_==="number"?interpolateNumber$1:_==="string"?(j=color$1(o))?(o=j,rgb):string:o instanceof color$1?rgb:o instanceof Date?date$1:isNumberArray(o)?numberArray:Array.isArray(o)?genericArray:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?object:interpolateNumber$1)(i,o)}function interpolateRound(i,o){return i=+i,o=+o,function(_){return Math.round(i*(1-_)+o*_)}}function piecewise(i,o){o===void 0&&(o=i,i=interpolate$2);for(var _=0,j=o.length-1,_e=o[0],et=new Array(j<0?0:j);_<j;)et[_]=i(_e,_e=o[++_]);return function(tt){var rt=Math.max(0,Math.min(j-1,Math.floor(tt*=j)));return et[rt](tt-rt)}}function constants(i){return function(){return i}}function number$1(i){return+i}var unit=[0,1];function identity$6(i){return i}function normalize(i,o){return(o-=i=+i)?function(_){return(_-i)/o}:constants(isNaN(o)?NaN:.5)}function clamper(i,o){var _;return i>o&&(_=i,i=o,o=_),function(j){return Math.max(i,Math.min(o,j))}}function bimap(i,o,_){var j=i[0],_e=i[1],et=o[0],tt=o[1];return _e<j?(j=normalize(_e,j),et=_(tt,et)):(j=normalize(j,_e),et=_(et,tt)),function(rt){return et(j(rt))}}function polymap(i,o,_){var j=Math.min(i.length,o.length)-1,_e=new Array(j),et=new Array(j),tt=-1;for(i[j]<i[0]&&(i=i.slice().reverse(),o=o.slice().reverse());++tt<j;)_e[tt]=normalize(i[tt],i[tt+1]),et[tt]=_(o[tt],o[tt+1]);return function(rt){var nt=bisectRight(i,rt,1,j)-1;return et[nt](_e[nt](rt))}}function copy$1(i,o){return o.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function transformer$2(){var i=unit,o=unit,_=interpolate$2,j,_e,et,tt=identity$6,rt,nt,st;function it(){var ot=Math.min(i.length,o.length);return tt!==identity$6&&(tt=clamper(i[0],i[ot-1])),rt=ot>2?polymap:bimap,nt=st=null,at}function at(ot){return ot==null||isNaN(ot=+ot)?et:(nt||(nt=rt(i.map(j),o,_)))(j(tt(ot)))}return at.invert=function(ot){return tt(_e((st||(st=rt(o,i.map(j),interpolateNumber$1)))(ot)))},at.domain=function(ot){return arguments.length?(i=Array.from(ot,number$1),it()):i.slice()},at.range=function(ot){return arguments.length?(o=Array.from(ot),it()):o.slice()},at.rangeRound=function(ot){return o=Array.from(ot),_=interpolateRound,it()},at.clamp=function(ot){return arguments.length?(tt=ot?!0:identity$6,it()):tt!==identity$6},at.interpolate=function(ot){return arguments.length?(_=ot,it()):_},at.unknown=function(ot){return arguments.length?(et=ot,at):et},function(ot,ct){return j=ot,_e=ct,it()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function formatDecimalParts(i,o){if(!isFinite(i)||i===0)return null;var _=(i=o?i.toExponential(o-1):i.toExponential()).indexOf("e"),j=i.slice(0,_);return[j.length>1?j[0]+j.slice(2):j,+i.slice(_+1)]}function exponent(i){return i=formatDecimalParts(Math.abs(i)),i?i[1]:NaN}function formatGroup(i,o){return function(_,j){for(var _e=_.length,et=[],tt=0,rt=i[0],nt=0;_e>0&&rt>0&&(nt+rt+1>j&&(rt=Math.max(1,j-nt)),et.push(_.substring(_e-=rt,_e+rt)),!((nt+=rt+1)>j));)rt=i[tt=(tt+1)%i.length];return et.reverse().join(o)}}function formatNumerals(i){return function(o){return o.replace(/[0-9]/g,function(_){return i[+_]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(i){if(!(o=re.exec(i)))throw new Error("invalid format: "+i);var o;return new FormatSpecifier({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(i){e:for(var o=i.length,_=1,j=-1,_e;_<o;++_)switch(i[_]){case".":j=_e=_;break;case"0":j===0&&(j=_),_e=_;break;default:if(!+i[_])break e;j>0&&(j=0);break}return j>0?i.slice(0,j)+i.slice(_e+1):i}var prefixExponent;function formatPrefixAuto(i,o){var _=formatDecimalParts(i,o);if(!_)return prefixExponent=void 0,i.toPrecision(o);var j=_[0],_e=_[1],et=_e-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(_e/3)))*3)+1,tt=j.length;return et===tt?j:et>tt?j+new Array(et-tt+1).join("0"):et>0?j.slice(0,et)+"."+j.slice(et):"0."+new Array(1-et).join("0")+formatDecimalParts(i,Math.max(0,o+et-1))[0]}function formatRounded(i,o){var _=formatDecimalParts(i,o);if(!_)return i+"";var j=_[0],_e=_[1];return _e<0?"0."+new Array(-_e).join("0")+j:j.length>_e+1?j.slice(0,_e+1)+"."+j.slice(_e+1):j+new Array(_e-j.length+2).join("0")}const formatTypes={"%":(i,o)=>(i*100).toFixed(o),b:i=>Math.round(i).toString(2),c:i=>i+"",d:formatDecimal,e:(i,o)=>i.toExponential(o),f:(i,o)=>i.toFixed(o),g:(i,o)=>i.toPrecision(o),o:i=>Math.round(i).toString(8),p:(i,o)=>formatRounded(i*100,o),r:formatRounded,s:formatPrefixAuto,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function identity$5(i){return i}var map$5=Array.prototype.map,prefixes$1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(i){var o=i.grouping===void 0||i.thousands===void 0?identity$5:formatGroup(map$5.call(i.grouping,Number),i.thousands+""),_=i.currency===void 0?"":i.currency[0]+"",j=i.currency===void 0?"":i.currency[1]+"",_e=i.decimal===void 0?".":i.decimal+"",et=i.numerals===void 0?identity$5:formatNumerals(map$5.call(i.numerals,String)),tt=i.percent===void 0?"%":i.percent+"",rt=i.minus===void 0?"":i.minus+"",nt=i.nan===void 0?"NaN":i.nan+"";function st(at,ot){at=formatSpecifier(at);var ct=at.fill,ut=at.align,lt=at.sign,pt=at.symbol,dt=at.zero,ht=at.width,ft=at.comma,mt=at.precision,xt=at.trim,gt=at.type;gt==="n"?(ft=!0,gt="g"):formatTypes[gt]||(mt===void 0&&(mt=12),xt=!0,gt="g"),(dt||ct==="0"&&ut==="=")&&(dt=!0,ct="0",ut="=");var yt=(ot&&ot.prefix!==void 0?ot.prefix:"")+(pt==="$"?_:pt==="#"&&/[boxX]/.test(gt)?"0"+gt.toLowerCase():""),_t=(pt==="$"?j:/[%p]/.test(gt)?tt:"")+(ot&&ot.suffix!==void 0?ot.suffix:""),Et=formatTypes[gt],wt=/[defgprs%]/.test(gt);mt=mt===void 0?6:/[gprs]/.test(gt)?Math.max(1,Math.min(21,mt)):Math.max(0,Math.min(20,mt));function $t(jt){var Tt=yt,kt=_t,Pt,St,Rt;if(gt==="c")kt=Et(jt)+kt,jt="";else{jt=+jt;var bt=jt<0||1/jt<0;if(jt=isNaN(jt)?nt:Et(Math.abs(jt),mt),xt&&(jt=formatTrim(jt)),bt&&+jt==0&&lt!=="+"&&(bt=!1),Tt=(bt?lt==="("?lt:rt:lt==="-"||lt==="("?"":lt)+Tt,kt=(gt==="s"&&!isNaN(jt)&&prefixExponent!==void 0?prefixes$1[8+prefixExponent/3]:"")+kt+(bt&&lt==="("?")":""),wt){for(Pt=-1,St=jt.length;++Pt<St;)if(Rt=jt.charCodeAt(Pt),48>Rt||Rt>57){kt=(Rt===46?_e+jt.slice(Pt+1):jt.slice(Pt))+kt,jt=jt.slice(0,Pt);break}}}ft&&!dt&&(jt=o(jt,1/0));var vt=Tt.length+jt.length+kt.length,At=vt<ht?new Array(ht-vt+1).join(ct):"";switch(ft&&dt&&(jt=o(At+jt,At.length?ht-kt.length:1/0),At=""),ut){case"<":jt=Tt+jt+kt+At;break;case"=":jt=Tt+At+jt+kt;break;case"^":jt=At.slice(0,vt=At.length>>1)+Tt+jt+kt+At.slice(vt);break;default:jt=At+Tt+jt+kt;break}return et(jt)}return $t.toString=function(){return at+""},$t}function it(at,ot){var ct=Math.max(-8,Math.min(8,Math.floor(exponent(ot)/3)))*3,ut=Math.pow(10,-ct),lt=st((at=formatSpecifier(at),at.type="f",at),{suffix:prefixes$1[8+ct/3]});return function(pt){return lt(ut*pt)}}return{format:st,formatPrefix:it}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(i){return locale$1=formatLocale$1(i),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(i){return Math.max(0,-exponent(Math.abs(i)))}function precisionPrefix(i,o){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(o)/3)))*3-exponent(Math.abs(i)))}function precisionRound(i,o){return i=Math.abs(i),o=Math.abs(o)-i,Math.max(0,exponent(o)-exponent(i))+1}function tickFormat(i,o,_,j){var _e=tickStep(i,o,_),et;switch(j=formatSpecifier(j??",f"),j.type){case"s":{var tt=Math.max(Math.abs(i),Math.abs(o));return j.precision==null&&!isNaN(et=precisionPrefix(_e,tt))&&(j.precision=et),formatPrefix(j,tt)}case"":case"e":case"g":case"p":case"r":{j.precision==null&&!isNaN(et=precisionRound(_e,Math.max(Math.abs(i),Math.abs(o))))&&(j.precision=et-(j.type==="e"));break}case"f":case"%":{j.precision==null&&!isNaN(et=precisionFixed(_e))&&(j.precision=et-(j.type==="%")*2);break}}return format(j)}function linearish(i){var o=i.domain;return i.ticks=function(_){var j=o();return ticks(j[0],j[j.length-1],_??10)},i.tickFormat=function(_,j){var _e=o();return tickFormat(_e[0],_e[_e.length-1],_??10,j)},i.nice=function(_){_==null&&(_=10);var j=o(),_e=0,et=j.length-1,tt=j[_e],rt=j[et],nt,st,it=10;for(rt<tt&&(st=tt,tt=rt,rt=st,st=_e,_e=et,et=st);it-- >0;){if(st=tickIncrement(tt,rt,_),st===nt)return j[_e]=tt,j[et]=rt,o(j);if(st>0)tt=Math.floor(tt/st)*st,rt=Math.ceil(rt/st)*st;else if(st<0)tt=Math.ceil(tt*st)/st,rt=Math.floor(rt*st)/st;else break;nt=st}return i},i}function linear(){var i=continuous();return i.copy=function(){return copy$1(i,linear())},initRange.apply(i,arguments),linearish(i)}function identity$4(i){var o;function _(j){return j==null||isNaN(j=+j)?o:j}return _.invert=_,_.domain=_.range=function(j){return arguments.length?(i=Array.from(j,number$1),_):i.slice()},_.unknown=function(j){return arguments.length?(o=j,_):o},_.copy=function(){return identity$4(i).unknown(o)},i=arguments.length?Array.from(i,number$1):[0,1],linearish(_)}function nice(i,o){i=i.slice();var _=0,j=i.length-1,_e=i[_],et=i[j],tt;return et<_e&&(tt=_,_=j,j=tt,tt=_e,_e=et,et=tt),i[_]=o.floor(_e),i[j]=o.ceil(et),i}function transformLog(i){return Math.log(i)}function transformExp(i){return Math.exp(i)}function transformLogn(i){return-Math.log(-i)}function transformExpn(i){return-Math.exp(-i)}function pow10(i){return isFinite(i)?+("1e"+i):i<0?0:i}function powp(i){return i===10?pow10:i===Math.E?Math.exp:o=>Math.pow(i,o)}function logp(i){return i===Math.E?Math.log:i===10&&Math.log10||i===2&&Math.log2||(i=Math.log(i),o=>Math.log(o)/i)}function reflect(i){return(o,_)=>-i(-o,_)}function loggish(i){const o=i(transformLog,transformExp),_=o.domain;let j=10,_e,et;function tt(){return _e=logp(j),et=powp(j),_()[0]<0?(_e=reflect(_e),et=reflect(et),i(transformLogn,transformExpn)):i(transformLog,transformExp),o}return o.base=function(rt){return arguments.length?(j=+rt,tt()):j},o.domain=function(rt){return arguments.length?(_(rt),tt()):_()},o.ticks=rt=>{const nt=_();let st=nt[0],it=nt[nt.length-1];const at=it<st;at&&([st,it]=[it,st]);let ot=_e(st),ct=_e(it),ut,lt;const pt=rt==null?10:+rt;let dt=[];if(!(j%1)&&ct-ot<pt){if(ot=Math.floor(ot),ct=Math.ceil(ct),st>0){for(;ot<=ct;++ot)for(ut=1;ut<j;++ut)if(lt=ot<0?ut/et(-ot):ut*et(ot),!(lt<st)){if(lt>it)break;dt.push(lt)}}else for(;ot<=ct;++ot)for(ut=j-1;ut>=1;--ut)if(lt=ot>0?ut/et(-ot):ut*et(ot),!(lt<st)){if(lt>it)break;dt.push(lt)}dt.length*2<pt&&(dt=ticks(st,it,pt))}else dt=ticks(ot,ct,Math.min(ct-ot,pt)).map(et);return at?dt.reverse():dt},o.tickFormat=(rt,nt)=>{if(rt==null&&(rt=10),nt==null&&(nt=j===10?"s":","),typeof nt!="function"&&(!(j%1)&&(nt=formatSpecifier(nt)).precision==null&&(nt.trim=!0),nt=format(nt)),rt===1/0)return nt;const st=Math.max(1,j*rt/o.ticks().length);return it=>{let at=it/et(Math.round(_e(it)));return at*j<j-.5&&(at*=j),at<=st?nt(it):""}},o.nice=()=>_(nice(_(),{floor:rt=>et(Math.floor(_e(rt))),ceil:rt=>et(Math.ceil(_e(rt)))})),o}function log$3(){const i=loggish(transformer$2()).domain([1,10]);return i.copy=()=>copy$1(i,log$3()).base(i.base()),initRange.apply(i,arguments),i}function transformSymlog(i){return function(o){return Math.sign(o)*Math.log1p(Math.abs(o/i))}}function transformSymexp(i){return function(o){return Math.sign(o)*Math.expm1(Math.abs(o))*i}}function symlogish(i){var o=1,_=i(transformSymlog(o),transformSymexp(o));return _.constant=function(j){return arguments.length?i(transformSymlog(o=+j),transformSymexp(o)):o},linearish(_)}function symlog(){var i=symlogish(transformer$2());return i.copy=function(){return copy$1(i,symlog()).constant(i.constant())},initRange.apply(i,arguments)}function transformPow(i){return function(o){return o<0?-Math.pow(-o,i):Math.pow(o,i)}}function transformSqrt(i){return i<0?-Math.sqrt(-i):Math.sqrt(i)}function transformSquare(i){return i<0?-i*i:i*i}function powish(i){var o=i(identity$6,identity$6),_=1;function j(){return _===1?i(identity$6,identity$6):_===.5?i(transformSqrt,transformSquare):i(transformPow(_),transformPow(1/_))}return o.exponent=function(_e){return arguments.length?(_=+_e,j()):_},linearish(o)}function pow(){var i=powish(transformer$2());return i.copy=function(){return copy$1(i,pow()).exponent(i.exponent())},initRange.apply(i,arguments),i}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(i){return Math.sign(i)*i*i}function unsquare(i){return Math.sign(i)*Math.sqrt(Math.abs(i))}function radial(){var i=continuous(),o=[0,1],_=!1,j;function _e(et){var tt=unsquare(i(et));return isNaN(tt)?j:_?Math.round(tt):tt}return _e.invert=function(et){return i.invert(square(et))},_e.domain=function(et){return arguments.length?(i.domain(et),_e):i.domain()},_e.range=function(et){return arguments.length?(i.range((o=Array.from(et,number$1)).map(square)),_e):o.slice()},_e.rangeRound=function(et){return _e.range(et).round(!0)},_e.round=function(et){return arguments.length?(_=!!et,_e):_},_e.clamp=function(et){return arguments.length?(i.clamp(et),_e):i.clamp()},_e.unknown=function(et){return arguments.length?(j=et,_e):j},_e.copy=function(){return radial(i.domain(),o).round(_).clamp(i.clamp()).unknown(j)},initRange.apply(_e,arguments),linearish(_e)}function quantile(){var i=[],o=[],_=[],j;function _e(){var tt=0,rt=Math.max(1,o.length);for(_=new Array(rt-1);++tt<rt;)_[tt-1]=quantileSorted(i,tt/rt);return et}function et(tt){return tt==null||isNaN(tt=+tt)?j:o[bisectRight(_,tt)]}return et.invertExtent=function(tt){var rt=o.indexOf(tt);return rt<0?[NaN,NaN]:[rt>0?_[rt-1]:i[0],rt<_.length?_[rt]:i[i.length-1]]},et.domain=function(tt){if(!arguments.length)return i.slice();i=[];for(let rt of tt)rt!=null&&!isNaN(rt=+rt)&&i.push(rt);return i.sort(ascending),_e()},et.range=function(tt){return arguments.length?(o=Array.from(tt),_e()):o.slice()},et.unknown=function(tt){return arguments.length?(j=tt,et):j},et.quantiles=function(){return _.slice()},et.copy=function(){return quantile().domain(i).range(o).unknown(j)},initRange.apply(et,arguments)}function quantize(){var i=0,o=1,_=1,j=[.5],_e=[0,1],et;function tt(nt){return nt!=null&&nt<=nt?_e[bisectRight(j,nt,0,_)]:et}function rt(){var nt=-1;for(j=new Array(_);++nt<_;)j[nt]=((nt+1)*o-(nt-_)*i)/(_+1);return tt}return tt.domain=function(nt){return arguments.length?([i,o]=nt,i=+i,o=+o,rt()):[i,o]},tt.range=function(nt){return arguments.length?(_=(_e=Array.from(nt)).length-1,rt()):_e.slice()},tt.invertExtent=function(nt){var st=_e.indexOf(nt);return st<0?[NaN,NaN]:st<1?[i,j[0]]:st>=_?[j[_-1],o]:[j[st-1],j[st]]},tt.unknown=function(nt){return arguments.length&&(et=nt),tt},tt.thresholds=function(){return j.slice()},tt.copy=function(){return quantize().domain([i,o]).range(_e).unknown(et)},initRange.apply(linearish(tt),arguments)}function threshold(){var i=[.5],o=[0,1],_,j=1;function _e(et){return et!=null&&et<=et?o[bisectRight(i,et,0,j)]:_}return _e.domain=function(et){return arguments.length?(i=Array.from(et),j=Math.min(i.length,o.length-1),_e):i.slice()},_e.range=function(et){return arguments.length?(o=Array.from(et),j=Math.min(i.length,o.length-1),_e):o.slice()},_e.invertExtent=function(et){var tt=o.indexOf(et);return[i[tt-1],i[tt]]},_e.unknown=function(et){return arguments.length?(_=et,_e):_},_e.copy=function(){return threshold().domain(i).range(o).unknown(_)},initRange.apply(_e,arguments)}const t0=new Date,t1=new Date;function timeInterval(i,o,_,j){function _e(et){return i(et=arguments.length===0?new Date:new Date(+et)),et}return _e.floor=et=>(i(et=new Date(+et)),et),_e.ceil=et=>(i(et=new Date(et-1)),o(et,1),i(et),et),_e.round=et=>{const tt=_e(et),rt=_e.ceil(et);return et-tt<rt-et?tt:rt},_e.offset=(et,tt)=>(o(et=new Date(+et),tt==null?1:Math.floor(tt)),et),_e.range=(et,tt,rt)=>{const nt=[];if(et=_e.ceil(et),rt=rt==null?1:Math.floor(rt),!(et<tt)||!(rt>0))return nt;let st;do nt.push(st=new Date(+et)),o(et,rt),i(et);while(st<et&&et<tt);return nt},_e.filter=et=>timeInterval(tt=>{if(tt>=tt)for(;i(tt),!et(tt);)tt.setTime(tt-1)},(tt,rt)=>{if(tt>=tt)if(rt<0)for(;++rt<=0;)for(;o(tt,-1),!et(tt););else for(;--rt>=0;)for(;o(tt,1),!et(tt););}),_&&(_e.count=(et,tt)=>(t0.setTime(+et),t1.setTime(+tt),i(t0),i(t1),Math.floor(_(t0,t1))),_e.every=et=>(et=Math.floor(et),!isFinite(et)||!(et>0)?null:et>1?_e.filter(j?tt=>j(tt)%et===0:tt=>_e.count(0,tt)%et===0):_e)),_e}const millisecond=timeInterval(()=>{},(i,o)=>{i.setTime(+i+o)},(i,o)=>o-i);millisecond.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?timeInterval(o=>{o.setTime(Math.floor(o/i)*i)},(o,_)=>{o.setTime(+o+_*i)},(o,_)=>(_-o)/i):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(i=>{i.setTime(i-i.getMilliseconds())},(i,o)=>{i.setTime(+i+o*durationSecond)},(i,o)=>(o-i)/durationSecond,i=>i.getUTCSeconds());second.range;const timeMinute=timeInterval(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*durationSecond)},(i,o)=>{i.setTime(+i+o*durationMinute)},(i,o)=>(o-i)/durationMinute,i=>i.getMinutes());timeMinute.range;const utcMinute=timeInterval(i=>{i.setUTCSeconds(0,0)},(i,o)=>{i.setTime(+i+o*durationMinute)},(i,o)=>(o-i)/durationMinute,i=>i.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*durationSecond-i.getMinutes()*durationMinute)},(i,o)=>{i.setTime(+i+o*durationHour)},(i,o)=>(o-i)/durationHour,i=>i.getHours());timeHour.range;const utcHour=timeInterval(i=>{i.setUTCMinutes(0,0,0)},(i,o)=>{i.setTime(+i+o*durationHour)},(i,o)=>(o-i)/durationHour,i=>i.getUTCHours());utcHour.range;const timeDay=timeInterval(i=>i.setHours(0,0,0,0),(i,o)=>i.setDate(i.getDate()+o),(i,o)=>(o-i-(o.getTimezoneOffset()-i.getTimezoneOffset())*durationMinute)/durationDay,i=>i.getDate()-1);timeDay.range;const utcDay=timeInterval(i=>{i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCDate(i.getUTCDate()+o)},(i,o)=>(o-i)/durationDay,i=>i.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(i=>{i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCDate(i.getUTCDate()+o)},(i,o)=>(o-i)/durationDay,i=>Math.floor(i/durationDay));unixDay.range;function timeWeekday(i){return timeInterval(o=>{o.setDate(o.getDate()-(o.getDay()+7-i)%7),o.setHours(0,0,0,0)},(o,_)=>{o.setDate(o.getDate()+_*7)},(o,_)=>(_-o-(_.getTimezoneOffset()-o.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(i){return timeInterval(o=>{o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-i)%7),o.setUTCHours(0,0,0,0)},(o,_)=>{o.setUTCDate(o.getUTCDate()+_*7)},(o,_)=>(_-o)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(i=>{i.setDate(1),i.setHours(0,0,0,0)},(i,o)=>{i.setMonth(i.getMonth()+o)},(i,o)=>o.getMonth()-i.getMonth()+(o.getFullYear()-i.getFullYear())*12,i=>i.getMonth());timeMonth.range;const utcMonth=timeInterval(i=>{i.setUTCDate(1),i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCMonth(i.getUTCMonth()+o)},(i,o)=>o.getUTCMonth()-i.getUTCMonth()+(o.getUTCFullYear()-i.getUTCFullYear())*12,i=>i.getUTCMonth());utcMonth.range;const timeYear=timeInterval(i=>{i.setMonth(0,1),i.setHours(0,0,0,0)},(i,o)=>{i.setFullYear(i.getFullYear()+o)},(i,o)=>o.getFullYear()-i.getFullYear(),i=>i.getFullYear());timeYear.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:timeInterval(o=>{o.setFullYear(Math.floor(o.getFullYear()/i)*i),o.setMonth(0,1),o.setHours(0,0,0,0)},(o,_)=>{o.setFullYear(o.getFullYear()+_*i)});timeYear.range;const utcYear=timeInterval(i=>{i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCFullYear(i.getUTCFullYear()+o)},(i,o)=>o.getUTCFullYear()-i.getUTCFullYear(),i=>i.getUTCFullYear());utcYear.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:timeInterval(o=>{o.setUTCFullYear(Math.floor(o.getUTCFullYear()/i)*i),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,_)=>{o.setUTCFullYear(o.getUTCFullYear()+_*i)});utcYear.range;function ticker(i,o,_,j,_e,et){const tt=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[et,1,durationMinute],[et,5,5*durationMinute],[et,15,15*durationMinute],[et,30,30*durationMinute],[_e,1,durationHour],[_e,3,3*durationHour],[_e,6,6*durationHour],[_e,12,12*durationHour],[j,1,durationDay],[j,2,2*durationDay],[_,1,durationWeek],[o,1,durationMonth],[o,3,3*durationMonth],[i,1,durationYear]];function rt(st,it,at){const ot=it<st;ot&&([st,it]=[it,st]);const ct=at&&typeof at.range=="function"?at:nt(st,it,at),ut=ct?ct.range(st,+it+1):[];return ot?ut.reverse():ut}function nt(st,it,at){const ot=Math.abs(it-st)/at,ct=bisector(([,,pt])=>pt).right(tt,ot);if(ct===tt.length)return i.every(tickStep(st/durationYear,it/durationYear,at));if(ct===0)return millisecond.every(Math.max(tickStep(st,it,at),1));const[ut,lt]=tt[ot/tt[ct-1][2]<tt[ct][2]/ot?ct-1:ct];return ut.every(lt)}return[rt,nt]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(i){if(0<=i.y&&i.y<100){var o=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return o.setFullYear(i.y),o}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function utcDate(i){if(0<=i.y&&i.y<100){var o=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return o.setUTCFullYear(i.y),o}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function newDate(i,o,_){return{y:i,m:o,d:_,H:0,M:0,S:0,L:0}}function formatLocale(i){var o=i.dateTime,_=i.date,j=i.time,_e=i.periods,et=i.days,tt=i.shortDays,rt=i.months,nt=i.shortMonths,st=formatRe(_e),it=formatLookup(_e),at=formatRe(et),ot=formatLookup(et),ct=formatRe(tt),ut=formatLookup(tt),lt=formatRe(rt),pt=formatLookup(rt),dt=formatRe(nt),ht=formatLookup(nt),ft={a:Rt,A:bt,b:vt,B:At,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Ot,q:Ct,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},mt={a:Lt,A:It,b:Dt,B:Zt,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Qt,q:Yt,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},xt={a:wt,A:$t,b:jt,B:Tt,c:kt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Et,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Pt,X:St,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};ft.x=gt(_,ft),ft.X=gt(j,ft),ft.c=gt(o,ft),mt.x=gt(_,mt),mt.X=gt(j,mt),mt.c=gt(o,mt);function gt(Ft,Kt){return function(er){var Nt=[],lr=-1,Wt=0,Ut=Ft.length,Jt,Bt,tr;for(er instanceof Date||(er=new Date(+er));++lr<Ut;)Ft.charCodeAt(lr)===37&&(Nt.push(Ft.slice(Wt,lr)),(Bt=pads[Jt=Ft.charAt(++lr)])!=null?Jt=Ft.charAt(++lr):Bt=Jt==="e"?" ":"0",(tr=Kt[Jt])&&(Jt=tr(er,Bt)),Nt.push(Jt),Wt=lr+1);return Nt.push(Ft.slice(Wt,lr)),Nt.join("")}}function yt(Ft,Kt){return function(er){var Nt=newDate(1900,void 0,1),lr=_t(Nt,Ft,er+="",0),Wt,Ut;if(lr!=er.length)return null;if("Q"in Nt)return new Date(Nt.Q);if("s"in Nt)return new Date(Nt.s*1e3+("L"in Nt?Nt.L:0));if(Kt&&!("Z"in Nt)&&(Nt.Z=0),"p"in Nt&&(Nt.H=Nt.H%12+Nt.p*12),Nt.m===void 0&&(Nt.m="q"in Nt?Nt.q:0),"V"in Nt){if(Nt.V<1||Nt.V>53)return null;"w"in Nt||(Nt.w=1),"Z"in Nt?(Wt=utcDate(newDate(Nt.y,0,1)),Ut=Wt.getUTCDay(),Wt=Ut>4||Ut===0?utcMonday.ceil(Wt):utcMonday(Wt),Wt=utcDay.offset(Wt,(Nt.V-1)*7),Nt.y=Wt.getUTCFullYear(),Nt.m=Wt.getUTCMonth(),Nt.d=Wt.getUTCDate()+(Nt.w+6)%7):(Wt=localDate(newDate(Nt.y,0,1)),Ut=Wt.getDay(),Wt=Ut>4||Ut===0?timeMonday.ceil(Wt):timeMonday(Wt),Wt=timeDay.offset(Wt,(Nt.V-1)*7),Nt.y=Wt.getFullYear(),Nt.m=Wt.getMonth(),Nt.d=Wt.getDate()+(Nt.w+6)%7)}else("W"in Nt||"U"in Nt)&&("w"in Nt||(Nt.w="u"in Nt?Nt.u%7:"W"in Nt?1:0),Ut="Z"in Nt?utcDate(newDate(Nt.y,0,1)).getUTCDay():localDate(newDate(Nt.y,0,1)).getDay(),Nt.m=0,Nt.d="W"in Nt?(Nt.w+6)%7+Nt.W*7-(Ut+5)%7:Nt.w+Nt.U*7-(Ut+6)%7);return"Z"in Nt?(Nt.H+=Nt.Z/100|0,Nt.M+=Nt.Z%100,utcDate(Nt)):localDate(Nt)}}function _t(Ft,Kt,er,Nt){for(var lr=0,Wt=Kt.length,Ut=er.length,Jt,Bt;lr<Wt;){if(Nt>=Ut)return-1;if(Jt=Kt.charCodeAt(lr++),Jt===37){if(Jt=Kt.charAt(lr++),Bt=xt[Jt in pads?Kt.charAt(lr++):Jt],!Bt||(Nt=Bt(Ft,er,Nt))<0)return-1}else if(Jt!=er.charCodeAt(Nt++))return-1}return Nt}function Et(Ft,Kt,er){var Nt=st.exec(Kt.slice(er));return Nt?(Ft.p=it.get(Nt[0].toLowerCase()),er+Nt[0].length):-1}function wt(Ft,Kt,er){var Nt=ct.exec(Kt.slice(er));return Nt?(Ft.w=ut.get(Nt[0].toLowerCase()),er+Nt[0].length):-1}function $t(Ft,Kt,er){var Nt=at.exec(Kt.slice(er));return Nt?(Ft.w=ot.get(Nt[0].toLowerCase()),er+Nt[0].length):-1}function jt(Ft,Kt,er){var Nt=dt.exec(Kt.slice(er));return Nt?(Ft.m=ht.get(Nt[0].toLowerCase()),er+Nt[0].length):-1}function Tt(Ft,Kt,er){var Nt=lt.exec(Kt.slice(er));return Nt?(Ft.m=pt.get(Nt[0].toLowerCase()),er+Nt[0].length):-1}function kt(Ft,Kt,er){return _t(Ft,o,Kt,er)}function Pt(Ft,Kt,er){return _t(Ft,_,Kt,er)}function St(Ft,Kt,er){return _t(Ft,j,Kt,er)}function Rt(Ft){return tt[Ft.getDay()]}function bt(Ft){return et[Ft.getDay()]}function vt(Ft){return nt[Ft.getMonth()]}function At(Ft){return rt[Ft.getMonth()]}function Ot(Ft){return _e[+(Ft.getHours()>=12)]}function Ct(Ft){return 1+~~(Ft.getMonth()/3)}function Lt(Ft){return tt[Ft.getUTCDay()]}function It(Ft){return et[Ft.getUTCDay()]}function Dt(Ft){return nt[Ft.getUTCMonth()]}function Zt(Ft){return rt[Ft.getUTCMonth()]}function Qt(Ft){return _e[+(Ft.getUTCHours()>=12)]}function Yt(Ft){return 1+~~(Ft.getUTCMonth()/3)}return{format:function(Ft){var Kt=gt(Ft+="",ft);return Kt.toString=function(){return Ft},Kt},parse:function(Ft){var Kt=yt(Ft+="",!1);return Kt.toString=function(){return Ft},Kt},utcFormat:function(Ft){var Kt=gt(Ft+="",mt);return Kt.toString=function(){return Ft},Kt},utcParse:function(Ft){var Kt=yt(Ft+="",!0);return Kt.toString=function(){return Ft},Kt}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(i,o,_){var j=i<0?"-":"",_e=(j?-i:i)+"",et=_e.length;return j+(et<_?new Array(_-et+1).join(o)+_e:_e)}function requote(i){return i.replace(requoteRe,"\\$&")}function formatRe(i){return new RegExp("^(?:"+i.map(requote).join("|")+")","i")}function formatLookup(i){return new Map(i.map((o,_)=>[o.toLowerCase(),_]))}function parseWeekdayNumberSunday(i,o,_){var j=numberRe.exec(o.slice(_,_+1));return j?(i.w=+j[0],_+j[0].length):-1}function parseWeekdayNumberMonday(i,o,_){var j=numberRe.exec(o.slice(_,_+1));return j?(i.u=+j[0],_+j[0].length):-1}function parseWeekNumberSunday(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.U=+j[0],_+j[0].length):-1}function parseWeekNumberISO(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.V=+j[0],_+j[0].length):-1}function parseWeekNumberMonday(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.W=+j[0],_+j[0].length):-1}function parseFullYear(i,o,_){var j=numberRe.exec(o.slice(_,_+4));return j?(i.y=+j[0],_+j[0].length):-1}function parseYear(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.y=+j[0]+(+j[0]>68?1900:2e3),_+j[0].length):-1}function parseZone(i,o,_){var j=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(_,_+6));return j?(i.Z=j[1]?0:-(j[2]+(j[3]||"00")),_+j[0].length):-1}function parseQuarter(i,o,_){var j=numberRe.exec(o.slice(_,_+1));return j?(i.q=j[0]*3-3,_+j[0].length):-1}function parseMonthNumber(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.m=j[0]-1,_+j[0].length):-1}function parseDayOfMonth(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.d=+j[0],_+j[0].length):-1}function parseDayOfYear(i,o,_){var j=numberRe.exec(o.slice(_,_+3));return j?(i.m=0,i.d=+j[0],_+j[0].length):-1}function parseHour24(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.H=+j[0],_+j[0].length):-1}function parseMinutes(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.M=+j[0],_+j[0].length):-1}function parseSeconds(i,o,_){var j=numberRe.exec(o.slice(_,_+2));return j?(i.S=+j[0],_+j[0].length):-1}function parseMilliseconds(i,o,_){var j=numberRe.exec(o.slice(_,_+3));return j?(i.L=+j[0],_+j[0].length):-1}function parseMicroseconds(i,o,_){var j=numberRe.exec(o.slice(_,_+6));return j?(i.L=Math.floor(j[0]/1e3),_+j[0].length):-1}function parseLiteralPercent(i,o,_){var j=percentRe.exec(o.slice(_,_+1));return j?_+j[0].length:-1}function parseUnixTimestamp(i,o,_){var j=numberRe.exec(o.slice(_));return j?(i.Q=+j[0],_+j[0].length):-1}function parseUnixTimestampSeconds(i,o,_){var j=numberRe.exec(o.slice(_));return j?(i.s=+j[0],_+j[0].length):-1}function formatDayOfMonth(i,o){return pad(i.getDate(),o,2)}function formatHour24(i,o){return pad(i.getHours(),o,2)}function formatHour12(i,o){return pad(i.getHours()%12||12,o,2)}function formatDayOfYear(i,o){return pad(1+timeDay.count(timeYear(i),i),o,3)}function formatMilliseconds(i,o){return pad(i.getMilliseconds(),o,3)}function formatMicroseconds(i,o){return formatMilliseconds(i,o)+"000"}function formatMonthNumber(i,o){return pad(i.getMonth()+1,o,2)}function formatMinutes(i,o){return pad(i.getMinutes(),o,2)}function formatSeconds(i,o){return pad(i.getSeconds(),o,2)}function formatWeekdayNumberMonday(i){var o=i.getDay();return o===0?7:o}function formatWeekNumberSunday(i,o){return pad(timeSunday.count(timeYear(i)-1,i),o,2)}function dISO(i){var o=i.getDay();return o>=4||o===0?timeThursday(i):timeThursday.ceil(i)}function formatWeekNumberISO(i,o){return i=dISO(i),pad(timeThursday.count(timeYear(i),i)+(timeYear(i).getDay()===4),o,2)}function formatWeekdayNumberSunday(i){return i.getDay()}function formatWeekNumberMonday(i,o){return pad(timeMonday.count(timeYear(i)-1,i),o,2)}function formatYear(i,o){return pad(i.getFullYear()%100,o,2)}function formatYearISO(i,o){return i=dISO(i),pad(i.getFullYear()%100,o,2)}function formatFullYear(i,o){return pad(i.getFullYear()%1e4,o,4)}function formatFullYearISO(i,o){var _=i.getDay();return i=_>=4||_===0?timeThursday(i):timeThursday.ceil(i),pad(i.getFullYear()%1e4,o,4)}function formatZone(i){var o=i.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+pad(o/60|0,"0",2)+pad(o%60,"0",2)}function formatUTCDayOfMonth(i,o){return pad(i.getUTCDate(),o,2)}function formatUTCHour24(i,o){return pad(i.getUTCHours(),o,2)}function formatUTCHour12(i,o){return pad(i.getUTCHours()%12||12,o,2)}function formatUTCDayOfYear(i,o){return pad(1+utcDay.count(utcYear(i),i),o,3)}function formatUTCMilliseconds(i,o){return pad(i.getUTCMilliseconds(),o,3)}function formatUTCMicroseconds(i,o){return formatUTCMilliseconds(i,o)+"000"}function formatUTCMonthNumber(i,o){return pad(i.getUTCMonth()+1,o,2)}function formatUTCMinutes(i,o){return pad(i.getUTCMinutes(),o,2)}function formatUTCSeconds(i,o){return pad(i.getUTCSeconds(),o,2)}function formatUTCWeekdayNumberMonday(i){var o=i.getUTCDay();return o===0?7:o}function formatUTCWeekNumberSunday(i,o){return pad(utcSunday.count(utcYear(i)-1,i),o,2)}function UTCdISO(i){var o=i.getUTCDay();return o>=4||o===0?utcThursday(i):utcThursday.ceil(i)}function formatUTCWeekNumberISO(i,o){return i=UTCdISO(i),pad(utcThursday.count(utcYear(i),i)+(utcYear(i).getUTCDay()===4),o,2)}function formatUTCWeekdayNumberSunday(i){return i.getUTCDay()}function formatUTCWeekNumberMonday(i,o){return pad(utcMonday.count(utcYear(i)-1,i),o,2)}function formatUTCYear(i,o){return pad(i.getUTCFullYear()%100,o,2)}function formatUTCYearISO(i,o){return i=UTCdISO(i),pad(i.getUTCFullYear()%100,o,2)}function formatUTCFullYear(i,o){return pad(i.getUTCFullYear()%1e4,o,4)}function formatUTCFullYearISO(i,o){var _=i.getUTCDay();return i=_>=4||_===0?utcThursday(i):utcThursday.ceil(i),pad(i.getUTCFullYear()%1e4,o,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(i){return+i}function formatUnixTimestampSeconds(i){return Math.floor(+i/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(i){return locale=formatLocale(i),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(i){return new Date(i)}function number(i){return i instanceof Date?+i:+new Date(+i)}function calendar(i,o,_,j,_e,et,tt,rt,nt,st){var it=continuous(),at=it.invert,ot=it.domain,ct=st(".%L"),ut=st(":%S"),lt=st("%I:%M"),pt=st("%I %p"),dt=st("%a %d"),ht=st("%b %d"),ft=st("%B"),mt=st("%Y");function xt(gt){return(nt(gt)<gt?ct:rt(gt)<gt?ut:tt(gt)<gt?lt:et(gt)<gt?pt:j(gt)<gt?_e(gt)<gt?dt:ht:_(gt)<gt?ft:mt)(gt)}return it.invert=function(gt){return new Date(at(gt))},it.domain=function(gt){return arguments.length?ot(Array.from(gt,number)):ot().map(date)},it.ticks=function(gt){var yt=ot();return i(yt[0],yt[yt.length-1],gt??10)},it.tickFormat=function(gt,yt){return yt==null?xt:st(yt)},it.nice=function(gt){var yt=ot();return(!gt||typeof gt.range!="function")&&(gt=o(yt[0],yt[yt.length-1],gt??10)),gt?ot(nice(yt,gt)):it},it.copy=function(){return copy$1(it,calendar(i,o,_,j,_e,et,tt,rt,nt,st))},it}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var i=0,o=1,_,j,_e,et,tt=identity$6,rt=!1,nt;function st(at){return at==null||isNaN(at=+at)?nt:tt(_e===0?.5:(at=(et(at)-_)*_e,rt?Math.max(0,Math.min(1,at)):at))}st.domain=function(at){return arguments.length?([i,o]=at,_=et(i=+i),j=et(o=+o),_e=_===j?0:1/(j-_),st):[i,o]},st.clamp=function(at){return arguments.length?(rt=!!at,st):rt},st.interpolator=function(at){return arguments.length?(tt=at,st):tt};function it(at){return function(ot){var ct,ut;return arguments.length?([ct,ut]=ot,tt=at(ct,ut),st):[tt(0),tt(1)]}}return st.range=it(interpolate$2),st.rangeRound=it(interpolateRound),st.unknown=function(at){return arguments.length?(nt=at,st):nt},function(at){return et=at,_=at(i),j=at(o),_e=_===j?0:1/(j-_),st}}function copy(i,o){return o.domain(i.domain()).interpolator(i.interpolator()).clamp(i.clamp()).unknown(i.unknown())}function sequential(){var i=linearish(transformer$1()(identity$6));return i.copy=function(){return copy(i,sequential())},initInterpolator.apply(i,arguments)}function sequentialLog(){var i=loggish(transformer$1()).domain([1,10]);return i.copy=function(){return copy(i,sequentialLog()).base(i.base())},initInterpolator.apply(i,arguments)}function sequentialSymlog(){var i=symlogish(transformer$1());return i.copy=function(){return copy(i,sequentialSymlog()).constant(i.constant())},initInterpolator.apply(i,arguments)}function sequentialPow(){var i=powish(transformer$1());return i.copy=function(){return copy(i,sequentialPow()).exponent(i.exponent())},initInterpolator.apply(i,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var i=[],o=identity$6;function _(j){if(j!=null&&!isNaN(j=+j))return o((bisectRight(i,j,1)-1)/(i.length-1))}return _.domain=function(j){if(!arguments.length)return i.slice();i=[];for(let _e of j)_e!=null&&!isNaN(_e=+_e)&&i.push(_e);return i.sort(ascending),_},_.interpolator=function(j){return arguments.length?(o=j,_):o},_.range=function(){return i.map((j,_e)=>o(_e/(i.length-1)))},_.quantiles=function(j){return Array.from({length:j+1},(_e,et)=>quantile$1(i,et/j))},_.copy=function(){return sequentialQuantile(o).domain(i)},initInterpolator.apply(_,arguments)}function transformer(){var i=0,o=.5,_=1,j=1,_e,et,tt,rt,nt,st=identity$6,it,at=!1,ot;function ct(lt){return isNaN(lt=+lt)?ot:(lt=.5+((lt=+it(lt))-et)*(j*lt<j*et?rt:nt),st(at?Math.max(0,Math.min(1,lt)):lt))}ct.domain=function(lt){return arguments.length?([i,o,_]=lt,_e=it(i=+i),et=it(o=+o),tt=it(_=+_),rt=_e===et?0:.5/(et-_e),nt=et===tt?0:.5/(tt-et),j=et<_e?-1:1,ct):[i,o,_]},ct.clamp=function(lt){return arguments.length?(at=!!lt,ct):at},ct.interpolator=function(lt){return arguments.length?(st=lt,ct):st};function ut(lt){return function(pt){var dt,ht,ft;return arguments.length?([dt,ht,ft]=pt,st=piecewise(lt,[dt,ht,ft]),ct):[st(0),st(.5),st(1)]}}return ct.range=ut(interpolate$2),ct.rangeRound=ut(interpolateRound),ct.unknown=function(lt){return arguments.length?(ot=lt,ct):ot},function(lt){return it=lt,_e=lt(i),et=lt(o),tt=lt(_),rt=_e===et?0:.5/(et-_e),nt=et===tt?0:.5/(tt-et),j=et<_e?-1:1,ct}}function diverging(){var i=linearish(transformer()(identity$6));return i.copy=function(){return copy(i,diverging())},initInterpolator.apply(i,arguments)}function divergingLog(){var i=loggish(transformer()).domain([.1,1,10]);return i.copy=function(){return copy(i,divergingLog()).base(i.base())},initInterpolator.apply(i,arguments)}function divergingSymlog(){var i=symlogish(transformer());return i.copy=function(){return copy(i,divergingSymlog()).constant(i.constant())},initInterpolator.apply(i,arguments)}function divergingPow(){var i=powish(transformer());return i.copy=function(){return copy(i,divergingPow()).exponent(i.exponent())},initInterpolator.apply(i,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log$3,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$4(i,o,_){for(var j=-1,_e=i.length;++j<_e;){var et=i[j],tt=o(et);if(tt!=null&&(rt===void 0?tt===tt&&!isSymbol(tt):_(tt,rt)))var rt=tt,nt=et}return nt}var _baseExtremum=baseExtremum$4;function baseGt$2(i,o){return i>o}var _baseGt=baseGt$2,baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;function max(i){return i&&i.length?baseExtremum$3(i,identity$3,baseGt$1):void 0}var max_1=max;const max$1=getDefaultExportFromCjs(max_1);function baseLt$2(i,o){return i<o}var _baseLt=baseLt$2,baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;function min(i){return i&&i.length?baseExtremum$2(i,identity$2,baseLt$1):void 0}var min_1=min;const min$1=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;function map$4(i,o){var _=isArray$3(i)?arrayMap:baseMap;return _(i,baseIteratee$5(o))}var map_1=map$4,baseFlatten=_baseFlatten,map$3=map_1;function flatMap(i,o){return baseFlatten(map$3(i,o),1)}var flatMap_1=flatMap;const flatMap$1=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual(i,o){return baseIsEqual(i,o)}var isEqual_1=isEqual;const isEqual$1=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults$1={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var i=new this.constructor(this);return i.s&&(i.s=1),i};P.comparedTo=P.cmp=function(i){var o,_,j,_e,et=this;if(i=new et.constructor(i),et.s!==i.s)return et.s||-i.s;if(et.e!==i.e)return et.e>i.e^et.s<0?1:-1;for(j=et.d.length,_e=i.d.length,o=0,_=j<_e?j:_e;o<_;++o)if(et.d[o]!==i.d[o])return et.d[o]>i.d[o]^et.s<0?1:-1;return j===_e?0:j>_e^et.s<0?1:-1};P.decimalPlaces=P.dp=function(){var i=this,o=i.d.length-1,_=(o-i.e)*LOG_BASE;if(o=i.d[o],o)for(;o%10==0;o/=10)_--;return _<0?0:_};P.dividedBy=P.div=function(i){return divide(this,new this.constructor(i))};P.dividedToIntegerBy=P.idiv=function(i){var o=this,_=o.constructor;return round$1(divide(o,new _(i),0,1),_.precision)};P.equals=P.eq=function(i){return!this.cmp(i)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(i){return this.cmp(i)>0};P.greaterThanOrEqualTo=P.gte=function(i){return this.cmp(i)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(i){return this.cmp(i)<0};P.lessThanOrEqualTo=P.lte=function(i){return this.cmp(i)<1};P.logarithm=P.log=function(i){var o,_=this,j=_.constructor,_e=j.precision,et=_e+5;if(i===void 0)i=new j(10);else if(i=new j(i),i.s<1||i.eq(ONE))throw Error(decimalError+"NaN");if(_.s<1)throw Error(decimalError+(_.s?"NaN":"-Infinity"));return _.eq(ONE)?new j(0):(external=!1,o=divide(ln(_,et),ln(i,et),et),external=!0,round$1(o,_e))};P.minus=P.sub=function(i){var o=this;return i=new o.constructor(i),o.s==i.s?subtract(o,i):add(o,(i.s=-i.s,i))};P.modulo=P.mod=function(i){var o,_=this,j=_.constructor,_e=j.precision;if(i=new j(i),!i.s)throw Error(decimalError+"NaN");return _.s?(external=!1,o=divide(_,i,0,1).times(i),external=!0,_.minus(o)):round$1(new j(_),_e)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var i=new this.constructor(this);return i.s=-i.s||0,i};P.plus=P.add=function(i){var o=this;return i=new o.constructor(i),o.s==i.s?add(o,i):subtract(o,(i.s=-i.s,i))};P.precision=P.sd=function(i){var o,_,j,_e=this;if(i!==void 0&&i!==!!i&&i!==1&&i!==0)throw Error(invalidArgument+i);if(o=getBase10Exponent(_e)+1,j=_e.d.length-1,_=j*LOG_BASE+1,j=_e.d[j],j){for(;j%10==0;j/=10)_--;for(j=_e.d[0];j>=10;j/=10)_++}return i&&o>_?o:_};P.squareRoot=P.sqrt=function(){var i,o,_,j,_e,et,tt,rt=this,nt=rt.constructor;if(rt.s<1){if(!rt.s)return new nt(0);throw Error(decimalError+"NaN")}for(i=getBase10Exponent(rt),external=!1,_e=Math.sqrt(+rt),_e==0||_e==1/0?(o=digitsToString(rt.d),(o.length+i)%2==0&&(o+="0"),_e=Math.sqrt(o),i=mathfloor((i+1)/2)-(i<0||i%2),_e==1/0?o="5e"+i:(o=_e.toExponential(),o=o.slice(0,o.indexOf("e")+1)+i),j=new nt(o)):j=new nt(_e.toString()),_=nt.precision,_e=tt=_+3;;)if(et=j,j=et.plus(divide(rt,et,tt+2)).times(.5),digitsToString(et.d).slice(0,tt)===(o=digitsToString(j.d)).slice(0,tt)){if(o=o.slice(tt-3,tt+1),_e==tt&&o=="4999"){if(round$1(et,_+1,0),et.times(et).eq(rt)){j=et;break}}else if(o!="9999")break;tt+=4}return external=!0,round$1(j,_)};P.times=P.mul=function(i){var o,_,j,_e,et,tt,rt,nt,st,it=this,at=it.constructor,ot=it.d,ct=(i=new at(i)).d;if(!it.s||!i.s)return new at(0);for(i.s*=it.s,_=it.e+i.e,nt=ot.length,st=ct.length,nt<st&&(et=ot,ot=ct,ct=et,tt=nt,nt=st,st=tt),et=[],tt=nt+st,j=tt;j--;)et.push(0);for(j=st;--j>=0;){for(o=0,_e=nt+j;_e>j;)rt=et[_e]+ct[j]*ot[_e-j-1]+o,et[_e--]=rt%BASE|0,o=rt/BASE|0;et[_e]=(et[_e]+o)%BASE|0}for(;!et[--tt];)et.pop();return o?++_:et.shift(),i.d=et,i.e=_,external?round$1(i,at.precision):i};P.toDecimalPlaces=P.todp=function(i,o){var _=this,j=_.constructor;return _=new j(_),i===void 0?_:(checkInt32(i,0,MAX_DIGITS),o===void 0?o=j.rounding:checkInt32(o,0,8),round$1(_,i+getBase10Exponent(_)+1,o))};P.toExponential=function(i,o){var _,j=this,_e=j.constructor;return i===void 0?_=toString$1(j,!0):(checkInt32(i,0,MAX_DIGITS),o===void 0?o=_e.rounding:checkInt32(o,0,8),j=round$1(new _e(j),i+1,o),_=toString$1(j,!0,i+1)),_};P.toFixed=function(i,o){var _,j,_e=this,et=_e.constructor;return i===void 0?toString$1(_e):(checkInt32(i,0,MAX_DIGITS),o===void 0?o=et.rounding:checkInt32(o,0,8),j=round$1(new et(_e),i+getBase10Exponent(_e)+1,o),_=toString$1(j.abs(),!1,i+getBase10Exponent(j)+1),_e.isneg()&&!_e.isZero()?"-"+_:_)};P.toInteger=P.toint=function(){var i=this,o=i.constructor;return round$1(new o(i),getBase10Exponent(i)+1,o.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(i){var o,_,j,_e,et,tt,rt=this,nt=rt.constructor,st=12,it=+(i=new nt(i));if(!i.s)return new nt(ONE);if(rt=new nt(rt),!rt.s){if(i.s<1)throw Error(decimalError+"Infinity");return rt}if(rt.eq(ONE))return rt;if(j=nt.precision,i.eq(ONE))return round$1(rt,j);if(o=i.e,_=i.d.length-1,tt=o>=_,et=rt.s,tt){if((_=it<0?-it:it)<=MAX_SAFE_INTEGER){for(_e=new nt(ONE),o=Math.ceil(j/LOG_BASE+4),external=!1;_%2&&(_e=_e.times(rt),truncate(_e.d,o)),_=mathfloor(_/2),_!==0;)rt=rt.times(rt),truncate(rt.d,o);return external=!0,i.s<0?new nt(ONE).div(_e):round$1(_e,j)}}else if(et<0)throw Error(decimalError+"NaN");return et=et<0&&i.d[Math.max(o,_)]&1?-1:1,rt.s=1,external=!1,_e=i.times(ln(rt,j+st)),external=!0,_e=exp(_e),_e.s=et,_e};P.toPrecision=function(i,o){var _,j,_e=this,et=_e.constructor;return i===void 0?(_=getBase10Exponent(_e),j=toString$1(_e,_<=et.toExpNeg||_>=et.toExpPos)):(checkInt32(i,1,MAX_DIGITS),o===void 0?o=et.rounding:checkInt32(o,0,8),_e=round$1(new et(_e),i,o),_=getBase10Exponent(_e),j=toString$1(_e,i<=_||_<=et.toExpNeg,i)),j};P.toSignificantDigits=P.tosd=function(i,o){var _=this,j=_.constructor;return i===void 0?(i=j.precision,o=j.rounding):(checkInt32(i,1,MAX_DIGITS),o===void 0?o=j.rounding:checkInt32(o,0,8)),round$1(new j(_),i,o)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var i=this,o=getBase10Exponent(i),_=i.constructor;return toString$1(i,o<=_.toExpNeg||o>=_.toExpPos)};function add(i,o){var _,j,_e,et,tt,rt,nt,st,it=i.constructor,at=it.precision;if(!i.s||!o.s)return o.s||(o=new it(i)),external?round$1(o,at):o;if(nt=i.d,st=o.d,tt=i.e,_e=o.e,nt=nt.slice(),et=tt-_e,et){for(et<0?(j=nt,et=-et,rt=st.length):(j=st,_e=tt,rt=nt.length),tt=Math.ceil(at/LOG_BASE),rt=tt>rt?tt+1:rt+1,et>rt&&(et=rt,j.length=1),j.reverse();et--;)j.push(0);j.reverse()}for(rt=nt.length,et=st.length,rt-et<0&&(et=rt,j=st,st=nt,nt=j),_=0;et;)_=(nt[--et]=nt[et]+st[et]+_)/BASE|0,nt[et]%=BASE;for(_&&(nt.unshift(_),++_e),rt=nt.length;nt[--rt]==0;)nt.pop();return o.d=nt,o.e=_e,external?round$1(o,at):o}function checkInt32(i,o,_){if(i!==~~i||i<o||i>_)throw Error(invalidArgument+i)}function digitsToString(i){var o,_,j,_e=i.length-1,et="",tt=i[0];if(_e>0){for(et+=tt,o=1;o<_e;o++)j=i[o]+"",_=LOG_BASE-j.length,_&&(et+=getZeroString(_)),et+=j;tt=i[o],j=tt+"",_=LOG_BASE-j.length,_&&(et+=getZeroString(_))}else if(tt===0)return"0";for(;tt%10===0;)tt/=10;return et+tt}var divide=function(){function i(j,_e){var et,tt=0,rt=j.length;for(j=j.slice();rt--;)et=j[rt]*_e+tt,j[rt]=et%BASE|0,tt=et/BASE|0;return tt&&j.unshift(tt),j}function o(j,_e,et,tt){var rt,nt;if(et!=tt)nt=et>tt?1:-1;else for(rt=nt=0;rt<et;rt++)if(j[rt]!=_e[rt]){nt=j[rt]>_e[rt]?1:-1;break}return nt}function _(j,_e,et){for(var tt=0;et--;)j[et]-=tt,tt=j[et]<_e[et]?1:0,j[et]=tt*BASE+j[et]-_e[et];for(;!j[0]&&j.length>1;)j.shift()}return function(j,_e,et,tt){var rt,nt,st,it,at,ot,ct,ut,lt,pt,dt,ht,ft,mt,xt,gt,yt,_t,Et=j.constructor,wt=j.s==_e.s?1:-1,$t=j.d,jt=_e.d;if(!j.s)return new Et(j);if(!_e.s)throw Error(decimalError+"Division by zero");for(nt=j.e-_e.e,yt=jt.length,xt=$t.length,ct=new Et(wt),ut=ct.d=[],st=0;jt[st]==($t[st]||0);)++st;if(jt[st]>($t[st]||0)&&--nt,et==null?ht=et=Et.precision:tt?ht=et+(getBase10Exponent(j)-getBase10Exponent(_e))+1:ht=et,ht<0)return new Et(0);if(ht=ht/LOG_BASE+2|0,st=0,yt==1)for(it=0,jt=jt[0],ht++;(st<xt||it)&&ht--;st++)ft=it*BASE+($t[st]||0),ut[st]=ft/jt|0,it=ft%jt|0;else{for(it=BASE/(jt[0]+1)|0,it>1&&(jt=i(jt,it),$t=i($t,it),yt=jt.length,xt=$t.length),mt=yt,lt=$t.slice(0,yt),pt=lt.length;pt<yt;)lt[pt++]=0;_t=jt.slice(),_t.unshift(0),gt=jt[0],jt[1]>=BASE/2&&++gt;do it=0,rt=o(jt,lt,yt,pt),rt<0?(dt=lt[0],yt!=pt&&(dt=dt*BASE+(lt[1]||0)),it=dt/gt|0,it>1?(it>=BASE&&(it=BASE-1),at=i(jt,it),ot=at.length,pt=lt.length,rt=o(at,lt,ot,pt),rt==1&&(it--,_(at,yt<ot?_t:jt,ot))):(it==0&&(rt=it=1),at=jt.slice()),ot=at.length,ot<pt&&at.unshift(0),_(lt,at,pt),rt==-1&&(pt=lt.length,rt=o(jt,lt,yt,pt),rt<1&&(it++,_(lt,yt<pt?_t:jt,pt))),pt=lt.length):rt===0&&(it++,lt=[0]),ut[st++]=it,rt&&lt[0]?lt[pt++]=$t[mt]||0:(lt=[$t[mt]],pt=1);while((mt++<xt||lt[0]!==void 0)&&ht--)}return ut[0]||ut.shift(),ct.e=nt,round$1(ct,tt?et+getBase10Exponent(ct)+1:et)}}();function exp(i,o){var _,j,_e,et,tt,rt,nt=0,st=0,it=i.constructor,at=it.precision;if(getBase10Exponent(i)>16)throw Error(exponentOutOfRange+getBase10Exponent(i));if(!i.s)return new it(ONE);for(external=!1,rt=at,tt=new it(.03125);i.abs().gte(.1);)i=i.times(tt),st+=5;for(j=Math.log(mathpow(2,st))/Math.LN10*2+5|0,rt+=j,_=_e=et=new it(ONE),it.precision=rt;;){if(_e=round$1(_e.times(i),rt),_=_.times(++nt),tt=et.plus(divide(_e,_,rt)),digitsToString(tt.d).slice(0,rt)===digitsToString(et.d).slice(0,rt)){for(;st--;)et=round$1(et.times(et),rt);return it.precision=at,o==null?(external=!0,round$1(et,at)):et}et=tt}}function getBase10Exponent(i){for(var o=i.e*LOG_BASE,_=i.d[0];_>=10;_/=10)o++;return o}function getLn10(i,o,_){if(o>i.LN10.sd())throw external=!0,_&&(i.precision=_),Error(decimalError+"LN10 precision limit exceeded");return round$1(new i(i.LN10),o)}function getZeroString(i){for(var o="";i--;)o+="0";return o}function ln(i,o){var _,j,_e,et,tt,rt,nt,st,it,at=1,ot=10,ct=i,ut=ct.d,lt=ct.constructor,pt=lt.precision;if(ct.s<1)throw Error(decimalError+(ct.s?"NaN":"-Infinity"));if(ct.eq(ONE))return new lt(0);if(o==null?(external=!1,st=pt):st=o,ct.eq(10))return o==null&&(external=!0),getLn10(lt,st);if(st+=ot,lt.precision=st,_=digitsToString(ut),j=_.charAt(0),et=getBase10Exponent(ct),Math.abs(et)<15e14){for(;j<7&&j!=1||j==1&&_.charAt(1)>3;)ct=ct.times(i),_=digitsToString(ct.d),j=_.charAt(0),at++;et=getBase10Exponent(ct),j>1?(ct=new lt("0."+_),et++):ct=new lt(j+"."+_.slice(1))}else return nt=getLn10(lt,st+2,pt).times(et+""),ct=ln(new lt(j+"."+_.slice(1)),st-ot).plus(nt),lt.precision=pt,o==null?(external=!0,round$1(ct,pt)):ct;for(rt=tt=ct=divide(ct.minus(ONE),ct.plus(ONE),st),it=round$1(ct.times(ct),st),_e=3;;){if(tt=round$1(tt.times(it),st),nt=rt.plus(divide(tt,new lt(_e),st)),digitsToString(nt.d).slice(0,st)===digitsToString(rt.d).slice(0,st))return rt=rt.times(2),et!==0&&(rt=rt.plus(getLn10(lt,st+2,pt).times(et+""))),rt=divide(rt,new lt(at),st),lt.precision=pt,o==null?(external=!0,round$1(rt,pt)):rt;rt=nt,_e+=2}}function parseDecimal(i,o){var _,j,_e;for((_=o.indexOf("."))>-1&&(o=o.replace(".","")),(j=o.search(/e/i))>0?(_<0&&(_=j),_+=+o.slice(j+1),o=o.substring(0,j)):_<0&&(_=o.length),j=0;o.charCodeAt(j)===48;)++j;for(_e=o.length;o.charCodeAt(_e-1)===48;)--_e;if(o=o.slice(j,_e),o){if(_e-=j,_=_-j-1,i.e=mathfloor(_/LOG_BASE),i.d=[],j=(_+1)%LOG_BASE,_<0&&(j+=LOG_BASE),j<_e){for(j&&i.d.push(+o.slice(0,j)),_e-=LOG_BASE;j<_e;)i.d.push(+o.slice(j,j+=LOG_BASE));o=o.slice(j),j=LOG_BASE-o.length}else j-=_e;for(;j--;)o+="0";if(i.d.push(+o),external&&(i.e>MAX_E||i.e<-MAX_E))throw Error(exponentOutOfRange+_)}else i.s=0,i.e=0,i.d=[0];return i}function round$1(i,o,_){var j,_e,et,tt,rt,nt,st,it,at=i.d;for(tt=1,et=at[0];et>=10;et/=10)tt++;if(j=o-tt,j<0)j+=LOG_BASE,_e=o,st=at[it=0];else{if(it=Math.ceil((j+1)/LOG_BASE),et=at.length,it>=et)return i;for(st=et=at[it],tt=1;et>=10;et/=10)tt++;j%=LOG_BASE,_e=j-LOG_BASE+tt}if(_!==void 0&&(et=mathpow(10,tt-_e-1),rt=st/et%10|0,nt=o<0||at[it+1]!==void 0||st%et,nt=_<4?(rt||nt)&&(_==0||_==(i.s<0?3:2)):rt>5||rt==5&&(_==4||nt||_==6&&(j>0?_e>0?st/mathpow(10,tt-_e):0:at[it-1])%10&1||_==(i.s<0?8:7))),o<1||!at[0])return nt?(et=getBase10Exponent(i),at.length=1,o=o-et-1,at[0]=mathpow(10,(LOG_BASE-o%LOG_BASE)%LOG_BASE),i.e=mathfloor(-o/LOG_BASE)||0):(at.length=1,at[0]=i.e=i.s=0),i;if(j==0?(at.length=it,et=1,it--):(at.length=it+1,et=mathpow(10,LOG_BASE-j),at[it]=_e>0?(st/mathpow(10,tt-_e)%mathpow(10,_e)|0)*et:0),nt)for(;;)if(it==0){(at[0]+=et)==BASE&&(at[0]=1,++i.e);break}else{if(at[it]+=et,at[it]!=BASE)break;at[it--]=0,et=1}for(j=at.length;at[--j]===0;)at.pop();if(external&&(i.e>MAX_E||i.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(i));return i}function subtract(i,o){var _,j,_e,et,tt,rt,nt,st,it,at,ot=i.constructor,ct=ot.precision;if(!i.s||!o.s)return o.s?o.s=-o.s:o=new ot(i),external?round$1(o,ct):o;if(nt=i.d,at=o.d,j=o.e,st=i.e,nt=nt.slice(),tt=st-j,tt){for(it=tt<0,it?(_=nt,tt=-tt,rt=at.length):(_=at,j=st,rt=nt.length),_e=Math.max(Math.ceil(ct/LOG_BASE),rt)+2,tt>_e&&(tt=_e,_.length=1),_.reverse(),_e=tt;_e--;)_.push(0);_.reverse()}else{for(_e=nt.length,rt=at.length,it=_e<rt,it&&(rt=_e),_e=0;_e<rt;_e++)if(nt[_e]!=at[_e]){it=nt[_e]<at[_e];break}tt=0}for(it&&(_=nt,nt=at,at=_,o.s=-o.s),rt=nt.length,_e=at.length-rt;_e>0;--_e)nt[rt++]=0;for(_e=at.length;_e>tt;){if(nt[--_e]<at[_e]){for(et=_e;et&&nt[--et]===0;)nt[et]=BASE-1;--nt[et],nt[_e]+=BASE}nt[_e]-=at[_e]}for(;nt[--rt]===0;)nt.pop();for(;nt[0]===0;nt.shift())--j;return nt[0]?(o.d=nt,o.e=j,external?round$1(o,ct):o):new ot(0)}function toString$1(i,o,_){var j,_e=getBase10Exponent(i),et=digitsToString(i.d),tt=et.length;return o?(_&&(j=_-tt)>0?et=et.charAt(0)+"."+et.slice(1)+getZeroString(j):tt>1&&(et=et.charAt(0)+"."+et.slice(1)),et=et+(_e<0?"e":"e+")+_e):_e<0?(et="0."+getZeroString(-_e-1)+et,_&&(j=_-tt)>0&&(et+=getZeroString(j))):_e>=tt?(et+=getZeroString(_e+1-tt),_&&(j=_-_e-1)>0&&(et=et+"."+getZeroString(j))):((j=_e+1)<tt&&(et=et.slice(0,j)+"."+et.slice(j)),_&&(j=_-tt)>0&&(_e+1===tt&&(et+="."),et+=getZeroString(j))),i.s<0?"-"+et:et}function truncate(i,o){if(i.length>o)return i.length=o,!0}function clone$2(i){var o,_,j;function _e(et){var tt=this;if(!(tt instanceof _e))return new _e(et);if(tt.constructor=_e,et instanceof _e){tt.s=et.s,tt.e=et.e,tt.d=(et=et.d)?et.slice():et;return}if(typeof et=="number"){if(et*0!==0)throw Error(invalidArgument+et);if(et>0)tt.s=1;else if(et<0)et=-et,tt.s=-1;else{tt.s=0,tt.e=0,tt.d=[0];return}if(et===~~et&&et<1e7){tt.e=0,tt.d=[et];return}return parseDecimal(tt,et.toString())}else if(typeof et!="string")throw Error(invalidArgument+et);if(et.charCodeAt(0)===45?(et=et.slice(1),tt.s=-1):tt.s=1,isDecimal.test(et))parseDecimal(tt,et);else throw Error(invalidArgument+et)}if(_e.prototype=P,_e.ROUND_UP=0,_e.ROUND_DOWN=1,_e.ROUND_CEIL=2,_e.ROUND_FLOOR=3,_e.ROUND_HALF_UP=4,_e.ROUND_HALF_DOWN=5,_e.ROUND_HALF_EVEN=6,_e.ROUND_HALF_CEIL=7,_e.ROUND_HALF_FLOOR=8,_e.clone=clone$2,_e.config=_e.set=config,i===void 0&&(i={}),i)for(j=["precision","rounding","toExpNeg","toExpPos","LN10"],o=0;o<j.length;)i.hasOwnProperty(_=j[o++])||(i[_]=this[_]);return _e.config(i),_e}function config(i){if(!i||typeof i!="object")throw Error(decimalError+"Object expected");var o,_,j,_e=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(o=0;o<_e.length;o+=3)if((j=i[_=_e[o]])!==void 0)if(mathfloor(j)===j&&j>=_e[o+1]&&j<=_e[o+2])this[_]=j;else throw Error(invalidArgument+_+": "+j);if((j=i[_="LN10"])!==void 0)if(j==Math.LN10)this[_]=new this(j);else throw Error(invalidArgument+_+": "+j);return this}var Decimal=clone$2(defaults$1);ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$b(i){return _arrayWithoutHoles$b(i)||_iterableToArray$c(i)||_unsupportedIterableToArray$j(i)||_nonIterableSpread$b()}function _nonIterableSpread$b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$j(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$j(i,o)}}function _iterableToArray$c(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}function _arrayWithoutHoles$b(i){if(Array.isArray(i))return _arrayLikeToArray$j(i)}function _arrayLikeToArray$j(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}var identity$1=function(o){return o},PLACE_HOLDER={},isPlaceHolder=function(o){return o===PLACE_HOLDER},curry0=function(o){return function _(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?_:o.apply(void 0,arguments)}},curryN=function i(o,_){return o===1?_:curry0(function(){for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];var tt=_e.filter(function(rt){return rt!==PLACE_HOLDER}).length;return tt>=o?_.apply(void 0,_e):i(o-tt,curry0(function(){for(var rt=arguments.length,nt=new Array(rt),st=0;st<rt;st++)nt[st]=arguments[st];var it=_e.map(function(at){return isPlaceHolder(at)?nt.shift():at});return _.apply(void 0,_toConsumableArray$b(it).concat(nt))}))})},curry=function(o){return curryN(o.length,o)},range$2=function(o,_){for(var j=[],_e=o;_e<_;++_e)j[_e-o]=_e;return j},map$2=curry(function(i,o){return Array.isArray(o)?o.map(i):Object.keys(o).map(function(_){return o[_]}).map(i)}),compose=function(){for(var o=arguments.length,_=new Array(o),j=0;j<o;j++)_[j]=arguments[j];if(!_.length)return identity$1;var _e=_.reverse(),et=_e[0],tt=_e.slice(1);return function(){return tt.reduce(function(rt,nt){return nt(rt)},et.apply(void 0,arguments))}},reverse=function(o){return Array.isArray(o)?o.reverse():o.split("").reverse.join("")},memoize=function(o){var _=null,j=null;return function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return _&&et.every(function(rt,nt){return rt===_[nt]})||(_=et,j=o.apply(void 0,et)),j}};function getDigitCount(i){var o;return i===0?o=1:o=Math.floor(new Decimal$1(i).abs().log(10).toNumber())+1,o}function rangeStep(i,o,_){for(var j=new Decimal$1(i),_e=0,et=[];j.lt(o)&&_e<1e5;)et.push(j.toNumber()),j=j.add(_),_e++;return et}var interpolateNumber=curry(function(i,o,_){var j=+i,_e=+o;return j+_*(_e-j)}),uninterpolateNumber=curry(function(i,o,_){var j=o-+i;return j=j||1/0,(_-i)/j}),uninterpolateTruncation=curry(function(i,o,_){var j=o-+i;return j=j||1/0,Math.max(0,Math.min(1,(_-i)/j))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$a(i){return _arrayWithoutHoles$a(i)||_iterableToArray$b(i)||_unsupportedIterableToArray$i(i)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$b(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}function _arrayWithoutHoles$a(i){if(Array.isArray(i))return _arrayLikeToArray$i(i)}function _slicedToArray$a(i,o){return _arrayWithHoles$b(i)||_iterableToArrayLimit$a(i,o)||_unsupportedIterableToArray$i(i,o)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$i(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$i(i,o)}}function _arrayLikeToArray$i(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$a(i,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var _=[],j=!0,_e=!1,et=void 0;try{for(var tt=i[Symbol.iterator](),rt;!(j=(rt=tt.next()).done)&&(_.push(rt.value),!(o&&_.length===o));j=!0);}catch(nt){_e=!0,et=nt}finally{try{!j&&tt.return!=null&&tt.return()}finally{if(_e)throw et}}return _}}function _arrayWithHoles$b(i){if(Array.isArray(i))return i}function getValidInterval(i){var o=_slicedToArray$a(i,2),_=o[0],j=o[1],_e=_,et=j;return _>j&&(_e=j,et=_),[_e,et]}function getFormatStep(i,o,_){if(i.lte(0))return new Decimal$1(0);var j=Arithmetic.getDigitCount(i.toNumber()),_e=new Decimal$1(10).pow(j),et=i.div(_e),tt=j!==1?.05:.1,rt=new Decimal$1(Math.ceil(et.div(tt).toNumber())).add(_).mul(tt),nt=rt.mul(_e);return o?nt:new Decimal$1(Math.ceil(nt))}function getTickOfSingleValue(i,o,_){var j=1,_e=new Decimal$1(i);if(!_e.isint()&&_){var et=Math.abs(i);et<1?(j=new Decimal$1(10).pow(Arithmetic.getDigitCount(i)-1),_e=new Decimal$1(Math.floor(_e.div(j).toNumber())).mul(j)):et>1&&(_e=new Decimal$1(Math.floor(i)))}else i===0?_e=new Decimal$1(Math.floor((o-1)/2)):_||(_e=new Decimal$1(Math.floor(i)));var tt=Math.floor((o-1)/2),rt=compose(map$2(function(nt){return _e.add(new Decimal$1(nt-tt).mul(j)).toNumber()}),range$2);return rt(0,o)}function calculateStep(i,o,_,j){var _e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((o-i)/(_-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var et=getFormatStep(new Decimal$1(o).sub(i).div(_-1),j,_e),tt;i<=0&&o>=0?tt=new Decimal$1(0):(tt=new Decimal$1(i).add(o).div(2),tt=tt.sub(new Decimal$1(tt).mod(et)));var rt=Math.ceil(tt.sub(i).div(et).toNumber()),nt=Math.ceil(new Decimal$1(o).sub(tt).div(et).toNumber()),st=rt+nt+1;return st>_?calculateStep(i,o,_,j,_e+1):(st<_&&(nt=o>0?nt+(_-st):nt,rt=o>0?rt:rt+(_-st)),{step:et,tickMin:tt.sub(new Decimal$1(rt).mul(et)),tickMax:tt.add(new Decimal$1(nt).mul(et))})}function getNiceTickValuesFn(i){var o=_slicedToArray$a(i,2),_=o[0],j=o[1],_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,tt=Math.max(_e,2),rt=getValidInterval([_,j]),nt=_slicedToArray$a(rt,2),st=nt[0],it=nt[1];if(st===-1/0||it===1/0){var at=it===1/0?[st].concat(_toConsumableArray$a(range$2(0,_e-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$a(range$2(0,_e-1).map(function(){return-1/0})),[it]);return _>j?reverse(at):at}if(st===it)return getTickOfSingleValue(st,_e,et);var ot=calculateStep(st,it,tt,et),ct=ot.step,ut=ot.tickMin,lt=ot.tickMax,pt=Arithmetic.rangeStep(ut,lt.add(new Decimal$1(.1).mul(ct)),ct);return _>j?reverse(pt):pt}function getTickValuesFixedDomainFn(i,o){var _=_slicedToArray$a(i,2),j=_[0],_e=_[1],et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,tt=getValidInterval([j,_e]),rt=_slicedToArray$a(tt,2),nt=rt[0],st=rt[1];if(nt===-1/0||st===1/0)return[j,_e];if(nt===st)return[nt];var it=Math.max(o,2),at=getFormatStep(new Decimal$1(st).sub(nt).div(it-1),et,0),ot=[].concat(_toConsumableArray$a(Arithmetic.rangeStep(new Decimal$1(nt),new Decimal$1(st).sub(new Decimal$1(.99).mul(at)),at)),[st]);return j>_e?reverse(ot):ot}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(i,o){throw new Error(prefix)}var _excluded$k=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$z(i){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$z(i)}function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$t.apply(this,arguments)}function _slicedToArray$9(i,o){return _arrayWithHoles$a(i)||_iterableToArrayLimit$9(i,o)||_unsupportedIterableToArray$h(i,o)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$h(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$h(i,o)}}function _arrayLikeToArray$h(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$9(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$a(i){if(Array.isArray(i))return i}function _objectWithoutProperties$j(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$j(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$j(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _classCallCheck$h(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$h(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$J(j.key),j)}}function _createClass$h(i,o,_){return o&&_defineProperties$h(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$e(i,o,_){return o=_getPrototypeOf$f(o),_possibleConstructorReturn$f(i,_isNativeReflectConstruct$f()?Reflect.construct(o,_||[],_getPrototypeOf$f(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$f(i,o){if(o&&(_typeof$z(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$f(i)}function _assertThisInitialized$f(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$f(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$f=function(){return!!i})()}function _getPrototypeOf$f(i){return _getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$f(i)}function _inherits$f(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$f(i,o)}function _setPrototypeOf$f(i,o){return _setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$f(i,o)}function _defineProperty$J(i,o,_){return o=_toPropertyKey$J(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$J(i){var o=_toPrimitive$J(i,"string");return _typeof$z(o)=="symbol"?o:o+""}function _toPrimitive$J(i,o){if(_typeof$z(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$z(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ErrorBar=function(i){function o(){return _classCallCheck$h(this,o),_callSuper$e(this,o,arguments)}return _inherits$f(o,i),_createClass$h(o,[{key:"render",value:function(){var j=this.props,_e=j.offset,et=j.layout,tt=j.width,rt=j.dataKey,nt=j.data,st=j.dataPointFormatter,it=j.xAxis,at=j.yAxis,ot=_objectWithoutProperties$j(j,_excluded$k),ct=filterProps(ot,!1);this.props.direction==="x"&&it.type!=="number"&&invariant();var ut=nt.map(function(lt){var pt=st(lt,rt),dt=pt.x,ht=pt.y,ft=pt.value,mt=pt.errorVal;if(!mt)return null;var xt=[],gt,yt;if(Array.isArray(mt)){var _t=_slicedToArray$9(mt,2);gt=_t[0],yt=_t[1]}else gt=yt=mt;if(et==="vertical"){var Et=it.scale,wt=ht+_e,$t=wt+tt,jt=wt-tt,Tt=Et(ft-gt),kt=Et(ft+yt);xt.push({x1:kt,y1:$t,x2:kt,y2:jt}),xt.push({x1:Tt,y1:wt,x2:kt,y2:wt}),xt.push({x1:Tt,y1:$t,x2:Tt,y2:jt})}else if(et==="horizontal"){var Pt=at.scale,St=dt+_e,Rt=St-tt,bt=St+tt,vt=Pt(ft-gt),At=Pt(ft+yt);xt.push({x1:Rt,y1:At,x2:bt,y2:At}),xt.push({x1:St,y1:vt,x2:St,y2:At}),xt.push({x1:Rt,y1:vt,x2:bt,y2:vt})}return React$7.createElement(Layer,_extends$t({className:"recharts-errorBar",key:"bar-".concat(xt.map(function(Ot){return"".concat(Ot.x1,"-").concat(Ot.x2,"-").concat(Ot.y1,"-").concat(Ot.y2)}))},ct),xt.map(function(Ot){return React$7.createElement("line",_extends$t({},Ot,{key:"line-".concat(Ot.x1,"-").concat(Ot.x2,"-").concat(Ot.y1,"-").concat(Ot.y2)}))}))});return React$7.createElement(Layer,{className:"recharts-errorBars"},ut)}}])}(React$7.Component);_defineProperty$J(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_defineProperty$J(ErrorBar,"displayName","ErrorBar");function _typeof$y(i){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$y(i)}function ownKeys$D(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$B(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$D(Object(_),!0).forEach(function(j){_defineProperty$I(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$D(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$I(i,o,_){return o=_toPropertyKey$I(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$I(i){var o=_toPrimitive$I(i,"string");return _typeof$y(o)=="symbol"?o:o+""}function _toPrimitive$I(i,o){if(_typeof$y(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$y(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getLegendProps=function(o){var _=o.children,j=o.formattedGraphicalItems,_e=o.legendWidth,et=o.legendContent,tt=findChildByType(_,Legend$1);if(!tt)return null;var rt=Legend$1.defaultProps,nt=rt!==void 0?_objectSpread$B(_objectSpread$B({},rt),tt.props):{},st;return tt.props&&tt.props.payload?st=tt.props&&tt.props.payload:et==="children"?st=(j||[]).reduce(function(it,at){var ot=at.item,ct=at.props,ut=ct.sectors||ct.data||[];return it.concat(ut.map(function(lt){return{type:tt.props.iconType||ot.props.legendType,value:lt.name,color:lt.fill,payload:lt}}))},[]):st=(j||[]).map(function(it){var at=it.item,ot=at.type.defaultProps,ct=ot!==void 0?_objectSpread$B(_objectSpread$B({},ot),at.props):{},ut=ct.dataKey,lt=ct.name,pt=ct.legendType,dt=ct.hide;return{inactive:dt,dataKey:ut,type:nt.iconType||pt||"square",color:getMainColorOfGraphicItem(at),value:lt||ut,payload:ct}}),_objectSpread$B(_objectSpread$B(_objectSpread$B({},nt),Legend$1.getWithHeight(tt,_e)),{},{payload:st,item:tt})};function _typeof$x(i){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$x(i)}function _toConsumableArray$9(i){return _arrayWithoutHoles$9(i)||_iterableToArray$a(i)||_unsupportedIterableToArray$g(i)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$g(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$g(i,o)}}function _iterableToArray$a(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$9(i){if(Array.isArray(i))return _arrayLikeToArray$g(i)}function _arrayLikeToArray$g(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function ownKeys$C(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$A(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$C(Object(_),!0).forEach(function(j){_defineProperty$H(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$C(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$H(i,o,_){return o=_toPropertyKey$H(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$H(i){var o=_toPrimitive$H(i,"string");return _typeof$x(o)=="symbol"?o:o+""}function _toPrimitive$H(i,o){if(_typeof$x(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$x(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function getValueByDataKey(i,o,_){return isNil$1(i)||isNil$1(o)?_:isNumOrStr(o)?get$2(i,o,_):isFunction$5(o)?o(i):_}function getDomainOfDataByKey(i,o,_,j){var _e=flatMap$1(i,function(rt){return getValueByDataKey(rt,o)});if(_==="number"){var et=_e.filter(function(rt){return isNumber$1(rt)||parseFloat(rt)});return et.length?[min$1(et),max$1(et)]:[1/0,-1/0]}var tt=j?_e.filter(function(rt){return!isNil$1(rt)}):_e;return tt.map(function(rt){return isNumOrStr(rt)||rt instanceof Date?rt:""})}var calculateActiveTickIndex=function(o){var _,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_e=arguments.length>2?arguments[2]:void 0,et=arguments.length>3?arguments[3]:void 0,tt=-1,rt=(_=j==null?void 0:j.length)!==null&&_!==void 0?_:0;if(rt<=1)return 0;if(et&&et.axisType==="angleAxis"&&Math.abs(Math.abs(et.range[1]-et.range[0])-360)<=1e-6)for(var nt=et.range,st=0;st<rt;st++){var it=st>0?_e[st-1].coordinate:_e[rt-1].coordinate,at=_e[st].coordinate,ot=st>=rt-1?_e[0].coordinate:_e[st+1].coordinate,ct=void 0;if(mathSign(at-it)!==mathSign(ot-at)){var ut=[];if(mathSign(ot-at)===mathSign(nt[1]-nt[0])){ct=ot;var lt=at+nt[1]-nt[0];ut[0]=Math.min(lt,(lt+it)/2),ut[1]=Math.max(lt,(lt+it)/2)}else{ct=it;var pt=ot+nt[1]-nt[0];ut[0]=Math.min(at,(pt+at)/2),ut[1]=Math.max(at,(pt+at)/2)}var dt=[Math.min(at,(ct+at)/2),Math.max(at,(ct+at)/2)];if(o>dt[0]&&o<=dt[1]||o>=ut[0]&&o<=ut[1]){tt=_e[st].index;break}}else{var ht=Math.min(it,ot),ft=Math.max(it,ot);if(o>(ht+at)/2&&o<=(ft+at)/2){tt=_e[st].index;break}}}else for(var mt=0;mt<rt;mt++)if(mt===0&&o<=(j[mt].coordinate+j[mt+1].coordinate)/2||mt>0&&mt<rt-1&&o>(j[mt].coordinate+j[mt-1].coordinate)/2&&o<=(j[mt].coordinate+j[mt+1].coordinate)/2||mt===rt-1&&o>(j[mt].coordinate+j[mt-1].coordinate)/2){tt=j[mt].index;break}return tt},getMainColorOfGraphicItem=function(o){var _,j=o,_e=j.type.displayName,et=(_=o.type)!==null&&_!==void 0&&_.defaultProps?_objectSpread$A(_objectSpread$A({},o.type.defaultProps),o.props):o.props,tt=et.stroke,rt=et.fill,nt;switch(_e){case"Line":nt=tt;break;case"Area":case"Radar":nt=tt&&tt!=="none"?tt:rt;break;default:nt=rt;break}return nt},getBarSizeList=function(o){var _=o.barSize,j=o.totalSize,_e=o.stackGroups,et=_e===void 0?{}:_e;if(!et)return{};for(var tt={},rt=Object.keys(et),nt=0,st=rt.length;nt<st;nt++)for(var it=et[rt[nt]].stackGroups,at=Object.keys(it),ot=0,ct=at.length;ot<ct;ot++){var ut=it[at[ot]],lt=ut.items,pt=ut.cateAxisId,dt=lt.filter(function(yt){return getDisplayName(yt.type).indexOf("Bar")>=0});if(dt&&dt.length){var ht=dt[0].type.defaultProps,ft=ht!==void 0?_objectSpread$A(_objectSpread$A({},ht),dt[0].props):dt[0].props,mt=ft.barSize,xt=ft[pt];tt[xt]||(tt[xt]=[]);var gt=isNil$1(mt)?_:mt;tt[xt].push({item:dt[0],stackList:dt.slice(1),barSize:isNil$1(gt)?void 0:getPercentValue(gt,j,0)})}}return tt},getBarPosition=function(o){var _=o.barGap,j=o.barCategoryGap,_e=o.bandSize,et=o.sizeList,tt=et===void 0?[]:et,rt=o.maxBarSize,nt=tt.length;if(nt<1)return null;var st=getPercentValue(_,_e,0,!0),it,at=[];if(tt[0].barSize===+tt[0].barSize){var ot=!1,ct=_e/nt,ut=tt.reduce(function(mt,xt){return mt+xt.barSize||0},0);ut+=(nt-1)*st,ut>=_e&&(ut-=(nt-1)*st,st=0),ut>=_e&&ct>0&&(ot=!0,ct*=.9,ut=nt*ct);var lt=(_e-ut)/2>>0,pt={offset:lt-st,size:0};it=tt.reduce(function(mt,xt){var gt={item:xt.item,position:{offset:pt.offset+pt.size+st,size:ot?ct:xt.barSize}},yt=[].concat(_toConsumableArray$9(mt),[gt]);return pt=yt[yt.length-1].position,xt.stackList&&xt.stackList.length&&xt.stackList.forEach(function(_t){yt.push({item:_t,position:pt})}),yt},at)}else{var dt=getPercentValue(j,_e,0,!0);_e-2*dt-(nt-1)*st<=0&&(st=0);var ht=(_e-2*dt-(nt-1)*st)/nt;ht>1&&(ht>>=0);var ft=rt===+rt?Math.min(ht,rt):ht;it=tt.reduce(function(mt,xt,gt){var yt=[].concat(_toConsumableArray$9(mt),[{item:xt.item,position:{offset:dt+(ht+st)*gt+(ht-ft)/2,size:ft}}]);return xt.stackList&&xt.stackList.length&&xt.stackList.forEach(function(_t){yt.push({item:_t,position:yt[yt.length-1].position})}),yt},at)}return it},appendOffsetOfLegend=function(o,_,j,_e){var et=j.children,tt=j.width,rt=j.margin,nt=tt-(rt.left||0)-(rt.right||0),st=getLegendProps({children:et,legendWidth:nt});if(st){var it=_e||{},at=it.width,ot=it.height,ct=st.align,ut=st.verticalAlign,lt=st.layout;if((lt==="vertical"||lt==="horizontal"&&ut==="middle")&&ct!=="center"&&isNumber$1(o[ct]))return _objectSpread$A(_objectSpread$A({},o),{},_defineProperty$H({},ct,o[ct]+(at||0)));if((lt==="horizontal"||lt==="vertical"&&ct==="center")&&ut!=="middle"&&isNumber$1(o[ut]))return _objectSpread$A(_objectSpread$A({},o),{},_defineProperty$H({},ut,o[ut]+(ot||0)))}return o},isErrorBarRelevantForAxis=function(o,_,j){return isNil$1(_)?!0:o==="horizontal"?_==="yAxis":o==="vertical"||j==="x"?_==="xAxis":j==="y"?_==="yAxis":!0},getDomainOfErrorBars=function(o,_,j,_e,et){var tt=_.props.children,rt=findAllByType(tt,ErrorBar).filter(function(st){return isErrorBarRelevantForAxis(_e,et,st.props.direction)});if(rt&&rt.length){var nt=rt.map(function(st){return st.props.dataKey});return o.reduce(function(st,it){var at=getValueByDataKey(it,j);if(isNil$1(at))return st;var ot=Array.isArray(at)?[min$1(at),max$1(at)]:[at,at],ct=nt.reduce(function(ut,lt){var pt=getValueByDataKey(it,lt,0),dt=ot[0]-Math.abs(Array.isArray(pt)?pt[0]:pt),ht=ot[1]+Math.abs(Array.isArray(pt)?pt[1]:pt);return[Math.min(dt,ut[0]),Math.max(ht,ut[1])]},[1/0,-1/0]);return[Math.min(ct[0],st[0]),Math.max(ct[1],st[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(o,_,j,_e,et){var tt=_.map(function(rt){return getDomainOfErrorBars(o,rt,j,et,_e)}).filter(function(rt){return!isNil$1(rt)});return tt&&tt.length?tt.reduce(function(rt,nt){return[Math.min(rt[0],nt[0]),Math.max(rt[1],nt[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(o,_,j,_e,et){var tt=_.map(function(nt){var st=nt.props.dataKey;return j==="number"&&st&&getDomainOfErrorBars(o,nt,st,_e)||getDomainOfDataByKey(o,st,j,et)});if(j==="number")return tt.reduce(function(nt,st){return[Math.min(nt[0],st[0]),Math.max(nt[1],st[1])]},[1/0,-1/0]);var rt={};return tt.reduce(function(nt,st){for(var it=0,at=st.length;it<at;it++)rt[st[it]]||(rt[st[it]]=!0,nt.push(st[it]));return nt},[])},isCategoricalAxis=function(o,_){return o==="horizontal"&&_==="xAxis"||o==="vertical"&&_==="yAxis"||o==="centric"&&_==="angleAxis"||o==="radial"&&_==="radiusAxis"},getTicksOfAxis=function(o,_,j){if(!o)return null;var _e=o.scale,et=o.duplicateDomain,tt=o.type,rt=o.range,nt=o.realScaleType==="scaleBand"?_e.bandwidth()/2:2,st=(_||j)&&tt==="category"&&_e.bandwidth?_e.bandwidth()/nt:0;if(st=o.axisType==="angleAxis"&&(rt==null?void 0:rt.length)>=2?mathSign(rt[0]-rt[1])*2*st:st,_&&(o.ticks||o.niceTicks)){var it=(o.ticks||o.niceTicks).map(function(at){var ot=et?et.indexOf(at):at;return{coordinate:_e(ot)+st,value:at,offset:st}});return it.filter(function(at){return!isNan(at.coordinate)})}return o.isCategorical&&o.categoricalDomain?o.categoricalDomain.map(function(at,ot){return{coordinate:_e(at)+st,value:at,index:ot,offset:st}}):_e.ticks&&!j?_e.ticks(o.tickCount).map(function(at){return{coordinate:_e(at)+st,value:at,offset:st}}):_e.domain().map(function(at,ot){return{coordinate:_e(at)+st,value:et?et[at]:at,index:ot,offset:st}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(o,_){if(typeof _!="function")return o;handlerWeakMap.has(o)||handlerWeakMap.set(o,new WeakMap);var j=handlerWeakMap.get(o);if(j.has(_))return j.get(_);var _e=function(){o.apply(void 0,arguments),_.apply(void 0,arguments)};return j.set(_,_e),_e},parseScale=function(o,_,j){var _e=o.scale,et=o.type,tt=o.layout,rt=o.axisType;if(_e==="auto")return tt==="radial"&&rt==="radiusAxis"?{scale:band(),realScaleType:"band"}:tt==="radial"&&rt==="angleAxis"?{scale:linear(),realScaleType:"linear"}:et==="category"&&_&&(_.indexOf("LineChart")>=0||_.indexOf("AreaChart")>=0||_.indexOf("ComposedChart")>=0&&!j)?{scale:point(),realScaleType:"point"}:et==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$1(_e)){var nt="scale".concat(upperFirst$1(_e));return{scale:(d3Scales[nt]||point)(),realScaleType:d3Scales[nt]?nt:"point"}}return isFunction$5(_e)?{scale:_e}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(o){var _=o.domain();if(!(!_||_.length<=2)){var j=_.length,_e=o.range(),et=Math.min(_e[0],_e[1])-EPS,tt=Math.max(_e[0],_e[1])+EPS,rt=o(_[0]),nt=o(_[j-1]);(rt<et||rt>tt||nt<et||nt>tt)&&o.domain([_[0],_[j-1]])}},findPositionOfBar=function(o,_){if(!o)return null;for(var j=0,_e=o.length;j<_e;j++)if(o[j].item===_)return o[j].position;return null},truncateByDomain=function(o,_){if(!_||_.length!==2||!isNumber$1(_[0])||!isNumber$1(_[1]))return o;var j=Math.min(_[0],_[1]),_e=Math.max(_[0],_[1]),et=[o[0],o[1]];return(!isNumber$1(o[0])||o[0]<j)&&(et[0]=j),(!isNumber$1(o[1])||o[1]>_e)&&(et[1]=_e),et[0]>_e&&(et[0]=_e),et[1]<j&&(et[1]=j),et},offsetSign=function(o){var _=o.length;if(!(_<=0))for(var j=0,_e=o[0].length;j<_e;++j)for(var et=0,tt=0,rt=0;rt<_;++rt){var nt=isNan(o[rt][j][1])?o[rt][j][0]:o[rt][j][1];nt>=0?(o[rt][j][0]=et,o[rt][j][1]=et+nt,et=o[rt][j][1]):(o[rt][j][0]=tt,o[rt][j][1]=tt+nt,tt=o[rt][j][1])}},offsetPositive=function(o){var _=o.length;if(!(_<=0))for(var j=0,_e=o[0].length;j<_e;++j)for(var et=0,tt=0;tt<_;++tt){var rt=isNan(o[tt][j][1])?o[tt][j][0]:o[tt][j][1];rt>=0?(o[tt][j][0]=et,o[tt][j][1]=et+rt,et=o[tt][j][1]):(o[tt][j][0]=0,o[tt][j][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(o,_,j){var _e=_.map(function(rt){return rt.props.dataKey}),et=STACK_OFFSET_MAP[j],tt=shapeStack().keys(_e).value(function(rt,nt){return+getValueByDataKey(rt,nt,0)}).order(stackOrderNone).offset(et);return tt(o)},getStackGroupsByAxisId=function(o,_,j,_e,et,tt){if(!o)return null;var rt=tt?_.reverse():_,nt={},st=rt.reduce(function(at,ot){var ct,ut=(ct=ot.type)!==null&&ct!==void 0&&ct.defaultProps?_objectSpread$A(_objectSpread$A({},ot.type.defaultProps),ot.props):ot.props,lt=ut.stackId,pt=ut.hide;if(pt)return at;var dt=ut[j],ht=at[dt]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(lt)){var ft=ht.stackGroups[lt]||{numericAxisId:j,cateAxisId:_e,items:[]};ft.items.push(ot),ht.hasStack=!0,ht.stackGroups[lt]=ft}else ht.stackGroups[uniqueId("_stackId_")]={numericAxisId:j,cateAxisId:_e,items:[ot]};return _objectSpread$A(_objectSpread$A({},at),{},_defineProperty$H({},dt,ht))},nt),it={};return Object.keys(st).reduce(function(at,ot){var ct=st[ot];if(ct.hasStack){var ut={};ct.stackGroups=Object.keys(ct.stackGroups).reduce(function(lt,pt){var dt=ct.stackGroups[pt];return _objectSpread$A(_objectSpread$A({},lt),{},_defineProperty$H({},pt,{numericAxisId:j,cateAxisId:_e,items:dt.items,stackedData:getStackedData(o,dt.items,et)}))},ut)}return _objectSpread$A(_objectSpread$A({},at),{},_defineProperty$H({},ot,ct))},it)},getTicksOfScale=function(o,_){var j=_.realScaleType,_e=_.type,et=_.tickCount,tt=_.originalDomain,rt=_.allowDecimals,nt=j||_.scale;if(nt!=="auto"&&nt!=="linear")return null;if(et&&_e==="number"&&tt&&(tt[0]==="auto"||tt[1]==="auto")){var st=o.domain();if(!st.length)return null;var it=getNiceTickValues(st,et,rt);return o.domain([min$1(it),max$1(it)]),{niceTicks:it}}if(et&&_e==="number"){var at=o.domain(),ot=getTickValuesFixedDomain(at,et,rt);return{niceTicks:ot}}return null};function getCateCoordinateOfLine(i){var o=i.axis,_=i.ticks,j=i.bandSize,_e=i.entry,et=i.index,tt=i.dataKey;if(o.type==="category"){if(!o.allowDuplicatedCategory&&o.dataKey&&!isNil$1(_e[o.dataKey])){var rt=findEntryInArray(_,"value",_e[o.dataKey]);if(rt)return rt.coordinate+j/2}return _[et]?_[et].coordinate+j/2:null}var nt=getValueByDataKey(_e,isNil$1(tt)?o.dataKey:tt);return isNil$1(nt)?null:o.scale(nt)}var getCateCoordinateOfBar=function(o){var _=o.axis,j=o.ticks,_e=o.offset,et=o.bandSize,tt=o.entry,rt=o.index;if(_.type==="category")return j[rt]?j[rt].coordinate+_e:null;var nt=getValueByDataKey(tt,_.dataKey,_.domain[rt]);return isNil$1(nt)?null:_.scale(nt)-et/2+_e},getBaseValueOfBar=function(o){var _=o.numericAxis,j=_.scale.domain();if(_.type==="number"){var _e=Math.min(j[0],j[1]),et=Math.max(j[0],j[1]);return _e<=0&&et>=0?0:et<0?et:_e}return j[0]},getStackedDataOfItem=function(o,_){var j,_e=(j=o.type)!==null&&j!==void 0&&j.defaultProps?_objectSpread$A(_objectSpread$A({},o.type.defaultProps),o.props):o.props,et=_e.stackId;if(isNumOrStr(et)){var tt=_[et];if(tt){var rt=tt.items.indexOf(o);return rt>=0?tt.stackedData[rt]:null}}return null},getDomainOfSingle=function(o){return o.reduce(function(_,j){return[min$1(j.concat([_[0]]).filter(isNumber$1)),max$1(j.concat([_[1]]).filter(isNumber$1))]},[1/0,-1/0])},getDomainOfStackGroups=function(o,_,j){return Object.keys(o).reduce(function(_e,et){var tt=o[et],rt=tt.stackedData,nt=rt.reduce(function(st,it){var at=getDomainOfSingle(it.slice(_,j+1));return[Math.min(st[0],at[0]),Math.max(st[1],at[1])]},[1/0,-1/0]);return[Math.min(nt[0],_e[0]),Math.max(nt[1],_e[1])]},[1/0,-1/0]).map(function(_e){return _e===1/0||_e===-1/0?0:_e})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(o,_,j){if(isFunction$5(o))return o(_,j);if(!Array.isArray(o))return _;var _e=[];if(isNumber$1(o[0]))_e[0]=j?o[0]:Math.min(o[0],_[0]);else if(MIN_VALUE_REG.test(o[0])){var et=+MIN_VALUE_REG.exec(o[0])[1];_e[0]=_[0]-et}else isFunction$5(o[0])?_e[0]=o[0](_[0]):_e[0]=_[0];if(isNumber$1(o[1]))_e[1]=j?o[1]:Math.max(o[1],_[1]);else if(MAX_VALUE_REG.test(o[1])){var tt=+MAX_VALUE_REG.exec(o[1])[1];_e[1]=_[1]+tt}else isFunction$5(o[1])?_e[1]=o[1](_[1]):_e[1]=_[1];return _e},getBandSizeOfAxis=function(o,_,j){if(o&&o.scale&&o.scale.bandwidth){var _e=o.scale.bandwidth();if(!j||_e>0)return _e}if(o&&_&&_.length>=2){for(var et=sortBy$1(_,function(at){return at.coordinate}),tt=1/0,rt=1,nt=et.length;rt<nt;rt++){var st=et[rt],it=et[rt-1];tt=Math.min((st.coordinate||0)-(it.coordinate||0),tt)}return tt===1/0?0:tt}return j?void 0:0},parseDomainOfCategoryAxis=function(o,_,j){return!o||!o.length||isEqual$1(o,get$2(j,"type.defaultProps.domain"))?_:o},getTooltipItem=function(o,_){var j=o.type.defaultProps?_objectSpread$A(_objectSpread$A({},o.type.defaultProps),o.props):o.props,_e=j.dataKey,et=j.name,tt=j.unit,rt=j.formatter,nt=j.tooltipType,st=j.chartType,it=j.hide;return _objectSpread$A(_objectSpread$A({},filterProps(o,!1)),{},{dataKey:_e,unit:tt,formatter:rt,name:et||_e,color:getMainColorOfGraphicItem(o),value:getValueByDataKey(_,_e),type:nt,payload:_,chartType:st,hide:it})};function _typeof$w(i){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$w(i)}function ownKeys$B(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$z(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$B(Object(_),!0).forEach(function(j){_defineProperty$G(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$B(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$G(i,o,_){return o=_toPropertyKey$G(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$G(i){var o=_toPrimitive$G(i,"string");return _typeof$w(o)=="symbol"?o:o+""}function _toPrimitive$G(i,o){if(_typeof$w(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$w(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray$8(i,o){return _arrayWithHoles$9(i)||_iterableToArrayLimit$8(i,o)||_unsupportedIterableToArray$f(i,o)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$f(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$f(i,o)}}function _arrayLikeToArray$f(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$8(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$9(i){if(Array.isArray(i))return i}var RADIAN$1=Math.PI/180,radianToDegree=function(o){return o*180/Math.PI},polarToCartesian=function(o,_,j,_e){return{x:o+Math.cos(-RADIAN$1*_e)*j,y:_+Math.sin(-RADIAN$1*_e)*j}},getMaxRadius=function(o,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(o-(j.left||0)-(j.right||0)),Math.abs(_-(j.top||0)-(j.bottom||0)))/2},formatAxisMap$1=function(o,_,j,_e,et){var tt=o.width,rt=o.height,nt=o.startAngle,st=o.endAngle,it=getPercentValue(o.cx,tt,tt/2),at=getPercentValue(o.cy,rt,rt/2),ot=getMaxRadius(tt,rt,j),ct=getPercentValue(o.innerRadius,ot,0),ut=getPercentValue(o.outerRadius,ot,ot*.8),lt=Object.keys(_);return lt.reduce(function(pt,dt){var ht=_[dt],ft=ht.domain,mt=ht.reversed,xt;if(isNil$1(ht.range))_e==="angleAxis"?xt=[nt,st]:_e==="radiusAxis"&&(xt=[ct,ut]),mt&&(xt=[xt[1],xt[0]]);else{xt=ht.range;var gt=xt,yt=_slicedToArray$8(gt,2);nt=yt[0],st=yt[1]}var _t=parseScale(ht,et),Et=_t.realScaleType,wt=_t.scale;wt.domain(ft).range(xt),checkDomainOfScale(wt);var $t=getTicksOfScale(wt,_objectSpread$z(_objectSpread$z({},ht),{},{realScaleType:Et})),jt=_objectSpread$z(_objectSpread$z(_objectSpread$z({},ht),$t),{},{range:xt,radius:ut,realScaleType:Et,scale:wt,cx:it,cy:at,innerRadius:ct,outerRadius:ut,startAngle:nt,endAngle:st});return _objectSpread$z(_objectSpread$z({},pt),{},_defineProperty$G({},dt,jt))},{})},distanceBetweenPoints$1=function(o,_){var j=o.x,_e=o.y,et=_.x,tt=_.y;return Math.sqrt(Math.pow(j-et,2)+Math.pow(_e-tt,2))},getAngleOfPoint=function(o,_){var j=o.x,_e=o.y,et=_.cx,tt=_.cy,rt=distanceBetweenPoints$1({x:j,y:_e},{x:et,y:tt});if(rt<=0)return{radius:rt};var nt=(j-et)/rt,st=Math.acos(nt);return _e>tt&&(st=2*Math.PI-st),{radius:rt,angle:radianToDegree(st),angleInRadian:st}},formatAngleOfSector=function(o){var _=o.startAngle,j=o.endAngle,_e=Math.floor(_/360),et=Math.floor(j/360),tt=Math.min(_e,et);return{startAngle:_-tt*360,endAngle:j-tt*360}},reverseFormatAngleOfSetor=function(o,_){var j=_.startAngle,_e=_.endAngle,et=Math.floor(j/360),tt=Math.floor(_e/360),rt=Math.min(et,tt);return o+rt*360},inRangeOfSector=function(o,_){var j=o.x,_e=o.y,et=getAngleOfPoint({x:j,y:_e},_),tt=et.radius,rt=et.angle,nt=_.innerRadius,st=_.outerRadius;if(tt<nt||tt>st)return!1;if(tt===0)return!0;var it=formatAngleOfSector(_),at=it.startAngle,ot=it.endAngle,ct=rt,ut;if(at<=ot){for(;ct>ot;)ct-=360;for(;ct<at;)ct+=360;ut=ct>=at&&ct<=ot}else{for(;ct>at;)ct-=360;for(;ct<ot;)ct+=360;ut=ct>=ot&&ct<=at}return ut?_objectSpread$z(_objectSpread$z({},_),{},{radius:tt,angle:reverseFormatAngleOfSetor(ct,_)}):null},getTickClassName=function(o){return!reactExports.isValidElement(o)&&!isFunction$5(o)&&typeof o!="boolean"?o.className:""};function _typeof$v(i){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$v(i)}var _excluded$j=["offset"];function _toConsumableArray$8(i){return _arrayWithoutHoles$8(i)||_iterableToArray$9(i)||_unsupportedIterableToArray$e(i)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$e(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$e(i,o)}}function _iterableToArray$9(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$8(i){if(Array.isArray(i))return _arrayLikeToArray$e(i)}function _arrayLikeToArray$e(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _objectWithoutProperties$i(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$i(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$i(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function ownKeys$A(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$y(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$A(Object(_),!0).forEach(function(j){_defineProperty$F(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$A(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$F(i,o,_){return o=_toPropertyKey$F(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$F(i){var o=_toPrimitive$F(i,"string");return _typeof$v(o)=="symbol"?o:o+""}function _toPrimitive$F(i,o){if(_typeof$v(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$v(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$s.apply(this,arguments)}var getLabel=function(o){var _=o.value,j=o.formatter,_e=isNil$1(o.children)?_:o.children;return isFunction$5(j)?j(_e):_e},getDeltaAngle$1=function(o,_){var j=mathSign(_-o),_e=Math.min(Math.abs(_-o),360);return j*_e},renderRadialLabel=function(o,_,j){var _e=o.position,et=o.viewBox,tt=o.offset,rt=o.className,nt=et,st=nt.cx,it=nt.cy,at=nt.innerRadius,ot=nt.outerRadius,ct=nt.startAngle,ut=nt.endAngle,lt=nt.clockWise,pt=(at+ot)/2,dt=getDeltaAngle$1(ct,ut),ht=dt>=0?1:-1,ft,mt;_e==="insideStart"?(ft=ct+ht*tt,mt=lt):_e==="insideEnd"?(ft=ut-ht*tt,mt=!lt):_e==="end"&&(ft=ut+ht*tt,mt=lt),mt=dt<=0?mt:!mt;var xt=polarToCartesian(st,it,pt,ft),gt=polarToCartesian(st,it,pt,ft+(mt?1:-1)*359),yt="M".concat(xt.x,",").concat(xt.y,`
    A`).concat(pt,",").concat(pt,",0,1,").concat(mt?0:1,`,
    `).concat(gt.x,",").concat(gt.y),_t=isNil$1(o.id)?uniqueId("recharts-radial-line-"):o.id;return React$7.createElement("text",_extends$s({},j,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",rt)}),React$7.createElement("defs",null,React$7.createElement("path",{id:_t,d:yt})),React$7.createElement("textPath",{xlinkHref:"#".concat(_t)},_))},getAttrsOfPolarLabel=function(o){var _=o.viewBox,j=o.offset,_e=o.position,et=_,tt=et.cx,rt=et.cy,nt=et.innerRadius,st=et.outerRadius,it=et.startAngle,at=et.endAngle,ot=(it+at)/2;if(_e==="outside"){var ct=polarToCartesian(tt,rt,st+j,ot),ut=ct.x,lt=ct.y;return{x:ut,y:lt,textAnchor:ut>=tt?"start":"end",verticalAnchor:"middle"}}if(_e==="center")return{x:tt,y:rt,textAnchor:"middle",verticalAnchor:"middle"};if(_e==="centerTop")return{x:tt,y:rt,textAnchor:"middle",verticalAnchor:"start"};if(_e==="centerBottom")return{x:tt,y:rt,textAnchor:"middle",verticalAnchor:"end"};var pt=(nt+st)/2,dt=polarToCartesian(tt,rt,pt,ot),ht=dt.x,ft=dt.y;return{x:ht,y:ft,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(o){var _=o.viewBox,j=o.parentViewBox,_e=o.offset,et=o.position,tt=_,rt=tt.x,nt=tt.y,st=tt.width,it=tt.height,at=it>=0?1:-1,ot=at*_e,ct=at>0?"end":"start",ut=at>0?"start":"end",lt=st>=0?1:-1,pt=lt*_e,dt=lt>0?"end":"start",ht=lt>0?"start":"end";if(et==="top"){var ft={x:rt+st/2,y:nt-at*_e,textAnchor:"middle",verticalAnchor:ct};return _objectSpread$y(_objectSpread$y({},ft),j?{height:Math.max(nt-j.y,0),width:st}:{})}if(et==="bottom"){var mt={x:rt+st/2,y:nt+it+ot,textAnchor:"middle",verticalAnchor:ut};return _objectSpread$y(_objectSpread$y({},mt),j?{height:Math.max(j.y+j.height-(nt+it),0),width:st}:{})}if(et==="left"){var xt={x:rt-pt,y:nt+it/2,textAnchor:dt,verticalAnchor:"middle"};return _objectSpread$y(_objectSpread$y({},xt),j?{width:Math.max(xt.x-j.x,0),height:it}:{})}if(et==="right"){var gt={x:rt+st+pt,y:nt+it/2,textAnchor:ht,verticalAnchor:"middle"};return _objectSpread$y(_objectSpread$y({},gt),j?{width:Math.max(j.x+j.width-gt.x,0),height:it}:{})}var yt=j?{width:st,height:it}:{};return et==="insideLeft"?_objectSpread$y({x:rt+pt,y:nt+it/2,textAnchor:ht,verticalAnchor:"middle"},yt):et==="insideRight"?_objectSpread$y({x:rt+st-pt,y:nt+it/2,textAnchor:dt,verticalAnchor:"middle"},yt):et==="insideTop"?_objectSpread$y({x:rt+st/2,y:nt+ot,textAnchor:"middle",verticalAnchor:ut},yt):et==="insideBottom"?_objectSpread$y({x:rt+st/2,y:nt+it-ot,textAnchor:"middle",verticalAnchor:ct},yt):et==="insideTopLeft"?_objectSpread$y({x:rt+pt,y:nt+ot,textAnchor:ht,verticalAnchor:ut},yt):et==="insideTopRight"?_objectSpread$y({x:rt+st-pt,y:nt+ot,textAnchor:dt,verticalAnchor:ut},yt):et==="insideBottomLeft"?_objectSpread$y({x:rt+pt,y:nt+it-ot,textAnchor:ht,verticalAnchor:ct},yt):et==="insideBottomRight"?_objectSpread$y({x:rt+st-pt,y:nt+it-ot,textAnchor:dt,verticalAnchor:ct},yt):isObject$9(et)&&(isNumber$1(et.x)||isPercent(et.x))&&(isNumber$1(et.y)||isPercent(et.y))?_objectSpread$y({x:rt+getPercentValue(et.x,st),y:nt+getPercentValue(et.y,it),textAnchor:"end",verticalAnchor:"end"},yt):_objectSpread$y({x:rt+st/2,y:nt+it/2,textAnchor:"middle",verticalAnchor:"middle"},yt)},isPolar=function(o){return"cx"in o&&isNumber$1(o.cx)};function Label(i){var o=i.offset,_=o===void 0?5:o,j=_objectWithoutProperties$i(i,_excluded$j),_e=_objectSpread$y({offset:_},j),et=_e.viewBox,tt=_e.position,rt=_e.value,nt=_e.children,st=_e.content,it=_e.className,at=it===void 0?"":it,ot=_e.textBreakAll;if(!et||isNil$1(rt)&&isNil$1(nt)&&!reactExports.isValidElement(st)&&!isFunction$5(st))return null;if(reactExports.isValidElement(st))return reactExports.cloneElement(st,_e);var ct;if(isFunction$5(st)){if(ct=reactExports.createElement(st,_e),reactExports.isValidElement(ct))return ct}else ct=getLabel(_e);var ut=isPolar(et),lt=filterProps(_e,!0);if(ut&&(tt==="insideStart"||tt==="insideEnd"||tt==="end"))return renderRadialLabel(_e,ct,lt);var pt=ut?getAttrsOfPolarLabel(_e):getAttrsOfCartesianLabel(_e);return React$7.createElement(Text,_extends$s({className:clsx("recharts-label",at)},lt,pt,{breakAll:ot}),ct)}Label.displayName="Label";var parseViewBox=function(o){var _=o.cx,j=o.cy,_e=o.angle,et=o.startAngle,tt=o.endAngle,rt=o.r,nt=o.radius,st=o.innerRadius,it=o.outerRadius,at=o.x,ot=o.y,ct=o.top,ut=o.left,lt=o.width,pt=o.height,dt=o.clockWise,ht=o.labelViewBox;if(ht)return ht;if(isNumber$1(lt)&&isNumber$1(pt)){if(isNumber$1(at)&&isNumber$1(ot))return{x:at,y:ot,width:lt,height:pt};if(isNumber$1(ct)&&isNumber$1(ut))return{x:ct,y:ut,width:lt,height:pt}}return isNumber$1(at)&&isNumber$1(ot)?{x:at,y:ot,width:0,height:0}:isNumber$1(_)&&isNumber$1(j)?{cx:_,cy:j,startAngle:et||_e||0,endAngle:tt||_e||0,innerRadius:st||0,outerRadius:it||nt||rt||0,clockWise:dt}:o.viewBox?o.viewBox:{}},parseLabel=function(o,_){return o?o===!0?React$7.createElement(Label,{key:"label-implicit",viewBox:_}):isNumOrStr(o)?React$7.createElement(Label,{key:"label-implicit",viewBox:_,value:o}):reactExports.isValidElement(o)?o.type===Label?reactExports.cloneElement(o,{key:"label-implicit",viewBox:_}):React$7.createElement(Label,{key:"label-implicit",content:o,viewBox:_}):isFunction$5(o)?React$7.createElement(Label,{key:"label-implicit",content:o,viewBox:_}):isObject$9(o)?React$7.createElement(Label,_extends$s({viewBox:_},o,{key:"label-implicit"})):null:null},renderCallByParent$1=function(o,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!o||!o.children&&j&&!o.label)return null;var _e=o.children,et=parseViewBox(o),tt=findAllByType(_e,Label).map(function(nt,st){return reactExports.cloneElement(nt,{viewBox:_||et,key:"label-".concat(st)})});if(!j)return tt;var rt=parseLabel(o.label,_||et);return[rt].concat(_toConsumableArray$8(tt))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(i){var o=i==null?0:i.length;return o?i[o-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$u(i){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$u(i)}var _excluded$i=["valueAccessor"],_excluded2$5=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$7(i){return _arrayWithoutHoles$7(i)||_iterableToArray$8(i)||_unsupportedIterableToArray$d(i)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$d(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$d(i,o)}}function _iterableToArray$8(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$7(i){if(Array.isArray(i))return _arrayLikeToArray$d(i)}function _arrayLikeToArray$d(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$r.apply(this,arguments)}function ownKeys$z(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$x(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$z(Object(_),!0).forEach(function(j){_defineProperty$E(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$z(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$E(i,o,_){return o=_toPropertyKey$E(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$E(i){var o=_toPrimitive$E(i,"string");return _typeof$u(o)=="symbol"?o:o+""}function _toPrimitive$E(i,o){if(_typeof$u(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$u(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$h(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$h(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$h(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}var defaultAccessor=function(o){return Array.isArray(o.value)?last$1(o.value):o.value};function LabelList(i){var o=i.valueAccessor,_=o===void 0?defaultAccessor:o,j=_objectWithoutProperties$h(i,_excluded$i),_e=j.data,et=j.dataKey,tt=j.clockWise,rt=j.id,nt=j.textBreakAll,st=_objectWithoutProperties$h(j,_excluded2$5);return!_e||!_e.length?null:React$7.createElement(Layer,{className:"recharts-label-list"},_e.map(function(it,at){var ot=isNil$1(et)?_(it,at):getValueByDataKey(it&&it.payload,et),ct=isNil$1(rt)?{}:{id:"".concat(rt,"-").concat(at)};return React$7.createElement(Label,_extends$r({},filterProps(it,!0),st,ct,{parentViewBox:it.parentViewBox,value:ot,textBreakAll:nt,viewBox:Label.parseViewBox(isNil$1(tt)?it:_objectSpread$x(_objectSpread$x({},it),{},{clockWise:tt})),key:"label-".concat(at),index:at}))}))}LabelList.displayName="LabelList";function parseLabelList(i,o){return i?i===!0?React$7.createElement(LabelList,{key:"labelList-implicit",data:o}):React$7.isValidElement(i)||isFunction$5(i)?React$7.createElement(LabelList,{key:"labelList-implicit",data:o,content:i}):isObject$9(i)?React$7.createElement(LabelList,_extends$r({data:o},i,{key:"labelList-implicit"})):null:null}function renderCallByParent(i,o){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!i||!i.children&&_&&!i.label)return null;var j=i.children,_e=findAllByType(j,LabelList).map(function(tt,rt){return reactExports.cloneElement(tt,{data:o,key:"labelList-".concat(rt)})});if(!_)return _e;var et=parseLabelList(i.label,o);return[et].concat(_toConsumableArray$7(_e))}LabelList.renderCallByParent=renderCallByParent;function _typeof$t(i){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$t(i)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$q.apply(this,arguments)}function ownKeys$y(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$w(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$y(Object(_),!0).forEach(function(j){_defineProperty$D(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$y(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$D(i,o,_){return o=_toPropertyKey$D(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$D(i){var o=_toPrimitive$D(i,"string");return _typeof$t(o)=="symbol"?o:o+""}function _toPrimitive$D(i,o){if(_typeof$t(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$t(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getDeltaAngle=function(o,_){var j=mathSign(_-o),_e=Math.min(Math.abs(_-o),359.999);return j*_e},getTangentCircle=function(o){var _=o.cx,j=o.cy,_e=o.radius,et=o.angle,tt=o.sign,rt=o.isExternal,nt=o.cornerRadius,st=o.cornerIsExternal,it=nt*(rt?1:-1)+_e,at=Math.asin(nt/it)/RADIAN$1,ot=st?et:et+tt*at,ct=polarToCartesian(_,j,it,ot),ut=polarToCartesian(_,j,_e,ot),lt=st?et-tt*at:et,pt=polarToCartesian(_,j,it*Math.cos(at*RADIAN$1),lt);return{center:ct,circleTangency:ut,lineTangency:pt,theta:at}},getSectorPath=function(o){var _=o.cx,j=o.cy,_e=o.innerRadius,et=o.outerRadius,tt=o.startAngle,rt=o.endAngle,nt=getDeltaAngle(tt,rt),st=tt+nt,it=polarToCartesian(_,j,et,tt),at=polarToCartesian(_,j,et,st),ot="M ".concat(it.x,",").concat(it.y,`
    A `).concat(et,",").concat(et,`,0,
    `).concat(+(Math.abs(nt)>180),",").concat(+(tt>st),`,
    `).concat(at.x,",").concat(at.y,`
  `);if(_e>0){var ct=polarToCartesian(_,j,_e,tt),ut=polarToCartesian(_,j,_e,st);ot+="L ".concat(ut.x,",").concat(ut.y,`
            A `).concat(_e,",").concat(_e,`,0,
            `).concat(+(Math.abs(nt)>180),",").concat(+(tt<=st),`,
            `).concat(ct.x,",").concat(ct.y," Z")}else ot+="L ".concat(_,",").concat(j," Z");return ot},getSectorWithCorner=function(o){var _=o.cx,j=o.cy,_e=o.innerRadius,et=o.outerRadius,tt=o.cornerRadius,rt=o.forceCornerRadius,nt=o.cornerIsExternal,st=o.startAngle,it=o.endAngle,at=mathSign(it-st),ot=getTangentCircle({cx:_,cy:j,radius:et,angle:st,sign:at,cornerRadius:tt,cornerIsExternal:nt}),ct=ot.circleTangency,ut=ot.lineTangency,lt=ot.theta,pt=getTangentCircle({cx:_,cy:j,radius:et,angle:it,sign:-at,cornerRadius:tt,cornerIsExternal:nt}),dt=pt.circleTangency,ht=pt.lineTangency,ft=pt.theta,mt=nt?Math.abs(st-it):Math.abs(st-it)-lt-ft;if(mt<0)return rt?"M ".concat(ut.x,",").concat(ut.y,`
        a`).concat(tt,",").concat(tt,",0,0,1,").concat(tt*2,`,0
        a`).concat(tt,",").concat(tt,",0,0,1,").concat(-tt*2,`,0
      `):getSectorPath({cx:_,cy:j,innerRadius:_e,outerRadius:et,startAngle:st,endAngle:it});var xt="M ".concat(ut.x,",").concat(ut.y,`
    A`).concat(tt,",").concat(tt,",0,0,").concat(+(at<0),",").concat(ct.x,",").concat(ct.y,`
    A`).concat(et,",").concat(et,",0,").concat(+(mt>180),",").concat(+(at<0),",").concat(dt.x,",").concat(dt.y,`
    A`).concat(tt,",").concat(tt,",0,0,").concat(+(at<0),",").concat(ht.x,",").concat(ht.y,`
  `);if(_e>0){var gt=getTangentCircle({cx:_,cy:j,radius:_e,angle:st,sign:at,isExternal:!0,cornerRadius:tt,cornerIsExternal:nt}),yt=gt.circleTangency,_t=gt.lineTangency,Et=gt.theta,wt=getTangentCircle({cx:_,cy:j,radius:_e,angle:it,sign:-at,isExternal:!0,cornerRadius:tt,cornerIsExternal:nt}),$t=wt.circleTangency,jt=wt.lineTangency,Tt=wt.theta,kt=nt?Math.abs(st-it):Math.abs(st-it)-Et-Tt;if(kt<0&&tt===0)return"".concat(xt,"L").concat(_,",").concat(j,"Z");xt+="L".concat(jt.x,",").concat(jt.y,`
      A`).concat(tt,",").concat(tt,",0,0,").concat(+(at<0),",").concat($t.x,",").concat($t.y,`
      A`).concat(_e,",").concat(_e,",0,").concat(+(kt>180),",").concat(+(at>0),",").concat(yt.x,",").concat(yt.y,`
      A`).concat(tt,",").concat(tt,",0,0,").concat(+(at<0),",").concat(_t.x,",").concat(_t.y,"Z")}else xt+="L".concat(_,",").concat(j,"Z");return xt},defaultProps$2={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(o){var _=_objectSpread$w(_objectSpread$w({},defaultProps$2),o),j=_.cx,_e=_.cy,et=_.innerRadius,tt=_.outerRadius,rt=_.cornerRadius,nt=_.forceCornerRadius,st=_.cornerIsExternal,it=_.startAngle,at=_.endAngle,ot=_.className;if(tt<et||it===at)return null;var ct=clsx("recharts-sector",ot),ut=tt-et,lt=getPercentValue(rt,ut,0,!0),pt;return lt>0&&Math.abs(it-at)<360?pt=getSectorWithCorner({cx:j,cy:_e,innerRadius:et,outerRadius:tt,cornerRadius:Math.min(lt,ut/2),forceCornerRadius:nt,cornerIsExternal:st,startAngle:it,endAngle:at}):pt=getSectorPath({cx:j,cy:_e,innerRadius:et,outerRadius:tt,startAngle:it,endAngle:at}),React$7.createElement("path",_extends$q({},filterProps(_,!0),{className:ct,d:pt,role:"img"}))};function _typeof$s(i){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$s(i)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$p.apply(this,arguments)}function ownKeys$x(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$v(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$x(Object(_),!0).forEach(function(j){_defineProperty$C(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$x(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$C(i,o,_){return o=_toPropertyKey$C(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$C(i){var o=_toPrimitive$C(i,"string");return _typeof$s(o)=="symbol"?o:o+""}function _toPrimitive$C(i,o){if(_typeof$s(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$s(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined$1=function(o){return o.x===+o.x&&o.y===+o.y},getX=function(o){return o.x},getY=function(o){return o.y},getCurveFactory=function(o,_){if(isFunction$5(o))return o;var j="curve".concat(upperFirst$1(o));return(j==="curveMonotone"||j==="curveBump")&&_?CURVE_FACTORIES["".concat(j).concat(_==="vertical"?"Y":"X")]:CURVE_FACTORIES[j]||curveLinear},getPath$1=function(o){var _=o.type,j=_===void 0?"linear":_,_e=o.points,et=_e===void 0?[]:_e,tt=o.baseLine,rt=o.layout,nt=o.connectNulls,st=nt===void 0?!1:nt,it=getCurveFactory(j,rt),at=st?et.filter(function(lt){return defined$1(lt)}):et,ot;if(Array.isArray(tt)){var ct=st?tt.filter(function(lt){return defined$1(lt)}):tt,ut=at.map(function(lt,pt){return _objectSpread$v(_objectSpread$v({},lt),{},{base:ct[pt]})});return rt==="vertical"?ot=shapeArea().y(getY).x1(getX).x0(function(lt){return lt.base.x}):ot=shapeArea().x(getX).y1(getY).y0(function(lt){return lt.base.y}),ot.defined(defined$1).curve(it),ot(ut)}return rt==="vertical"&&isNumber$1(tt)?ot=shapeArea().y(getY).x1(getX).x0(tt):isNumber$1(tt)?ot=shapeArea().x(getX).y1(getY).y0(tt):ot=shapeLine().x(getX).y(getY),ot.defined(defined$1).curve(it),ot(at)},Curve=function(o){var _=o.className,j=o.points,_e=o.path,et=o.pathRef;if((!j||!j.length)&&!_e)return null;var tt=j&&j.length?getPath$1(o):_e;return reactExports.createElement("path",_extends$p({},filterProps(o,!1),adaptEventHandlers(o),{className:clsx("recharts-curve",_),d:tt,ref:et}))};const{getOwnPropertyNames,getOwnPropertySymbols}=Object,{hasOwnProperty:hasOwnProperty$1}=Object.prototype;function combineComparators(i,o){return function(j,_e,et){return i(j,_e,et)&&o(j,_e,et)}}function createIsCircular(i){return function(_,j,_e){if(!_||!j||typeof _!="object"||typeof j!="object")return i(_,j,_e);const{cache:et}=_e,tt=et.get(_),rt=et.get(j);if(tt&&rt)return tt===j&&rt===_;et.set(_,j),et.set(j,_);const nt=i(_,j,_e);return et.delete(_),et.delete(j),nt}}function getShortTag(i){return i!=null?i[Symbol.toStringTag]:void 0}function getStrictProperties(i){return getOwnPropertyNames(i).concat(getOwnPropertySymbols(i))}const hasOwn=Object.hasOwn||((i,o)=>hasOwnProperty$1.call(i,o));function sameValueZeroEqual(i,o){return i===o||!i&&!o&&i!==i&&o!==o}const PREACT_VNODE="__v",PREACT_OWNER="__o",REACT_OWNER="_owner",{getOwnPropertyDescriptor,keys:keys$1}=Object;function areArrayBuffersEqual(i,o){return i.byteLength===o.byteLength&&areTypedArraysEqual(new Uint8Array(i),new Uint8Array(o))}function areArraysEqual(i,o,_){let j=i.length;if(o.length!==j)return!1;for(;j-- >0;)if(!_.equals(i[j],o[j],j,j,i,o,_))return!1;return!0}function areDataViewsEqual(i,o){return i.byteLength===o.byteLength&&areTypedArraysEqual(new Uint8Array(i.buffer,i.byteOffset,i.byteLength),new Uint8Array(o.buffer,o.byteOffset,o.byteLength))}function areDatesEqual(i,o){return sameValueZeroEqual(i.getTime(),o.getTime())}function areErrorsEqual(i,o){return i.name===o.name&&i.message===o.message&&i.cause===o.cause&&i.stack===o.stack}function areFunctionsEqual(i,o){return i===o}function areMapsEqual(i,o,_){const j=i.size;if(j!==o.size)return!1;if(!j)return!0;const _e=new Array(j),et=i.entries();let tt,rt,nt=0;for(;(tt=et.next())&&!tt.done;){const st=o.entries();let it=!1,at=0;for(;(rt=st.next())&&!rt.done;){if(_e[at]){at++;continue}const ot=tt.value,ct=rt.value;if(_.equals(ot[0],ct[0],nt,at,i,o,_)&&_.equals(ot[1],ct[1],ot[0],ct[0],i,o,_)){it=_e[at]=!0;break}at++}if(!it)return!1;nt++}return!0}const areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(i,o,_){const j=keys$1(i);let _e=j.length;if(keys$1(o).length!==_e)return!1;for(;_e-- >0;)if(!isPropertyEqual(i,o,_,j[_e]))return!1;return!0}function areObjectsEqualStrict(i,o,_){const j=getStrictProperties(i);let _e=j.length;if(getStrictProperties(o).length!==_e)return!1;let et,tt,rt;for(;_e-- >0;)if(et=j[_e],!isPropertyEqual(i,o,_,et)||(tt=getOwnPropertyDescriptor(i,et),rt=getOwnPropertyDescriptor(o,et),(tt||rt)&&(!tt||!rt||tt.configurable!==rt.configurable||tt.enumerable!==rt.enumerable||tt.writable!==rt.writable)))return!1;return!0}function arePrimitiveWrappersEqual(i,o){return sameValueZeroEqual(i.valueOf(),o.valueOf())}function areRegExpsEqual(i,o){return i.source===o.source&&i.flags===o.flags}function areSetsEqual(i,o,_){const j=i.size;if(j!==o.size)return!1;if(!j)return!0;const _e=new Array(j),et=i.values();let tt,rt;for(;(tt=et.next())&&!tt.done;){const nt=o.values();let st=!1,it=0;for(;(rt=nt.next())&&!rt.done;){if(!_e[it]&&_.equals(tt.value,rt.value,tt.value,rt.value,i,o,_)){st=_e[it]=!0;break}it++}if(!st)return!1}return!0}function areTypedArraysEqual(i,o){let _=i.byteLength;if(o.byteLength!==_||i.byteOffset!==o.byteOffset)return!1;for(;_-- >0;)if(i[_]!==o[_])return!1;return!0}function areUrlsEqual(i,o){return i.hostname===o.hostname&&i.pathname===o.pathname&&i.protocol===o.protocol&&i.port===o.port&&i.hash===o.hash&&i.username===o.username&&i.password===o.password}function isPropertyEqual(i,o,_,j){return(j===REACT_OWNER||j===PREACT_OWNER||j===PREACT_VNODE)&&(i.$$typeof||o.$$typeof)?!0:hasOwn(o,j)&&_.equals(i[j],o[j],j,j,i,o,_)}const ARRAY_BUFFER_TAG="[object ArrayBuffer]",ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATA_VIEW_TAG="[object DataView]",DATE_TAG="[object Date]",ERROR_TAG="[object Error]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",TYPED_ARRAY_TAGS={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},URL_TAG="[object URL]",toString=Object.prototype.toString;function createEqualityComparator({areArrayBuffersEqual:i,areArraysEqual:o,areDataViewsEqual:_,areDatesEqual:j,areErrorsEqual:_e,areFunctionsEqual:et,areMapsEqual:tt,areNumbersEqual:rt,areObjectsEqual:nt,arePrimitiveWrappersEqual:st,areRegExpsEqual:it,areSetsEqual:at,areTypedArraysEqual:ot,areUrlsEqual:ct,unknownTagComparators:ut}){return function(pt,dt,ht){if(pt===dt)return!0;if(pt==null||dt==null)return!1;const ft=typeof pt;if(ft!==typeof dt)return!1;if(ft!=="object")return ft==="number"?rt(pt,dt,ht):ft==="function"?et(pt,dt,ht):!1;const mt=pt.constructor;if(mt!==dt.constructor)return!1;if(mt===Object)return nt(pt,dt,ht);if(Array.isArray(pt))return o(pt,dt,ht);if(mt===Date)return j(pt,dt,ht);if(mt===RegExp)return it(pt,dt,ht);if(mt===Map)return tt(pt,dt,ht);if(mt===Set)return at(pt,dt,ht);const xt=toString.call(pt);if(xt===DATE_TAG)return j(pt,dt,ht);if(xt===REG_EXP_TAG)return it(pt,dt,ht);if(xt===MAP_TAG)return tt(pt,dt,ht);if(xt===SET_TAG)return at(pt,dt,ht);if(xt===OBJECT_TAG)return typeof pt.then!="function"&&typeof dt.then!="function"&&nt(pt,dt,ht);if(xt===URL_TAG)return ct(pt,dt,ht);if(xt===ERROR_TAG)return _e(pt,dt,ht);if(xt===ARGUMENTS_TAG)return nt(pt,dt,ht);if(TYPED_ARRAY_TAGS[xt])return ot(pt,dt,ht);if(xt===ARRAY_BUFFER_TAG)return i(pt,dt,ht);if(xt===DATA_VIEW_TAG)return _(pt,dt,ht);if(xt===BOOLEAN_TAG||xt===NUMBER_TAG||xt===STRING_TAG)return st(pt,dt,ht);if(ut){let gt=ut[xt];if(!gt){const yt=getShortTag(pt);yt&&(gt=ut[yt])}if(gt)return gt(pt,dt,ht)}return!1}}function createEqualityComparatorConfig({circular:i,createCustomConfig:o,strict:_}){let j={areArrayBuffersEqual,areArraysEqual:_?areObjectsEqualStrict:areArraysEqual,areDataViewsEqual,areDatesEqual,areErrorsEqual,areFunctionsEqual,areMapsEqual:_?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual,areObjectsEqual:_?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:_?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:_?combineComparators(areTypedArraysEqual,areObjectsEqualStrict):areTypedArraysEqual,areUrlsEqual,unknownTagComparators:void 0};if(o&&(j=Object.assign({},j,o(j))),i){const _e=createIsCircular(j.areArraysEqual),et=createIsCircular(j.areMapsEqual),tt=createIsCircular(j.areObjectsEqual),rt=createIsCircular(j.areSetsEqual);j=Object.assign({},j,{areArraysEqual:_e,areMapsEqual:et,areObjectsEqual:tt,areSetsEqual:rt})}return j}function createInternalEqualityComparator(i){return function(o,_,j,_e,et,tt,rt){return i(o,_,rt)}}function createIsEqual({circular:i,comparator:o,createState:_,equals:j,strict:_e}){if(_)return function(rt,nt){const{cache:st=i?new WeakMap:void 0,meta:it}=_();return o(rt,nt,{cache:st,equals:j,meta:it,strict:_e})};if(i)return function(rt,nt){return o(rt,nt,{cache:new WeakMap,equals:j,meta:void 0,strict:_e})};const et={cache:void 0,equals:j,meta:void 0,strict:_e};return function(rt,nt){return o(rt,nt,et)}}const deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({strict:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual});createCustomEqual({circular:!0,createInternalComparator:()=>sameValueZeroEqual,strict:!0});function createCustomEqual(i={}){const{circular:o=!1,createInternalComparator:_,createState:j,strict:_e=!1}=i,et=createEqualityComparatorConfig(i),tt=createEqualityComparator(et),rt=_?_(tt):createInternalEqualityComparator(tt);return createIsEqual({circular:o,comparator:tt,createState:j,equals:rt,strict:_e})}function safeRequestAnimationFrame(i){typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}function setRafTimeout(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=-1,j=function _e(et){_<0&&(_=et),et-_>o?(i(et),_=-1):safeRequestAnimationFrame(_e)};requestAnimationFrame(j)}function _typeof$r(i){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$r(i)}function _toArray(i){return _arrayWithHoles$8(i)||_iterableToArray$7(i)||_unsupportedIterableToArray$c(i)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$c(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$c(i,o)}}function _arrayLikeToArray$c(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArray$7(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithHoles$8(i){if(Array.isArray(i))return i}function createAnimateManager(){var i={},o=function(){return null},_=!1,j=function _e(et){if(!_){if(Array.isArray(et)){if(!et.length)return;var tt=et,rt=_toArray(tt),nt=rt[0],st=rt.slice(1);if(typeof nt=="number"){setRafTimeout(_e.bind(null,st),nt);return}_e(nt),setRafTimeout(_e.bind(null,st));return}_typeof$r(et)==="object"&&(i=et,o(i)),typeof et=="function"&&et()}};return{stop:function(){_=!0},start:function(et){_=!1,j(et)},subscribe:function(et){return o=et,function(){o=function(){return null}}}}}function _typeof$q(i){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$q(i)}function ownKeys$w(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$u(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$w(Object(_),!0).forEach(function(j){_defineProperty$B(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$w(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$B(i,o,_){return o=_toPropertyKey$B(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$B(i){var o=_toPrimitive$B(i,"string");return _typeof$q(o)==="symbol"?o:String(o)}function _toPrimitive$B(i,o){if(_typeof$q(i)!=="object"||i===null)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$q(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getIntersectionKeys=function(o,_){return[Object.keys(o),Object.keys(_)].reduce(function(j,_e){return j.filter(function(et){return _e.includes(et)})})},identity=function(o){return o},getDashCase=function(o){return o.replace(/([A-Z])/g,function(_){return"-".concat(_.toLowerCase())})},mapObject=function(o,_){return Object.keys(_).reduce(function(j,_e){return _objectSpread$u(_objectSpread$u({},j),{},_defineProperty$B({},_e,o(_e,_[_e])))},{})},getTransitionVal=function(o,_,j){return o.map(function(_e){return"".concat(getDashCase(_e)," ").concat(_,"ms ").concat(j)}).join(",")};function _slicedToArray$7(i,o){return _arrayWithHoles$7(i)||_iterableToArrayLimit$7(i,o)||_unsupportedIterableToArray$b(i,o)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$7(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$7(i){if(Array.isArray(i))return i}function _toConsumableArray$6(i){return _arrayWithoutHoles$6(i)||_iterableToArray$6(i)||_unsupportedIterableToArray$b(i)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$b(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$b(i,o)}}function _iterableToArray$6(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$6(i){if(Array.isArray(i))return _arrayLikeToArray$b(i)}function _arrayLikeToArray$b(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}var ACCURACY=1e-4,cubicBezierFactor=function(o,_){return[0,3*o,3*_-6*o,3*o-3*_+1]},multyTime=function(o,_){return o.map(function(j,_e){return j*Math.pow(_,_e)}).reduce(function(j,_e){return j+_e})},cubicBezier=function(o,_){return function(j){var _e=cubicBezierFactor(o,_);return multyTime(_e,j)}},derivativeCubicBezier=function(o,_){return function(j){var _e=cubicBezierFactor(o,_),et=[].concat(_toConsumableArray$6(_e.map(function(tt,rt){return tt*rt}).slice(1)),[0]);return multyTime(et,j)}},configBezier=function(){for(var o=arguments.length,_=new Array(o),j=0;j<o;j++)_[j]=arguments[j];var _e=_[0],et=_[1],tt=_[2],rt=_[3];if(_.length===1)switch(_[0]){case"linear":_e=0,et=0,tt=1,rt=1;break;case"ease":_e=.25,et=.1,tt=.25,rt=1;break;case"ease-in":_e=.42,et=0,tt=1,rt=1;break;case"ease-out":_e=.42,et=0,tt=.58,rt=1;break;case"ease-in-out":_e=0,et=0,tt=.58,rt=1;break;default:{var nt=_[0].split("(");if(nt[0]==="cubic-bezier"&&nt[1].split(")")[0].split(",").length===4){var st=nt[1].split(")")[0].split(",").map(function(pt){return parseFloat(pt)}),it=_slicedToArray$7(st,4);_e=it[0],et=it[1],tt=it[2],rt=it[3]}}}var at=cubicBezier(_e,tt),ot=cubicBezier(et,rt),ct=derivativeCubicBezier(_e,tt),ut=function(dt){return dt>1?1:dt<0?0:dt},lt=function(dt){for(var ht=dt>1?1:dt,ft=ht,mt=0;mt<8;++mt){var xt=at(ft)-ht,gt=ct(ft);if(Math.abs(xt-ht)<ACCURACY||gt<ACCURACY)return ot(ft);ft=ut(ft-xt/gt)}return ot(ft)};return lt.isStepper=!1,lt},configSpring=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=o.stiff,j=_===void 0?100:_,_e=o.damping,et=_e===void 0?8:_e,tt=o.dt,rt=tt===void 0?17:tt,nt=function(it,at,ot){var ct=-(it-at)*j,ut=ot*et,lt=ot+(ct-ut)*rt/1e3,pt=ot*rt/1e3+it;return Math.abs(pt-at)<ACCURACY&&Math.abs(lt)<ACCURACY?[at,0]:[pt,lt]};return nt.isStepper=!0,nt.dt=rt,nt},configEasing=function(){for(var o=arguments.length,_=new Array(o),j=0;j<o;j++)_[j]=arguments[j];var _e=_[0];if(typeof _e=="string")switch(_e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(_e);case"spring":return configSpring();default:if(_e.split("(")[0]==="cubic-bezier")return configBezier(_e)}return typeof _e=="function"?_e:null};function _typeof$p(i){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$p(i)}function _toConsumableArray$5(i){return _arrayWithoutHoles$5(i)||_iterableToArray$5(i)||_unsupportedIterableToArray$a(i)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$5(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$5(i){if(Array.isArray(i))return _arrayLikeToArray$a(i)}function ownKeys$v(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$t(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$v(Object(_),!0).forEach(function(j){_defineProperty$A(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$v(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$A(i,o,_){return o=_toPropertyKey$A(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$A(i){var o=_toPrimitive$A(i,"string");return _typeof$p(o)==="symbol"?o:String(o)}function _toPrimitive$A(i,o){if(_typeof$p(i)!=="object"||i===null)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$p(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _slicedToArray$6(i,o){return _arrayWithHoles$6(i)||_iterableToArrayLimit$6(i,o)||_unsupportedIterableToArray$a(i,o)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$a(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$a(i,o)}}function _arrayLikeToArray$a(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$6(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$6(i){if(Array.isArray(i))return i}var alpha$1=function(o,_,j){return o+(_-o)*j},needContinue=function(o){var _=o.from,j=o.to;return _!==j},calStepperVals=function i(o,_,j){var _e=mapObject(function(et,tt){if(needContinue(tt)){var rt=o(tt.from,tt.to,tt.velocity),nt=_slicedToArray$6(rt,2),st=nt[0],it=nt[1];return _objectSpread$t(_objectSpread$t({},tt),{},{from:st,velocity:it})}return tt},_);return j<1?mapObject(function(et,tt){return needContinue(tt)?_objectSpread$t(_objectSpread$t({},tt),{},{velocity:alpha$1(tt.velocity,_e[et].velocity,j),from:alpha$1(tt.from,_e[et].from,j)}):tt},_):i(o,_e,j-1)};const configUpdate=function(i,o,_,j,_e){var et=getIntersectionKeys(i,o),tt=et.reduce(function(pt,dt){return _objectSpread$t(_objectSpread$t({},pt),{},_defineProperty$A({},dt,[i[dt],o[dt]]))},{}),rt=et.reduce(function(pt,dt){return _objectSpread$t(_objectSpread$t({},pt),{},_defineProperty$A({},dt,{from:i[dt],velocity:0,to:o[dt]}))},{}),nt=-1,st,it,at=function(){return null},ot=function(){return mapObject(function(dt,ht){return ht.from},rt)},ct=function(){return!Object.values(rt).filter(needContinue).length},ut=function(dt){st||(st=dt);var ht=dt-st,ft=ht/_.dt;rt=calStepperVals(_,rt,ft),_e(_objectSpread$t(_objectSpread$t(_objectSpread$t({},i),o),ot())),st=dt,ct()||(nt=requestAnimationFrame(at))},lt=function(dt){it||(it=dt);var ht=(dt-it)/j,ft=mapObject(function(xt,gt){return alpha$1.apply(void 0,_toConsumableArray$5(gt).concat([_(ht)]))},tt);if(_e(_objectSpread$t(_objectSpread$t(_objectSpread$t({},i),o),ft)),ht<1)nt=requestAnimationFrame(at);else{var mt=mapObject(function(xt,gt){return alpha$1.apply(void 0,_toConsumableArray$5(gt).concat([_(1)]))},tt);_e(_objectSpread$t(_objectSpread$t(_objectSpread$t({},i),o),mt))}};return at=_.isStepper?ut:lt,function(){return requestAnimationFrame(at),function(){cancelAnimationFrame(nt)}}};function _typeof$o(i){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$o(i)}var _excluded$h=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$g(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$g(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$g(i,o){if(i==null)return{};var _={},j=Object.keys(i),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&(_[_e]=i[_e]);return _}function _toConsumableArray$4(i){return _arrayWithoutHoles$4(i)||_iterableToArray$4(i)||_unsupportedIterableToArray$9(i)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$9(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$9(i,o)}}function _iterableToArray$4(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$4(i){if(Array.isArray(i))return _arrayLikeToArray$9(i)}function _arrayLikeToArray$9(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function ownKeys$u(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$s(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$u(Object(_),!0).forEach(function(j){_defineProperty$z(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$u(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$z(i,o,_){return o=_toPropertyKey$z(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _classCallCheck$g(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$g(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$z(j.key),j)}}function _createClass$g(i,o,_){return o&&_defineProperties$g(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _toPropertyKey$z(i){var o=_toPrimitive$z(i,"string");return _typeof$o(o)==="symbol"?o:String(o)}function _toPrimitive$z(i,o){if(_typeof$o(i)!=="object"||i===null)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$o(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _inherits$e(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$e(i,o)}function _setPrototypeOf$e(i,o){return _setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$e(i,o)}function _createSuper(i){var o=_isNativeReflectConstruct$e();return function(){var j=_getPrototypeOf$e(i),_e;if(o){var et=_getPrototypeOf$e(this).constructor;_e=Reflect.construct(j,arguments,et)}else _e=j.apply(this,arguments);return _possibleConstructorReturn$e(this,_e)}}function _possibleConstructorReturn$e(i,o){if(o&&(_typeof$o(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$e(i)}function _assertThisInitialized$e(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$e(i){return _getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$e(i)}var Animate=function(i){_inherits$e(_,i);var o=_createSuper(_);function _(j,_e){var et;_classCallCheck$g(this,_),et=o.call(this,j,_e);var tt=et.props,rt=tt.isActive,nt=tt.attributeName,st=tt.from,it=tt.to,at=tt.steps,ot=tt.children,ct=tt.duration;if(et.handleStyleChange=et.handleStyleChange.bind(_assertThisInitialized$e(et)),et.changeStyle=et.changeStyle.bind(_assertThisInitialized$e(et)),!rt||ct<=0)return et.state={style:{}},typeof ot=="function"&&(et.state={style:it}),_possibleConstructorReturn$e(et);if(at&&at.length)et.state={style:at[0].style};else if(st){if(typeof ot=="function")return et.state={style:st},_possibleConstructorReturn$e(et);et.state={style:nt?_defineProperty$z({},nt,st):st}}else et.state={style:{}};return et}return _createClass$g(_,[{key:"componentDidMount",value:function(){var _e=this.props,et=_e.isActive,tt=_e.canBegin;this.mounted=!0,!(!et||!tt)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(_e){var et=this.props,tt=et.isActive,rt=et.canBegin,nt=et.attributeName,st=et.shouldReAnimate,it=et.to,at=et.from,ot=this.state.style;if(rt){if(!tt){var ct={style:nt?_defineProperty$z({},nt,it):it};this.state&&ot&&(nt&&ot[nt]!==it||!nt&&ot!==it)&&this.setState(ct);return}if(!(deepEqual(_e.to,it)&&_e.canBegin&&_e.isActive)){var ut=!_e.canBegin||!_e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var lt=ut||st?at:_e.to;if(this.state&&ot){var pt={style:nt?_defineProperty$z({},nt,lt):lt};(nt&&ot[nt]!==lt||!nt&&ot!==lt)&&this.setState(pt)}this.runAnimation(_objectSpread$s(_objectSpread$s({},this.props),{},{from:lt,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var _e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),_e&&_e()}},{key:"handleStyleChange",value:function(_e){this.changeStyle(_e)}},{key:"changeStyle",value:function(_e){this.mounted&&this.setState({style:_e})}},{key:"runJSAnimation",value:function(_e){var et=this,tt=_e.from,rt=_e.to,nt=_e.duration,st=_e.easing,it=_e.begin,at=_e.onAnimationEnd,ot=_e.onAnimationStart,ct=configUpdate(tt,rt,configEasing(st),nt,this.changeStyle),ut=function(){et.stopJSAnimation=ct()};this.manager.start([ot,it,ut,nt,at])}},{key:"runStepAnimation",value:function(_e){var et=this,tt=_e.steps,rt=_e.begin,nt=_e.onAnimationStart,st=tt[0],it=st.style,at=st.duration,ot=at===void 0?0:at,ct=function(lt,pt,dt){if(dt===0)return lt;var ht=pt.duration,ft=pt.easing,mt=ft===void 0?"ease":ft,xt=pt.style,gt=pt.properties,yt=pt.onAnimationEnd,_t=dt>0?tt[dt-1]:pt,Et=gt||Object.keys(xt);if(typeof mt=="function"||mt==="spring")return[].concat(_toConsumableArray$4(lt),[et.runJSAnimation.bind(et,{from:_t.style,to:xt,duration:ht,easing:mt}),ht]);var wt=getTransitionVal(Et,ht,mt),$t=_objectSpread$s(_objectSpread$s(_objectSpread$s({},_t.style),xt),{},{transition:wt});return[].concat(_toConsumableArray$4(lt),[$t,ht,yt]).filter(identity)};return this.manager.start([nt].concat(_toConsumableArray$4(tt.reduce(ct,[it,Math.max(ot,rt)])),[_e.onAnimationEnd]))}},{key:"runAnimation",value:function(_e){this.manager||(this.manager=createAnimateManager());var et=_e.begin,tt=_e.duration,rt=_e.attributeName,nt=_e.to,st=_e.easing,it=_e.onAnimationStart,at=_e.onAnimationEnd,ot=_e.steps,ct=_e.children,ut=this.manager;if(this.unSubscribe=ut.subscribe(this.handleStyleChange),typeof st=="function"||typeof ct=="function"||st==="spring"){this.runJSAnimation(_e);return}if(ot.length>1){this.runStepAnimation(_e);return}var lt=rt?_defineProperty$z({},rt,nt):nt,pt=getTransitionVal(Object.keys(lt),tt,st);ut.start([it,et,_objectSpread$s(_objectSpread$s({},lt),{},{transition:pt}),tt,at])}},{key:"render",value:function(){var _e=this.props,et=_e.children;_e.begin;var tt=_e.duration;_e.attributeName,_e.easing;var rt=_e.isActive;_e.steps,_e.from,_e.to,_e.canBegin,_e.onAnimationEnd,_e.shouldReAnimate,_e.onAnimationReStart;var nt=_objectWithoutProperties$g(_e,_excluded$h),st=reactExports.Children.count(et),it=this.state.style;if(typeof et=="function")return et(it);if(!rt||st===0||tt<=0)return et;var at=function(ct){var ut=ct.props,lt=ut.style,pt=lt===void 0?{}:lt,dt=ut.className,ht=reactExports.cloneElement(ct,_objectSpread$s(_objectSpread$s({},nt),{},{style:_objectSpread$s(_objectSpread$s({},pt),it),className:dt}));return ht};return st===1?at(reactExports.Children.only(et)):React$7.createElement("div",null,reactExports.Children.map(et,function(ot){return at(ot)}))}}]),_}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};function _typeof$n(i){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$n(i)}function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$o.apply(this,arguments)}function _slicedToArray$5(i,o){return _arrayWithHoles$5(i)||_iterableToArrayLimit$5(i,o)||_unsupportedIterableToArray$8(i,o)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$8(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$8(i,o)}}function _arrayLikeToArray$8(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$5(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$5(i){if(Array.isArray(i))return i}function ownKeys$t(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$r(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$t(Object(_),!0).forEach(function(j){_defineProperty$y(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$t(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$y(i,o,_){return o=_toPropertyKey$y(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$y(i){var o=_toPrimitive$y(i,"string");return _typeof$n(o)=="symbol"?o:o+""}function _toPrimitive$y(i,o){if(_typeof$n(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$n(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getRectanglePath=function(o,_,j,_e,et){var tt=Math.min(Math.abs(j)/2,Math.abs(_e)/2),rt=_e>=0?1:-1,nt=j>=0?1:-1,st=_e>=0&&j>=0||_e<0&&j<0?1:0,it;if(tt>0&&et instanceof Array){for(var at=[0,0,0,0],ot=0,ct=4;ot<ct;ot++)at[ot]=et[ot]>tt?tt:et[ot];it="M".concat(o,",").concat(_+rt*at[0]),at[0]>0&&(it+="A ".concat(at[0],",").concat(at[0],",0,0,").concat(st,",").concat(o+nt*at[0],",").concat(_)),it+="L ".concat(o+j-nt*at[1],",").concat(_),at[1]>0&&(it+="A ".concat(at[1],",").concat(at[1],",0,0,").concat(st,`,
        `).concat(o+j,",").concat(_+rt*at[1])),it+="L ".concat(o+j,",").concat(_+_e-rt*at[2]),at[2]>0&&(it+="A ".concat(at[2],",").concat(at[2],",0,0,").concat(st,`,
        `).concat(o+j-nt*at[2],",").concat(_+_e)),it+="L ".concat(o+nt*at[3],",").concat(_+_e),at[3]>0&&(it+="A ".concat(at[3],",").concat(at[3],",0,0,").concat(st,`,
        `).concat(o,",").concat(_+_e-rt*at[3])),it+="Z"}else if(tt>0&&et===+et&&et>0){var ut=Math.min(tt,et);it="M ".concat(o,",").concat(_+rt*ut,`
            A `).concat(ut,",").concat(ut,",0,0,").concat(st,",").concat(o+nt*ut,",").concat(_,`
            L `).concat(o+j-nt*ut,",").concat(_,`
            A `).concat(ut,",").concat(ut,",0,0,").concat(st,",").concat(o+j,",").concat(_+rt*ut,`
            L `).concat(o+j,",").concat(_+_e-rt*ut,`
            A `).concat(ut,",").concat(ut,",0,0,").concat(st,",").concat(o+j-nt*ut,",").concat(_+_e,`
            L `).concat(o+nt*ut,",").concat(_+_e,`
            A `).concat(ut,",").concat(ut,",0,0,").concat(st,",").concat(o,",").concat(_+_e-rt*ut," Z")}else it="M ".concat(o,",").concat(_," h ").concat(j," v ").concat(_e," h ").concat(-j," Z");return it},isInRectangle=function(o,_){if(!o||!_)return!1;var j=o.x,_e=o.y,et=_.x,tt=_.y,rt=_.width,nt=_.height;if(Math.abs(rt)>0&&Math.abs(nt)>0){var st=Math.min(et,et+rt),it=Math.max(et,et+rt),at=Math.min(tt,tt+nt),ot=Math.max(tt,tt+nt);return j>=st&&j<=it&&_e>=at&&_e<=ot}return!1},defaultProps$1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(o){var _=_objectSpread$r(_objectSpread$r({},defaultProps$1),o),j=reactExports.useRef(),_e=reactExports.useState(-1),et=_slicedToArray$5(_e,2),tt=et[0],rt=et[1];reactExports.useEffect(function(){if(j.current&&j.current.getTotalLength)try{var mt=j.current.getTotalLength();mt&&rt(mt)}catch{}},[]);var nt=_.x,st=_.y,it=_.width,at=_.height,ot=_.radius,ct=_.className,ut=_.animationEasing,lt=_.animationDuration,pt=_.animationBegin,dt=_.isAnimationActive,ht=_.isUpdateAnimationActive;if(nt!==+nt||st!==+st||it!==+it||at!==+at||it===0||at===0)return null;var ft=clsx("recharts-rectangle",ct);return ht?React$7.createElement(Animate,{canBegin:tt>0,from:{width:it,height:at,x:nt,y:st},to:{width:it,height:at,x:nt,y:st},duration:lt,animationEasing:ut,isActive:ht},function(mt){var xt=mt.width,gt=mt.height,yt=mt.x,_t=mt.y;return React$7.createElement(Animate,{canBegin:tt>0,from:"0px ".concat(tt===-1?1:tt,"px"),to:"".concat(tt,"px 0px"),attributeName:"strokeDasharray",begin:pt,duration:lt,isActive:dt,easing:ut},React$7.createElement("path",_extends$o({},filterProps(_,!0),{className:ft,d:getRectanglePath(yt,_t,xt,gt,ot),ref:j})))}):React$7.createElement("path",_extends$o({},filterProps(_,!0),{className:ft,d:getRectanglePath(nt,st,it,at,ot)}))},_excluded$g=["points","className","baseLinePoints","connectNulls"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$n.apply(this,arguments)}function _objectWithoutProperties$f(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$f(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$f(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _toConsumableArray$3(i){return _arrayWithoutHoles$3(i)||_iterableToArray$3(i)||_unsupportedIterableToArray$7(i)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$7(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$7(i,o)}}function _iterableToArray$3(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$3(i){if(Array.isArray(i))return _arrayLikeToArray$7(i)}function _arrayLikeToArray$7(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}var isValidatePoint=function(o){return o&&o.x===+o.x&&o.y===+o.y},getParsedPoints=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=[[]];return o.forEach(function(j){isValidatePoint(j)?_[_.length-1].push(j):_[_.length-1].length>0&&_.push([])}),isValidatePoint(o[0])&&_[_.length-1].push(o[0]),_[_.length-1].length<=0&&(_=_.slice(0,-1)),_},getSinglePolygonPath=function(o,_){var j=getParsedPoints(o);_&&(j=[j.reduce(function(et,tt){return[].concat(_toConsumableArray$3(et),_toConsumableArray$3(tt))},[])]);var _e=j.map(function(et){return et.reduce(function(tt,rt,nt){return"".concat(tt).concat(nt===0?"M":"L").concat(rt.x,",").concat(rt.y)},"")}).join("");return j.length===1?"".concat(_e,"Z"):_e},getRanglePath=function(o,_,j){var _e=getSinglePolygonPath(o,j);return"".concat(_e.slice(-1)==="Z"?_e.slice(0,-1):_e,"L").concat(getSinglePolygonPath(_.reverse(),j).slice(1))},Polygon=function(o){var _=o.points,j=o.className,_e=o.baseLinePoints,et=o.connectNulls,tt=_objectWithoutProperties$f(o,_excluded$g);if(!_||!_.length)return null;var rt=clsx("recharts-polygon",j);if(_e&&_e.length){var nt=tt.stroke&&tt.stroke!=="none",st=getRanglePath(_,_e,et);return React$7.createElement("g",{className:rt},React$7.createElement("path",_extends$n({},filterProps(tt,!0),{fill:st.slice(-1)==="Z"?tt.fill:"none",stroke:"none",d:st})),nt?React$7.createElement("path",_extends$n({},filterProps(tt,!0),{fill:"none",d:getSinglePolygonPath(_,et)})):null,nt?React$7.createElement("path",_extends$n({},filterProps(tt,!0),{fill:"none",d:getSinglePolygonPath(_e,et)})):null)}var it=getSinglePolygonPath(_,et);return React$7.createElement("path",_extends$n({},filterProps(tt,!0),{fill:it.slice(-1)==="Z"?tt.fill:"none",className:rt,d:it}))};function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$m.apply(this,arguments)}var Dot=function(o){var _=o.cx,j=o.cy,_e=o.r,et=o.className,tt=clsx("recharts-dot",et);return _===+_&&j===+j&&_e===+_e?reactExports.createElement("circle",_extends$m({},filterProps(o,!1),adaptEventHandlers(o),{className:tt,cx:_,cy:j,r:_e})):null};function _typeof$m(i){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$m(i)}var _excluded$f=["x","y","top","left","width","height","className"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$l.apply(this,arguments)}function ownKeys$s(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$q(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$s(Object(_),!0).forEach(function(j){_defineProperty$x(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$s(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$x(i,o,_){return o=_toPropertyKey$x(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$x(i){var o=_toPrimitive$x(i,"string");return _typeof$m(o)=="symbol"?o:o+""}function _toPrimitive$x(i,o){if(_typeof$m(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$m(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$e(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$e(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$e(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}var getPath=function(o,_,j,_e,et,tt){return"M".concat(o,",").concat(et,"v").concat(_e,"M").concat(tt,",").concat(_,"h").concat(j)},Cross=function(o){var _=o.x,j=_===void 0?0:_,_e=o.y,et=_e===void 0?0:_e,tt=o.top,rt=tt===void 0?0:tt,nt=o.left,st=nt===void 0?0:nt,it=o.width,at=it===void 0?0:it,ot=o.height,ct=ot===void 0?0:ot,ut=o.className,lt=_objectWithoutProperties$e(o,_excluded$f),pt=_objectSpread$q({x:j,y:et,top:rt,left:st,width:at,height:ct},lt);return!isNumber$1(j)||!isNumber$1(et)||!isNumber$1(at)||!isNumber$1(ct)||!isNumber$1(rt)||!isNumber$1(st)?null:React$7.createElement("path",_extends$l({},filterProps(pt,!0),{className:clsx("recharts-cross",ut),d:getPath(j,et,at,ct,rt,st)}))},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$4=_baseIteratee;function maxBy(i,o){return i&&i.length?baseExtremum$1(i,baseIteratee$4(o),baseGt):void 0}var maxBy_1=maxBy;const maxBy$1=getDefaultExportFromCjs(maxBy_1);var baseExtremum=_baseExtremum,baseIteratee$3=_baseIteratee,baseLt=_baseLt;function minBy(i,o){return i&&i.length?baseExtremum(i,baseIteratee$3(o),baseLt):void 0}var minBy_1=minBy;const minBy$1=getDefaultExportFromCjs(minBy_1);var _excluded$e=["cx","cy","angle","ticks","axisLine"],_excluded2$4=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$l(i){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$l(i)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$k.apply(this,arguments)}function ownKeys$r(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$p(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$r(Object(_),!0).forEach(function(j){_defineProperty$w(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$r(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _objectWithoutProperties$d(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$d(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$d(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _classCallCheck$f(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$w(j.key),j)}}function _createClass$f(i,o,_){return o&&_defineProperties$f(i.prototype,o),_&&_defineProperties$f(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$d(i,o,_){return o=_getPrototypeOf$d(o),_possibleConstructorReturn$d(i,_isNativeReflectConstruct$d()?Reflect.construct(o,_||[],_getPrototypeOf$d(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$d(i,o){if(o&&(_typeof$l(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$d(i)}function _assertThisInitialized$d(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$d(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$d=function(){return!!i})()}function _getPrototypeOf$d(i){return _getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$d(i)}function _inherits$d(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$d(i,o)}function _setPrototypeOf$d(i,o){return _setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$d(i,o)}function _defineProperty$w(i,o,_){return o=_toPropertyKey$w(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$w(i){var o=_toPrimitive$w(i,"string");return _typeof$l(o)=="symbol"?o:o+""}function _toPrimitive$w(i,o){if(_typeof$l(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$l(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var PolarRadiusAxis=function(i){function o(){return _classCallCheck$f(this,o),_callSuper$d(this,o,arguments)}return _inherits$d(o,i),_createClass$f(o,[{key:"getTickValueCoord",value:function(j){var _e=j.coordinate,et=this.props,tt=et.angle,rt=et.cx,nt=et.cy;return polarToCartesian(rt,nt,_e,tt)}},{key:"getTickTextAnchor",value:function(){var j=this.props.orientation,_e;switch(j){case"left":_e="end";break;case"right":_e="start";break;default:_e="middle";break}return _e}},{key:"getViewBox",value:function(){var j=this.props,_e=j.cx,et=j.cy,tt=j.angle,rt=j.ticks,nt=maxBy$1(rt,function(it){return it.coordinate||0}),st=minBy$1(rt,function(it){return it.coordinate||0});return{cx:_e,cy:et,startAngle:tt,endAngle:tt,innerRadius:st.coordinate||0,outerRadius:nt.coordinate||0}}},{key:"renderAxisLine",value:function(){var j=this.props,_e=j.cx,et=j.cy,tt=j.angle,rt=j.ticks,nt=j.axisLine,st=_objectWithoutProperties$d(j,_excluded$e),it=rt.reduce(function(ut,lt){return[Math.min(ut[0],lt.coordinate),Math.max(ut[1],lt.coordinate)]},[1/0,-1/0]),at=polarToCartesian(_e,et,it[0],tt),ot=polarToCartesian(_e,et,it[1],tt),ct=_objectSpread$p(_objectSpread$p(_objectSpread$p({},filterProps(st,!1)),{},{fill:"none"},filterProps(nt,!1)),{},{x1:at.x,y1:at.y,x2:ot.x,y2:ot.y});return React$7.createElement("line",_extends$k({className:"recharts-polar-radius-axis-line"},ct))}},{key:"renderTicks",value:function(){var j=this,_e=this.props,et=_e.ticks,tt=_e.tick,rt=_e.angle,nt=_e.tickFormatter,st=_e.stroke,it=_objectWithoutProperties$d(_e,_excluded2$4),at=this.getTickTextAnchor(),ot=filterProps(it,!1),ct=filterProps(tt,!1),ut=et.map(function(lt,pt){var dt=j.getTickValueCoord(lt),ht=_objectSpread$p(_objectSpread$p(_objectSpread$p(_objectSpread$p({textAnchor:at,transform:"rotate(".concat(90-rt,", ").concat(dt.x,", ").concat(dt.y,")")},ot),{},{stroke:"none",fill:st},ct),{},{index:pt},dt),{},{payload:lt});return React$7.createElement(Layer,_extends$k({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(tt)),key:"tick-".concat(lt.coordinate)},adaptEventsOfChild(j.props,lt,pt)),o.renderTickItem(tt,ht,nt?nt(lt.value,pt):lt.value))});return React$7.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},ut)}},{key:"render",value:function(){var j=this.props,_e=j.ticks,et=j.axisLine,tt=j.tick;return!_e||!_e.length?null:React$7.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},et&&this.renderAxisLine(),tt&&this.renderTicks(),Label.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(j,_e,et){var tt;return React$7.isValidElement(j)?tt=React$7.cloneElement(j,_e):isFunction$5(j)?tt=j(_e):tt=React$7.createElement(Text,_extends$k({},_e,{className:"recharts-polar-radius-axis-tick-value"}),et),tt}}])}(reactExports.PureComponent);_defineProperty$w(PolarRadiusAxis,"displayName","PolarRadiusAxis");_defineProperty$w(PolarRadiusAxis,"axisType","radiusAxis");_defineProperty$w(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _typeof$k(i){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$k(i)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$j.apply(this,arguments)}function ownKeys$q(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$o(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$q(Object(_),!0).forEach(function(j){_defineProperty$v(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$q(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$v(j.key),j)}}function _createClass$e(i,o,_){return o&&_defineProperties$e(i.prototype,o),_&&_defineProperties$e(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$c(i,o,_){return o=_getPrototypeOf$c(o),_possibleConstructorReturn$c(i,_isNativeReflectConstruct$c()?Reflect.construct(o,_||[],_getPrototypeOf$c(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$c(i,o){if(o&&(_typeof$k(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(i)}function _assertThisInitialized$c(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$c(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$c=function(){return!!i})()}function _getPrototypeOf$c(i){return _getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$c(i)}function _inherits$c(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$c(i,o)}function _setPrototypeOf$c(i,o){return _setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$c(i,o)}function _defineProperty$v(i,o,_){return o=_toPropertyKey$v(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$v(i){var o=_toPrimitive$v(i,"string");return _typeof$k(o)=="symbol"?o:o+""}function _toPrimitive$v(i,o){if(_typeof$k(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$k(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var RADIAN=Math.PI/180,eps=1e-5,PolarAngleAxis=function(i){function o(){return _classCallCheck$e(this,o),_callSuper$c(this,o,arguments)}return _inherits$c(o,i),_createClass$e(o,[{key:"getTickLineCoord",value:function(j){var _e=this.props,et=_e.cx,tt=_e.cy,rt=_e.radius,nt=_e.orientation,st=_e.tickSize,it=st||8,at=polarToCartesian(et,tt,rt,j.coordinate),ot=polarToCartesian(et,tt,rt+(nt==="inner"?-1:1)*it,j.coordinate);return{x1:at.x,y1:at.y,x2:ot.x,y2:ot.y}}},{key:"getTickTextAnchor",value:function(j){var _e=this.props.orientation,et=Math.cos(-j.coordinate*RADIAN),tt;return et>eps?tt=_e==="outer"?"start":"end":et<-eps?tt=_e==="outer"?"end":"start":tt="middle",tt}},{key:"renderAxisLine",value:function(){var j=this.props,_e=j.cx,et=j.cy,tt=j.radius,rt=j.axisLine,nt=j.axisLineType,st=_objectSpread$o(_objectSpread$o({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(rt,!1));if(nt==="circle")return React$7.createElement(Dot,_extends$j({className:"recharts-polar-angle-axis-line"},st,{cx:_e,cy:et,r:tt}));var it=this.props.ticks,at=it.map(function(ot){return polarToCartesian(_e,et,tt,ot.coordinate)});return React$7.createElement(Polygon,_extends$j({className:"recharts-polar-angle-axis-line"},st,{points:at}))}},{key:"renderTicks",value:function(){var j=this,_e=this.props,et=_e.ticks,tt=_e.tick,rt=_e.tickLine,nt=_e.tickFormatter,st=_e.stroke,it=filterProps(this.props,!1),at=filterProps(tt,!1),ot=_objectSpread$o(_objectSpread$o({},it),{},{fill:"none"},filterProps(rt,!1)),ct=et.map(function(ut,lt){var pt=j.getTickLineCoord(ut),dt=j.getTickTextAnchor(ut),ht=_objectSpread$o(_objectSpread$o(_objectSpread$o({textAnchor:dt},it),{},{stroke:"none",fill:st},at),{},{index:lt,payload:ut,x:pt.x2,y:pt.y2});return React$7.createElement(Layer,_extends$j({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(tt)),key:"tick-".concat(ut.coordinate)},adaptEventsOfChild(j.props,ut,lt)),rt&&React$7.createElement("line",_extends$j({className:"recharts-polar-angle-axis-tick-line"},ot,pt)),tt&&o.renderTickItem(tt,ht,nt?nt(ut.value,lt):ut.value))});return React$7.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},ct)}},{key:"render",value:function(){var j=this.props,_e=j.ticks,et=j.radius,tt=j.axisLine;return et<=0||!_e||!_e.length?null:React$7.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},tt&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(j,_e,et){var tt;return React$7.isValidElement(j)?tt=React$7.cloneElement(j,_e):isFunction$5(j)?tt=j(_e):tt=React$7.createElement(Text,_extends$j({},_e,{className:"recharts-polar-angle-axis-tick-value"}),et),tt}}])}(reactExports.PureComponent);_defineProperty$v(PolarAngleAxis,"displayName","PolarAngleAxis");_defineProperty$v(PolarAngleAxis,"axisType","angleAxis");_defineProperty$v(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(i){if(!isObjectLike$1(i)||baseGetTag$1(i)!=objectTag)return!1;var o=getPrototype(i);if(o===null)return!0;var _=hasOwnProperty.call(o,"constructor")&&o.constructor;return typeof _=="function"&&_ instanceof _&&funcToString.call(_)==objectCtorString}var isPlainObject_1=isPlainObject;const isPlainObject$1=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(i){return i===!0||i===!1||isObjectLike(i)&&baseGetTag(i)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$j(i){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$j(i)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$i.apply(this,arguments)}function _slicedToArray$4(i,o){return _arrayWithHoles$4(i)||_iterableToArrayLimit$4(i,o)||_unsupportedIterableToArray$6(i,o)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$6(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$6(i,o)}}function _arrayLikeToArray$6(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$4(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$4(i){if(Array.isArray(i))return i}function ownKeys$p(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$n(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$p(Object(_),!0).forEach(function(j){_defineProperty$u(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$p(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$u(i,o,_){return o=_toPropertyKey$u(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$u(i){var o=_toPrimitive$u(i,"string");return _typeof$j(o)=="symbol"?o:o+""}function _toPrimitive$u(i,o){if(_typeof$j(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$j(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var getTrapezoidPath=function(o,_,j,_e,et){var tt=j-_e,rt;return rt="M ".concat(o,",").concat(_),rt+="L ".concat(o+j,",").concat(_),rt+="L ".concat(o+j-tt/2,",").concat(_+et),rt+="L ".concat(o+j-tt/2-_e,",").concat(_+et),rt+="L ".concat(o,",").concat(_," Z"),rt},defaultProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(o){var _=_objectSpread$n(_objectSpread$n({},defaultProps),o),j=reactExports.useRef(),_e=reactExports.useState(-1),et=_slicedToArray$4(_e,2),tt=et[0],rt=et[1];reactExports.useEffect(function(){if(j.current&&j.current.getTotalLength)try{var ft=j.current.getTotalLength();ft&&rt(ft)}catch{}},[]);var nt=_.x,st=_.y,it=_.upperWidth,at=_.lowerWidth,ot=_.height,ct=_.className,ut=_.animationEasing,lt=_.animationDuration,pt=_.animationBegin,dt=_.isUpdateAnimationActive;if(nt!==+nt||st!==+st||it!==+it||at!==+at||ot!==+ot||it===0&&at===0||ot===0)return null;var ht=clsx("recharts-trapezoid",ct);return dt?React$7.createElement(Animate,{canBegin:tt>0,from:{upperWidth:0,lowerWidth:0,height:ot,x:nt,y:st},to:{upperWidth:it,lowerWidth:at,height:ot,x:nt,y:st},duration:lt,animationEasing:ut,isActive:dt},function(ft){var mt=ft.upperWidth,xt=ft.lowerWidth,gt=ft.height,yt=ft.x,_t=ft.y;return React$7.createElement(Animate,{canBegin:tt>0,from:"0px ".concat(tt===-1?1:tt,"px"),to:"".concat(tt,"px 0px"),attributeName:"strokeDasharray",begin:pt,duration:lt,easing:ut},React$7.createElement("path",_extends$i({},filterProps(_,!0),{className:ht,d:getTrapezoidPath(yt,_t,mt,xt,gt),ref:j})))}):React$7.createElement("g",null,React$7.createElement("path",_extends$i({},filterProps(_,!0),{className:ht,d:getTrapezoidPath(nt,st,it,at,ot)})))},_excluded$d=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$i(i){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$i(i)}function _objectWithoutProperties$c(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$c(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$c(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function ownKeys$o(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$m(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$o(Object(_),!0).forEach(function(j){_defineProperty$t(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$o(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$t(i,o,_){return o=_toPropertyKey$t(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$t(i){var o=_toPrimitive$t(i,"string");return _typeof$i(o)=="symbol"?o:o+""}function _toPrimitive$t(i,o){if(_typeof$i(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$i(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function defaultPropTransformer(i,o){return _objectSpread$m(_objectSpread$m({},o),i)}function isSymbolsProps(i,o){return i==="symbols"}function ShapeSelector(i){var o=i.shapeType,_=i.elementProps;switch(o){case"rectangle":return React$7.createElement(Rectangle,_);case"trapezoid":return React$7.createElement(Trapezoid,_);case"sector":return React$7.createElement(Sector,_);case"symbols":if(isSymbolsProps(o))return React$7.createElement(Symbols,_);break;default:return null}}function getPropsFromShapeOption(i){return reactExports.isValidElement(i)?i.props:i}function Shape(i){var o=i.option,_=i.shapeType,j=i.propTransformer,_e=j===void 0?defaultPropTransformer:j,et=i.activeClassName,tt=et===void 0?"recharts-active-shape":et,rt=i.isActive,nt=_objectWithoutProperties$c(i,_excluded$d),st;if(reactExports.isValidElement(o))st=reactExports.cloneElement(o,_objectSpread$m(_objectSpread$m({},nt),getPropsFromShapeOption(o)));else if(isFunction$5(o))st=o(nt);else if(isPlainObject$1(o)&&!isBoolean$1(o)){var it=_e(o,nt);st=React$7.createElement(ShapeSelector,{shapeType:_,elementProps:it})}else{var at=nt;st=React$7.createElement(ShapeSelector,{shapeType:_,elementProps:at})}return rt?React$7.createElement(Layer,{className:tt},st):st}function isFunnel(i,o){return o!=null&&"trapezoids"in i.props}function isPie(i,o){return o!=null&&"sectors"in i.props}function isScatter(i,o){return o!=null&&"points"in i.props}function compareFunnel(i,o){var _,j,_e=i.x===(o==null||(_=o.labelViewBox)===null||_===void 0?void 0:_.x)||i.x===o.x,et=i.y===(o==null||(j=o.labelViewBox)===null||j===void 0?void 0:j.y)||i.y===o.y;return _e&&et}function comparePie(i,o){var _=i.endAngle===o.endAngle,j=i.startAngle===o.startAngle;return _&&j}function compareScatter(i,o){var _=i.x===o.x,j=i.y===o.y,_e=i.z===o.z;return _&&j&&_e}function getComparisonFn(i,o){var _;return isFunnel(i,o)?_=compareFunnel:isPie(i,o)?_=comparePie:isScatter(i,o)&&(_=compareScatter),_}function getShapeDataKey(i,o){var _;return isFunnel(i,o)?_="trapezoids":isPie(i,o)?_="sectors":isScatter(i,o)&&(_="points"),_}function getActiveShapeTooltipPayload(i,o){if(isFunnel(i,o)){var _;return(_=o.tooltipPayload)===null||_===void 0||(_=_[0])===null||_===void 0||(_=_.payload)===null||_===void 0?void 0:_.payload}if(isPie(i,o)){var j;return(j=o.tooltipPayload)===null||j===void 0||(j=j[0])===null||j===void 0||(j=j.payload)===null||j===void 0?void 0:j.payload}return isScatter(i,o)?o.payload:{}}function getActiveShapeIndexForTooltip(i){var o=i.activeTooltipItem,_=i.graphicalItem,j=i.itemData,_e=getShapeDataKey(_,o),et=getActiveShapeTooltipPayload(_,o),tt=j.filter(function(nt,st){var it=isEqual$1(et,nt),at=_.props[_e].filter(function(ut){var lt=getComparisonFn(_,o);return lt(ut,o)}),ot=_.props[_e].indexOf(at[at.length-1]),ct=st===ot;return it&&ct}),rt=j.indexOf(tt[tt.length-1]);return rt}var _Pie;function _typeof$h(i){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$h(i)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$h.apply(this,arguments)}function ownKeys$n(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$l(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$n(Object(_),!0).forEach(function(j){_defineProperty$s(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$n(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$d(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$s(j.key),j)}}function _createClass$d(i,o,_){return o&&_defineProperties$d(i.prototype,o),_&&_defineProperties$d(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$b(i,o,_){return o=_getPrototypeOf$b(o),_possibleConstructorReturn$b(i,_isNativeReflectConstruct$b()?Reflect.construct(o,_||[],_getPrototypeOf$b(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$b(i,o){if(o&&(_typeof$h(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$b(i)}function _assertThisInitialized$b(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$b(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$b=function(){return!!i})()}function _getPrototypeOf$b(i){return _getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$b(i)}function _inherits$b(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$b(i,o)}function _setPrototypeOf$b(i,o){return _setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$b(i,o)}function _defineProperty$s(i,o,_){return o=_toPropertyKey$s(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$s(i){var o=_toPrimitive$s(i,"string");return _typeof$h(o)=="symbol"?o:o+""}function _toPrimitive$s(i,o){if(_typeof$h(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$h(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Pie$1=function(i){function o(_){var j;return _classCallCheck$d(this,o),j=_callSuper$b(this,o,[_]),_defineProperty$s(j,"pieRef",null),_defineProperty$s(j,"sectorRefs",[]),_defineProperty$s(j,"id",uniqueId("recharts-pie-")),_defineProperty$s(j,"handleAnimationEnd",function(){var _e=j.props.onAnimationEnd;j.setState({isAnimationFinished:!0}),isFunction$5(_e)&&_e()}),_defineProperty$s(j,"handleAnimationStart",function(){var _e=j.props.onAnimationStart;j.setState({isAnimationFinished:!1}),isFunction$5(_e)&&_e()}),j.state={isAnimationFinished:!_.isAnimationActive,prevIsAnimationActive:_.isAnimationActive,prevAnimationId:_.animationId,sectorToFocus:0},j}return _inherits$b(o,i),_createClass$d(o,[{key:"isActiveIndex",value:function(j){var _e=this.props.activeIndex;return Array.isArray(_e)?_e.indexOf(j)!==-1:j===_e}},{key:"hasActiveIndex",value:function(){var j=this.props.activeIndex;return Array.isArray(j)?j.length!==0:j||j===0}},{key:"renderLabels",value:function(j){var _e=this.props.isAnimationActive;if(_e&&!this.state.isAnimationFinished)return null;var et=this.props,tt=et.label,rt=et.labelLine,nt=et.dataKey,st=et.valueKey,it=filterProps(this.props,!1),at=filterProps(tt,!1),ot=filterProps(rt,!1),ct=tt&&tt.offsetRadius||20,ut=j.map(function(lt,pt){var dt=(lt.startAngle+lt.endAngle)/2,ht=polarToCartesian(lt.cx,lt.cy,lt.outerRadius+ct,dt),ft=_objectSpread$l(_objectSpread$l(_objectSpread$l(_objectSpread$l({},it),lt),{},{stroke:"none"},at),{},{index:pt,textAnchor:o.getTextAnchor(ht.x,lt.cx)},ht),mt=_objectSpread$l(_objectSpread$l(_objectSpread$l(_objectSpread$l({},it),lt),{},{fill:"none",stroke:lt.fill},ot),{},{index:pt,points:[polarToCartesian(lt.cx,lt.cy,lt.outerRadius,dt),ht]}),xt=nt;return isNil$1(nt)&&isNil$1(st)?xt="value":isNil$1(nt)&&(xt=st),React$7.createElement(Layer,{key:"label-".concat(lt.startAngle,"-").concat(lt.endAngle,"-").concat(lt.midAngle,"-").concat(pt)},rt&&o.renderLabelLineItem(rt,mt,"line"),o.renderLabelItem(tt,ft,getValueByDataKey(lt,xt)))});return React$7.createElement(Layer,{className:"recharts-pie-labels"},ut)}},{key:"renderSectorsStatically",value:function(j){var _e=this,et=this.props,tt=et.activeShape,rt=et.blendStroke,nt=et.inactiveShape;return j.map(function(st,it){if((st==null?void 0:st.startAngle)===0&&(st==null?void 0:st.endAngle)===0&&j.length!==1)return null;var at=_e.isActiveIndex(it),ot=nt&&_e.hasActiveIndex()?nt:null,ct=at?tt:ot,ut=_objectSpread$l(_objectSpread$l({},st),{},{stroke:rt?st.fill:st.stroke,tabIndex:-1});return React$7.createElement(Layer,_extends$h({ref:function(pt){pt&&!_e.sectorRefs.includes(pt)&&_e.sectorRefs.push(pt)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(_e.props,st,it),{key:"sector-".concat(st==null?void 0:st.startAngle,"-").concat(st==null?void 0:st.endAngle,"-").concat(st.midAngle,"-").concat(it)}),React$7.createElement(Shape,_extends$h({option:ct,isActive:at,shapeType:"sector"},ut)))})}},{key:"renderSectorsWithAnimation",value:function(){var j=this,_e=this.props,et=_e.sectors,tt=_e.isAnimationActive,rt=_e.animationBegin,nt=_e.animationDuration,st=_e.animationEasing,it=_e.animationId,at=this.state,ot=at.prevSectors,ct=at.prevIsAnimationActive;return React$7.createElement(Animate,{begin:rt,duration:nt,isActive:tt,easing:st,from:{t:0},to:{t:1},key:"pie-".concat(it,"-").concat(ct),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(ut){var lt=ut.t,pt=[],dt=et&&et[0],ht=dt.startAngle;return et.forEach(function(ft,mt){var xt=ot&&ot[mt],gt=mt>0?get$2(ft,"paddingAngle",0):0;if(xt){var yt=interpolateNumber$2(xt.endAngle-xt.startAngle,ft.endAngle-ft.startAngle),_t=_objectSpread$l(_objectSpread$l({},ft),{},{startAngle:ht+gt,endAngle:ht+yt(lt)+gt});pt.push(_t),ht=_t.endAngle}else{var Et=ft.endAngle,wt=ft.startAngle,$t=interpolateNumber$2(0,Et-wt),jt=$t(lt),Tt=_objectSpread$l(_objectSpread$l({},ft),{},{startAngle:ht+gt,endAngle:ht+jt+gt});pt.push(Tt),ht=Tt.endAngle}}),React$7.createElement(Layer,null,j.renderSectorsStatically(pt))})}},{key:"attachKeyboardHandlers",value:function(j){var _e=this;j.onkeydown=function(et){if(!et.altKey)switch(et.key){case"ArrowLeft":{var tt=++_e.state.sectorToFocus%_e.sectorRefs.length;_e.sectorRefs[tt].focus(),_e.setState({sectorToFocus:tt});break}case"ArrowRight":{var rt=--_e.state.sectorToFocus<0?_e.sectorRefs.length-1:_e.state.sectorToFocus%_e.sectorRefs.length;_e.sectorRefs[rt].focus(),_e.setState({sectorToFocus:rt});break}case"Escape":{_e.sectorRefs[_e.state.sectorToFocus].blur(),_e.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var j=this.props,_e=j.sectors,et=j.isAnimationActive,tt=this.state.prevSectors;return et&&_e&&_e.length&&(!tt||!isEqual$1(tt,_e))?this.renderSectorsWithAnimation():this.renderSectorsStatically(_e)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.hide,tt=_e.sectors,rt=_e.className,nt=_e.label,st=_e.cx,it=_e.cy,at=_e.innerRadius,ot=_e.outerRadius,ct=_e.isAnimationActive,ut=this.state.isAnimationFinished;if(et||!tt||!tt.length||!isNumber$1(st)||!isNumber$1(it)||!isNumber$1(at)||!isNumber$1(ot))return null;var lt=clsx("recharts-pie",rt);return React$7.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:lt,ref:function(dt){j.pieRef=dt}},this.renderSectors(),nt&&this.renderLabels(tt),Label.renderCallByParent(this.props,null,!1),(!ct||ut)&&LabelList.renderCallByParent(this.props,tt,!1))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return _e.prevIsAnimationActive!==j.isAnimationActive?{prevIsAnimationActive:j.isAnimationActive,prevAnimationId:j.animationId,curSectors:j.sectors,prevSectors:[],isAnimationFinished:!0}:j.isAnimationActive&&j.animationId!==_e.prevAnimationId?{prevAnimationId:j.animationId,curSectors:j.sectors,prevSectors:_e.curSectors,isAnimationFinished:!0}:j.sectors!==_e.curSectors?{curSectors:j.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(j,_e){return j>_e?"start":j<_e?"end":"middle"}},{key:"renderLabelLineItem",value:function(j,_e,et){if(React$7.isValidElement(j))return React$7.cloneElement(j,_e);if(isFunction$5(j))return j(_e);var tt=clsx("recharts-pie-label-line",typeof j!="boolean"?j.className:"");return React$7.createElement(Curve,_extends$h({},_e,{key:et,type:"linear",className:tt}))}},{key:"renderLabelItem",value:function(j,_e,et){if(React$7.isValidElement(j))return React$7.cloneElement(j,_e);var tt=et;if(isFunction$5(j)&&(tt=j(_e),React$7.isValidElement(tt)))return tt;var rt=clsx("recharts-pie-label-text",typeof j!="boolean"&&!isFunction$5(j)?j.className:"");return React$7.createElement(Text,_extends$h({},_e,{alignmentBaseline:"middle",className:rt}),tt)}}])}(reactExports.PureComponent);_Pie=Pie$1;_defineProperty$s(Pie$1,"displayName","Pie");_defineProperty$s(Pie$1,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_defineProperty$s(Pie$1,"parseDeltaAngle",function(i,o){var _=mathSign(o-i),j=Math.min(Math.abs(o-i),360);return _*j});_defineProperty$s(Pie$1,"getRealPieData",function(i){var o=i.data,_=i.children,j=filterProps(i,!1),_e=findAllByType(_,Cell);return o&&o.length?o.map(function(et,tt){return _objectSpread$l(_objectSpread$l(_objectSpread$l({payload:et},j),et),_e&&_e[tt]&&_e[tt].props)}):_e&&_e.length?_e.map(function(et){return _objectSpread$l(_objectSpread$l({},j),et.props)}):[]});_defineProperty$s(Pie$1,"parseCoordinateOfPie",function(i,o){var _=o.top,j=o.left,_e=o.width,et=o.height,tt=getMaxRadius(_e,et),rt=j+getPercentValue(i.cx,_e,_e/2),nt=_+getPercentValue(i.cy,et,et/2),st=getPercentValue(i.innerRadius,tt,0),it=getPercentValue(i.outerRadius,tt,tt*.8),at=i.maxRadius||Math.sqrt(_e*_e+et*et)/2;return{cx:rt,cy:nt,innerRadius:st,outerRadius:it,maxRadius:at}});_defineProperty$s(Pie$1,"getComposedData",function(i){var o=i.item,_=i.offset,j=o.type.defaultProps!==void 0?_objectSpread$l(_objectSpread$l({},o.type.defaultProps),o.props):o.props,_e=_Pie.getRealPieData(j);if(!_e||!_e.length)return null;var et=j.cornerRadius,tt=j.startAngle,rt=j.endAngle,nt=j.paddingAngle,st=j.dataKey,it=j.nameKey,at=j.valueKey,ot=j.tooltipType,ct=Math.abs(j.minAngle),ut=_Pie.parseCoordinateOfPie(j,_),lt=_Pie.parseDeltaAngle(tt,rt),pt=Math.abs(lt),dt=st;isNil$1(st)&&isNil$1(at)?(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),dt="value"):isNil$1(st)&&(warn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),dt=at);var ht=_e.filter(function(_t){return getValueByDataKey(_t,dt,0)!==0}).length,ft=(pt>=360?ht:ht-1)*nt,mt=pt-ht*ct-ft,xt=_e.reduce(function(_t,Et){var wt=getValueByDataKey(Et,dt,0);return _t+(isNumber$1(wt)?wt:0)},0),gt;if(xt>0){var yt;gt=_e.map(function(_t,Et){var wt=getValueByDataKey(_t,dt,0),$t=getValueByDataKey(_t,it,Et),jt=(isNumber$1(wt)?wt:0)/xt,Tt;Et?Tt=yt.endAngle+mathSign(lt)*nt*(wt!==0?1:0):Tt=tt;var kt=Tt+mathSign(lt)*((wt!==0?ct:0)+jt*mt),Pt=(Tt+kt)/2,St=(ut.innerRadius+ut.outerRadius)/2,Rt=[{name:$t,value:wt,payload:_t,dataKey:dt,type:ot}],bt=polarToCartesian(ut.cx,ut.cy,St,Pt);return yt=_objectSpread$l(_objectSpread$l(_objectSpread$l({percent:jt,cornerRadius:et,name:$t,tooltipPayload:Rt,midAngle:Pt,middleRadius:St,tooltipPosition:bt},_t),ut),{},{value:getValueByDataKey(_t,dt),startAngle:Tt,endAngle:kt,payload:_t,paddingAngle:mathSign(lt)*nt}),yt})}return _objectSpread$l(_objectSpread$l({},ut),{},{sectors:gt,data:_e})});var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange$1(i,o,_,j){for(var _e=-1,et=nativeMax(nativeCeil((o-i)/(_||1)),0),tt=Array(et);et--;)tt[j?et:++_e]=i,i+=_;return tt}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(i){if(!i)return i===0?i:0;if(i=toNumber(i),i===INFINITY$1||i===-INFINITY$1){var o=i<0?-1:1;return o*MAX_INTEGER}return i===i?i:0}var toFinite_1=toFinite$1,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite=toFinite_1;function createRange$1(i){return function(o,_,j){return j&&typeof j!="number"&&isIterateeCall$2(o,_,j)&&(_=j=void 0),o=toFinite(o),_===void 0?(_=o,o=0):_=toFinite(_),j=j===void 0?o<_?1:-1:toFinite(j),baseRange(o,_,j,i)}}var _createRange=createRange$1,createRange=_createRange,range=createRange(),range_1=range;const range$1=getDefaultExportFromCjs(range_1);function _typeof$g(i){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$g(i)}function ownKeys$m(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$k(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$m(Object(_),!0).forEach(function(j){_defineProperty$r(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$m(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$r(i,o,_){return o=_toPropertyKey$r(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$r(i){var o=_toPrimitive$r(i,"string");return _typeof$g(o)=="symbol"?o:o+""}function _toPrimitive$r(i,o){if(_typeof$g(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$g(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(o,_){var j=o.replace(/(\w)/,function(et){return et.toUpperCase()}),_e=PREFIX_LIST.reduce(function(et,tt){return _objectSpread$k(_objectSpread$k({},et),{},_defineProperty$r({},tt+j,_))},{});return _e[o]=_,_e};function _typeof$f(i){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$f(i)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$g.apply(this,arguments)}function ownKeys$l(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$j(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$l(Object(_),!0).forEach(function(j){_defineProperty$q(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$l(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$c(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$q(j.key),j)}}function _createClass$c(i,o,_){return o&&_defineProperties$c(i.prototype,o),_&&_defineProperties$c(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$a(i,o,_){return o=_getPrototypeOf$a(o),_possibleConstructorReturn$a(i,_isNativeReflectConstruct$a()?Reflect.construct(o,_||[],_getPrototypeOf$a(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$a(i,o){if(o&&(_typeof$f(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$a(i)}function _assertThisInitialized$a(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$a(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$a=function(){return!!i})()}function _getPrototypeOf$a(i){return _getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$a(i)}function _inherits$a(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$a(i,o)}function _setPrototypeOf$a(i,o){return _setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$a(i,o)}function _defineProperty$q(i,o,_){return o=_toPropertyKey$q(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$q(i){var o=_toPrimitive$q(i,"string");return _typeof$f(o)=="symbol"?o:o+""}function _toPrimitive$q(i,o){if(_typeof$f(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$f(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var createScale=function(o){var _=o.data,j=o.startIndex,_e=o.endIndex,et=o.x,tt=o.width,rt=o.travellerWidth;if(!_||!_.length)return{};var nt=_.length,st=point().domain(range$1(0,nt)).range([et,et+tt-rt]),it=st.domain().map(function(at){return st(at)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:st(j),endX:st(_e),scale:st,scaleValues:it}},isTouch=function(o){return o.changedTouches&&!!o.changedTouches.length},Brush=function(i){function o(_){var j;return _classCallCheck$c(this,o),j=_callSuper$a(this,o,[_]),_defineProperty$q(j,"handleDrag",function(_e){j.leaveTimer&&(clearTimeout(j.leaveTimer),j.leaveTimer=null),j.state.isTravellerMoving?j.handleTravellerMove(_e):j.state.isSlideMoving&&j.handleSlideDrag(_e)}),_defineProperty$q(j,"handleTouchMove",function(_e){_e.changedTouches!=null&&_e.changedTouches.length>0&&j.handleDrag(_e.changedTouches[0])}),_defineProperty$q(j,"handleDragEnd",function(){j.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var _e=j.props,et=_e.endIndex,tt=_e.onDragEnd,rt=_e.startIndex;tt==null||tt({endIndex:et,startIndex:rt})}),j.detachDragEndListener()}),_defineProperty$q(j,"handleLeaveWrapper",function(){(j.state.isTravellerMoving||j.state.isSlideMoving)&&(j.leaveTimer=window.setTimeout(j.handleDragEnd,j.props.leaveTimeOut))}),_defineProperty$q(j,"handleEnterSlideOrTraveller",function(){j.setState({isTextActive:!0})}),_defineProperty$q(j,"handleLeaveSlideOrTraveller",function(){j.setState({isTextActive:!1})}),_defineProperty$q(j,"handleSlideDragStart",function(_e){var et=isTouch(_e)?_e.changedTouches[0]:_e;j.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:et.pageX}),j.attachDragEndListener()}),j.travellerDragStartHandlers={startX:j.handleTravellerDragStart.bind(j,"startX"),endX:j.handleTravellerDragStart.bind(j,"endX")},j.state={},j}return _inherits$a(o,i),_createClass$c(o,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(j){var _e=j.startX,et=j.endX,tt=this.state.scaleValues,rt=this.props,nt=rt.gap,st=rt.data,it=st.length-1,at=Math.min(_e,et),ot=Math.max(_e,et),ct=o.getIndexInRange(tt,at),ut=o.getIndexInRange(tt,ot);return{startIndex:ct-ct%nt,endIndex:ut===it?it:ut-ut%nt}}},{key:"getTextOfTick",value:function(j){var _e=this.props,et=_e.data,tt=_e.tickFormatter,rt=_e.dataKey,nt=getValueByDataKey(et[j],rt,j);return isFunction$5(tt)?tt(nt,j):nt}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(j){var _e=this.state,et=_e.slideMoveStartX,tt=_e.startX,rt=_e.endX,nt=this.props,st=nt.x,it=nt.width,at=nt.travellerWidth,ot=nt.startIndex,ct=nt.endIndex,ut=nt.onChange,lt=j.pageX-et;lt>0?lt=Math.min(lt,st+it-at-rt,st+it-at-tt):lt<0&&(lt=Math.max(lt,st-tt,st-rt));var pt=this.getIndex({startX:tt+lt,endX:rt+lt});(pt.startIndex!==ot||pt.endIndex!==ct)&&ut&&ut(pt),this.setState({startX:tt+lt,endX:rt+lt,slideMoveStartX:j.pageX})}},{key:"handleTravellerDragStart",value:function(j,_e){var et=isTouch(_e)?_e.changedTouches[0]:_e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:j,brushMoveStartX:et.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(j){var _e=this.state,et=_e.brushMoveStartX,tt=_e.movingTravellerId,rt=_e.endX,nt=_e.startX,st=this.state[tt],it=this.props,at=it.x,ot=it.width,ct=it.travellerWidth,ut=it.onChange,lt=it.gap,pt=it.data,dt={startX:this.state.startX,endX:this.state.endX},ht=j.pageX-et;ht>0?ht=Math.min(ht,at+ot-ct-st):ht<0&&(ht=Math.max(ht,at-st)),dt[tt]=st+ht;var ft=this.getIndex(dt),mt=ft.startIndex,xt=ft.endIndex,gt=function(){var _t=pt.length-1;return tt==="startX"&&(rt>nt?mt%lt===0:xt%lt===0)||rt<nt&&xt===_t||tt==="endX"&&(rt>nt?xt%lt===0:mt%lt===0)||rt>nt&&xt===_t};this.setState(_defineProperty$q(_defineProperty$q({},tt,st+ht),"brushMoveStartX",j.pageX),function(){ut&&gt()&&ut(ft)})}},{key:"handleTravellerMoveKeyboard",value:function(j,_e){var et=this,tt=this.state,rt=tt.scaleValues,nt=tt.startX,st=tt.endX,it=this.state[_e],at=rt.indexOf(it);if(at!==-1){var ot=at+j;if(!(ot===-1||ot>=rt.length)){var ct=rt[ot];_e==="startX"&&ct>=st||_e==="endX"&&ct<=nt||this.setState(_defineProperty$q({},_e,ct),function(){et.props.onChange(et.getIndex({startX:et.state.startX,endX:et.state.endX}))})}}}},{key:"renderBackground",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.width,rt=j.height,nt=j.fill,st=j.stroke;return React$7.createElement("rect",{stroke:st,fill:nt,x:_e,y:et,width:tt,height:rt})}},{key:"renderPanorama",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.width,rt=j.height,nt=j.data,st=j.children,it=j.padding,at=reactExports.Children.only(st);return at?React$7.cloneElement(at,{x:_e,y:et,width:tt,height:rt,margin:it,compact:!0,data:nt}):null}},{key:"renderTravellerLayer",value:function(j,_e){var et,tt,rt=this,nt=this.props,st=nt.y,it=nt.travellerWidth,at=nt.height,ot=nt.traveller,ct=nt.ariaLabel,ut=nt.data,lt=nt.startIndex,pt=nt.endIndex,dt=Math.max(j,this.props.x),ht=_objectSpread$j(_objectSpread$j({},filterProps(this.props,!1)),{},{x:dt,y:st,width:it,height:at}),ft=ct||"Min value: ".concat((et=ut[lt])===null||et===void 0?void 0:et.name,", Max value: ").concat((tt=ut[pt])===null||tt===void 0?void 0:tt.name);return React$7.createElement(Layer,{tabIndex:0,role:"slider","aria-label":ft,"aria-valuenow":j,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[_e],onTouchStart:this.travellerDragStartHandlers[_e],onKeyDown:function(xt){["ArrowLeft","ArrowRight"].includes(xt.key)&&(xt.preventDefault(),xt.stopPropagation(),rt.handleTravellerMoveKeyboard(xt.key==="ArrowRight"?1:-1,_e))},onFocus:function(){rt.setState({isTravellerFocused:!0})},onBlur:function(){rt.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},o.renderTraveller(ot,ht))}},{key:"renderSlide",value:function(j,_e){var et=this.props,tt=et.y,rt=et.height,nt=et.stroke,st=et.travellerWidth,it=Math.min(j,_e)+st,at=Math.max(Math.abs(_e-j)-st,0);return React$7.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:nt,fillOpacity:.2,x:it,y:tt,width:at,height:rt})}},{key:"renderText",value:function(){var j=this.props,_e=j.startIndex,et=j.endIndex,tt=j.y,rt=j.height,nt=j.travellerWidth,st=j.stroke,it=this.state,at=it.startX,ot=it.endX,ct=5,ut={pointerEvents:"none",fill:st};return React$7.createElement(Layer,{className:"recharts-brush-texts"},React$7.createElement(Text,_extends$g({textAnchor:"end",verticalAnchor:"middle",x:Math.min(at,ot)-ct,y:tt+rt/2},ut),this.getTextOfTick(_e)),React$7.createElement(Text,_extends$g({textAnchor:"start",verticalAnchor:"middle",x:Math.max(at,ot)+nt+ct,y:tt+rt/2},ut),this.getTextOfTick(et)))}},{key:"render",value:function(){var j=this.props,_e=j.data,et=j.className,tt=j.children,rt=j.x,nt=j.y,st=j.width,it=j.height,at=j.alwaysShowText,ot=this.state,ct=ot.startX,ut=ot.endX,lt=ot.isTextActive,pt=ot.isSlideMoving,dt=ot.isTravellerMoving,ht=ot.isTravellerFocused;if(!_e||!_e.length||!isNumber$1(rt)||!isNumber$1(nt)||!isNumber$1(st)||!isNumber$1(it)||st<=0||it<=0)return null;var ft=clsx("recharts-brush",et),mt=React$7.Children.count(tt)===1,xt=generatePrefixStyle("userSelect","none");return React$7.createElement(Layer,{className:ft,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:xt},this.renderBackground(),mt&&this.renderPanorama(),this.renderSlide(ct,ut),this.renderTravellerLayer(ct,"startX"),this.renderTravellerLayer(ut,"endX"),(lt||pt||dt||ht||at)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(j){var _e=j.x,et=j.y,tt=j.width,rt=j.height,nt=j.stroke,st=Math.floor(et+rt/2)-1;return React$7.createElement(React$7.Fragment,null,React$7.createElement("rect",{x:_e,y:et,width:tt,height:rt,fill:nt,stroke:"none"}),React$7.createElement("line",{x1:_e+1,y1:st,x2:_e+tt-1,y2:st,fill:"none",stroke:"#fff"}),React$7.createElement("line",{x1:_e+1,y1:st+2,x2:_e+tt-1,y2:st+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(j,_e){var et;return React$7.isValidElement(j)?et=React$7.cloneElement(j,_e):isFunction$5(j)?et=j(_e):et=o.renderDefaultTraveller(_e),et}},{key:"getDerivedStateFromProps",value:function(j,_e){var et=j.data,tt=j.width,rt=j.x,nt=j.travellerWidth,st=j.updateId,it=j.startIndex,at=j.endIndex;if(et!==_e.prevData||st!==_e.prevUpdateId)return _objectSpread$j({prevData:et,prevTravellerWidth:nt,prevUpdateId:st,prevX:rt,prevWidth:tt},et&&et.length?createScale({data:et,width:tt,x:rt,travellerWidth:nt,startIndex:it,endIndex:at}):{scale:null,scaleValues:null});if(_e.scale&&(tt!==_e.prevWidth||rt!==_e.prevX||nt!==_e.prevTravellerWidth)){_e.scale.range([rt,rt+tt-nt]);var ot=_e.scale.domain().map(function(ct){return _e.scale(ct)});return{prevData:et,prevTravellerWidth:nt,prevUpdateId:st,prevX:rt,prevWidth:tt,startX:_e.scale(j.startIndex),endX:_e.scale(j.endIndex),scaleValues:ot}}return null}},{key:"getIndexInRange",value:function(j,_e){for(var et=j.length,tt=0,rt=et-1;rt-tt>1;){var nt=Math.floor((tt+rt)/2);j[nt]>_e?rt=nt:tt=nt}return _e>=j[rt]?rt:tt}}])}(reactExports.PureComponent);_defineProperty$q(Brush,"displayName","Brush");_defineProperty$q(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(i,o){var _;return baseEach$1(i,function(j,_e,et){return _=o(j,_e,et),!_}),!!_}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$2=_baseIteratee,baseSome=_baseSome,isArray$2=isArray_1,isIterateeCall$1=_isIterateeCall;function some(i,o,_){var j=isArray$2(i)?arraySome:baseSome;return _&&isIterateeCall$1(i,o,_)&&(o=void 0),j(i,baseIteratee$2(o))}var some_1=some;const some$1=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function(o,_){var j=o.alwaysShow,_e=o.ifOverflow;return j&&(_e="extendDomain"),_e===_},defineProperty=_defineProperty$Q;function baseAssignValue$1(i,o,_){o=="__proto__"&&defineProperty?defineProperty(i,o,{configurable:!0,enumerable:!0,value:_,writable:!0}):i[o]=_}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$1=_baseIteratee;function mapValues(i,o){var _={};return o=baseIteratee$1(o),baseForOwn(i,function(j,_e,et){baseAssignValue(_,_e,o(j,_e,et))}),_}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(i,o){for(var _=-1,j=i==null?0:i.length;++_<j;)if(!o(i[_],_,i))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(i,o){var _=!0;return baseEach(i,function(j,_e,et){return _=!!o(j,_e,et),_}),_}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee=_baseIteratee,isArray$1=isArray_1,isIterateeCall=_isIterateeCall;function every(i,o,_){var j=isArray$1(i)?arrayEvery:baseEvery;return _&&isIterateeCall(i,o,_)&&(o=void 0),j(i,baseIteratee(o))}var every_1=every;const every$1=getDefaultExportFromCjs(every_1);var _excluded$c=["x","y"];function _typeof$e(i){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$e(i)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$f.apply(this,arguments)}function ownKeys$k(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$i(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$k(Object(_),!0).forEach(function(j){_defineProperty$p(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$k(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$p(i,o,_){return o=_toPropertyKey$p(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$p(i){var o=_toPrimitive$p(i,"string");return _typeof$e(o)=="symbol"?o:o+""}function _toPrimitive$p(i,o){if(_typeof$e(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$e(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$b(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$b(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$b(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function typeguardBarRectangleProps(i,o){var _=i.x,j=i.y,_e=_objectWithoutProperties$b(i,_excluded$c),et="".concat(_),tt=parseInt(et,10),rt="".concat(j),nt=parseInt(rt,10),st="".concat(o.height||_e.height),it=parseInt(st,10),at="".concat(o.width||_e.width),ot=parseInt(at,10);return _objectSpread$i(_objectSpread$i(_objectSpread$i(_objectSpread$i(_objectSpread$i({},o),_e),tt?{x:tt}:{}),nt?{y:nt}:{}),{},{height:it,width:ot,name:o.name,radius:o.radius})}function BarRectangle(i){return React$7.createElement(Shape,_extends$f({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},i))}var minPointSizeCallback=function(o){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(j,_e){if(typeof o=="number")return o;var et=isNumber$1(j)||isNullish(j);return et?o(j,_e):(et||invariant(),_)}},_excluded$b=["value","background"],_Bar;function _typeof$d(i){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$d(i)}function _objectWithoutProperties$a(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$a(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$a(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$e.apply(this,arguments)}function ownKeys$j(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$h(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$j(Object(_),!0).forEach(function(j){_defineProperty$o(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$j(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$b(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$o(j.key),j)}}function _createClass$b(i,o,_){return o&&_defineProperties$b(i.prototype,o),_&&_defineProperties$b(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$9(i,o,_){return o=_getPrototypeOf$9(o),_possibleConstructorReturn$9(i,_isNativeReflectConstruct$9()?Reflect.construct(o,_||[],_getPrototypeOf$9(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$9(i,o){if(o&&(_typeof$d(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(i)}function _assertThisInitialized$9(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$9(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!i})()}function _getPrototypeOf$9(i){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$9(i)}function _inherits$9(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$9(i,o)}function _setPrototypeOf$9(i,o){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$9(i,o)}function _defineProperty$o(i,o,_){return o=_toPropertyKey$o(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$o(i){var o=_toPrimitive$o(i,"string");return _typeof$d(o)=="symbol"?o:o+""}function _toPrimitive$o(i,o){if(_typeof$d(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$d(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Bar$1=function(i){function o(){var _;_classCallCheck$b(this,o);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return _=_callSuper$9(this,o,[].concat(_e)),_defineProperty$o(_,"state",{isAnimationFinished:!1}),_defineProperty$o(_,"id",uniqueId("recharts-bar-")),_defineProperty$o(_,"handleAnimationEnd",function(){var tt=_.props.onAnimationEnd;_.setState({isAnimationFinished:!0}),tt&&tt()}),_defineProperty$o(_,"handleAnimationStart",function(){var tt=_.props.onAnimationStart;_.setState({isAnimationFinished:!1}),tt&&tt()}),_}return _inherits$9(o,i),_createClass$b(o,[{key:"renderRectanglesStatically",value:function(j){var _e=this,et=this.props,tt=et.shape,rt=et.dataKey,nt=et.activeIndex,st=et.activeBar,it=filterProps(this.props,!1);return j&&j.map(function(at,ot){var ct=ot===nt,ut=ct?st:tt,lt=_objectSpread$h(_objectSpread$h(_objectSpread$h({},it),at),{},{isActive:ct,option:ut,index:ot,dataKey:rt,onAnimationStart:_e.handleAnimationStart,onAnimationEnd:_e.handleAnimationEnd});return React$7.createElement(Layer,_extends$e({className:"recharts-bar-rectangle"},adaptEventsOfChild(_e.props,at,ot),{key:"rectangle-".concat(at==null?void 0:at.x,"-").concat(at==null?void 0:at.y,"-").concat(at==null?void 0:at.value,"-").concat(ot)}),React$7.createElement(BarRectangle,lt))})}},{key:"renderRectanglesWithAnimation",value:function(){var j=this,_e=this.props,et=_e.data,tt=_e.layout,rt=_e.isAnimationActive,nt=_e.animationBegin,st=_e.animationDuration,it=_e.animationEasing,at=_e.animationId,ot=this.state.prevData;return React$7.createElement(Animate,{begin:nt,duration:st,isActive:rt,easing:it,from:{t:0},to:{t:1},key:"bar-".concat(at),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(ct){var ut=ct.t,lt=et.map(function(pt,dt){var ht=ot&&ot[dt];if(ht){var ft=interpolateNumber$2(ht.x,pt.x),mt=interpolateNumber$2(ht.y,pt.y),xt=interpolateNumber$2(ht.width,pt.width),gt=interpolateNumber$2(ht.height,pt.height);return _objectSpread$h(_objectSpread$h({},pt),{},{x:ft(ut),y:mt(ut),width:xt(ut),height:gt(ut)})}if(tt==="horizontal"){var yt=interpolateNumber$2(0,pt.height),_t=yt(ut);return _objectSpread$h(_objectSpread$h({},pt),{},{y:pt.y+pt.height-_t,height:_t})}var Et=interpolateNumber$2(0,pt.width),wt=Et(ut);return _objectSpread$h(_objectSpread$h({},pt),{},{width:wt})});return React$7.createElement(Layer,null,j.renderRectanglesStatically(lt))})}},{key:"renderRectangles",value:function(){var j=this.props,_e=j.data,et=j.isAnimationActive,tt=this.state.prevData;return et&&_e&&_e.length&&(!tt||!isEqual$1(tt,_e))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(_e)}},{key:"renderBackground",value:function(){var j=this,_e=this.props,et=_e.data,tt=_e.dataKey,rt=_e.activeIndex,nt=filterProps(this.props.background,!1);return et.map(function(st,it){st.value;var at=st.background,ot=_objectWithoutProperties$a(st,_excluded$b);if(!at)return null;var ct=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({},ot),{},{fill:"#eee"},at),nt),adaptEventsOfChild(j.props,st,it)),{},{onAnimationStart:j.handleAnimationStart,onAnimationEnd:j.handleAnimationEnd,dataKey:tt,index:it,className:"recharts-bar-background-rectangle"});return React$7.createElement(BarRectangle,_extends$e({key:"background-bar-".concat(it),option:j.props.background,isActive:it===rt},ct))})}},{key:"renderErrorBar",value:function(j,_e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var et=this.props,tt=et.data,rt=et.xAxis,nt=et.yAxis,st=et.layout,it=et.children,at=findAllByType(it,ErrorBar);if(!at)return null;var ot=st==="vertical"?tt[0].height/2:tt[0].width/2,ct=function(pt,dt){var ht=Array.isArray(pt.value)?pt.value[1]:pt.value;return{x:pt.x,y:pt.y,value:ht,errorVal:getValueByDataKey(pt,dt)}},ut={clipPath:j?"url(#clipPath-".concat(_e,")"):null};return React$7.createElement(Layer,ut,at.map(function(lt){return React$7.cloneElement(lt,{key:"error-bar-".concat(_e,"-").concat(lt.props.dataKey),data:tt,xAxis:rt,yAxis:nt,layout:st,offset:ot,dataPointFormatter:ct})}))}},{key:"render",value:function(){var j=this.props,_e=j.hide,et=j.data,tt=j.className,rt=j.xAxis,nt=j.yAxis,st=j.left,it=j.top,at=j.width,ot=j.height,ct=j.isAnimationActive,ut=j.background,lt=j.id;if(_e||!et||!et.length)return null;var pt=this.state.isAnimationFinished,dt=clsx("recharts-bar",tt),ht=rt&&rt.allowDataOverflow,ft=nt&&nt.allowDataOverflow,mt=ht||ft,xt=isNil$1(lt)?this.id:lt;return React$7.createElement(Layer,{className:dt},ht||ft?React$7.createElement("defs",null,React$7.createElement("clipPath",{id:"clipPath-".concat(xt)},React$7.createElement("rect",{x:ht?st:st-at/2,y:ft?it:it-ot/2,width:ht?at:at*2,height:ft?ot:ot*2}))):null,React$7.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:mt?"url(#clipPath-".concat(xt,")"):null},ut?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(mt,xt),(!ct||pt)&&LabelList.renderCallByParent(this.props,et))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return j.animationId!==_e.prevAnimationId?{prevAnimationId:j.animationId,curData:j.data,prevData:_e.curData}:j.data!==_e.curData?{curData:j.data}:null}}])}(reactExports.PureComponent);_Bar=Bar$1;_defineProperty$o(Bar$1,"displayName","Bar");_defineProperty$o(Bar$1,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$o(Bar$1,"getComposedData",function(i){var o=i.props,_=i.item,j=i.barPosition,_e=i.bandSize,et=i.xAxis,tt=i.yAxis,rt=i.xAxisTicks,nt=i.yAxisTicks,st=i.stackedData,it=i.dataStartIndex,at=i.displayedData,ot=i.offset,ct=findPositionOfBar(j,_);if(!ct)return null;var ut=o.layout,lt=_.type.defaultProps,pt=lt!==void 0?_objectSpread$h(_objectSpread$h({},lt),_.props):_.props,dt=pt.dataKey,ht=pt.children,ft=pt.minPointSize,mt=ut==="horizontal"?tt:et,xt=st?mt.scale.domain():null,gt=getBaseValueOfBar({numericAxis:mt}),yt=findAllByType(ht,Cell),_t=at.map(function(Et,wt){var $t,jt,Tt,kt,Pt,St;st?$t=truncateByDomain(st[it+wt],xt):($t=getValueByDataKey(Et,dt),Array.isArray($t)||($t=[gt,$t]));var Rt=minPointSizeCallback(ft,_Bar.defaultProps.minPointSize)($t[1],wt);if(ut==="horizontal"){var bt,vt=[tt.scale($t[0]),tt.scale($t[1])],At=vt[0],Ot=vt[1];jt=getCateCoordinateOfBar({axis:et,ticks:rt,bandSize:_e,offset:ct.offset,entry:Et,index:wt}),Tt=(bt=Ot??At)!==null&&bt!==void 0?bt:void 0,kt=ct.size;var Ct=At-Ot;if(Pt=Number.isNaN(Ct)?0:Ct,St={x:jt,y:tt.y,width:kt,height:tt.height},Math.abs(Rt)>0&&Math.abs(Pt)<Math.abs(Rt)){var Lt=mathSign(Pt||Rt)*(Math.abs(Rt)-Math.abs(Pt));Tt-=Lt,Pt+=Lt}}else{var It=[et.scale($t[0]),et.scale($t[1])],Dt=It[0],Zt=It[1];if(jt=Dt,Tt=getCateCoordinateOfBar({axis:tt,ticks:nt,bandSize:_e,offset:ct.offset,entry:Et,index:wt}),kt=Zt-Dt,Pt=ct.size,St={x:et.x,y:Tt,width:et.width,height:Pt},Math.abs(Rt)>0&&Math.abs(kt)<Math.abs(Rt)){var Qt=mathSign(kt||Rt)*(Math.abs(Rt)-Math.abs(kt));kt+=Qt}}return _objectSpread$h(_objectSpread$h(_objectSpread$h({},Et),{},{x:jt,y:Tt,width:kt,height:Pt,value:st?$t:$t[1],payload:Et,background:St},yt&&yt[wt]&&yt[wt].props),{},{tooltipPayload:[getTooltipItem(_,Et)],tooltipPosition:{x:jt+kt/2,y:Tt+Pt/2}})});return _objectSpread$h({data:_t,layout:ut},ot)});function _typeof$c(i){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$c(i)}function _classCallCheck$a(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$n(j.key),j)}}function _createClass$a(i,o,_){return o&&_defineProperties$a(i.prototype,o),_&&_defineProperties$a(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function ownKeys$i(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$g(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$i(Object(_),!0).forEach(function(j){_defineProperty$n(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$i(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$n(i,o,_){return o=_toPropertyKey$n(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$n(i){var o=_toPrimitive$n(i,"string");return _typeof$c(o)=="symbol"?o:o+""}function _toPrimitive$n(i,o){if(_typeof$c(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$c(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var formatAxisMap=function(o,_,j,_e,et){var tt=o.width,rt=o.height,nt=o.layout,st=o.children,it=Object.keys(_),at={left:j.left,leftMirror:j.left,right:tt-j.right,rightMirror:tt-j.right,top:j.top,topMirror:j.top,bottom:rt-j.bottom,bottomMirror:rt-j.bottom},ot=!!findChildByType(st,Bar$1);return it.reduce(function(ct,ut){var lt=_[ut],pt=lt.orientation,dt=lt.domain,ht=lt.padding,ft=ht===void 0?{}:ht,mt=lt.mirror,xt=lt.reversed,gt="".concat(pt).concat(mt?"Mirror":""),yt,_t,Et,wt,$t;if(lt.type==="number"&&(lt.padding==="gap"||lt.padding==="no-gap")){var jt=dt[1]-dt[0],Tt=1/0,kt=lt.categoricalDomain.sort(compareValues);if(kt.forEach(function(It,Dt){Dt>0&&(Tt=Math.min((It||0)-(kt[Dt-1]||0),Tt))}),Number.isFinite(Tt)){var Pt=Tt/jt,St=lt.layout==="vertical"?j.height:j.width;if(lt.padding==="gap"&&(yt=Pt*St/2),lt.padding==="no-gap"){var Rt=getPercentValue(o.barCategoryGap,Pt*St),bt=Pt*St/2;yt=bt-Rt-(bt-Rt)/St*Rt}}}_e==="xAxis"?_t=[j.left+(ft.left||0)+(yt||0),j.left+j.width-(ft.right||0)-(yt||0)]:_e==="yAxis"?_t=nt==="horizontal"?[j.top+j.height-(ft.bottom||0),j.top+(ft.top||0)]:[j.top+(ft.top||0)+(yt||0),j.top+j.height-(ft.bottom||0)-(yt||0)]:_t=lt.range,xt&&(_t=[_t[1],_t[0]]);var vt=parseScale(lt,et,ot),At=vt.scale,Ot=vt.realScaleType;At.domain(dt).range(_t),checkDomainOfScale(At);var Ct=getTicksOfScale(At,_objectSpread$g(_objectSpread$g({},lt),{},{realScaleType:Ot}));_e==="xAxis"?($t=pt==="top"&&!mt||pt==="bottom"&&mt,Et=j.left,wt=at[gt]-$t*lt.height):_e==="yAxis"&&($t=pt==="left"&&!mt||pt==="right"&&mt,Et=at[gt]-$t*lt.width,wt=j.top);var Lt=_objectSpread$g(_objectSpread$g(_objectSpread$g({},lt),Ct),{},{realScaleType:Ot,x:Et,y:wt,scale:At,width:_e==="xAxis"?j.width:lt.width,height:_e==="yAxis"?j.height:lt.height});return Lt.bandSize=getBandSizeOfAxis(Lt,Ct),!lt.hide&&_e==="xAxis"?at[gt]+=($t?-1:1)*Lt.height:lt.hide||(at[gt]+=($t?-1:1)*Lt.width),_objectSpread$g(_objectSpread$g({},ct),{},_defineProperty$n({},ut,Lt))},{})},rectWithPoints=function(o,_){var j=o.x,_e=o.y,et=_.x,tt=_.y;return{x:Math.min(j,et),y:Math.min(_e,tt),width:Math.abs(et-j),height:Math.abs(tt-_e)}},rectWithCoords=function(o){var _=o.x1,j=o.y1,_e=o.x2,et=o.y2;return rectWithPoints({x:_,y:j},{x:_e,y:et})},ScaleHelper=function(){function i(o){_classCallCheck$a(this,i),this.scale=o}return _createClass$a(i,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(_){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=j.bandAware,et=j.position;if(_!==void 0){if(et)switch(et){case"start":return this.scale(_);case"middle":{var tt=this.bandwidth?this.bandwidth()/2:0;return this.scale(_)+tt}case"end":{var rt=this.bandwidth?this.bandwidth():0;return this.scale(_)+rt}default:return this.scale(_)}if(_e){var nt=this.bandwidth?this.bandwidth()/2:0;return this.scale(_)+nt}return this.scale(_)}}},{key:"isInRange",value:function(_){var j=this.range(),_e=j[0],et=j[j.length-1];return _e<=et?_>=_e&&_<=et:_>=et&&_<=_e}}],[{key:"create",value:function(_){return new i(_)}}])}();_defineProperty$n(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(o){var _=Object.keys(o).reduce(function(j,_e){return _objectSpread$g(_objectSpread$g({},j),{},_defineProperty$n({},_e,ScaleHelper.create(o[_e])))},{});return _objectSpread$g(_objectSpread$g({},_),{},{apply:function(_e){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=et.bandAware,rt=et.position;return mapValues$1(_e,function(nt,st){return _[st].apply(nt,{bandAware:tt,position:rt})})},isInRange:function(_e){return every$1(_e,function(et,tt){return _[tt].isInRange(et)})}})};function normalizeAngle(i){return(i%180+180)%180}var getAngledRectangleWidth=function(o){var _=o.width,j=o.height,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=normalizeAngle(_e),tt=et*Math.PI/180,rt=Math.atan(j/_),nt=tt>rt&&tt<Math.PI-rt?j/Math.sin(tt):_/Math.cos(tt);return Math.abs(nt)},calculateViewBox=memoize$3(function(i){return{x:i.left,y:i.top,width:i.width,height:i.height}},function(i){return["l",i.left,"t",i.top,"w",i.width,"h",i.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(o){var _=o.state,j=_.xAxisMap,_e=_.yAxisMap,et=_.offset,tt=o.clipPathId,rt=o.children,nt=o.width,st=o.height,it=calculateViewBox(et);return React$7.createElement(XAxisContext.Provider,{value:j},React$7.createElement(YAxisContext.Provider,{value:_e},React$7.createElement(OffsetContext.Provider,{value:et},React$7.createElement(ViewBoxContext.Provider,{value:it},React$7.createElement(ClipPathIdContext.Provider,{value:tt},React$7.createElement(ChartHeightContext.Provider,{value:st},React$7.createElement(ChartWidthContext.Provider,{value:nt},rt)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(o){var _=reactExports.useContext(XAxisContext);_==null&&invariant();var j=_[o];return j==null&&invariant(),j},useYAxisOrThrow=function(o){var _=reactExports.useContext(YAxisContext);_==null&&invariant();var j=_[o];return j==null&&invariant(),j},useViewBox=function(){var o=reactExports.useContext(ViewBoxContext);return o},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$b(i){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$b(i)}function _classCallCheck$9(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$m(j.key),j)}}function _createClass$9(i,o,_){return o&&_defineProperties$9(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$8(i,o,_){return o=_getPrototypeOf$8(o),_possibleConstructorReturn$8(i,_isNativeReflectConstruct$8()?Reflect.construct(o,_||[],_getPrototypeOf$8(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$8(i,o){if(o&&(_typeof$b(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(i)}function _assertThisInitialized$8(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$8(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!i})()}function _getPrototypeOf$8(i){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$8(i)}function _inherits$8(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$8(i,o)}function _setPrototypeOf$8(i,o){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$8(i,o)}function ownKeys$h(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$f(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$h(Object(_),!0).forEach(function(j){_defineProperty$m(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$h(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$m(i,o,_){return o=_toPropertyKey$m(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$m(i){var o=_toPrimitive$m(i,"string");return _typeof$b(o)=="symbol"?o:o+""}function _toPrimitive$m(i,o){if(_typeof$b(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$b(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _slicedToArray$3(i,o){return _arrayWithHoles$3(i)||_iterableToArrayLimit$3(i,o)||_unsupportedIterableToArray$5(i,o)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$5(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$5(i,o)}}function _arrayLikeToArray$5(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _iterableToArrayLimit$3(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$3(i){if(Array.isArray(i))return i}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$d.apply(this,arguments)}var renderLine=function(o,_){var j;return React$7.isValidElement(o)?j=React$7.cloneElement(o,_):isFunction$5(o)?j=o(_):j=React$7.createElement("line",_extends$d({},_,{className:"recharts-reference-line-line"})),j},getEndPoints=function(o,_,j,_e,et,tt,rt,nt,st){var it=et.x,at=et.y,ot=et.width,ct=et.height;if(j){var ut=st.y,lt=o.y.apply(ut,{position:tt});if(ifOverflowMatches(st,"discard")&&!o.y.isInRange(lt))return null;var pt=[{x:it+ot,y:lt},{x:it,y:lt}];return nt==="left"?pt.reverse():pt}if(_){var dt=st.x,ht=o.x.apply(dt,{position:tt});if(ifOverflowMatches(st,"discard")&&!o.x.isInRange(ht))return null;var ft=[{x:ht,y:at+ct},{x:ht,y:at}];return rt==="top"?ft.reverse():ft}if(_e){var mt=st.segment,xt=mt.map(function(gt){return o.apply(gt,{position:tt})});return ifOverflowMatches(st,"discard")&&some$1(xt,function(gt){return!o.isInRange(gt)})?null:xt}return null};function ReferenceLineImpl(i){var o=i.x,_=i.y,j=i.segment,_e=i.xAxisId,et=i.yAxisId,tt=i.shape,rt=i.className,nt=i.alwaysShow,st=useClipPathId(),it=useXAxisOrThrow(_e),at=useYAxisOrThrow(et),ot=useViewBox();if(!st||!ot)return null;warn(nt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var ct=createLabeledScales({x:it.scale,y:at.scale}),ut=isNumOrStr(o),lt=isNumOrStr(_),pt=j&&j.length===2,dt=getEndPoints(ct,ut,lt,pt,ot,i.position,it.orientation,at.orientation,i);if(!dt)return null;var ht=_slicedToArray$3(dt,2),ft=ht[0],mt=ft.x,xt=ft.y,gt=ht[1],yt=gt.x,_t=gt.y,Et=ifOverflowMatches(i,"hidden")?"url(#".concat(st,")"):void 0,wt=_objectSpread$f(_objectSpread$f({clipPath:Et},filterProps(i,!0)),{},{x1:mt,y1:xt,x2:yt,y2:_t});return React$7.createElement(Layer,{className:clsx("recharts-reference-line",rt)},renderLine(tt,wt),Label.renderCallByParent(i,rectWithCoords({x1:mt,y1:xt,x2:yt,y2:_t})))}var ReferenceLine=function(i){function o(){return _classCallCheck$9(this,o),_callSuper$8(this,o,arguments)}return _inherits$8(o,i),_createClass$9(o,[{key:"render",value:function(){return React$7.createElement(ReferenceLineImpl,this.props)}}])}(React$7.Component);_defineProperty$m(ReferenceLine,"displayName","ReferenceLine");_defineProperty$m(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$c.apply(this,arguments)}function _typeof$a(i){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$a(i)}function ownKeys$g(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$e(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$g(Object(_),!0).forEach(function(j){_defineProperty$l(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$g(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$8(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$l(j.key),j)}}function _createClass$8(i,o,_){return o&&_defineProperties$8(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$7(i,o,_){return o=_getPrototypeOf$7(o),_possibleConstructorReturn$7(i,_isNativeReflectConstruct$7()?Reflect.construct(o,_||[],_getPrototypeOf$7(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$7(i,o){if(o&&(_typeof$a(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(i)}function _assertThisInitialized$7(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$7(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!i})()}function _getPrototypeOf$7(i){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$7(i)}function _inherits$7(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$7(i,o)}function _setPrototypeOf$7(i,o){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$7(i,o)}function _defineProperty$l(i,o,_){return o=_toPropertyKey$l(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$l(i){var o=_toPrimitive$l(i,"string");return _typeof$a(o)=="symbol"?o:o+""}function _toPrimitive$l(i,o){if(_typeof$a(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var getCoordinate=function(o){var _=o.x,j=o.y,_e=o.xAxis,et=o.yAxis,tt=createLabeledScales({x:_e.scale,y:et.scale}),rt=tt.apply({x:_,y:j},{bandAware:!0});return ifOverflowMatches(o,"discard")&&!tt.isInRange(rt)?null:rt},ReferenceDot=function(i){function o(){return _classCallCheck$8(this,o),_callSuper$7(this,o,arguments)}return _inherits$7(o,i),_createClass$8(o,[{key:"render",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.r,rt=j.alwaysShow,nt=j.clipPathId,st=isNumOrStr(_e),it=isNumOrStr(et);if(warn(rt===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!st||!it)return null;var at=getCoordinate(this.props);if(!at)return null;var ot=at.x,ct=at.y,ut=this.props,lt=ut.shape,pt=ut.className,dt=ifOverflowMatches(this.props,"hidden")?"url(#".concat(nt,")"):void 0,ht=_objectSpread$e(_objectSpread$e({clipPath:dt},filterProps(this.props,!0)),{},{cx:ot,cy:ct});return React$7.createElement(Layer,{className:clsx("recharts-reference-dot",pt)},o.renderDot(lt,ht),Label.renderCallByParent(this.props,{x:ot-tt,y:ct-tt,width:2*tt,height:2*tt}))}}])}(React$7.Component);_defineProperty$l(ReferenceDot,"displayName","ReferenceDot");_defineProperty$l(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_defineProperty$l(ReferenceDot,"renderDot",function(i,o){var _;return React$7.isValidElement(i)?_=React$7.cloneElement(i,o):isFunction$5(i)?_=i(o):_=React$7.createElement(Dot,_extends$c({},o,{cx:o.cx,cy:o.cy,className:"recharts-reference-dot-dot"})),_});function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$b.apply(this,arguments)}function _typeof$9(i){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$9(i)}function ownKeys$f(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$d(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$f(Object(_),!0).forEach(function(j){_defineProperty$k(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$f(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$7(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$k(j.key),j)}}function _createClass$7(i,o,_){return o&&_defineProperties$7(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$6(i,o,_){return o=_getPrototypeOf$6(o),_possibleConstructorReturn$6(i,_isNativeReflectConstruct$6()?Reflect.construct(o,_||[],_getPrototypeOf$6(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$6(i,o){if(o&&(_typeof$9(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(i)}function _assertThisInitialized$6(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$6(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!i})()}function _getPrototypeOf$6(i){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$6(i)}function _inherits$6(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$6(i,o)}function _setPrototypeOf$6(i,o){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$6(i,o)}function _defineProperty$k(i,o,_){return o=_toPropertyKey$k(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$k(i){var o=_toPrimitive$k(i,"string");return _typeof$9(o)=="symbol"?o:o+""}function _toPrimitive$k(i,o){if(_typeof$9(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$9(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var getRect=function(o,_,j,_e,et){var tt=et.x1,rt=et.x2,nt=et.y1,st=et.y2,it=et.xAxis,at=et.yAxis;if(!it||!at)return null;var ot=createLabeledScales({x:it.scale,y:at.scale}),ct={x:o?ot.x.apply(tt,{position:"start"}):ot.x.rangeMin,y:j?ot.y.apply(nt,{position:"start"}):ot.y.rangeMin},ut={x:_?ot.x.apply(rt,{position:"end"}):ot.x.rangeMax,y:_e?ot.y.apply(st,{position:"end"}):ot.y.rangeMax};return ifOverflowMatches(et,"discard")&&(!ot.isInRange(ct)||!ot.isInRange(ut))?null:rectWithPoints(ct,ut)},ReferenceArea=function(i){function o(){return _classCallCheck$7(this,o),_callSuper$6(this,o,arguments)}return _inherits$6(o,i),_createClass$7(o,[{key:"render",value:function(){var j=this.props,_e=j.x1,et=j.x2,tt=j.y1,rt=j.y2,nt=j.className,st=j.alwaysShow,it=j.clipPathId;warn(st===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var at=isNumOrStr(_e),ot=isNumOrStr(et),ct=isNumOrStr(tt),ut=isNumOrStr(rt),lt=this.props.shape;if(!at&&!ot&&!ct&&!ut&&!lt)return null;var pt=getRect(at,ot,ct,ut,this.props);if(!pt&&!lt)return null;var dt=ifOverflowMatches(this.props,"hidden")?"url(#".concat(it,")"):void 0;return React$7.createElement(Layer,{className:clsx("recharts-reference-area",nt)},o.renderRect(lt,_objectSpread$d(_objectSpread$d({clipPath:dt},filterProps(this.props,!0)),pt)),Label.renderCallByParent(this.props,pt))}}])}(React$7.Component);_defineProperty$k(ReferenceArea,"displayName","ReferenceArea");_defineProperty$k(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_defineProperty$k(ReferenceArea,"renderRect",function(i,o){var _;return React$7.isValidElement(i)?_=React$7.cloneElement(i,o):isFunction$5(i)?_=i(o):_=React$7.createElement(Rectangle,_extends$b({},o,{className:"recharts-reference-area-rect"})),_});function getEveryNthWithCondition(i,o,_){if(o<1)return[];if(o===1&&_===void 0)return i;for(var j=[],_e=0;_e<i.length;_e+=o)j.push(i[_e]);return j}function getAngledTickWidth(i,o,_){var j={width:i.width+o.width,height:i.height+o.height};return getAngledRectangleWidth(j,_)}function getTickBoundaries(i,o,_){var j=_==="width",_e=i.x,et=i.y,tt=i.width,rt=i.height;return o===1?{start:j?_e:et,end:j?_e+tt:et+rt}:{start:j?_e+tt:et+rt,end:j?_e:et}}function isVisible(i,o,_,j,_e){if(i*o<i*j||i*o>i*_e)return!1;var et=_();return i*(o-i*et/2-j)>=0&&i*(o+i*et/2-_e)<=0}function getNumberIntervalTicks(i,o){return getEveryNthWithCondition(i,o+1)}function getEquidistantTicks(i,o,_,j,_e){for(var et=(j||[]).slice(),tt=o.start,rt=o.end,nt=0,st=1,it=tt,at=function(){var ut=j==null?void 0:j[nt];if(ut===void 0)return{v:getEveryNthWithCondition(j,st)};var lt=nt,pt,dt=function(){return pt===void 0&&(pt=_(ut,lt)),pt},ht=ut.coordinate,ft=nt===0||isVisible(i,ht,dt,it,rt);ft||(nt=0,it=tt,st+=1),ft&&(it=ht+i*(dt()/2+_e),nt+=st)},ot;st<=et.length;)if(ot=at(),ot)return ot.v;return[]}function _typeof$8(i){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$8(i)}function ownKeys$e(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$c(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$e(Object(_),!0).forEach(function(j){_defineProperty$j(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$e(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$j(i,o,_){return o=_toPropertyKey$j(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$j(i){var o=_toPrimitive$j(i,"string");return _typeof$8(o)=="symbol"?o:o+""}function _toPrimitive$j(i,o){if(_typeof$8(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$8(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function getTicksEnd(i,o,_,j,_e){for(var et=(j||[]).slice(),tt=et.length,rt=o.start,nt=o.end,st=function(ot){var ct=et[ot],ut,lt=function(){return ut===void 0&&(ut=_(ct,ot)),ut};if(ot===tt-1){var pt=i*(ct.coordinate+i*lt()/2-nt);et[ot]=ct=_objectSpread$c(_objectSpread$c({},ct),{},{tickCoord:pt>0?ct.coordinate-pt*i:ct.coordinate})}else et[ot]=ct=_objectSpread$c(_objectSpread$c({},ct),{},{tickCoord:ct.coordinate});var dt=isVisible(i,ct.tickCoord,lt,rt,nt);dt&&(nt=ct.tickCoord-i*(lt()/2+_e),et[ot]=_objectSpread$c(_objectSpread$c({},ct),{},{isShow:!0}))},it=tt-1;it>=0;it--)st(it);return et}function getTicksStart(i,o,_,j,_e,et){var tt=(j||[]).slice(),rt=tt.length,nt=o.start,st=o.end;if(et){var it=j[rt-1],at=_(it,rt-1),ot=i*(it.coordinate+i*at/2-st);tt[rt-1]=it=_objectSpread$c(_objectSpread$c({},it),{},{tickCoord:ot>0?it.coordinate-ot*i:it.coordinate});var ct=isVisible(i,it.tickCoord,function(){return at},nt,st);ct&&(st=it.tickCoord-i*(at/2+_e),tt[rt-1]=_objectSpread$c(_objectSpread$c({},it),{},{isShow:!0}))}for(var ut=et?rt-1:rt,lt=function(ht){var ft=tt[ht],mt,xt=function(){return mt===void 0&&(mt=_(ft,ht)),mt};if(ht===0){var gt=i*(ft.coordinate-i*xt()/2-nt);tt[ht]=ft=_objectSpread$c(_objectSpread$c({},ft),{},{tickCoord:gt<0?ft.coordinate-gt*i:ft.coordinate})}else tt[ht]=ft=_objectSpread$c(_objectSpread$c({},ft),{},{tickCoord:ft.coordinate});var yt=isVisible(i,ft.tickCoord,xt,nt,st);yt&&(nt=ft.tickCoord+i*(xt()/2+_e),tt[ht]=_objectSpread$c(_objectSpread$c({},ft),{},{isShow:!0}))},pt=0;pt<ut;pt++)lt(pt);return tt}function getTicks(i,o,_){var j=i.tick,_e=i.ticks,et=i.viewBox,tt=i.minTickGap,rt=i.orientation,nt=i.interval,st=i.tickFormatter,it=i.unit,at=i.angle;if(!_e||!_e.length||!j)return[];if(isNumber$1(nt)||Global.isSsr)return getNumberIntervalTicks(_e,typeof nt=="number"&&isNumber$1(nt)?nt:0);var ot=[],ct=rt==="top"||rt==="bottom"?"width":"height",ut=it&&ct==="width"?getStringSize(it,{fontSize:o,letterSpacing:_}):{width:0,height:0},lt=function(ft,mt){var xt=isFunction$5(st)?st(ft.value,mt):ft.value;return ct==="width"?getAngledTickWidth(getStringSize(xt,{fontSize:o,letterSpacing:_}),ut,at):getStringSize(xt,{fontSize:o,letterSpacing:_})[ct]},pt=_e.length>=2?mathSign(_e[1].coordinate-_e[0].coordinate):1,dt=getTickBoundaries(et,pt,ct);return nt==="equidistantPreserveStart"?getEquidistantTicks(pt,dt,lt,_e,tt):(nt==="preserveStart"||nt==="preserveStartEnd"?ot=getTicksStart(pt,dt,lt,_e,tt,nt==="preserveStartEnd"):ot=getTicksEnd(pt,dt,lt,_e,tt),ot.filter(function(ht){return ht.isShow}))}var _excluded$a=["viewBox"],_excluded2$3=["viewBox"],_excluded3=["ticks"];function _typeof$7(i){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$7(i)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$a.apply(this,arguments)}function ownKeys$d(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$b(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$d(Object(_),!0).forEach(function(j){_defineProperty$i(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$d(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _objectWithoutProperties$9(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$9(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$9(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _classCallCheck$6(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$i(j.key),j)}}function _createClass$6(i,o,_){return o&&_defineProperties$6(i.prototype,o),_&&_defineProperties$6(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$5(i,o,_){return o=_getPrototypeOf$5(o),_possibleConstructorReturn$5(i,_isNativeReflectConstruct$5()?Reflect.construct(o,_||[],_getPrototypeOf$5(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$5(i,o){if(o&&(_typeof$7(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(i)}function _assertThisInitialized$5(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$5(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$5=function(){return!!i})()}function _getPrototypeOf$5(i){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$5(i)}function _inherits$5(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$5(i,o)}function _setPrototypeOf$5(i,o){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$5(i,o)}function _defineProperty$i(i,o,_){return o=_toPropertyKey$i(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$i(i){var o=_toPrimitive$i(i,"string");return _typeof$7(o)=="symbol"?o:o+""}function _toPrimitive$i(i,o){if(_typeof$7(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$7(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var CartesianAxis=function(i){function o(_){var j;return _classCallCheck$6(this,o),j=_callSuper$5(this,o,[_]),j.state={fontSize:"",letterSpacing:""},j}return _inherits$5(o,i),_createClass$6(o,[{key:"shouldComponentUpdate",value:function(j,_e){var et=j.viewBox,tt=_objectWithoutProperties$9(j,_excluded$a),rt=this.props,nt=rt.viewBox,st=_objectWithoutProperties$9(rt,_excluded2$3);return!shallowEqual(et,nt)||!shallowEqual(tt,st)||!shallowEqual(_e,this.state)}},{key:"componentDidMount",value:function(){var j=this.layerReference;if(j){var _e=j.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];_e&&this.setState({fontSize:window.getComputedStyle(_e).fontSize,letterSpacing:window.getComputedStyle(_e).letterSpacing})}}},{key:"getTickLineCoord",value:function(j){var _e=this.props,et=_e.x,tt=_e.y,rt=_e.width,nt=_e.height,st=_e.orientation,it=_e.tickSize,at=_e.mirror,ot=_e.tickMargin,ct,ut,lt,pt,dt,ht,ft=at?-1:1,mt=j.tickSize||it,xt=isNumber$1(j.tickCoord)?j.tickCoord:j.coordinate;switch(st){case"top":ct=ut=j.coordinate,pt=tt+ +!at*nt,lt=pt-ft*mt,ht=lt-ft*ot,dt=xt;break;case"left":lt=pt=j.coordinate,ut=et+ +!at*rt,ct=ut-ft*mt,dt=ct-ft*ot,ht=xt;break;case"right":lt=pt=j.coordinate,ut=et+ +at*rt,ct=ut+ft*mt,dt=ct+ft*ot,ht=xt;break;default:ct=ut=j.coordinate,pt=tt+ +at*nt,lt=pt+ft*mt,ht=lt+ft*ot,dt=xt;break}return{line:{x1:ct,y1:lt,x2:ut,y2:pt},tick:{x:dt,y:ht}}}},{key:"getTickTextAnchor",value:function(){var j=this.props,_e=j.orientation,et=j.mirror,tt;switch(_e){case"left":tt=et?"start":"end";break;case"right":tt=et?"end":"start";break;default:tt="middle";break}return tt}},{key:"getTickVerticalAnchor",value:function(){var j=this.props,_e=j.orientation,et=j.mirror,tt="end";switch(_e){case"left":case"right":tt="middle";break;case"top":tt=et?"start":"end";break;default:tt=et?"end":"start";break}return tt}},{key:"renderAxisLine",value:function(){var j=this.props,_e=j.x,et=j.y,tt=j.width,rt=j.height,nt=j.orientation,st=j.mirror,it=j.axisLine,at=_objectSpread$b(_objectSpread$b(_objectSpread$b({},filterProps(this.props,!1)),filterProps(it,!1)),{},{fill:"none"});if(nt==="top"||nt==="bottom"){var ot=+(nt==="top"&&!st||nt==="bottom"&&st);at=_objectSpread$b(_objectSpread$b({},at),{},{x1:_e,y1:et+ot*rt,x2:_e+tt,y2:et+ot*rt})}else{var ct=+(nt==="left"&&!st||nt==="right"&&st);at=_objectSpread$b(_objectSpread$b({},at),{},{x1:_e+ct*tt,y1:et,x2:_e+ct*tt,y2:et+rt})}return React$7.createElement("line",_extends$a({},at,{className:clsx("recharts-cartesian-axis-line",get$2(it,"className"))}))}},{key:"renderTicks",value:function(j,_e,et){var tt=this,rt=this.props,nt=rt.tickLine,st=rt.stroke,it=rt.tick,at=rt.tickFormatter,ot=rt.unit,ct=getTicks(_objectSpread$b(_objectSpread$b({},this.props),{},{ticks:j}),_e,et),ut=this.getTickTextAnchor(),lt=this.getTickVerticalAnchor(),pt=filterProps(this.props,!1),dt=filterProps(it,!1),ht=_objectSpread$b(_objectSpread$b({},pt),{},{fill:"none"},filterProps(nt,!1)),ft=ct.map(function(mt,xt){var gt=tt.getTickLineCoord(mt),yt=gt.line,_t=gt.tick,Et=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({textAnchor:ut,verticalAnchor:lt},pt),{},{stroke:"none",fill:st},dt),_t),{},{index:xt,payload:mt,visibleTicksCount:ct.length,tickFormatter:at});return React$7.createElement(Layer,_extends$a({className:"recharts-cartesian-axis-tick",key:"tick-".concat(mt.value,"-").concat(mt.coordinate,"-").concat(mt.tickCoord)},adaptEventsOfChild(tt.props,mt,xt)),nt&&React$7.createElement("line",_extends$a({},ht,yt,{className:clsx("recharts-cartesian-axis-tick-line",get$2(nt,"className"))})),it&&o.renderTickItem(it,Et,"".concat(isFunction$5(at)?at(mt.value,xt):mt.value).concat(ot||"")))});return React$7.createElement("g",{className:"recharts-cartesian-axis-ticks"},ft)}},{key:"render",value:function(){var j=this,_e=this.props,et=_e.axisLine,tt=_e.width,rt=_e.height,nt=_e.ticksGenerator,st=_e.className,it=_e.hide;if(it)return null;var at=this.props,ot=at.ticks,ct=_objectWithoutProperties$9(at,_excluded3),ut=ot;return isFunction$5(nt)&&(ut=ot&&ot.length>0?nt(this.props):nt(ct)),tt<=0||rt<=0||!ut||!ut.length?null:React$7.createElement(Layer,{className:clsx("recharts-cartesian-axis",st),ref:function(pt){j.layerReference=pt}},et&&this.renderAxisLine(),this.renderTicks(ut,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(j,_e,et){var tt,rt=clsx(_e.className,"recharts-cartesian-axis-tick-value");return React$7.isValidElement(j)?tt=React$7.cloneElement(j,_objectSpread$b(_objectSpread$b({},_e),{},{className:rt})):isFunction$5(j)?tt=j(_objectSpread$b(_objectSpread$b({},_e),{},{className:rt})):tt=React$7.createElement(Text,_extends$a({},_e,{className:"recharts-cartesian-axis-tick-value"}),et),tt}}])}(reactExports.Component);_defineProperty$i(CartesianAxis,"displayName","CartesianAxis");_defineProperty$i(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$9=["type","layout","connectNulls","ref"],_excluded2$2=["key"];function _typeof$6(i){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$6(i)}function _objectWithoutProperties$8(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$8(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$8(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$9.apply(this,arguments)}function ownKeys$c(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$a(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$c(Object(_),!0).forEach(function(j){_defineProperty$h(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$c(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _toConsumableArray$2(i){return _arrayWithoutHoles$2(i)||_iterableToArray$2(i)||_unsupportedIterableToArray$4(i)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$4(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$4(i,o)}}function _iterableToArray$2(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$2(i){if(Array.isArray(i))return _arrayLikeToArray$4(i)}function _arrayLikeToArray$4(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _classCallCheck$5(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$h(j.key),j)}}function _createClass$5(i,o,_){return o&&_defineProperties$5(i.prototype,o),_&&_defineProperties$5(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$4(i,o,_){return o=_getPrototypeOf$4(o),_possibleConstructorReturn$4(i,_isNativeReflectConstruct$4()?Reflect.construct(o,_||[],_getPrototypeOf$4(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$4(i,o){if(o&&(_typeof$6(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(i)}function _assertThisInitialized$4(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$4(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!i})()}function _getPrototypeOf$4(i){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$4(i)}function _inherits$4(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$4(i,o)}function _setPrototypeOf$4(i,o){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$4(i,o)}function _defineProperty$h(i,o,_){return o=_toPropertyKey$h(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$h(i){var o=_toPrimitive$h(i,"string");return _typeof$6(o)=="symbol"?o:o+""}function _toPrimitive$h(i,o){if(_typeof$6(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$6(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Line$1=function(i){function o(){var _;_classCallCheck$5(this,o);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return _=_callSuper$4(this,o,[].concat(_e)),_defineProperty$h(_,"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$h(_,"generateSimpleStrokeDasharray",function(tt,rt){return"".concat(rt,"px ").concat(tt-rt,"px")}),_defineProperty$h(_,"getStrokeDasharray",function(tt,rt,nt){var st=nt.reduce(function(dt,ht){return dt+ht});if(!st)return _.generateSimpleStrokeDasharray(rt,tt);for(var it=Math.floor(tt/st),at=tt%st,ot=rt-tt,ct=[],ut=0,lt=0;ut<nt.length;lt+=nt[ut],++ut)if(lt+nt[ut]>at){ct=[].concat(_toConsumableArray$2(nt.slice(0,ut)),[at-lt]);break}var pt=ct.length%2===0?[0,ot]:[ot];return[].concat(_toConsumableArray$2(o.repeat(nt,it)),_toConsumableArray$2(ct),pt).map(function(dt){return"".concat(dt,"px")}).join(", ")}),_defineProperty$h(_,"id",uniqueId("recharts-line-")),_defineProperty$h(_,"pathRef",function(tt){_.mainCurve=tt}),_defineProperty$h(_,"handleAnimationEnd",function(){_.setState({isAnimationFinished:!0}),_.props.onAnimationEnd&&_.props.onAnimationEnd()}),_defineProperty$h(_,"handleAnimationStart",function(){_.setState({isAnimationFinished:!1}),_.props.onAnimationStart&&_.props.onAnimationStart()}),_}return _inherits$4(o,i),_createClass$5(o,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var j=this.getTotalLength();this.setState({totalLength:j})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var j=this.getTotalLength();j!==this.state.totalLength&&this.setState({totalLength:j})}}},{key:"getTotalLength",value:function(){var j=this.mainCurve;try{return j&&j.getTotalLength&&j.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(j,_e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var et=this.props,tt=et.points,rt=et.xAxis,nt=et.yAxis,st=et.layout,it=et.children,at=findAllByType(it,ErrorBar);if(!at)return null;var ot=function(lt,pt){return{x:lt.x,y:lt.y,value:lt.value,errorVal:getValueByDataKey(lt.payload,pt)}},ct={clipPath:j?"url(#clipPath-".concat(_e,")"):null};return React$7.createElement(Layer,ct,at.map(function(ut){return React$7.cloneElement(ut,{key:"bar-".concat(ut.props.dataKey),data:tt,xAxis:rt,yAxis:nt,layout:st,dataPointFormatter:ot})}))}},{key:"renderDots",value:function(j,_e,et){var tt=this.props.isAnimationActive;if(tt&&!this.state.isAnimationFinished)return null;var rt=this.props,nt=rt.dot,st=rt.points,it=rt.dataKey,at=filterProps(this.props,!1),ot=filterProps(nt,!0),ct=st.map(function(lt,pt){var dt=_objectSpread$a(_objectSpread$a(_objectSpread$a({key:"dot-".concat(pt),r:3},at),ot),{},{index:pt,cx:lt.x,cy:lt.y,value:lt.value,dataKey:it,payload:lt.payload,points:st});return o.renderDotItem(nt,dt)}),ut={clipPath:j?"url(#clipPath-".concat(_e?"":"dots-").concat(et,")"):null};return React$7.createElement(Layer,_extends$9({className:"recharts-line-dots",key:"dots"},ut),ct)}},{key:"renderCurveStatically",value:function(j,_e,et,tt){var rt=this.props,nt=rt.type,st=rt.layout,it=rt.connectNulls;rt.ref;var at=_objectWithoutProperties$8(rt,_excluded$9),ot=_objectSpread$a(_objectSpread$a(_objectSpread$a({},filterProps(at,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:_e?"url(#clipPath-".concat(et,")"):null,points:j},tt),{},{type:nt,layout:st,connectNulls:it});return React$7.createElement(Curve,_extends$9({},ot,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(j,_e){var et=this,tt=this.props,rt=tt.points,nt=tt.strokeDasharray,st=tt.isAnimationActive,it=tt.animationBegin,at=tt.animationDuration,ot=tt.animationEasing,ct=tt.animationId,ut=tt.animateNewValues,lt=tt.width,pt=tt.height,dt=this.state,ht=dt.prevPoints,ft=dt.totalLength;return React$7.createElement(Animate,{begin:it,duration:at,isActive:st,easing:ot,from:{t:0},to:{t:1},key:"line-".concat(ct),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(mt){var xt=mt.t;if(ht){var gt=ht.length/rt.length,yt=rt.map(function(jt,Tt){var kt=Math.floor(Tt*gt);if(ht[kt]){var Pt=ht[kt],St=interpolateNumber$2(Pt.x,jt.x),Rt=interpolateNumber$2(Pt.y,jt.y);return _objectSpread$a(_objectSpread$a({},jt),{},{x:St(xt),y:Rt(xt)})}if(ut){var bt=interpolateNumber$2(lt*2,jt.x),vt=interpolateNumber$2(pt/2,jt.y);return _objectSpread$a(_objectSpread$a({},jt),{},{x:bt(xt),y:vt(xt)})}return _objectSpread$a(_objectSpread$a({},jt),{},{x:jt.x,y:jt.y})});return et.renderCurveStatically(yt,j,_e)}var _t=interpolateNumber$2(0,ft),Et=_t(xt),wt;if(nt){var $t="".concat(nt).split(/[,\s]+/gim).map(function(jt){return parseFloat(jt)});wt=et.getStrokeDasharray(Et,ft,$t)}else wt=et.generateSimpleStrokeDasharray(ft,Et);return et.renderCurveStatically(rt,j,_e,{strokeDasharray:wt})})}},{key:"renderCurve",value:function(j,_e){var et=this.props,tt=et.points,rt=et.isAnimationActive,nt=this.state,st=nt.prevPoints,it=nt.totalLength;return rt&&tt&&tt.length&&(!st&&it>0||!isEqual$1(st,tt))?this.renderCurveWithAnimation(j,_e):this.renderCurveStatically(tt,j,_e)}},{key:"render",value:function(){var j,_e=this.props,et=_e.hide,tt=_e.dot,rt=_e.points,nt=_e.className,st=_e.xAxis,it=_e.yAxis,at=_e.top,ot=_e.left,ct=_e.width,ut=_e.height,lt=_e.isAnimationActive,pt=_e.id;if(et||!rt||!rt.length)return null;var dt=this.state.isAnimationFinished,ht=rt.length===1,ft=clsx("recharts-line",nt),mt=st&&st.allowDataOverflow,xt=it&&it.allowDataOverflow,gt=mt||xt,yt=isNil$1(pt)?this.id:pt,_t=(j=filterProps(tt,!1))!==null&&j!==void 0?j:{r:3,strokeWidth:2},Et=_t.r,wt=Et===void 0?3:Et,$t=_t.strokeWidth,jt=$t===void 0?2:$t,Tt=hasClipDot(tt)?tt:{},kt=Tt.clipDot,Pt=kt===void 0?!0:kt,St=wt*2+jt;return React$7.createElement(Layer,{className:ft},mt||xt?React$7.createElement("defs",null,React$7.createElement("clipPath",{id:"clipPath-".concat(yt)},React$7.createElement("rect",{x:mt?ot:ot-ct/2,y:xt?at:at-ut/2,width:mt?ct:ct*2,height:xt?ut:ut*2})),!Pt&&React$7.createElement("clipPath",{id:"clipPath-dots-".concat(yt)},React$7.createElement("rect",{x:ot-St/2,y:at-St/2,width:ct+St,height:ut+St}))):null,!ht&&this.renderCurve(gt,yt),this.renderErrorBar(gt,yt),(ht||tt)&&this.renderDots(gt,Pt,yt),(!lt||dt)&&LabelList.renderCallByParent(this.props,rt))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return j.animationId!==_e.prevAnimationId?{prevAnimationId:j.animationId,curPoints:j.points,prevPoints:_e.curPoints}:j.points!==_e.curPoints?{curPoints:j.points}:null}},{key:"repeat",value:function(j,_e){for(var et=j.length%2!==0?[].concat(_toConsumableArray$2(j),[0]):j,tt=[],rt=0;rt<_e;++rt)tt=[].concat(_toConsumableArray$2(tt),_toConsumableArray$2(et));return tt}},{key:"renderDotItem",value:function(j,_e){var et;if(React$7.isValidElement(j))et=React$7.cloneElement(j,_e);else if(isFunction$5(j))et=j(_e);else{var tt=_e.key,rt=_objectWithoutProperties$8(_e,_excluded2$2),nt=clsx("recharts-line-dot",typeof j!="boolean"?j.className:"");et=React$7.createElement(Dot,_extends$9({key:tt},rt,{className:nt}))}return et}}])}(reactExports.PureComponent);_defineProperty$h(Line$1,"displayName","Line");_defineProperty$h(Line$1,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$h(Line$1,"getComposedData",function(i){var o=i.props,_=i.xAxis,j=i.yAxis,_e=i.xAxisTicks,et=i.yAxisTicks,tt=i.dataKey,rt=i.bandSize,nt=i.displayedData,st=i.offset,it=o.layout,at=nt.map(function(ot,ct){var ut=getValueByDataKey(ot,tt);return it==="horizontal"?{x:getCateCoordinateOfLine({axis:_,ticks:_e,bandSize:rt,entry:ot,index:ct}),y:isNil$1(ut)?null:j.scale(ut),value:ut,payload:ot}:{x:isNil$1(ut)?null:_.scale(ut),y:getCateCoordinateOfLine({axis:j,ticks:et,bandSize:rt,entry:ot,index:ct}),value:ut,payload:ot}});return _objectSpread$a({points:at,layout:it},st)});var _excluded$8=["layout","type","stroke","connectNulls","isRange","ref"],_excluded2$1=["key"],_Area;function _typeof$5(i){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$5(i)}function _objectWithoutProperties$7(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$7(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$7(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$8.apply(this,arguments)}function ownKeys$b(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$9(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$b(Object(_),!0).forEach(function(j){_defineProperty$g(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$b(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _classCallCheck$4(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$g(j.key),j)}}function _createClass$4(i,o,_){return o&&_defineProperties$4(i.prototype,o),_&&_defineProperties$4(i,_),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$3(i,o,_){return o=_getPrototypeOf$3(o),_possibleConstructorReturn$3(i,_isNativeReflectConstruct$3()?Reflect.construct(o,_||[],_getPrototypeOf$3(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$3(i,o){if(o&&(_typeof$5(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(i)}function _assertThisInitialized$3(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$3(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!i})()}function _getPrototypeOf$3(i){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$3(i)}function _inherits$3(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$3(i,o)}function _setPrototypeOf$3(i,o){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$3(i,o)}function _defineProperty$g(i,o,_){return o=_toPropertyKey$g(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$g(i){var o=_toPrimitive$g(i,"string");return _typeof$5(o)=="symbol"?o:o+""}function _toPrimitive$g(i,o){if(_typeof$5(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$5(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Area=function(i){function o(){var _;_classCallCheck$4(this,o);for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return _=_callSuper$3(this,o,[].concat(_e)),_defineProperty$g(_,"state",{isAnimationFinished:!0}),_defineProperty$g(_,"id",uniqueId("recharts-area-")),_defineProperty$g(_,"handleAnimationEnd",function(){var tt=_.props.onAnimationEnd;_.setState({isAnimationFinished:!0}),isFunction$5(tt)&&tt()}),_defineProperty$g(_,"handleAnimationStart",function(){var tt=_.props.onAnimationStart;_.setState({isAnimationFinished:!1}),isFunction$5(tt)&&tt()}),_}return _inherits$3(o,i),_createClass$4(o,[{key:"renderDots",value:function(j,_e,et){var tt=this.props.isAnimationActive,rt=this.state.isAnimationFinished;if(tt&&!rt)return null;var nt=this.props,st=nt.dot,it=nt.points,at=nt.dataKey,ot=filterProps(this.props,!1),ct=filterProps(st,!0),ut=it.map(function(pt,dt){var ht=_objectSpread$9(_objectSpread$9(_objectSpread$9({key:"dot-".concat(dt),r:3},ot),ct),{},{index:dt,cx:pt.x,cy:pt.y,dataKey:at,value:pt.value,payload:pt.payload,points:it});return o.renderDotItem(st,ht)}),lt={clipPath:j?"url(#clipPath-".concat(_e?"":"dots-").concat(et,")"):null};return React$7.createElement(Layer,_extends$8({className:"recharts-area-dots"},lt),ut)}},{key:"renderHorizontalRect",value:function(j){var _e=this.props,et=_e.baseLine,tt=_e.points,rt=_e.strokeWidth,nt=tt[0].x,st=tt[tt.length-1].x,it=j*Math.abs(nt-st),at=max$1(tt.map(function(ot){return ot.y||0}));return isNumber$1(et)&&typeof et=="number"?at=Math.max(et,at):et&&Array.isArray(et)&&et.length&&(at=Math.max(max$1(et.map(function(ot){return ot.y||0})),at)),isNumber$1(at)?React$7.createElement("rect",{x:nt<st?nt:nt-it,y:0,width:it,height:Math.floor(at+(rt?parseInt("".concat(rt),10):1))}):null}},{key:"renderVerticalRect",value:function(j){var _e=this.props,et=_e.baseLine,tt=_e.points,rt=_e.strokeWidth,nt=tt[0].y,st=tt[tt.length-1].y,it=j*Math.abs(nt-st),at=max$1(tt.map(function(ot){return ot.x||0}));return isNumber$1(et)&&typeof et=="number"?at=Math.max(et,at):et&&Array.isArray(et)&&et.length&&(at=Math.max(max$1(et.map(function(ot){return ot.x||0})),at)),isNumber$1(at)?React$7.createElement("rect",{x:0,y:nt<st?nt:nt-it,width:at+(rt?parseInt("".concat(rt),10):1),height:Math.floor(it)}):null}},{key:"renderClipRect",value:function(j){var _e=this.props.layout;return _e==="vertical"?this.renderVerticalRect(j):this.renderHorizontalRect(j)}},{key:"renderAreaStatically",value:function(j,_e,et,tt){var rt=this.props,nt=rt.layout,st=rt.type,it=rt.stroke,at=rt.connectNulls,ot=rt.isRange;rt.ref;var ct=_objectWithoutProperties$7(rt,_excluded$8);return React$7.createElement(Layer,{clipPath:et?"url(#clipPath-".concat(tt,")"):null},React$7.createElement(Curve,_extends$8({},filterProps(ct,!0),{points:j,connectNulls:at,type:st,baseLine:_e,layout:nt,stroke:"none",className:"recharts-area-area"})),it!=="none"&&React$7.createElement(Curve,_extends$8({},filterProps(this.props,!1),{className:"recharts-area-curve",layout:nt,type:st,connectNulls:at,fill:"none",points:j})),it!=="none"&&ot&&React$7.createElement(Curve,_extends$8({},filterProps(this.props,!1),{className:"recharts-area-curve",layout:nt,type:st,connectNulls:at,fill:"none",points:_e})))}},{key:"renderAreaWithAnimation",value:function(j,_e){var et=this,tt=this.props,rt=tt.points,nt=tt.baseLine,st=tt.isAnimationActive,it=tt.animationBegin,at=tt.animationDuration,ot=tt.animationEasing,ct=tt.animationId,ut=this.state,lt=ut.prevPoints,pt=ut.prevBaseLine;return React$7.createElement(Animate,{begin:it,duration:at,isActive:st,easing:ot,from:{t:0},to:{t:1},key:"area-".concat(ct),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(dt){var ht=dt.t;if(lt){var ft=lt.length/rt.length,mt=rt.map(function(_t,Et){var wt=Math.floor(Et*ft);if(lt[wt]){var $t=lt[wt],jt=interpolateNumber$2($t.x,_t.x),Tt=interpolateNumber$2($t.y,_t.y);return _objectSpread$9(_objectSpread$9({},_t),{},{x:jt(ht),y:Tt(ht)})}return _t}),xt;if(isNumber$1(nt)&&typeof nt=="number"){var gt=interpolateNumber$2(pt,nt);xt=gt(ht)}else if(isNil$1(nt)||isNan(nt)){var yt=interpolateNumber$2(pt,0);xt=yt(ht)}else xt=nt.map(function(_t,Et){var wt=Math.floor(Et*ft);if(pt[wt]){var $t=pt[wt],jt=interpolateNumber$2($t.x,_t.x),Tt=interpolateNumber$2($t.y,_t.y);return _objectSpread$9(_objectSpread$9({},_t),{},{x:jt(ht),y:Tt(ht)})}return _t});return et.renderAreaStatically(mt,xt,j,_e)}return React$7.createElement(Layer,null,React$7.createElement("defs",null,React$7.createElement("clipPath",{id:"animationClipPath-".concat(_e)},et.renderClipRect(ht))),React$7.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(_e,")")},et.renderAreaStatically(rt,nt,j,_e)))})}},{key:"renderArea",value:function(j,_e){var et=this.props,tt=et.points,rt=et.baseLine,nt=et.isAnimationActive,st=this.state,it=st.prevPoints,at=st.prevBaseLine,ot=st.totalLength;return nt&&tt&&tt.length&&(!it&&ot>0||!isEqual$1(it,tt)||!isEqual$1(at,rt))?this.renderAreaWithAnimation(j,_e):this.renderAreaStatically(tt,rt,j,_e)}},{key:"render",value:function(){var j,_e=this.props,et=_e.hide,tt=_e.dot,rt=_e.points,nt=_e.className,st=_e.top,it=_e.left,at=_e.xAxis,ot=_e.yAxis,ct=_e.width,ut=_e.height,lt=_e.isAnimationActive,pt=_e.id;if(et||!rt||!rt.length)return null;var dt=this.state.isAnimationFinished,ht=rt.length===1,ft=clsx("recharts-area",nt),mt=at&&at.allowDataOverflow,xt=ot&&ot.allowDataOverflow,gt=mt||xt,yt=isNil$1(pt)?this.id:pt,_t=(j=filterProps(tt,!1))!==null&&j!==void 0?j:{r:3,strokeWidth:2},Et=_t.r,wt=Et===void 0?3:Et,$t=_t.strokeWidth,jt=$t===void 0?2:$t,Tt=hasClipDot(tt)?tt:{},kt=Tt.clipDot,Pt=kt===void 0?!0:kt,St=wt*2+jt;return React$7.createElement(Layer,{className:ft},mt||xt?React$7.createElement("defs",null,React$7.createElement("clipPath",{id:"clipPath-".concat(yt)},React$7.createElement("rect",{x:mt?it:it-ct/2,y:xt?st:st-ut/2,width:mt?ct:ct*2,height:xt?ut:ut*2})),!Pt&&React$7.createElement("clipPath",{id:"clipPath-dots-".concat(yt)},React$7.createElement("rect",{x:it-St/2,y:st-St/2,width:ct+St,height:ut+St}))):null,ht?null:this.renderArea(gt,yt),(tt||ht)&&this.renderDots(gt,Pt,yt),(!lt||dt)&&LabelList.renderCallByParent(this.props,rt))}}],[{key:"getDerivedStateFromProps",value:function(j,_e){return j.animationId!==_e.prevAnimationId?{prevAnimationId:j.animationId,curPoints:j.points,curBaseLine:j.baseLine,prevPoints:_e.curPoints,prevBaseLine:_e.curBaseLine}:j.points!==_e.curPoints||j.baseLine!==_e.curBaseLine?{curPoints:j.points,curBaseLine:j.baseLine}:null}}])}(reactExports.PureComponent);_Area=Area;_defineProperty$g(Area,"displayName","Area");_defineProperty$g(Area,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});_defineProperty$g(Area,"getBaseValue",function(i,o,_,j){var _e=i.layout,et=i.baseValue,tt=o.props.baseValue,rt=tt??et;if(isNumber$1(rt)&&typeof rt=="number")return rt;var nt=_e==="horizontal"?j:_,st=nt.scale.domain();if(nt.type==="number"){var it=Math.max(st[0],st[1]),at=Math.min(st[0],st[1]);return rt==="dataMin"?at:rt==="dataMax"||it<0?it:Math.max(Math.min(st[0],st[1]),0)}return rt==="dataMin"?st[0]:rt==="dataMax"?st[1]:st[0]});_defineProperty$g(Area,"getComposedData",function(i){var o=i.props,_=i.item,j=i.xAxis,_e=i.yAxis,et=i.xAxisTicks,tt=i.yAxisTicks,rt=i.bandSize,nt=i.dataKey,st=i.stackedData,it=i.dataStartIndex,at=i.displayedData,ot=i.offset,ct=o.layout,ut=st&&st.length,lt=_Area.getBaseValue(o,_,j,_e),pt=ct==="horizontal",dt=!1,ht=at.map(function(mt,xt){var gt;ut?gt=st[it+xt]:(gt=getValueByDataKey(mt,nt),Array.isArray(gt)?dt=!0:gt=[lt,gt]);var yt=gt[1]==null||ut&&getValueByDataKey(mt,nt)==null;return pt?{x:getCateCoordinateOfLine({axis:j,ticks:et,bandSize:rt,entry:mt,index:xt}),y:yt?null:_e.scale(gt[1]),value:gt,payload:mt}:{x:yt?null:j.scale(gt[1]),y:getCateCoordinateOfLine({axis:_e,ticks:tt,bandSize:rt,entry:mt,index:xt}),value:gt,payload:mt}}),ft;return ut||dt?ft=ht.map(function(mt){var xt=Array.isArray(mt.value)?mt.value[0]:null;return pt?{x:mt.x,y:xt!=null&&mt.y!=null?_e.scale(xt):null}:{x:xt!=null?j.scale(xt):null,y:mt.y}}):ft=pt?_e.scale(lt):j.scale(lt),_objectSpread$9({points:ht,baseLine:ft,layout:ct,isRange:dt},ot)});_defineProperty$g(Area,"renderDotItem",function(i,o){var _;if(React$7.isValidElement(i))_=React$7.cloneElement(i,o);else if(isFunction$5(i))_=i(o);else{var j=clsx("recharts-area-dot",typeof i!="boolean"?i.className:""),_e=o.key,et=_objectWithoutProperties$7(o,_excluded2$1);_=React$7.createElement(Dot,_extends$8({},et,{key:_e,className:j}))}return _});function _typeof$4(i){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(i)}function _classCallCheck$3(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$f(j.key),j)}}function _createClass$3(i,o,_){return o&&_defineProperties$3(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$2(i,o,_){return o=_getPrototypeOf$2(o),_possibleConstructorReturn$2(i,_isNativeReflectConstruct$2()?Reflect.construct(o,_||[],_getPrototypeOf$2(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$2(i,o){if(o&&(_typeof$4(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(i)}function _assertThisInitialized$2(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$2(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!i})()}function _getPrototypeOf$2(i){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$2(i)}function _inherits$2(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$2(i,o)}function _setPrototypeOf$2(i,o){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$2(i,o)}function _defineProperty$f(i,o,_){return o=_toPropertyKey$f(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$f(i){var o=_toPrimitive$f(i,"string");return _typeof$4(o)=="symbol"?o:o+""}function _toPrimitive$f(i,o){if(_typeof$4(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$4(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$7.apply(this,arguments)}function XAxisImpl(i){var o=i.xAxisId,_=useChartWidth(),j=useChartHeight(),_e=useXAxisOrThrow(o);return _e==null?null:reactExports.createElement(CartesianAxis,_extends$7({},_e,{className:clsx("recharts-".concat(_e.axisType," ").concat(_e.axisType),_e.className),viewBox:{x:0,y:0,width:_,height:j},ticksGenerator:function(tt){return getTicksOfAxis(tt,!0)}}))}var XAxis=function(i){function o(){return _classCallCheck$3(this,o),_callSuper$2(this,o,arguments)}return _inherits$2(o,i),_createClass$3(o,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$f(XAxis,"displayName","XAxis");_defineProperty$f(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _typeof$3(i){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(i)}function _classCallCheck$2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$e(j.key),j)}}function _createClass$2(i,o,_){return o&&_defineProperties$2(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper$1(i,o,_){return o=_getPrototypeOf$1(o),_possibleConstructorReturn$1(i,_isNativeReflectConstruct$1()?Reflect.construct(o,_||[],_getPrototypeOf$1(i).constructor):o.apply(i,_))}function _possibleConstructorReturn$1(i,o){if(o&&(_typeof$3(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(i)}function _assertThisInitialized$1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct$1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!i})()}function _getPrototypeOf$1(i){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf$1(i)}function _inherits$1(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf$1(i,o)}function _setPrototypeOf$1(i,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf$1(i,o)}function _defineProperty$e(i,o,_){return o=_toPropertyKey$e(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$e(i){var o=_toPrimitive$e(i,"string");return _typeof$3(o)=="symbol"?o:o+""}function _toPrimitive$e(i,o){if(_typeof$3(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$3(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$6.apply(this,arguments)}var YAxisImpl=function(o){var _=o.yAxisId,j=useChartWidth(),_e=useChartHeight(),et=useYAxisOrThrow(_);return et==null?null:reactExports.createElement(CartesianAxis,_extends$6({},et,{className:clsx("recharts-".concat(et.axisType," ").concat(et.axisType),et.className),viewBox:{x:0,y:0,width:j,height:_e},ticksGenerator:function(rt){return getTicksOfAxis(rt,!0)}}))},YAxis=function(i){function o(){return _classCallCheck$2(this,o),_callSuper$1(this,o,arguments)}return _inherits$1(o,i),_createClass$2(o,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}(reactExports.Component);_defineProperty$e(YAxis,"displayName","YAxis");_defineProperty$e(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _toConsumableArray$1(i){return _arrayWithoutHoles$1(i)||_iterableToArray$1(i)||_unsupportedIterableToArray$3(i)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$3(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$3(i,o)}}function _iterableToArray$1(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles$1(i){if(Array.isArray(i))return _arrayLikeToArray$3(i)}function _arrayLikeToArray$3(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}var detectReferenceElementsDomain=function(o,_,j,_e,et){var tt=findAllByType(o,ReferenceLine),rt=findAllByType(o,ReferenceDot),nt=[].concat(_toConsumableArray$1(tt),_toConsumableArray$1(rt)),st=findAllByType(o,ReferenceArea),it="".concat(_e,"Id"),at=_e[0],ot=_;if(nt.length&&(ot=nt.reduce(function(lt,pt){if(pt.props[it]===j&&ifOverflowMatches(pt.props,"extendDomain")&&isNumber$1(pt.props[at])){var dt=pt.props[at];return[Math.min(lt[0],dt),Math.max(lt[1],dt)]}return lt},ot)),st.length){var ct="".concat(at,"1"),ut="".concat(at,"2");ot=st.reduce(function(lt,pt){if(pt.props[it]===j&&ifOverflowMatches(pt.props,"extendDomain")&&isNumber$1(pt.props[ct])&&isNumber$1(pt.props[ut])){var dt=pt.props[ct],ht=pt.props[ut];return[Math.min(lt[0],dt,ht),Math.max(lt[1],dt,ht)]}return lt},ot)}return et&&et.length&&(ot=et.reduce(function(lt,pt){return isNumber$1(pt)?[Math.min(lt[0],pt),Math.max(lt[1],pt)]:lt},ot)),ot},eventemitter3={exports:{}};(function(i){var o=Object.prototype.hasOwnProperty,_="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(_=!1));function _e(nt,st,it){this.fn=nt,this.context=st,this.once=it||!1}function et(nt,st,it,at,ot){if(typeof it!="function")throw new TypeError("The listener must be a function");var ct=new _e(it,at||nt,ot),ut=_?_+st:st;return nt._events[ut]?nt._events[ut].fn?nt._events[ut]=[nt._events[ut],ct]:nt._events[ut].push(ct):(nt._events[ut]=ct,nt._eventsCount++),nt}function tt(nt,st){--nt._eventsCount===0?nt._events=new j:delete nt._events[st]}function rt(){this._events=new j,this._eventsCount=0}rt.prototype.eventNames=function(){var st=[],it,at;if(this._eventsCount===0)return st;for(at in it=this._events)o.call(it,at)&&st.push(_?at.slice(1):at);return Object.getOwnPropertySymbols?st.concat(Object.getOwnPropertySymbols(it)):st},rt.prototype.listeners=function(st){var it=_?_+st:st,at=this._events[it];if(!at)return[];if(at.fn)return[at.fn];for(var ot=0,ct=at.length,ut=new Array(ct);ot<ct;ot++)ut[ot]=at[ot].fn;return ut},rt.prototype.listenerCount=function(st){var it=_?_+st:st,at=this._events[it];return at?at.fn?1:at.length:0},rt.prototype.emit=function(st,it,at,ot,ct,ut){var lt=_?_+st:st;if(!this._events[lt])return!1;var pt=this._events[lt],dt=arguments.length,ht,ft;if(pt.fn){switch(pt.once&&this.removeListener(st,pt.fn,void 0,!0),dt){case 1:return pt.fn.call(pt.context),!0;case 2:return pt.fn.call(pt.context,it),!0;case 3:return pt.fn.call(pt.context,it,at),!0;case 4:return pt.fn.call(pt.context,it,at,ot),!0;case 5:return pt.fn.call(pt.context,it,at,ot,ct),!0;case 6:return pt.fn.call(pt.context,it,at,ot,ct,ut),!0}for(ft=1,ht=new Array(dt-1);ft<dt;ft++)ht[ft-1]=arguments[ft];pt.fn.apply(pt.context,ht)}else{var mt=pt.length,xt;for(ft=0;ft<mt;ft++)switch(pt[ft].once&&this.removeListener(st,pt[ft].fn,void 0,!0),dt){case 1:pt[ft].fn.call(pt[ft].context);break;case 2:pt[ft].fn.call(pt[ft].context,it);break;case 3:pt[ft].fn.call(pt[ft].context,it,at);break;case 4:pt[ft].fn.call(pt[ft].context,it,at,ot);break;default:if(!ht)for(xt=1,ht=new Array(dt-1);xt<dt;xt++)ht[xt-1]=arguments[xt];pt[ft].fn.apply(pt[ft].context,ht)}}return!0},rt.prototype.on=function(st,it,at){return et(this,st,it,at,!1)},rt.prototype.once=function(st,it,at){return et(this,st,it,at,!0)},rt.prototype.removeListener=function(st,it,at,ot){var ct=_?_+st:st;if(!this._events[ct])return this;if(!it)return tt(this,ct),this;var ut=this._events[ct];if(ut.fn)ut.fn===it&&(!ot||ut.once)&&(!at||ut.context===at)&&tt(this,ct);else{for(var lt=0,pt=[],dt=ut.length;lt<dt;lt++)(ut[lt].fn!==it||ot&&!ut[lt].once||at&&ut[lt].context!==at)&&pt.push(ut[lt]);pt.length?this._events[ct]=pt.length===1?pt[0]:pt:tt(this,ct)}return this},rt.prototype.removeAllListeners=function(st){var it;return st?(it=_?_+st:st,this._events[it]&&tt(this,it)):(this._events=new j,this._eventsCount=0),this},rt.prototype.off=rt.prototype.removeListener,rt.prototype.addListener=rt.prototype.on,rt.prefixed=_,rt.EventEmitter=rt,i.exports=rt})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$2(i){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(i)}function _classCallCheck$1(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$d(j.key),j)}}function _createClass$1(i,o,_){return o&&_defineProperties$1(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _defineProperty$d(i,o,_){return o=_toPropertyKey$d(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$d(i){var o=_toPrimitive$d(i,"string");return _typeof$2(o)=="symbol"?o:o+""}function _toPrimitive$d(i,o){if(_typeof$2(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$2(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var AccessibilityManager=function(){function i(){_classCallCheck$1(this,i),_defineProperty$d(this,"activeIndex",0),_defineProperty$d(this,"coordinateList",[]),_defineProperty$d(this,"layout","horizontal")}return _createClass$1(i,[{key:"setDetails",value:function(_){var j,_e=_.coordinateList,et=_e===void 0?null:_e,tt=_.container,rt=tt===void 0?null:tt,nt=_.layout,st=nt===void 0?null:nt,it=_.offset,at=it===void 0?null:it,ot=_.mouseHandlerCallback,ct=ot===void 0?null:ot;this.coordinateList=(j=et??this.coordinateList)!==null&&j!==void 0?j:[],this.container=rt??this.container,this.layout=st??this.layout,this.offset=at??this.offset,this.mouseHandlerCallback=ct??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(_){if(this.coordinateList.length!==0)switch(_.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(_){this.activeIndex=_}},{key:"spoofMouse",value:function(){var _,j;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var _e=this.container.getBoundingClientRect(),et=_e.x,tt=_e.y,rt=_e.height,nt=this.coordinateList[this.activeIndex].coordinate,st=((_=window)===null||_===void 0?void 0:_.scrollX)||0,it=((j=window)===null||j===void 0?void 0:j.scrollY)||0,at=et+nt+st,ot=tt+this.offset.top+rt/2+it;this.mouseHandlerCallback({pageX:at,pageY:ot})}}}])}();function isDomainSpecifiedByUser(i,o,_){if(_==="number"&&o===!0&&Array.isArray(i)){var j=i==null?void 0:i[0],_e=i==null?void 0:i[1];if(j&&_e&&isNumber$1(j)&&isNumber$1(_e))return!0}return!1}function getCursorRectangle(i,o,_,j){var _e=j/2;return{stroke:"none",fill:"#ccc",x:i==="horizontal"?o.x-_e:_.left+.5,y:i==="horizontal"?_.top+.5:o.y-_e,width:i==="horizontal"?j:_.width-1,height:i==="horizontal"?_.height-1:j}}function getRadialCursorPoints(i){var o=i.cx,_=i.cy,j=i.radius,_e=i.startAngle,et=i.endAngle,tt=polarToCartesian(o,_,j,_e),rt=polarToCartesian(o,_,j,et);return{points:[tt,rt],cx:o,cy:_,radius:j,startAngle:_e,endAngle:et}}function getCursorPoints(i,o,_){var j,_e,et,tt;if(i==="horizontal")j=o.x,et=j,_e=_.top,tt=_.top+_.height;else if(i==="vertical")_e=o.y,tt=_e,j=_.left,et=_.left+_.width;else if(o.cx!=null&&o.cy!=null)if(i==="centric"){var rt=o.cx,nt=o.cy,st=o.innerRadius,it=o.outerRadius,at=o.angle,ot=polarToCartesian(rt,nt,st,at),ct=polarToCartesian(rt,nt,it,at);j=ot.x,_e=ot.y,et=ct.x,tt=ct.y}else return getRadialCursorPoints(o);return[{x:j,y:_e},{x:et,y:tt}]}function _typeof$1(i){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(i)}function ownKeys$a(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$8(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$a(Object(_),!0).forEach(function(j){_defineProperty$c(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$a(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$c(i,o,_){return o=_toPropertyKey$c(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$c(i){var o=_toPrimitive$c(i,"string");return _typeof$1(o)=="symbol"?o:o+""}function _toPrimitive$c(i,o){if(_typeof$1(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof$1(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function Cursor(i){var o,_,j=i.element,_e=i.tooltipEventType,et=i.isActive,tt=i.activeCoordinate,rt=i.activePayload,nt=i.offset,st=i.activeTooltipIndex,it=i.tooltipAxisBandSize,at=i.layout,ot=i.chartName,ct=(o=j.props.cursor)!==null&&o!==void 0?o:(_=j.type.defaultProps)===null||_===void 0?void 0:_.cursor;if(!j||!ct||!et||!tt||ot!=="ScatterChart"&&_e!=="axis")return null;var ut,lt=Curve;if(ot==="ScatterChart")ut=tt,lt=Cross;else if(ot==="BarChart")ut=getCursorRectangle(at,tt,nt,it),lt=Rectangle;else if(at==="radial"){var pt=getRadialCursorPoints(tt),dt=pt.cx,ht=pt.cy,ft=pt.radius,mt=pt.startAngle,xt=pt.endAngle;ut={cx:dt,cy:ht,startAngle:mt,endAngle:xt,innerRadius:ft,outerRadius:ft},lt=Sector}else ut={points:getCursorPoints(at,tt,nt)},lt=Curve;var gt=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({stroke:"#ccc",pointerEvents:"none"},nt),ut),filterProps(ct,!1)),{},{payload:rt,payloadIndex:st,className:clsx("recharts-tooltip-cursor",ct.className)});return reactExports.isValidElement(ct)?reactExports.cloneElement(ct,gt):reactExports.createElement(lt,gt)}var _excluded$7=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$5.apply(this,arguments)}function _slicedToArray$2(i,o){return _arrayWithHoles$2(i)||_iterableToArrayLimit$2(i,o)||_unsupportedIterableToArray$2(i,o)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$2(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _arrayWithHoles$2(i){if(Array.isArray(i))return i}function _objectWithoutProperties$6(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$6(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _objectWithoutPropertiesLoose$6(i,o){if(i==null)return{};var _={};for(var j in i)if(Object.prototype.hasOwnProperty.call(i,j)){if(o.indexOf(j)>=0)continue;_[j]=i[j]}return _}function _classCallCheck(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,o){for(var _=0;_<o.length;_++){var j=o[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(i,_toPropertyKey$b(j.key),j)}}function _createClass(i,o,_){return o&&_defineProperties(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i}function _callSuper(i,o,_){return o=_getPrototypeOf(o),_possibleConstructorReturn(i,_isNativeReflectConstruct()?Reflect.construct(o,_||[],_getPrototypeOf(i).constructor):o.apply(i,_))}function _possibleConstructorReturn(i,o){if(o&&(_typeof(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!i})()}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf(i)}function _inherits(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&_setPrototypeOf(i,o)}function _setPrototypeOf(i,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf(i,o)}function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray$2(i)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$2(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$2(i,o)}}function _iterableToArray(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray$2(i)}function _arrayLikeToArray$2(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function ownKeys$9(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$7(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$9(Object(_),!0).forEach(function(j){_defineProperty$b(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$9(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$b(i,o,_){return o=_toPropertyKey$b(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$b(i){var o=_toPrimitive$b(i,"string");return _typeof(o)=="symbol"?o:o+""}function _toPrimitive$b(i,o){if(_typeof(i)!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(_typeof(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(i){return i}var calculateTooltipPos=function(o,_){return _==="horizontal"?o.x:_==="vertical"?o.y:_==="centric"?o.angle:o.radius},getActiveCoordinate=function(o,_,j,_e){var et=_.find(function(it){return it&&it.index===j});if(et){if(o==="horizontal")return{x:et.coordinate,y:_e.y};if(o==="vertical")return{x:_e.x,y:et.coordinate};if(o==="centric"){var tt=et.coordinate,rt=_e.radius;return _objectSpread$7(_objectSpread$7(_objectSpread$7({},_e),polarToCartesian(_e.cx,_e.cy,rt,tt)),{},{angle:tt,radius:rt})}var nt=et.coordinate,st=_e.angle;return _objectSpread$7(_objectSpread$7(_objectSpread$7({},_e),polarToCartesian(_e.cx,_e.cy,nt,st)),{},{angle:st,radius:nt})}return originCoordinate},getDisplayedData=function(o,_){var j=_.graphicalItems,_e=_.dataStartIndex,et=_.dataEndIndex,tt=(j??[]).reduce(function(rt,nt){var st=nt.props.data;return st&&st.length?[].concat(_toConsumableArray(rt),_toConsumableArray(st)):rt},[]);return tt.length>0?tt:o&&o.length&&isNumber$1(_e)&&isNumber$1(et)?o.slice(_e,et+1):[]};function getDefaultDomainByAxisType(i){return i==="number"?[0,"auto"]:void 0}var getTooltipContent=function(o,_,j,_e){var et=o.graphicalItems,tt=o.tooltipAxis,rt=getDisplayedData(_,o);return j<0||!et||!et.length||j>=rt.length?null:et.reduce(function(nt,st){var it,at=(it=st.props.data)!==null&&it!==void 0?it:_;at&&o.dataStartIndex+o.dataEndIndex!==0&&o.dataEndIndex-o.dataStartIndex>=j&&(at=at.slice(o.dataStartIndex,o.dataEndIndex+1));var ot;if(tt.dataKey&&!tt.allowDuplicatedCategory){var ct=at===void 0?rt:at;ot=findEntryInArray(ct,tt.dataKey,_e)}else ot=at&&at[j]||rt[j];return ot?[].concat(_toConsumableArray(nt),[getTooltipItem(st,ot)]):nt},[])},getTooltipData=function(o,_,j,_e){var et=_e||{x:o.chartX,y:o.chartY},tt=calculateTooltipPos(et,j),rt=o.orderedTooltipTicks,nt=o.tooltipAxis,st=o.tooltipTicks,it=calculateActiveTickIndex(tt,rt,st,nt);if(it>=0&&st){var at=st[it]&&st[it].value,ot=getTooltipContent(o,_,it,at),ct=getActiveCoordinate(j,rt,it,et);return{activeTooltipIndex:it,activeLabel:at,activePayload:ot,activeCoordinate:ct}}return null},getAxisMapByAxes=function(o,_){var j=_.axes,_e=_.graphicalItems,et=_.axisType,tt=_.axisIdKey,rt=_.stackGroups,nt=_.dataStartIndex,st=_.dataEndIndex,it=o.layout,at=o.children,ot=o.stackOffset,ct=isCategoricalAxis(it,et);return j.reduce(function(ut,lt){var pt,dt=lt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},lt.type.defaultProps),lt.props):lt.props,ht=dt.type,ft=dt.dataKey,mt=dt.allowDataOverflow,xt=dt.allowDuplicatedCategory,gt=dt.scale,yt=dt.ticks,_t=dt.includeHidden,Et=dt[tt];if(ut[Et])return ut;var wt=getDisplayedData(o.data,{graphicalItems:_e.filter(function(Ct){var Lt,It=tt in Ct.props?Ct.props[tt]:(Lt=Ct.type.defaultProps)===null||Lt===void 0?void 0:Lt[tt];return It===Et}),dataStartIndex:nt,dataEndIndex:st}),$t=wt.length,jt,Tt,kt;isDomainSpecifiedByUser(dt.domain,mt,ht)&&(jt=parseSpecifiedDomain(dt.domain,null,mt),ct&&(ht==="number"||gt!=="auto")&&(kt=getDomainOfDataByKey(wt,ft,"category")));var Pt=getDefaultDomainByAxisType(ht);if(!jt||jt.length===0){var St,Rt=(St=dt.domain)!==null&&St!==void 0?St:Pt;if(ft){if(jt=getDomainOfDataByKey(wt,ft,ht),ht==="category"&&ct){var bt=hasDuplicate(jt);xt&&bt?(Tt=jt,jt=range$1(0,$t)):xt||(jt=parseDomainOfCategoryAxis(Rt,jt,lt).reduce(function(Ct,Lt){return Ct.indexOf(Lt)>=0?Ct:[].concat(_toConsumableArray(Ct),[Lt])},[]))}else if(ht==="category")xt?jt=jt.filter(function(Ct){return Ct!==""&&!isNil$1(Ct)}):jt=parseDomainOfCategoryAxis(Rt,jt,lt).reduce(function(Ct,Lt){return Ct.indexOf(Lt)>=0||Lt===""||isNil$1(Lt)?Ct:[].concat(_toConsumableArray(Ct),[Lt])},[]);else if(ht==="number"){var vt=parseErrorBarsOfAxis(wt,_e.filter(function(Ct){var Lt,It,Dt=tt in Ct.props?Ct.props[tt]:(Lt=Ct.type.defaultProps)===null||Lt===void 0?void 0:Lt[tt],Zt="hide"in Ct.props?Ct.props.hide:(It=Ct.type.defaultProps)===null||It===void 0?void 0:It.hide;return Dt===Et&&(_t||!Zt)}),ft,et,it);vt&&(jt=vt)}ct&&(ht==="number"||gt!=="auto")&&(kt=getDomainOfDataByKey(wt,ft,"category"))}else ct?jt=range$1(0,$t):rt&&rt[Et]&&rt[Et].hasStack&&ht==="number"?jt=ot==="expand"?[0,1]:getDomainOfStackGroups(rt[Et].stackGroups,nt,st):jt=getDomainOfItemsWithSameAxis(wt,_e.filter(function(Ct){var Lt=tt in Ct.props?Ct.props[tt]:Ct.type.defaultProps[tt],It="hide"in Ct.props?Ct.props.hide:Ct.type.defaultProps.hide;return Lt===Et&&(_t||!It)}),ht,it,!0);if(ht==="number")jt=detectReferenceElementsDomain(at,jt,Et,et,yt),Rt&&(jt=parseSpecifiedDomain(Rt,jt,mt));else if(ht==="category"&&Rt){var At=Rt,Ot=jt.every(function(Ct){return At.indexOf(Ct)>=0});Ot&&(jt=At)}}return _objectSpread$7(_objectSpread$7({},ut),{},_defineProperty$b({},Et,_objectSpread$7(_objectSpread$7({},dt),{},{axisType:et,domain:jt,categoricalDomain:kt,duplicateDomain:Tt,originalDomain:(pt=dt.domain)!==null&&pt!==void 0?pt:Pt,isCategorical:ct,layout:it})))},{})},getAxisMapByItems=function(o,_){var j=_.graphicalItems,_e=_.Axis,et=_.axisType,tt=_.axisIdKey,rt=_.stackGroups,nt=_.dataStartIndex,st=_.dataEndIndex,it=o.layout,at=o.children,ot=getDisplayedData(o.data,{graphicalItems:j,dataStartIndex:nt,dataEndIndex:st}),ct=ot.length,ut=isCategoricalAxis(it,et),lt=-1;return j.reduce(function(pt,dt){var ht=dt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},dt.type.defaultProps),dt.props):dt.props,ft=ht[tt],mt=getDefaultDomainByAxisType("number");if(!pt[ft]){lt++;var xt;return ut?xt=range$1(0,ct):rt&&rt[ft]&&rt[ft].hasStack?(xt=getDomainOfStackGroups(rt[ft].stackGroups,nt,st),xt=detectReferenceElementsDomain(at,xt,ft,et)):(xt=parseSpecifiedDomain(mt,getDomainOfItemsWithSameAxis(ot,j.filter(function(gt){var yt,_t,Et=tt in gt.props?gt.props[tt]:(yt=gt.type.defaultProps)===null||yt===void 0?void 0:yt[tt],wt="hide"in gt.props?gt.props.hide:(_t=gt.type.defaultProps)===null||_t===void 0?void 0:_t.hide;return Et===ft&&!wt}),"number",it),_e.defaultProps.allowDataOverflow),xt=detectReferenceElementsDomain(at,xt,ft,et)),_objectSpread$7(_objectSpread$7({},pt),{},_defineProperty$b({},ft,_objectSpread$7(_objectSpread$7({axisType:et},_e.defaultProps),{},{hide:!0,orientation:get$2(ORIENT_MAP,"".concat(et,".").concat(lt%2),null),domain:xt,originalDomain:mt,isCategorical:ut,layout:it})))}return pt},{})},getAxisMap=function(o,_){var j=_.axisType,_e=j===void 0?"xAxis":j,et=_.AxisComp,tt=_.graphicalItems,rt=_.stackGroups,nt=_.dataStartIndex,st=_.dataEndIndex,it=o.children,at="".concat(_e,"Id"),ot=findAllByType(it,et),ct={};return ot&&ot.length?ct=getAxisMapByAxes(o,{axes:ot,graphicalItems:tt,axisType:_e,axisIdKey:at,stackGroups:rt,dataStartIndex:nt,dataEndIndex:st}):tt&&tt.length&&(ct=getAxisMapByItems(o,{Axis:et,graphicalItems:tt,axisType:_e,axisIdKey:at,stackGroups:rt,dataStartIndex:nt,dataEndIndex:st})),ct},tooltipTicksGenerator=function(o){var _=getAnyElementOfObject(o),j=getTicksOfAxis(_,!1,!0);return{tooltipTicks:j,orderedTooltipTicks:sortBy$1(j,function(_e){return _e.coordinate}),tooltipAxis:_,tooltipAxisBandSize:getBandSizeOfAxis(_,j)}},createDefaultState=function(o){var _=o.children,j=o.defaultShowTooltip,_e=findChildByType(_,Brush),et=0,tt=0;return o.data&&o.data.length!==0&&(tt=o.data.length-1),_e&&_e.props&&(_e.props.startIndex>=0&&(et=_e.props.startIndex),_e.props.endIndex>=0&&(tt=_e.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:et,dataEndIndex:tt,activeTooltipIndex:-1,isTooltipActive:!!j}},hasGraphicalBarItem=function(o){return!o||!o.length?!1:o.some(function(_){var j=getDisplayName(_&&_.type);return j&&j.indexOf("Bar")>=0})},getAxisNameByLayout=function(o){return o==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:o==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:o==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(o,_){var j=o.props,_e=o.graphicalItems,et=o.xAxisMap,tt=et===void 0?{}:et,rt=o.yAxisMap,nt=rt===void 0?{}:rt,st=j.width,it=j.height,at=j.children,ot=j.margin||{},ct=findChildByType(at,Brush),ut=findChildByType(at,Legend$1),lt=Object.keys(nt).reduce(function(xt,gt){var yt=nt[gt],_t=yt.orientation;return!yt.mirror&&!yt.hide?_objectSpread$7(_objectSpread$7({},xt),{},_defineProperty$b({},_t,xt[_t]+yt.width)):xt},{left:ot.left||0,right:ot.right||0}),pt=Object.keys(tt).reduce(function(xt,gt){var yt=tt[gt],_t=yt.orientation;return!yt.mirror&&!yt.hide?_objectSpread$7(_objectSpread$7({},xt),{},_defineProperty$b({},_t,get$2(xt,"".concat(_t))+yt.height)):xt},{top:ot.top||0,bottom:ot.bottom||0}),dt=_objectSpread$7(_objectSpread$7({},pt),lt),ht=dt.bottom;ct&&(dt.bottom+=ct.props.height||Brush.defaultProps.height),ut&&_&&(dt=appendOffsetOfLegend(dt,_e,j,_));var ft=st-dt.left-dt.right,mt=it-dt.top-dt.bottom;return _objectSpread$7(_objectSpread$7({brushBottom:ht},dt),{},{width:Math.max(ft,0),height:Math.max(mt,0)})},getCartesianAxisSize=function(o,_){if(_==="xAxis")return o[_].width;if(_==="yAxis")return o[_].height},generateCategoricalChart=function(o){var _=o.chartName,j=o.GraphicalChild,_e=o.defaultTooltipEventType,et=_e===void 0?"axis":_e,tt=o.validateTooltipEventTypes,rt=tt===void 0?["axis"]:tt,nt=o.axisComponents,st=o.legendContent,it=o.formatAxisMap,at=o.defaultProps,ot=function(dt,ht){var ft=ht.graphicalItems,mt=ht.stackGroups,xt=ht.offset,gt=ht.updateId,yt=ht.dataStartIndex,_t=ht.dataEndIndex,Et=dt.barSize,wt=dt.layout,$t=dt.barGap,jt=dt.barCategoryGap,Tt=dt.maxBarSize,kt=getAxisNameByLayout(wt),Pt=kt.numericAxisName,St=kt.cateAxisName,Rt=hasGraphicalBarItem(ft),bt=[];return ft.forEach(function(vt,At){var Ot=getDisplayedData(dt.data,{graphicalItems:[vt],dataStartIndex:yt,dataEndIndex:_t}),Ct=vt.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},vt.type.defaultProps),vt.props):vt.props,Lt=Ct.dataKey,It=Ct.maxBarSize,Dt=Ct["".concat(Pt,"Id")],Zt=Ct["".concat(St,"Id")],Qt={},Yt=nt.reduce(function(pr,yr){var xr=ht["".concat(yr.axisType,"Map")],vr=Ct["".concat(yr.axisType,"Id")];xr&&xr[vr]||yr.axisType==="zAxis"||invariant();var Er=xr[vr];return _objectSpread$7(_objectSpread$7({},pr),{},_defineProperty$b(_defineProperty$b({},yr.axisType,Er),"".concat(yr.axisType,"Ticks"),getTicksOfAxis(Er)))},Qt),Ft=Yt[St],Kt=Yt["".concat(St,"Ticks")],er=mt&&mt[Dt]&&mt[Dt].hasStack&&getStackedDataOfItem(vt,mt[Dt].stackGroups),Nt=getDisplayName(vt.type).indexOf("Bar")>=0,lr=getBandSizeOfAxis(Ft,Kt),Wt=[],Ut=Rt&&getBarSizeList({barSize:Et,stackGroups:mt,totalSize:getCartesianAxisSize(Yt,St)});if(Nt){var Jt,Bt,tr=isNil$1(It)?Tt:It,ar=(Jt=(Bt=getBandSizeOfAxis(Ft,Kt,!0))!==null&&Bt!==void 0?Bt:tr)!==null&&Jt!==void 0?Jt:0;Wt=getBarPosition({barGap:$t,barCategoryGap:jt,bandSize:ar!==lr?ar:lr,sizeList:Ut[Zt],maxBarSize:tr}),ar!==lr&&(Wt=Wt.map(function(pr){return _objectSpread$7(_objectSpread$7({},pr),{},{position:_objectSpread$7(_objectSpread$7({},pr.position),{},{offset:pr.position.offset-ar/2})})}))}var hr=vt&&vt.type&&vt.type.getComposedData;hr&&bt.push({props:_objectSpread$7(_objectSpread$7({},hr(_objectSpread$7(_objectSpread$7({},Yt),{},{displayedData:Ot,props:dt,dataKey:Lt,item:vt,bandSize:lr,barPosition:Wt,offset:xt,stackedData:er,layout:wt,dataStartIndex:yt,dataEndIndex:_t}))),{},_defineProperty$b(_defineProperty$b(_defineProperty$b({key:vt.key||"item-".concat(At)},Pt,Yt[Pt]),St,Yt[St]),"animationId",gt)),childIndex:parseChildIndex(vt,dt.children),item:vt})}),bt},ct=function(dt,ht){var ft=dt.props,mt=dt.dataStartIndex,xt=dt.dataEndIndex,gt=dt.updateId;if(!validateWidthHeight({props:ft}))return null;var yt=ft.children,_t=ft.layout,Et=ft.stackOffset,wt=ft.data,$t=ft.reverseStackOrder,jt=getAxisNameByLayout(_t),Tt=jt.numericAxisName,kt=jt.cateAxisName,Pt=findAllByType(yt,j),St=getStackGroupsByAxisId(wt,Pt,"".concat(Tt,"Id"),"".concat(kt,"Id"),Et,$t),Rt=nt.reduce(function(Ct,Lt){var It="".concat(Lt.axisType,"Map");return _objectSpread$7(_objectSpread$7({},Ct),{},_defineProperty$b({},It,getAxisMap(ft,_objectSpread$7(_objectSpread$7({},Lt),{},{graphicalItems:Pt,stackGroups:Lt.axisType===Tt&&St,dataStartIndex:mt,dataEndIndex:xt}))))},{}),bt=calculateOffset(_objectSpread$7(_objectSpread$7({},Rt),{},{props:ft,graphicalItems:Pt}),ht==null?void 0:ht.legendBBox);Object.keys(Rt).forEach(function(Ct){Rt[Ct]=it(ft,Rt[Ct],bt,Ct.replace("Map",""),_)});var vt=Rt["".concat(kt,"Map")],At=tooltipTicksGenerator(vt),Ot=ot(ft,_objectSpread$7(_objectSpread$7({},Rt),{},{dataStartIndex:mt,dataEndIndex:xt,updateId:gt,graphicalItems:Pt,stackGroups:St,offset:bt}));return _objectSpread$7(_objectSpread$7({formattedGraphicalItems:Ot,graphicalItems:Pt,offset:bt,stackGroups:St},At),Rt)},ut=function(pt){function dt(ht){var ft,mt,xt;return _classCallCheck(this,dt),xt=_callSuper(this,dt,[ht]),_defineProperty$b(xt,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$b(xt,"accessibilityManager",new AccessibilityManager),_defineProperty$b(xt,"handleLegendBBoxUpdate",function(gt){if(gt){var yt=xt.state,_t=yt.dataStartIndex,Et=yt.dataEndIndex,wt=yt.updateId;xt.setState(_objectSpread$7({legendBBox:gt},ct({props:xt.props,dataStartIndex:_t,dataEndIndex:Et,updateId:wt},_objectSpread$7(_objectSpread$7({},xt.state),{},{legendBBox:gt}))))}}),_defineProperty$b(xt,"handleReceiveSyncEvent",function(gt,yt,_t){if(xt.props.syncId===gt){if(_t===xt.eventEmitterSymbol&&typeof xt.props.syncMethod!="function")return;xt.applySyncEvent(yt)}}),_defineProperty$b(xt,"handleBrushChange",function(gt){var yt=gt.startIndex,_t=gt.endIndex;if(yt!==xt.state.dataStartIndex||_t!==xt.state.dataEndIndex){var Et=xt.state.updateId;xt.setState(function(){return _objectSpread$7({dataStartIndex:yt,dataEndIndex:_t},ct({props:xt.props,dataStartIndex:yt,dataEndIndex:_t,updateId:Et},xt.state))}),xt.triggerSyncEvent({dataStartIndex:yt,dataEndIndex:_t})}}),_defineProperty$b(xt,"handleMouseEnter",function(gt){var yt=xt.getMouseInfo(gt);if(yt){var _t=_objectSpread$7(_objectSpread$7({},yt),{},{isTooltipActive:!0});xt.setState(_t),xt.triggerSyncEvent(_t);var Et=xt.props.onMouseEnter;isFunction$5(Et)&&Et(_t,gt)}}),_defineProperty$b(xt,"triggeredAfterMouseMove",function(gt){var yt=xt.getMouseInfo(gt),_t=yt?_objectSpread$7(_objectSpread$7({},yt),{},{isTooltipActive:!0}):{isTooltipActive:!1};xt.setState(_t),xt.triggerSyncEvent(_t);var Et=xt.props.onMouseMove;isFunction$5(Et)&&Et(_t,gt)}),_defineProperty$b(xt,"handleItemMouseEnter",function(gt){xt.setState(function(){return{isTooltipActive:!0,activeItem:gt,activePayload:gt.tooltipPayload,activeCoordinate:gt.tooltipPosition||{x:gt.cx,y:gt.cy}}})}),_defineProperty$b(xt,"handleItemMouseLeave",function(){xt.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$b(xt,"handleMouseMove",function(gt){gt.persist(),xt.throttleTriggeredAfterMouseMove(gt)}),_defineProperty$b(xt,"handleMouseLeave",function(gt){xt.throttleTriggeredAfterMouseMove.cancel();var yt={isTooltipActive:!1};xt.setState(yt),xt.triggerSyncEvent(yt);var _t=xt.props.onMouseLeave;isFunction$5(_t)&&_t(yt,gt)}),_defineProperty$b(xt,"handleOuterEvent",function(gt){var yt=getReactEventByType(gt),_t=get$2(xt.props,"".concat(yt));if(yt&&isFunction$5(_t)){var Et,wt;/.*touch.*/i.test(yt)?wt=xt.getMouseInfo(gt.changedTouches[0]):wt=xt.getMouseInfo(gt),_t((Et=wt)!==null&&Et!==void 0?Et:{},gt)}}),_defineProperty$b(xt,"handleClick",function(gt){var yt=xt.getMouseInfo(gt);if(yt){var _t=_objectSpread$7(_objectSpread$7({},yt),{},{isTooltipActive:!0});xt.setState(_t),xt.triggerSyncEvent(_t);var Et=xt.props.onClick;isFunction$5(Et)&&Et(_t,gt)}}),_defineProperty$b(xt,"handleMouseDown",function(gt){var yt=xt.props.onMouseDown;if(isFunction$5(yt)){var _t=xt.getMouseInfo(gt);yt(_t,gt)}}),_defineProperty$b(xt,"handleMouseUp",function(gt){var yt=xt.props.onMouseUp;if(isFunction$5(yt)){var _t=xt.getMouseInfo(gt);yt(_t,gt)}}),_defineProperty$b(xt,"handleTouchMove",function(gt){gt.changedTouches!=null&&gt.changedTouches.length>0&&xt.throttleTriggeredAfterMouseMove(gt.changedTouches[0])}),_defineProperty$b(xt,"handleTouchStart",function(gt){gt.changedTouches!=null&&gt.changedTouches.length>0&&xt.handleMouseDown(gt.changedTouches[0])}),_defineProperty$b(xt,"handleTouchEnd",function(gt){gt.changedTouches!=null&&gt.changedTouches.length>0&&xt.handleMouseUp(gt.changedTouches[0])}),_defineProperty$b(xt,"handleDoubleClick",function(gt){var yt=xt.props.onDoubleClick;if(isFunction$5(yt)){var _t=xt.getMouseInfo(gt);yt(_t,gt)}}),_defineProperty$b(xt,"handleContextMenu",function(gt){var yt=xt.props.onContextMenu;if(isFunction$5(yt)){var _t=xt.getMouseInfo(gt);yt(_t,gt)}}),_defineProperty$b(xt,"triggerSyncEvent",function(gt){xt.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,xt.props.syncId,gt,xt.eventEmitterSymbol)}),_defineProperty$b(xt,"applySyncEvent",function(gt){var yt=xt.props,_t=yt.layout,Et=yt.syncMethod,wt=xt.state.updateId,$t=gt.dataStartIndex,jt=gt.dataEndIndex;if(gt.dataStartIndex!==void 0||gt.dataEndIndex!==void 0)xt.setState(_objectSpread$7({dataStartIndex:$t,dataEndIndex:jt},ct({props:xt.props,dataStartIndex:$t,dataEndIndex:jt,updateId:wt},xt.state)));else if(gt.activeTooltipIndex!==void 0){var Tt=gt.chartX,kt=gt.chartY,Pt=gt.activeTooltipIndex,St=xt.state,Rt=St.offset,bt=St.tooltipTicks;if(!Rt)return;if(typeof Et=="function")Pt=Et(bt,gt);else if(Et==="value"){Pt=-1;for(var vt=0;vt<bt.length;vt++)if(bt[vt].value===gt.activeLabel){Pt=vt;break}}var At=_objectSpread$7(_objectSpread$7({},Rt),{},{x:Rt.left,y:Rt.top}),Ot=Math.min(Tt,At.x+At.width),Ct=Math.min(kt,At.y+At.height),Lt=bt[Pt]&&bt[Pt].value,It=getTooltipContent(xt.state,xt.props.data,Pt),Dt=bt[Pt]?{x:_t==="horizontal"?bt[Pt].coordinate:Ot,y:_t==="horizontal"?Ct:bt[Pt].coordinate}:originCoordinate;xt.setState(_objectSpread$7(_objectSpread$7({},gt),{},{activeLabel:Lt,activeCoordinate:Dt,activePayload:It,activeTooltipIndex:Pt}))}else xt.setState(gt)}),_defineProperty$b(xt,"renderCursor",function(gt){var yt,_t=xt.state,Et=_t.isTooltipActive,wt=_t.activeCoordinate,$t=_t.activePayload,jt=_t.offset,Tt=_t.activeTooltipIndex,kt=_t.tooltipAxisBandSize,Pt=xt.getTooltipEventType(),St=(yt=gt.props.active)!==null&&yt!==void 0?yt:Et,Rt=xt.props.layout,bt=gt.key||"_recharts-cursor";return React$7.createElement(Cursor,{key:bt,activeCoordinate:wt,activePayload:$t,activeTooltipIndex:Tt,chartName:_,element:gt,isActive:St,layout:Rt,offset:jt,tooltipAxisBandSize:kt,tooltipEventType:Pt})}),_defineProperty$b(xt,"renderPolarAxis",function(gt,yt,_t){var Et=get$2(gt,"type.axisType"),wt=get$2(xt.state,"".concat(Et,"Map")),$t=gt.type.defaultProps,jt=$t!==void 0?_objectSpread$7(_objectSpread$7({},$t),gt.props):gt.props,Tt=wt&&wt[jt["".concat(Et,"Id")]];return reactExports.cloneElement(gt,_objectSpread$7(_objectSpread$7({},Tt),{},{className:clsx(Et,Tt.className),key:gt.key||"".concat(yt,"-").concat(_t),ticks:getTicksOfAxis(Tt,!0)}))}),_defineProperty$b(xt,"renderPolarGrid",function(gt){var yt=gt.props,_t=yt.radialLines,Et=yt.polarAngles,wt=yt.polarRadius,$t=xt.state,jt=$t.radiusAxisMap,Tt=$t.angleAxisMap,kt=getAnyElementOfObject(jt),Pt=getAnyElementOfObject(Tt),St=Pt.cx,Rt=Pt.cy,bt=Pt.innerRadius,vt=Pt.outerRadius;return reactExports.cloneElement(gt,{polarAngles:Array.isArray(Et)?Et:getTicksOfAxis(Pt,!0).map(function(At){return At.coordinate}),polarRadius:Array.isArray(wt)?wt:getTicksOfAxis(kt,!0).map(function(At){return At.coordinate}),cx:St,cy:Rt,innerRadius:bt,outerRadius:vt,key:gt.key||"polar-grid",radialLines:_t})}),_defineProperty$b(xt,"renderLegend",function(){var gt=xt.state.formattedGraphicalItems,yt=xt.props,_t=yt.children,Et=yt.width,wt=yt.height,$t=xt.props.margin||{},jt=Et-($t.left||0)-($t.right||0),Tt=getLegendProps({children:_t,formattedGraphicalItems:gt,legendWidth:jt,legendContent:st});if(!Tt)return null;var kt=Tt.item,Pt=_objectWithoutProperties$6(Tt,_excluded$7);return reactExports.cloneElement(kt,_objectSpread$7(_objectSpread$7({},Pt),{},{chartWidth:Et,chartHeight:wt,margin:$t,onBBoxUpdate:xt.handleLegendBBoxUpdate}))}),_defineProperty$b(xt,"renderTooltip",function(){var gt,yt=xt.props,_t=yt.children,Et=yt.accessibilityLayer,wt=findChildByType(_t,Tooltip$1);if(!wt)return null;var $t=xt.state,jt=$t.isTooltipActive,Tt=$t.activeCoordinate,kt=$t.activePayload,Pt=$t.activeLabel,St=$t.offset,Rt=(gt=wt.props.active)!==null&&gt!==void 0?gt:jt;return reactExports.cloneElement(wt,{viewBox:_objectSpread$7(_objectSpread$7({},St),{},{x:St.left,y:St.top}),active:Rt,label:Pt,payload:Rt?kt:[],coordinate:Tt,accessibilityLayer:Et})}),_defineProperty$b(xt,"renderBrush",function(gt){var yt=xt.props,_t=yt.margin,Et=yt.data,wt=xt.state,$t=wt.offset,jt=wt.dataStartIndex,Tt=wt.dataEndIndex,kt=wt.updateId;return reactExports.cloneElement(gt,{key:gt.key||"_recharts-brush",onChange:combineEventHandlers(xt.handleBrushChange,gt.props.onChange),data:Et,x:isNumber$1(gt.props.x)?gt.props.x:$t.left,y:isNumber$1(gt.props.y)?gt.props.y:$t.top+$t.height+$t.brushBottom-(_t.bottom||0),width:isNumber$1(gt.props.width)?gt.props.width:$t.width,startIndex:jt,endIndex:Tt,updateId:"brush-".concat(kt)})}),_defineProperty$b(xt,"renderReferenceElement",function(gt,yt,_t){if(!gt)return null;var Et=xt,wt=Et.clipPathId,$t=xt.state,jt=$t.xAxisMap,Tt=$t.yAxisMap,kt=$t.offset,Pt=gt.type.defaultProps||{},St=gt.props,Rt=St.xAxisId,bt=Rt===void 0?Pt.xAxisId:Rt,vt=St.yAxisId,At=vt===void 0?Pt.yAxisId:vt;return reactExports.cloneElement(gt,{key:gt.key||"".concat(yt,"-").concat(_t),xAxis:jt[bt],yAxis:Tt[At],viewBox:{x:kt.left,y:kt.top,width:kt.width,height:kt.height},clipPathId:wt})}),_defineProperty$b(xt,"renderActivePoints",function(gt){var yt=gt.item,_t=gt.activePoint,Et=gt.basePoint,wt=gt.childIndex,$t=gt.isRange,jt=[],Tt=yt.props.key,kt=yt.item.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},yt.item.type.defaultProps),yt.item.props):yt.item.props,Pt=kt.activeDot,St=kt.dataKey,Rt=_objectSpread$7(_objectSpread$7({index:wt,dataKey:St,cx:_t.x,cy:_t.y,r:4,fill:getMainColorOfGraphicItem(yt.item),strokeWidth:2,stroke:"#fff",payload:_t.payload,value:_t.value},filterProps(Pt,!1)),adaptEventHandlers(Pt));return jt.push(dt.renderActiveDot(Pt,Rt,"".concat(Tt,"-activePoint-").concat(wt))),Et?jt.push(dt.renderActiveDot(Pt,_objectSpread$7(_objectSpread$7({},Rt),{},{cx:Et.x,cy:Et.y}),"".concat(Tt,"-basePoint-").concat(wt))):$t&&jt.push(null),jt}),_defineProperty$b(xt,"renderGraphicChild",function(gt,yt,_t){var Et=xt.filterFormatItem(gt,yt,_t);if(!Et)return null;var wt=xt.getTooltipEventType(),$t=xt.state,jt=$t.isTooltipActive,Tt=$t.tooltipAxis,kt=$t.activeTooltipIndex,Pt=$t.activeLabel,St=xt.props.children,Rt=findChildByType(St,Tooltip$1),bt=Et.props,vt=bt.points,At=bt.isRange,Ot=bt.baseLine,Ct=Et.item.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},Et.item.type.defaultProps),Et.item.props):Et.item.props,Lt=Ct.activeDot,It=Ct.hide,Dt=Ct.activeBar,Zt=Ct.activeShape,Qt=!!(!It&&jt&&Rt&&(Lt||Dt||Zt)),Yt={};wt!=="axis"&&Rt&&Rt.props.trigger==="click"?Yt={onClick:combineEventHandlers(xt.handleItemMouseEnter,gt.props.onClick)}:wt!=="axis"&&(Yt={onMouseLeave:combineEventHandlers(xt.handleItemMouseLeave,gt.props.onMouseLeave),onMouseEnter:combineEventHandlers(xt.handleItemMouseEnter,gt.props.onMouseEnter)});var Ft=reactExports.cloneElement(gt,_objectSpread$7(_objectSpread$7({},Et.props),Yt));function Kt(yr){return typeof Tt.dataKey=="function"?Tt.dataKey(yr.payload):null}if(Qt)if(kt>=0){var er,Nt;if(Tt.dataKey&&!Tt.allowDuplicatedCategory){var lr=typeof Tt.dataKey=="function"?Kt:"payload.".concat(Tt.dataKey.toString());er=findEntryInArray(vt,lr,Pt),Nt=At&&Ot&&findEntryInArray(Ot,lr,Pt)}else er=vt==null?void 0:vt[kt],Nt=At&&Ot&&Ot[kt];if(Zt||Dt){var Wt=gt.props.activeIndex!==void 0?gt.props.activeIndex:kt;return[reactExports.cloneElement(gt,_objectSpread$7(_objectSpread$7(_objectSpread$7({},Et.props),Yt),{},{activeIndex:Wt})),null,null]}if(!isNil$1(er))return[Ft].concat(_toConsumableArray(xt.renderActivePoints({item:Et,activePoint:er,basePoint:Nt,childIndex:kt,isRange:At})))}else{var Ut,Jt=(Ut=xt.getItemByXY(xt.state.activeCoordinate))!==null&&Ut!==void 0?Ut:{graphicalItem:Ft},Bt=Jt.graphicalItem,tr=Bt.item,ar=tr===void 0?gt:tr,hr=Bt.childIndex,pr=_objectSpread$7(_objectSpread$7(_objectSpread$7({},Et.props),Yt),{},{activeIndex:hr});return[reactExports.cloneElement(ar,pr),null,null]}return At?[Ft,null,null]:[Ft,null]}),_defineProperty$b(xt,"renderCustomized",function(gt,yt,_t){return reactExports.cloneElement(gt,_objectSpread$7(_objectSpread$7({key:"recharts-customized-".concat(_t)},xt.props),xt.state))}),_defineProperty$b(xt,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:xt.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:xt.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:xt.renderBrush,once:!0},Bar:{handler:xt.renderGraphicChild},Line:{handler:xt.renderGraphicChild},Area:{handler:xt.renderGraphicChild},Radar:{handler:xt.renderGraphicChild},RadialBar:{handler:xt.renderGraphicChild},Scatter:{handler:xt.renderGraphicChild},Pie:{handler:xt.renderGraphicChild},Funnel:{handler:xt.renderGraphicChild},Tooltip:{handler:xt.renderCursor,once:!0},PolarGrid:{handler:xt.renderPolarGrid,once:!0},PolarAngleAxis:{handler:xt.renderPolarAxis},PolarRadiusAxis:{handler:xt.renderPolarAxis},Customized:{handler:xt.renderCustomized}}),xt.clipPathId="".concat((ft=ht.id)!==null&&ft!==void 0?ft:uniqueId("recharts"),"-clip"),xt.throttleTriggeredAfterMouseMove=throttle$2(xt.triggeredAfterMouseMove,(mt=ht.throttleDelay)!==null&&mt!==void 0?mt:1e3/60),xt.state={},xt}return _inherits(dt,pt),_createClass(dt,[{key:"componentDidMount",value:function(){var ft,mt;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(ft=this.props.margin.left)!==null&&ft!==void 0?ft:0,top:(mt=this.props.margin.top)!==null&&mt!==void 0?mt:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var ft=this.props,mt=ft.children,xt=ft.data,gt=ft.height,yt=ft.layout,_t=findChildByType(mt,Tooltip$1);if(_t){var Et=_t.props.defaultIndex;if(!(typeof Et!="number"||Et<0||Et>this.state.tooltipTicks.length-1)){var wt=this.state.tooltipTicks[Et]&&this.state.tooltipTicks[Et].value,$t=getTooltipContent(this.state,xt,Et,wt),jt=this.state.tooltipTicks[Et].coordinate,Tt=(this.state.offset.top+gt)/2,kt=yt==="horizontal",Pt=kt?{x:jt,y:Tt}:{y:jt,x:Tt},St=this.state.formattedGraphicalItems.find(function(bt){var vt=bt.item;return vt.type.name==="Scatter"});St&&(Pt=_objectSpread$7(_objectSpread$7({},Pt),St.props.points[Et].tooltipPosition),$t=St.props.points[Et].tooltipPayload);var Rt={activeTooltipIndex:Et,isTooltipActive:!0,activeLabel:wt,activePayload:$t,activeCoordinate:Pt};this.setState(Rt),this.renderCursor(_t),this.accessibilityManager.setIndex(Et)}}}},{key:"getSnapshotBeforeUpdate",value:function(ft,mt){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==mt.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==ft.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==ft.margin){var xt,gt;this.accessibilityManager.setDetails({offset:{left:(xt=this.props.margin.left)!==null&&xt!==void 0?xt:0,top:(gt=this.props.margin.top)!==null&&gt!==void 0?gt:0}})}return null}},{key:"componentDidUpdate",value:function(ft){isChildrenEqual([findChildByType(ft.children,Tooltip$1)],[findChildByType(this.props.children,Tooltip$1)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var ft=findChildByType(this.props.children,Tooltip$1);if(ft&&typeof ft.props.shared=="boolean"){var mt=ft.props.shared?"axis":"item";return rt.indexOf(mt)>=0?mt:et}return et}},{key:"getMouseInfo",value:function(ft){if(!this.container)return null;var mt=this.container,xt=mt.getBoundingClientRect(),gt=getOffset(xt),yt={chartX:Math.round(ft.pageX-gt.left),chartY:Math.round(ft.pageY-gt.top)},_t=xt.width/mt.offsetWidth||1,Et=this.inRange(yt.chartX,yt.chartY,_t);if(!Et)return null;var wt=this.state,$t=wt.xAxisMap,jt=wt.yAxisMap,Tt=this.getTooltipEventType(),kt=getTooltipData(this.state,this.props.data,this.props.layout,Et);if(Tt!=="axis"&&$t&&jt){var Pt=getAnyElementOfObject($t).scale,St=getAnyElementOfObject(jt).scale,Rt=Pt&&Pt.invert?Pt.invert(yt.chartX):null,bt=St&&St.invert?St.invert(yt.chartY):null;return _objectSpread$7(_objectSpread$7({},yt),{},{xValue:Rt,yValue:bt},kt)}return kt?_objectSpread$7(_objectSpread$7({},yt),kt):null}},{key:"inRange",value:function(ft,mt){var xt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,gt=this.props.layout,yt=ft/xt,_t=mt/xt;if(gt==="horizontal"||gt==="vertical"){var Et=this.state.offset,wt=yt>=Et.left&&yt<=Et.left+Et.width&&_t>=Et.top&&_t<=Et.top+Et.height;return wt?{x:yt,y:_t}:null}var $t=this.state,jt=$t.angleAxisMap,Tt=$t.radiusAxisMap;if(jt&&Tt){var kt=getAnyElementOfObject(jt);return inRangeOfSector({x:yt,y:_t},kt)}return null}},{key:"parseEventsOfWrapper",value:function(){var ft=this.props.children,mt=this.getTooltipEventType(),xt=findChildByType(ft,Tooltip$1),gt={};xt&&mt==="axis"&&(xt.props.trigger==="click"?gt={onClick:this.handleClick}:gt={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var yt=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread$7(_objectSpread$7({},yt),gt)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(ft,mt,xt){for(var gt=this.state.formattedGraphicalItems,yt=0,_t=gt.length;yt<_t;yt++){var Et=gt[yt];if(Et.item===ft||Et.props.key===ft.key||mt===getDisplayName(Et.item.type)&&xt===Et.childIndex)return Et}return null}},{key:"renderClipPath",value:function(){var ft=this.clipPathId,mt=this.state.offset,xt=mt.left,gt=mt.top,yt=mt.height,_t=mt.width;return React$7.createElement("defs",null,React$7.createElement("clipPath",{id:ft},React$7.createElement("rect",{x:xt,y:gt,height:yt,width:_t})))}},{key:"getXScales",value:function(){var ft=this.state.xAxisMap;return ft?Object.entries(ft).reduce(function(mt,xt){var gt=_slicedToArray$2(xt,2),yt=gt[0],_t=gt[1];return _objectSpread$7(_objectSpread$7({},mt),{},_defineProperty$b({},yt,_t.scale))},{}):null}},{key:"getYScales",value:function(){var ft=this.state.yAxisMap;return ft?Object.entries(ft).reduce(function(mt,xt){var gt=_slicedToArray$2(xt,2),yt=gt[0],_t=gt[1];return _objectSpread$7(_objectSpread$7({},mt),{},_defineProperty$b({},yt,_t.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(ft){var mt;return(mt=this.state.xAxisMap)===null||mt===void 0||(mt=mt[ft])===null||mt===void 0?void 0:mt.scale}},{key:"getYScaleByAxisId",value:function(ft){var mt;return(mt=this.state.yAxisMap)===null||mt===void 0||(mt=mt[ft])===null||mt===void 0?void 0:mt.scale}},{key:"getItemByXY",value:function(ft){var mt=this.state,xt=mt.formattedGraphicalItems,gt=mt.activeItem;if(xt&&xt.length)for(var yt=0,_t=xt.length;yt<_t;yt++){var Et=xt[yt],wt=Et.props,$t=Et.item,jt=$t.type.defaultProps!==void 0?_objectSpread$7(_objectSpread$7({},$t.type.defaultProps),$t.props):$t.props,Tt=getDisplayName($t.type);if(Tt==="Bar"){var kt=(wt.data||[]).find(function(bt){return isInRectangle(ft,bt)});if(kt)return{graphicalItem:Et,payload:kt}}else if(Tt==="RadialBar"){var Pt=(wt.data||[]).find(function(bt){return inRangeOfSector(ft,bt)});if(Pt)return{graphicalItem:Et,payload:Pt}}else if(isFunnel(Et,gt)||isPie(Et,gt)||isScatter(Et,gt)){var St=getActiveShapeIndexForTooltip({graphicalItem:Et,activeTooltipItem:gt,itemData:jt.data}),Rt=jt.activeIndex===void 0?St:jt.activeIndex;return{graphicalItem:_objectSpread$7(_objectSpread$7({},Et),{},{childIndex:Rt}),payload:isScatter(Et,gt)?jt.data[St]:Et.props.data[St]}}}return null}},{key:"render",value:function(){var ft=this;if(!validateWidthHeight(this))return null;var mt=this.props,xt=mt.children,gt=mt.className,yt=mt.width,_t=mt.height,Et=mt.style,wt=mt.compact,$t=mt.title,jt=mt.desc,Tt=_objectWithoutProperties$6(mt,_excluded2),kt=filterProps(Tt,!1);if(wt)return React$7.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$7.createElement(Surface,_extends$5({},kt,{width:yt,height:_t,title:$t,desc:jt}),this.renderClipPath(),renderByOrder(xt,this.renderMap)));if(this.props.accessibilityLayer){var Pt,St;kt.tabIndex=(Pt=this.props.tabIndex)!==null&&Pt!==void 0?Pt:0,kt.role=(St=this.props.role)!==null&&St!==void 0?St:"application",kt.onKeyDown=function(bt){ft.accessibilityManager.keyboardEvent(bt)},kt.onFocus=function(){ft.accessibilityManager.focus()}}var Rt=this.parseEventsOfWrapper();return React$7.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$7.createElement("div",_extends$5({className:clsx("recharts-wrapper",gt),style:_objectSpread$7({position:"relative",cursor:"default",width:yt,height:_t},Et)},Rt,{ref:function(vt){ft.container=vt}}),React$7.createElement(Surface,_extends$5({},kt,{width:yt,height:_t,title:$t,desc:jt,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(xt,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(reactExports.Component);_defineProperty$b(ut,"displayName",_),_defineProperty$b(ut,"defaultProps",_objectSpread$7({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},at)),_defineProperty$b(ut,"getDerivedStateFromProps",function(pt,dt){var ht=pt.dataKey,ft=pt.data,mt=pt.children,xt=pt.width,gt=pt.height,yt=pt.layout,_t=pt.stackOffset,Et=pt.margin,wt=dt.dataStartIndex,$t=dt.dataEndIndex;if(dt.updateId===void 0){var jt=createDefaultState(pt);return _objectSpread$7(_objectSpread$7(_objectSpread$7({},jt),{},{updateId:0},ct(_objectSpread$7(_objectSpread$7({props:pt},jt),{},{updateId:0}),dt)),{},{prevDataKey:ht,prevData:ft,prevWidth:xt,prevHeight:gt,prevLayout:yt,prevStackOffset:_t,prevMargin:Et,prevChildren:mt})}if(ht!==dt.prevDataKey||ft!==dt.prevData||xt!==dt.prevWidth||gt!==dt.prevHeight||yt!==dt.prevLayout||_t!==dt.prevStackOffset||!shallowEqual(Et,dt.prevMargin)){var Tt=createDefaultState(pt),kt={chartX:dt.chartX,chartY:dt.chartY,isTooltipActive:dt.isTooltipActive},Pt=_objectSpread$7(_objectSpread$7({},getTooltipData(dt,ft,yt)),{},{updateId:dt.updateId+1}),St=_objectSpread$7(_objectSpread$7(_objectSpread$7({},Tt),kt),Pt);return _objectSpread$7(_objectSpread$7(_objectSpread$7({},St),ct(_objectSpread$7({props:pt},St),dt)),{},{prevDataKey:ht,prevData:ft,prevWidth:xt,prevHeight:gt,prevLayout:yt,prevStackOffset:_t,prevMargin:Et,prevChildren:mt})}if(!isChildrenEqual(mt,dt.prevChildren)){var Rt,bt,vt,At,Ot=findChildByType(mt,Brush),Ct=Ot&&(Rt=(bt=Ot.props)===null||bt===void 0?void 0:bt.startIndex)!==null&&Rt!==void 0?Rt:wt,Lt=Ot&&(vt=(At=Ot.props)===null||At===void 0?void 0:At.endIndex)!==null&&vt!==void 0?vt:$t,It=Ct!==wt||Lt!==$t,Dt=!isNil$1(ft),Zt=Dt&&!It?dt.updateId:dt.updateId+1;return _objectSpread$7(_objectSpread$7({updateId:Zt},ct(_objectSpread$7(_objectSpread$7({props:pt},dt),{},{updateId:Zt,dataStartIndex:Ct,dataEndIndex:Lt}),dt)),{},{prevChildren:mt,dataStartIndex:Ct,dataEndIndex:Lt})}return null}),_defineProperty$b(ut,"renderActiveDot",function(pt,dt,ht){var ft;return reactExports.isValidElement(pt)?ft=reactExports.cloneElement(pt,dt):isFunction$5(pt)?ft=pt(dt):ft=React$7.createElement(Dot,dt),React$7.createElement(Layer,{className:"recharts-active-dot",key:ht},ft)});var lt=reactExports.forwardRef(function(dt,ht){return React$7.createElement(ut,_extends$5({},dt,{ref:ht}))});return lt.displayName=ut.displayName,lt},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line$1,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar$1,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie$1,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:formatAxisMap$1,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),AreaChart=generateCategoricalChart({chartName:"AreaChart",GraphicalChild:Area,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap}),build={},countUp_umd={exports:{}};(function(i,o){(function(_,j){j(o)})(commonjsGlobal,function(_){var j=function(){return j=Object.assign||function(et){for(var tt,rt=1,nt=arguments.length;rt<nt;rt++)for(var st in tt=arguments[rt])Object.prototype.hasOwnProperty.call(tt,st)&&(et[st]=tt[st]);return et},j.apply(this,arguments)},_e=function(){function et(tt,rt,nt){var st=this;this.endVal=rt,this.options=nt,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(it){st.startTime||(st.startTime=it);var at=it-st.startTime;st.remaining=st.duration-at,st.useEasing?st.countDown?st.frameVal=st.startVal-st.easingFn(at,0,st.startVal-st.endVal,st.duration):st.frameVal=st.easingFn(at,st.startVal,st.endVal-st.startVal,st.duration):st.frameVal=st.startVal+(st.endVal-st.startVal)*(at/st.duration);var ot=st.countDown?st.frameVal<st.endVal:st.frameVal>st.endVal;st.frameVal=ot?st.endVal:st.frameVal,st.frameVal=Number(st.frameVal.toFixed(st.options.decimalPlaces)),st.printValue(st.frameVal),at<st.duration?st.rAF=requestAnimationFrame(st.count):st.finalEndVal!==null?st.update(st.finalEndVal):st.options.onCompleteCallback&&st.options.onCompleteCallback()},this.formatNumber=function(it){var at,ot,ct,ut,lt=it<0?"-":"";at=Math.abs(it).toFixed(st.options.decimalPlaces);var pt=(at+="").split(".");if(ot=pt[0],ct=pt.length>1?st.options.decimal+pt[1]:"",st.options.useGrouping){ut="";for(var dt=3,ht=0,ft=0,mt=ot.length;ft<mt;++ft)st.options.useIndianSeparators&&ft===4&&(dt=2,ht=1),ft!==0&&ht%dt==0&&(ut=st.options.separator+ut),ht++,ut=ot[mt-ft-1]+ut;ot=ut}return st.options.numerals&&st.options.numerals.length&&(ot=ot.replace(/[0-9]/g,function(xt){return st.options.numerals[+xt]}),ct=ct.replace(/[0-9]/g,function(xt){return st.options.numerals[+xt]})),lt+st.options.prefix+ot+ct+st.options.suffix},this.easeOutExpo=function(it,at,ot,ct){return ot*(1-Math.pow(2,-10*it/ct))*1024/1023+at},this.options=j(j({},this.defaults),nt),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof tt=="string"?document.getElementById(tt):tt,rt=rt??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(rt),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,tt):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return st.handleScroll(st)}),window.onscroll=function(){window.onScrollFns.forEach(function(it){return it()})},this.handleScroll(this)))}return et.prototype.handleScroll=function(tt){if(tt&&window&&!tt.once){var rt=window.innerHeight+window.scrollY,nt=tt.el.getBoundingClientRect(),st=nt.top+window.pageYOffset,it=nt.top+nt.height+window.pageYOffset;it<rt&&it>window.scrollY&&tt.paused?(tt.paused=!1,setTimeout(function(){return tt.start()},tt.options.scrollSpyDelay),tt.options.scrollSpyOnce&&(tt.once=!0)):(window.scrollY>it||st>rt)&&!tt.paused&&tt.reset()}},et.prototype.determineDirectionAndSmartEasing=function(){var tt=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>tt;var rt=tt-this.startVal;if(Math.abs(rt)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=tt;var nt=this.countDown?1:-1;this.endVal=tt+nt*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=tt,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},et.prototype.start=function(tt){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),tt&&(this.options.onCompleteCallback=tt),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},et.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},et.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},et.prototype.update=function(tt){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(tt),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},et.prototype.printValue=function(tt){var rt;if(this.el){var nt=this.formattingFn(tt);!((rt=this.options.plugin)===null||rt===void 0)&&rt.render?this.options.plugin.render(this.el,nt):this.el.tagName==="INPUT"?this.el.value=nt:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=nt:this.el.innerHTML=nt}},et.prototype.ensureNumber=function(tt){return typeof tt=="number"&&!isNaN(tt)},et.prototype.validateValue=function(tt){var rt=Number(tt);return this.ensureNumber(rt)?rt:(this.error="[CountUp] invalid start or end value: ".concat(tt),null)},et.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},et.prototype.parse=function(tt){var rt=function(at){return at.replace(/([.,' ])/g,"\\$1")},nt=rt(this.options.separator),st=rt(this.options.decimal),it=tt.replace(new RegExp(nt,"g"),"").replace(new RegExp(st,"g"),".");return parseFloat(it)},et}();_.CountUp=_e})})(countUp_umd,countUp_umd.exports);var countUp_umdExports=countUp_umd.exports;Object.defineProperty(build,"__esModule",{value:!0});var React$6=reactExports,countup_js=countUp_umdExports;function _iterableToArrayLimit$1(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function ownKeys$8(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread2$1(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$8(Object(_),!0).forEach(function(j){_defineProperty$a(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$8(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _toPrimitive$a(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _toPropertyKey$a(i){var o=_toPrimitive$a(i,"string");return typeof o=="symbol"?o:String(o)}function _defineProperty$a(i,o,_){return o=_toPropertyKey$a(o),o in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$4.apply(this,arguments)}function _objectWithoutPropertiesLoose$5(i,o){if(i==null)return{};var _={},j=Object.keys(i),_e,et;for(et=0;et<j.length;et++)_e=j[et],!(o.indexOf(_e)>=0)&&(_[_e]=i[_e]);return _}function _objectWithoutProperties$5(i,o){if(i==null)return{};var _=_objectWithoutPropertiesLoose$5(i,o),j,_e;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(_e=0;_e<et.length;_e++)j=et[_e],!(o.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(i,j)&&(_[j]=i[j])}return _}function _slicedToArray$1(i,o){return _arrayWithHoles$1(i)||_iterableToArrayLimit$1(i,o)||_unsupportedIterableToArray$1(i,o)||_nonIterableRest$1()}function _arrayWithHoles$1(i){if(Array.isArray(i))return i}function _unsupportedIterableToArray$1(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray$1(i,o);var _=Object.prototype.toString.call(i).slice(8,-1);if(_==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set")return Array.from(i);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$1(i,o)}}function _arrayLikeToArray$1(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=new Array(o);_<o;_++)j[_]=i[_];return j}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var useIsomorphicLayoutEffect=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?React$6.useLayoutEffect:React$6.useEffect;function useEventCallback(i){var o=React$6.useRef(i);return useIsomorphicLayoutEffect(function(){o.current=i}),React$6.useCallback(function(){for(var _=arguments.length,j=new Array(_),_e=0;_e<_;_e++)j[_e]=arguments[_e];return o.current.apply(void 0,j)},[])}var createCountUpInstance=function(o,_){var j=_.decimal,_e=_.decimals,et=_.duration,tt=_.easingFn,rt=_.end,nt=_.formattingFn,st=_.numerals,it=_.prefix,at=_.separator,ot=_.start,ct=_.suffix,ut=_.useEasing,lt=_.useGrouping,pt=_.useIndianSeparators,dt=_.enableScrollSpy,ht=_.scrollSpyDelay,ft=_.scrollSpyOnce,mt=_.plugin;return new countup_js.CountUp(o,rt,{startVal:ot,duration:et,decimal:j,decimalPlaces:_e,easingFn:tt,formattingFn:nt,numerals:st,separator:at,prefix:it,suffix:ct,plugin:mt,useEasing:ut,useIndianSeparators:pt,useGrouping:lt,enableScrollSpy:dt,scrollSpyDelay:ht,scrollSpyOnce:ft})},_excluded$1$1=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],DEFAULTS={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},useCountUp=function(o){var _=Object.fromEntries(Object.entries(o).filter(function(Et){var wt=_slicedToArray$1(Et,2),$t=wt[1];return $t!==void 0})),j=React$6.useMemo(function(){return _objectSpread2$1(_objectSpread2$1({},DEFAULTS),_)},[o]),_e=j.ref,et=j.startOnMount,tt=j.enableReinitialize,rt=j.delay,nt=j.onEnd,st=j.onStart,it=j.onPauseResume,at=j.onReset,ot=j.onUpdate,ct=_objectWithoutProperties$5(j,_excluded$1$1),ut=React$6.useRef(),lt=React$6.useRef(),pt=React$6.useRef(!1),dt=useEventCallback(function(){return createCountUpInstance(typeof _e=="string"?_e:_e.current,ct)}),ht=useEventCallback(function(Et){var wt=ut.current;if(wt&&!Et)return wt;var $t=dt();return ut.current=$t,$t}),ft=useEventCallback(function(){var Et=function(){return ht(!0).start(function(){nt==null||nt({pauseResume:mt,reset:xt,start:yt,update:gt})})};rt&&rt>0?lt.current=setTimeout(Et,rt*1e3):Et(),st==null||st({pauseResume:mt,reset:xt,update:gt})}),mt=useEventCallback(function(){ht().pauseResume(),it==null||it({reset:xt,start:yt,update:gt})}),xt=useEventCallback(function(){ht().el&&(lt.current&&clearTimeout(lt.current),ht().reset(),at==null||at({pauseResume:mt,start:yt,update:gt}))}),gt=useEventCallback(function(Et){ht().update(Et),ot==null||ot({pauseResume:mt,reset:xt,start:yt})}),yt=useEventCallback(function(){xt(),ft()}),_t=useEventCallback(function(Et){et&&(Et&&xt(),ft())});return React$6.useEffect(function(){pt.current?tt&&_t(!0):(pt.current=!0,_t())},[tt,pt,_t,rt,o.start,o.suffix,o.prefix,o.duration,o.separator,o.decimals,o.decimal,o.formattingFn]),React$6.useEffect(function(){return function(){xt()}},[xt]),{start:yt,pauseResume:mt,reset:xt,update:gt,getCountUp:ht}},_excluded$6=["className","redraw","containerProps","children","style"],CountUp=function(o){var _=o.className,j=o.redraw,_e=o.containerProps,et=o.children,tt=o.style,rt=_objectWithoutProperties$5(o,_excluded$6),nt=React$6.useRef(null),st=React$6.useRef(!1),it=useCountUp(_objectSpread2$1(_objectSpread2$1({},rt),{},{ref:nt,startOnMount:typeof et!="function"||o.delay===0,enableReinitialize:!1})),at=it.start,ot=it.reset,ct=it.update,ut=it.pauseResume,lt=it.getCountUp,pt=useEventCallback(function(){at()}),dt=useEventCallback(function(mt){o.preserveValue||ot(),ct(mt)}),ht=useEventCallback(function(){if(typeof o.children=="function"&&!(nt.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}lt()});React$6.useEffect(function(){ht()},[ht]),React$6.useEffect(function(){st.current&&dt(o.end)},[o.end,dt]);var ft=j&&o;return React$6.useEffect(function(){j&&st.current&&pt()},[pt,j,ft]),React$6.useEffect(function(){!j&&st.current&&pt()},[pt,j,o.start,o.suffix,o.prefix,o.duration,o.separator,o.decimals,o.decimal,o.className,o.formattingFn]),React$6.useEffect(function(){st.current=!0},[]),typeof et=="function"?et({countUpRef:nt,start:at,reset:ot,update:ct,pauseResume:ut,getCountUp:lt}):React$6.createElement("span",_extends$4({className:_,ref:nt,style:tt},_e),typeof o.start<"u"?lt().formattingFn(o.start):"")},_default=build.default=CountUp;build.useCountUp=useCountUp;const metricCardFull="_metricCardFull_1pivj_21",metricCardVariant1$3="_metricCardVariant1_1pivj_46",metricCardVariant2$3="_metricCardVariant2_1pivj_62",metricCardVariant3$3="_metricCardVariant3_1pivj_76",cardHeader$5="_cardHeader_1pivj_91",headerLeft$9="_headerLeft_1pivj_98",cardTitle$4="_cardTitle_1pivj_104",headerRight$5="_headerRight_1pivj_113",optionsButton$3="_optionsButton_1pivj_119",cardValue$3="_cardValue_1pivj_140",cardSubtitle$4="_cardSubtitle_1pivj_149",trendIndicator$3="_trendIndicator_1pivj_156",positive$5="_positive_1pivj_164",negative$5="_negative_1pivj_168",trendIcon$4="_trendIcon_1pivj_172",trendValue$4="_trendValue_1pivj_176",variantSelector$3="_variantSelector_1pivj_181",variantButton$3="_variantButton_1pivj_191",active$f="_active_1pivj_212",cardChart$3="_cardChart_1pivj_219",cardDateRange$2="_cardDateRange_1pivj_229",metricCardCompact="_metricCardCompact_1pivj_240",compactIcon$1="_compactIcon_1pivj_264",compactContent$1="_compactContent_1pivj_276",compactValue$1="_compactValue_1pivj_281",compactTitle$1="_compactTitle_1pivj_289",compactTrend$1="_compactTrend_1pivj_297",metricsGrid$2="_metricsGrid_1pivj_325",compactGrid="_compactGrid_1pivj_334",loading$a="_loading_1pivj_411",medium="_medium_1pivj_432",large="_large_1pivj_433",compact$1="_compact_1pivj_264",styles$y={metricCardFull,metricCardVariant1:metricCardVariant1$3,metricCardVariant2:metricCardVariant2$3,metricCardVariant3:metricCardVariant3$3,cardHeader:cardHeader$5,headerLeft:headerLeft$9,cardTitle:cardTitle$4,headerRight:headerRight$5,optionsButton:optionsButton$3,cardValue:cardValue$3,cardSubtitle:cardSubtitle$4,trendIndicator:trendIndicator$3,positive:positive$5,negative:negative$5,trendIcon:trendIcon$4,trendValue:trendValue$4,variantSelector:variantSelector$3,variantButton:variantButton$3,active:active$f,cardChart:cardChart$3,cardDateRange:cardDateRange$2,metricCardCompact,compactIcon:compactIcon$1,compactContent:compactContent$1,compactValue:compactValue$1,compactTitle:compactTitle$1,compactTrend:compactTrend$1,metricsGrid:metricsGrid$2,compactGrid,loading:loading$a,medium,large,compact:compact$1},MetricCard=({id:i,title:o,value:_,subtitle:j,trend:_e,chartData:et=[],format:tt="number",displayMode:rt="medium",design:nt="variant1",icon:st,color:it,onClick:at,onOptionsClick:ot,onVariantChange:ct,cardIndex:ut=0,isEditMode:lt=!1})=>{var mt,xt;const{getMetricCardColor:pt}=useColors(),dt=it||pt(ut),ht=(gt=!1)=>!ct||!gt?null:jsxRuntimeExports.jsxs("div",{className:styles$y.variantSelector,children:[jsxRuntimeExports.jsx("button",{className:`${styles$y.variantButton} ${nt==="variant1"?styles$y.active:""}`,onClick:yt=>{yt.stopPropagation(),ct("variant1")},title:"Area Chart",children:"1"}),jsxRuntimeExports.jsx("button",{className:`${styles$y.variantButton} ${nt==="variant2"?styles$y.active:""}`,onClick:yt=>{yt.stopPropagation(),ct("variant2")},title:"Line Chart",children:"2"}),jsxRuntimeExports.jsx("button",{className:`${styles$y.variantButton} ${nt==="variant3"?styles$y.active:""}`,onClick:yt=>{yt.stopPropagation(),ct("variant3")},title:"Bar Chart",children:"3"})]}),ft=()=>!et||et.length===0?null:nt==="variant1"?jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsx(LineChart,{data:et,children:jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"value",stroke:dt,strokeWidth:2,dot:!1})})}):nt==="variant2"?jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsx(BarChart,{data:et,children:jsxRuntimeExports.jsx(Bar$1,{dataKey:"value",fill:dt,radius:[2,2,0,0]})})}):jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:et,children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:dt,stopOpacity:.4}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:dt,stopOpacity:.05})]})}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"value",stroke:dt,strokeWidth:2,fill:`url(#gradient-${i})`})]})});return rt==="compact"?jsxRuntimeExports.jsxs("div",{className:styles$y.metricCardCompact,onClick:at,style:{borderLeftColor:dt,borderLeftWidth:"3px"},children:[jsxRuntimeExports.jsx("div",{className:styles$y.compactIcon,style:{backgroundColor:dt},children:st||""}),jsxRuntimeExports.jsxs("div",{className:styles$y.compactContent,children:[jsxRuntimeExports.jsx("div",{className:styles$y.compactValue,style:{color:"var(--text-primary)"},children:typeof _=="number"?jsxRuntimeExports.jsx(_default,{end:_,duration:1.5,separator:",",prefix:tt==="currency"?"":"",suffix:tt==="percentage"?"%":"",decimals:tt==="percentage"?1:0}):_}),jsxRuntimeExports.jsx("div",{className:styles$y.compactTitle,children:o})]}),_e&&jsxRuntimeExports.jsxs("div",{className:`${styles$y.compactTrend} ${_e.isPositive?styles$y.positive:styles$y.negative}`,children:[jsxRuntimeExports.jsx("span",{className:styles$y.trendIcon,children:_e.isPositive?"":""}),jsxRuntimeExports.jsxs("span",{className:styles$y.trendValue,children:["+",Math.abs(_e.value).toFixed(0),"%"]})]})]}):jsxRuntimeExports.jsxs("div",{className:`${styles$y.metricCardFull} ${styles$y[`metricCard${nt.charAt(0).toUpperCase()+nt.slice(1)}`]} ${styles$y[rt]}`,onClick:at,style:{...nt==="variant1"&&{borderLeftColor:dt},...nt==="variant2"&&{borderTopColor:dt},...nt==="variant3"&&{borderTopColor:dt,borderBottomColor:dt,borderLeftColor:dt,borderRightColor:dt},background:nt==="variant1"?"rgba(var(--bg-secondary-rgb), 0.8)":void 0,backdropFilter:nt==="variant1"?"blur(10px)":void 0},children:[jsxRuntimeExports.jsxs("div",{className:styles$y.cardHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$y.headerLeft,children:jsxRuntimeExports.jsx("h3",{className:styles$y.cardTitle,children:o})}),jsxRuntimeExports.jsxs("div",{className:styles$y.headerRight,children:[_e&&jsxRuntimeExports.jsxs("div",{className:`${styles$y.trendIndicator} ${_e.isPositive?styles$y.positive:styles$y.negative}`,children:[jsxRuntimeExports.jsx("span",{className:styles$y.trendIcon,children:_e.isPositive?"":""}),jsxRuntimeExports.jsxs("span",{className:styles$y.trendValue,children:[Math.abs(_e.value).toFixed(0),"%"]})]}),ht(lt),ot&&jsxRuntimeExports.jsx("button",{className:styles$y.optionsButton,onClick:gt=>{gt.stopPropagation(),ot()},children:jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:[jsxRuntimeExports.jsx("circle",{cx:"10",cy:"4",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"10",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"16",r:"1.5"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$y.cardValue,children:typeof _=="number"?jsxRuntimeExports.jsx(_default,{end:_,duration:1.5,separator:",",prefix:tt==="currency"?"":"",suffix:tt==="percentage"?"%":"",decimals:tt==="percentage"?1:0}):_}),j&&jsxRuntimeExports.jsx("div",{className:styles$y.cardSubtitle,children:j}),et&&et.length>0&&jsxRuntimeExports.jsx("div",{className:styles$y.cardChart,children:ft()}),et&&et.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$y.cardDateRange,children:[jsxRuntimeExports.jsx("span",{children:(mt=et[0])==null?void 0:mt.name}),jsxRuntimeExports.jsx("span",{children:(xt=et[et.length-1])==null?void 0:xt.name})]})]})},dataTableContainer="_dataTableContainer_11ijw_3",tableTitleSection="_tableTitleSection_11ijw_17",tableTitle="_tableTitle_11ijw_17",viewAllLink="_viewAllLink_11ijw_32",dataTable="_dataTable_11ijw_3",tableHeader$6="_tableHeader_11ijw_83",tableRow$6="_tableRow_11ijw_91",headerCell$2="_headerCell_11ijw_97",tableBody$5="_tableBody_11ijw_131",clickable="_clickable_11ijw_163",tableCell$3="_tableCell_11ijw_171",emptyState$c="_emptyState_11ijw_443",emptyIcon$4="_emptyIcon_11ijw_470",loading$9="_loading_11ijw_529",skeletonText="_skeletonText_11ijw_529",styles$x={dataTableContainer,tableTitleSection,tableTitle,viewAllLink,dataTable,tableHeader:tableHeader$6,tableRow:tableRow$6,headerCell:headerCell$2,tableBody:tableBody$5,clickable,tableCell:tableCell$3,emptyState:emptyState$c,emptyIcon:emptyIcon$4,loading:loading$9,skeletonText};function DataTable({columns:i,data:o,keyExtractor:_,onRowClick:j,emptyState:_e,className:et="",loading:tt=!1,title:rt,viewAllLink:nt}){return tt?jsxRuntimeExports.jsxs("div",{className:`${styles$x.dataTableContainer} ${et}`,children:[(rt||nt)&&jsxRuntimeExports.jsxs("div",{className:styles$x.tableTitleSection,children:[rt&&jsxRuntimeExports.jsx("h2",{className:styles$x.tableTitle,children:rt}),nt&&jsxRuntimeExports.jsx("button",{className:styles$x.viewAllLink,onClick:nt.onClick,children:nt.label||"View All"})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$x.dataTable} ${styles$x.loading}`,children:[jsxRuntimeExports.jsx("div",{className:styles$x.tableHeader,children:jsxRuntimeExports.jsx("div",{className:styles$x.tableRow,children:i.map(st=>jsxRuntimeExports.jsx("div",{className:`${styles$x.tableCell} ${st.className||""}`,style:{width:st.width},children:jsxRuntimeExports.jsx("div",{className:styles$x.skeletonText,style:{width:"60%"}})},st.key))})}),jsxRuntimeExports.jsx("div",{className:styles$x.tableBody,children:[...Array(5)].map((st,it)=>jsxRuntimeExports.jsx("div",{className:styles$x.tableRow,children:i.map(at=>jsxRuntimeExports.jsx("div",{className:`${styles$x.tableCell} ${at.className||""}`,style:{width:at.width},children:jsxRuntimeExports.jsx("div",{className:styles$x.skeletonText})},at.key))},it))})]})]}):jsxRuntimeExports.jsxs("div",{className:`${styles$x.dataTableContainer} ${et}`,children:[(rt||nt)&&jsxRuntimeExports.jsxs("div",{className:styles$x.tableTitleSection,children:[rt&&jsxRuntimeExports.jsx("h2",{className:styles$x.tableTitle,children:rt}),nt&&jsxRuntimeExports.jsx("button",{className:styles$x.viewAllLink,onClick:nt.onClick,children:nt.label||"View All"})]}),jsxRuntimeExports.jsxs("div",{className:styles$x.dataTable,children:[jsxRuntimeExports.jsx("div",{className:styles$x.tableHeader,children:jsxRuntimeExports.jsx("div",{className:styles$x.tableRow,children:i.map(st=>jsxRuntimeExports.jsx("div",{className:`${styles$x.tableCell} ${styles$x.headerCell} ${st.className||""}`,style:{width:st.width},children:st.header},st.key))})}),jsxRuntimeExports.jsx("div",{className:styles$x.tableBody,children:o.length===0?jsxRuntimeExports.jsxs("div",{className:styles$x.emptyState,children:[(_e==null?void 0:_e.icon)&&jsxRuntimeExports.jsx("div",{className:styles$x.emptyIcon,children:_e.icon}),jsxRuntimeExports.jsx("h3",{children:(_e==null?void 0:_e.title)||"No data found"}),(_e==null?void 0:_e.description)&&jsxRuntimeExports.jsx("p",{children:_e.description})]}):o.map(st=>jsxRuntimeExports.jsx("div",{className:`${styles$x.tableRow} ${j?styles$x.clickable:""}`,onClick:()=>j==null?void 0:j(st),children:i.map(it=>jsxRuntimeExports.jsx("div",{className:`${styles$x.tableCell} ${it.className||""}`,style:{width:it.width},children:it.render?it.render(st):st[it.key]},it.key))},_(st)))})]})]})}const CompactAISummary=({companyId:i})=>{const[o,_]=reactExports.useState(null),[j,_e]=reactExports.useState(!1),[et,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState(0),[st,it]=reactExports.useState(!0),at=reactExports.useRef(null),ot=5,ct=5*60*1e3,ut=async()=>{if(!(rt>=ot)){_e(!0),tt(null);try{const lt=await apiClient.post("/analytics/ai-summary",{detailed:!1});_({content:lt.data.summary,timestamp:new Date(lt.data.generatedAt),refreshCount:rt+1}),nt(pt=>pt+1)}catch(lt){console.error("Error generating summary:",lt),tt("Failed to generate summary")}finally{_e(!1)}}};return reactExports.useEffect(()=>(ut(),at.current=setInterval(()=>{rt<ot&&st&&ut()},ct),()=>{at.current&&clearInterval(at.current)}),[i,st]),reactExports.useEffect(()=>{rt>=ot&&at.current&&(clearInterval(at.current),at.current=null)},[rt]),reactExports.useEffect(()=>{const lt=()=>{it(!document.hidden)};return document.addEventListener("visibilitychange",lt),()=>{document.removeEventListener("visibilitychange",lt)}},[]),jsxRuntimeExports.jsx("div",{className:"compact-ai-summary",children:jsxRuntimeExports.jsxs("div",{className:"ai-content",children:[j&&!o&&jsxRuntimeExports.jsx("span",{className:"ai-text ai-loading-text",children:"Loading..."}),et&&jsxRuntimeExports.jsx("span",{className:"ai-text ai-error-text",children:""}),o&&!j&&!et&&jsxRuntimeExports.jsx("span",{className:"ai-text",children:o.content}),!o&&!j&&!et&&jsxRuntimeExports.jsx("span",{className:"ai-text",children:""})]})})},DATE_RANGE_OPTIONS=[{value:"7_days",label:"Last 7 Days"},{value:"30_days",label:"Last 30 Days"},{value:"90_days",label:"Last 90 Days"},{value:"this_year",label:"This Year"},{value:"all_time",label:"All Time"}],DashboardContent=()=>{const[i,o]=reactExports.useState("30_days"),[_,j]=reactExports.useState({ordersCount:0,ordersRevenue:0,stockTotal:0,topAgent:{name:"N/A",orderCount:0,revenue:0},pendingOrders:0,newCustomers:0,lowStockItems:0,avgOrderValue:0,orderCountChartData:[],orderRevenueChartData:[],stockChartData:[],topAgentChartData:[]}),[_e,et]=reactExports.useState([]),[tt,rt]=reactExports.useState([]),[nt,st]=reactExports.useState([]),[it,at]=reactExports.useState(!0),[ot,ct]=reactExports.useState(!0),ut=useNavigate();reactExports.useEffect(()=>{lt()},[i]);const lt=async()=>{try{at(!0);const gt=await apiClient.get(`/analytics/dashboard?date_range=${i}`);j(gt.data),at(!1);const[yt,_t,Et]=await Promise.all([apiClient.get("/analytics/recent-orders?limit=5"),apiClient.get("/analytics/recent-products?limit=5"),apiClient.get("/analytics/recent-customers?limit=5")]);et(yt.data),rt(_t.data),st(Et.data)}catch(gt){console.error("Error loading dashboard:",gt)}finally{at(!1),ct(!1)}},pt=gt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(gt),dt=gt=>new Date(gt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),ht=gt=>({confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800",shipped:"bg-blue-100 text-blue-800",delivered:"bg-emerald-100 text-emerald-800",active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800"})[gt]||"bg-gray-100 text-gray-600",ft=[{key:"orderNumber",header:"Order #",width:"20%"},{key:"customer",header:"Customer",width:"30%"},{key:"date",header:"Date",width:"20%",render:gt=>dt(gt.date)},{key:"status",header:"Status",width:"15%",render:gt=>jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ht(gt.status)}`,children:gt.status})},{key:"total",header:"Total",width:"15%",render:gt=>pt(gt.total)}],mt=[{key:"sku",header:"SKU",width:"20%"},{key:"name",header:"Product",width:"35%"},{key:"brand",header:"Brand",width:"20%"},{key:"price",header:"Price",width:"15%",render:gt=>pt(gt.price)},{key:"stock",header:"Stock",width:"10%"}],xt=[{key:"companyName",header:"Company",width:"30%"},{key:"contactName",header:"Contact",width:"25%"},{key:"email",header:"Email",width:"25%"},{key:"status",header:"Status",width:"10%",render:gt=>jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ht(gt.status)}`,children:gt.status})},{key:"totalSpent",header:"Spent",width:"10%",render:gt=>pt(gt.totalSpent)}];return it?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-10",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#79d5e9]"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-white/70",children:"Loading dashboard..."})]}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-start justify-between gap-4",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-white",children:"Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar,{size:14,className:"text-white/40"}),jsxRuntimeExports.jsx("select",{value:i,onChange:gt=>o(gt.target.value),className:"bg-white/5 border border-white/10 rounded-md px-2 py-1 text-xs font-medium text-white/70 focus:outline-none focus:ring-1 focus:ring-[#79d5e9] focus:border-transparent cursor-pointer hover:bg-white/10 transition-colors",children:DATE_RANGE_OPTIONS.map(gt=>jsxRuntimeExports.jsx("option",{value:gt.value,children:gt.label},gt.value))})]})]}),jsxRuntimeExports.jsx(CompactAISummary,{companyId:"dm-brands"})]})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsx(MetricCard,{id:"orders-count",title:"Orders",value:_.ordersCount,subtitle:"Total orders",format:"number",displayMode:"medium",design:"variant1",icon:jsxRuntimeExports.jsx(ShoppingCart,{size:16}),color:"#79d5e9",cardIndex:0,chartData:_.orderCountChartData,onClick:()=>ut("/orders")}),jsxRuntimeExports.jsx(MetricCard,{id:"orders-revenue",title:"Revenue",value:_.ordersRevenue,subtitle:"Order value",format:"currency",displayMode:"medium",design:"variant2",icon:jsxRuntimeExports.jsx(PoundSterling,{size:16}),color:"#61bc8e",cardIndex:1,chartData:_.orderRevenueChartData,onClick:()=>ut("/orders")}),jsxRuntimeExports.jsx(MetricCard,{id:"stock-total",title:"Stock Total",value:_.stockTotal,subtitle:"Units in stock",format:"number",displayMode:"medium",design:"variant3",icon:jsxRuntimeExports.jsx(Boxes,{size:16}),color:"#f77d11",cardIndex:2,chartData:_.stockChartData,onClick:()=>ut("/inventory")}),jsxRuntimeExports.jsx(MetricCard,{id:"top-agent",title:"Top Agent",value:_.topAgent.name,subtitle:`${_.topAgent.orderCount} orders  ${pt(_.topAgent.revenue)}`,format:"number",displayMode:"medium",design:"variant1",icon:jsxRuntimeExports.jsx(Trophy,{size:16}),color:"#8b5cf6",cardIndex:3,chartData:_.topAgentChartData,onClick:()=>ut("/analytics")})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[jsxRuntimeExports.jsx(DataTable,{title:"Latest Orders",viewAllLink:{onClick:()=>ut("/orders")},columns:ft,data:_e,keyExtractor:gt=>String(gt.id),onRowClick:gt=>ut(`/orders/${gt.id}`),loading:ot,emptyState:{icon:jsxRuntimeExports.jsx(ShoppingCart,{size:32}),title:"No orders yet",description:"Orders will appear here once created"}}),jsxRuntimeExports.jsx(DataTable,{title:"New Customers",viewAllLink:{onClick:()=>ut("/customers")},columns:xt,data:nt,keyExtractor:gt=>String(gt.id),onRowClick:gt=>ut(`/customers/${gt.id}`),loading:ot,emptyState:{icon:jsxRuntimeExports.jsx(Users$1,{size:32}),title:"No customers yet",description:"Customers will appear here once added"}})]}),jsxRuntimeExports.jsx(DataTable,{className:"mb-6",title:"Recently Added Products",viewAllLink:{onClick:()=>ut("/inventory")},columns:mt,data:tt,keyExtractor:gt=>String(gt.id),onRowClick:gt=>ut(`/inventory/${gt.id}`),loading:ot,emptyState:{icon:jsxRuntimeExports.jsx(Package,{size:32}),title:"No products yet",description:"Products will appear here once added"}})]})},Dashboard=()=>jsxRuntimeExports.jsx(ColorProvider,{barChartColors:"multicolored",graphColors:{primary:"#79d5e9",secondary:"#4daeac",tertiary:"#f77d11"},children:jsxRuntimeExports.jsx(DashboardContent,{})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(i){return i+.5|0}const lim=(i,o,_)=>Math.max(Math.min(i,_),o);function p2b(i){return lim(round(i*2.55),0,255)}function n2b(i){return lim(round(i*255),0,255)}function b2n(i){return lim(round(i/2.55)/100,0,1)}function n2p(i){return lim(round(i*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=i=>hex[i&15],h2=i=>hex[(i&240)>>4]+hex[i&15],eq=i=>(i&240)>>4===(i&15),isShort=i=>eq(i.r)&&eq(i.g)&&eq(i.b)&&eq(i.a);function hexParse(i){var o=i.length,_;return i[0]==="#"&&(o===4||o===5?_={r:255&map$1[i[1]]*17,g:255&map$1[i[2]]*17,b:255&map$1[i[3]]*17,a:o===5?map$1[i[4]]*17:255}:(o===7||o===9)&&(_={r:map$1[i[1]]<<4|map$1[i[2]],g:map$1[i[3]]<<4|map$1[i[4]],b:map$1[i[5]]<<4|map$1[i[6]],a:o===9?map$1[i[7]]<<4|map$1[i[8]]:255})),_}const alpha=(i,o)=>i<255?o(i):"";function hexString(i){var o=isShort(i)?h1:h2;return i?"#"+o(i.r)+o(i.g)+o(i.b)+alpha(i.a,o):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(i,o,_){const j=o*Math.min(_,1-_),_e=(et,tt=(et+i/30)%12)=>_-j*Math.max(Math.min(tt-3,9-tt,1),-1);return[_e(0),_e(8),_e(4)]}function hsv2rgbn(i,o,_){const j=(_e,et=(_e+i/60)%6)=>_-_*o*Math.max(Math.min(et,4-et,1),0);return[j(5),j(3),j(1)]}function hwb2rgbn(i,o,_){const j=hsl2rgbn(i,1,.5);let _e;for(o+_>1&&(_e=1/(o+_),o*=_e,_*=_e),_e=0;_e<3;_e++)j[_e]*=1-o-_,j[_e]+=o;return j}function hueValue(i,o,_,j,_e){return i===_e?(o-_)/j+(o<_?6:0):o===_e?(_-i)/j+2:(i-o)/j+4}function rgb2hsl(i){const _=i.r/255,j=i.g/255,_e=i.b/255,et=Math.max(_,j,_e),tt=Math.min(_,j,_e),rt=(et+tt)/2;let nt,st,it;return et!==tt&&(it=et-tt,st=rt>.5?it/(2-et-tt):it/(et+tt),nt=hueValue(_,j,_e,it,et),nt=nt*60+.5),[nt|0,st||0,rt]}function calln(i,o,_,j){return(Array.isArray(o)?i(o[0],o[1],o[2]):i(o,_,j)).map(n2b)}function hsl2rgb(i,o,_){return calln(hsl2rgbn,i,o,_)}function hwb2rgb(i,o,_){return calln(hwb2rgbn,i,o,_)}function hsv2rgb(i,o,_){return calln(hsv2rgbn,i,o,_)}function hue(i){return(i%360+360)%360}function hueParse(i){const o=HUE_RE.exec(i);let _=255,j;if(!o)return;o[5]!==j&&(_=o[6]?p2b(+o[5]):n2b(+o[5]));const _e=hue(+o[2]),et=+o[3]/100,tt=+o[4]/100;return o[1]==="hwb"?j=hwb2rgb(_e,et,tt):o[1]==="hsv"?j=hsv2rgb(_e,et,tt):j=hsl2rgb(_e,et,tt),{r:j[0],g:j[1],b:j[2],a:_}}function rotate(i,o){var _=rgb2hsl(i);_[0]=hue(_[0]+o),_=hsl2rgb(_),i.r=_[0],i.g=_[1],i.b=_[2]}function hslString(i){if(!i)return;const o=rgb2hsl(i),_=o[0],j=n2p(o[1]),_e=n2p(o[2]);return i.a<255?`hsla(${_}, ${j}%, ${_e}%, ${b2n(i.a)})`:`hsl(${_}, ${j}%, ${_e}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const i={},o=Object.keys(names$1),_=Object.keys(map);let j,_e,et,tt,rt;for(j=0;j<o.length;j++){for(tt=rt=o[j],_e=0;_e<_.length;_e++)et=_[_e],rt=rt.replace(et,map[et]);et=parseInt(names$1[tt],16),i[rt]=[et>>16&255,et>>8&255,et&255]}return i}let names;function nameParse(i){names||(names=unpack(),names.transparent=[0,0,0,0]);const o=names[i.toLowerCase()];return o&&{r:o[0],g:o[1],b:o[2],a:o.length===4?o[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(i){const o=RGB_RE.exec(i);let _=255,j,_e,et;if(o){if(o[7]!==j){const tt=+o[7];_=o[8]?p2b(tt):lim(tt*255,0,255)}return j=+o[1],_e=+o[3],et=+o[5],j=255&(o[2]?p2b(j):lim(j,0,255)),_e=255&(o[4]?p2b(_e):lim(_e,0,255)),et=255&(o[6]?p2b(et):lim(et,0,255)),{r:j,g:_e,b:et,a:_}}}function rgbString(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${b2n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const to=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,from=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function interpolate$1(i,o,_){const j=from(b2n(i.r)),_e=from(b2n(i.g)),et=from(b2n(i.b));return{r:n2b(to(j+_*(from(b2n(o.r))-j))),g:n2b(to(_e+_*(from(b2n(o.g))-_e))),b:n2b(to(et+_*(from(b2n(o.b))-et))),a:i.a+_*(o.a-i.a)}}function modHSL(i,o,_){if(i){let j=rgb2hsl(i);j[o]=Math.max(0,Math.min(j[o]+j[o]*_,o===0?360:1)),j=hsl2rgb(j),i.r=j[0],i.g=j[1],i.b=j[2]}}function clone$1(i,o){return i&&Object.assign(o||{},i)}function fromObject(i){var o={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(o={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(o.a=n2b(i[3]))):(o=clone$1(i,{r:0,g:0,b:0,a:1}),o.a=n2b(o.a)),o}function functionParse(i){return i.charAt(0)==="r"?rgbParse(i):hueParse(i)}class Color{constructor(o){if(o instanceof Color)return o;const _=typeof o;let j;_==="object"?j=fromObject(o):_==="string"&&(j=hexParse(o)||nameParse(o)||functionParse(o)),this._rgb=j,this._valid=!!j}get valid(){return this._valid}get rgb(){var o=clone$1(this._rgb);return o&&(o.a=b2n(o.a)),o}set rgb(o){this._rgb=fromObject(o)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(o,_){if(o){const j=this.rgb,_e=o.rgb;let et;const tt=_===et?.5:_,rt=2*tt-1,nt=j.a-_e.a,st=((rt*nt===-1?rt:(rt+nt)/(1+rt*nt))+1)/2;et=1-st,j.r=255&st*j.r+et*_e.r+.5,j.g=255&st*j.g+et*_e.g+.5,j.b=255&st*j.b+et*_e.b+.5,j.a=tt*j.a+(1-tt)*_e.a,this.rgb=j}return this}interpolate(o,_){return o&&(this._rgb=interpolate$1(this._rgb,o._rgb,_)),this}clone(){return new Color(this.rgb)}alpha(o){return this._rgb.a=n2b(o),this}clearer(o){const _=this._rgb;return _.a*=1-o,this}greyscale(){const o=this._rgb,_=round(o.r*.3+o.g*.59+o.b*.11);return o.r=o.g=o.b=_,this}opaquer(o){const _=this._rgb;return _.a*=1+o,this}negate(){const o=this._rgb;return o.r=255-o.r,o.g=255-o.g,o.b=255-o.b,this}lighten(o){return modHSL(this._rgb,2,o),this}darken(o){return modHSL(this._rgb,2,-o),this}saturate(o){return modHSL(this._rgb,1,o),this}desaturate(o){return modHSL(this._rgb,1,-o),this}rotate(o){return rotate(this._rgb,o),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$1(){}const uid=(()=>{let i=0;return()=>i++})();function isNullOrUndef(i){return i==null}function isArray(i){if(Array.isArray&&Array.isArray(i))return!0;const o=Object.prototype.toString.call(i);return o.slice(0,7)==="[object"&&o.slice(-6)==="Array]"}function isObject(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function isNumberFinite(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function finiteOrDefault(i,o){return isNumberFinite(i)?i:o}function valueOrDefault(i,o){return typeof i>"u"?o:i}const toPercentage=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/o,toDimension=(i,o)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*o:+i;function callback(i,o,_){if(i&&typeof i.call=="function")return i.apply(_,o)}function each(i,o,_,j){let _e,et,tt;if(isArray(i))for(et=i.length,_e=0;_e<et;_e++)o.call(_,i[_e],_e);else if(isObject(i))for(tt=Object.keys(i),et=tt.length,_e=0;_e<et;_e++)o.call(_,i[tt[_e]],tt[_e])}function _elementsEqual(i,o){let _,j,_e,et;if(!i||!o||i.length!==o.length)return!1;for(_=0,j=i.length;_<j;++_)if(_e=i[_],et=o[_],_e.datasetIndex!==et.datasetIndex||_e.index!==et.index)return!1;return!0}function clone(i){if(isArray(i))return i.map(clone);if(isObject(i)){const o=Object.create(null),_=Object.keys(i),j=_.length;let _e=0;for(;_e<j;++_e)o[_[_e]]=clone(i[_[_e]]);return o}return i}function isValidKey(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function _merger(i,o,_,j){if(!isValidKey(i))return;const _e=o[i],et=_[i];isObject(_e)&&isObject(et)?merge(_e,et,j):o[i]=clone(et)}function merge(i,o,_){const j=isArray(o)?o:[o],_e=j.length;if(!isObject(i))return i;_=_||{};const et=_.merger||_merger;let tt;for(let rt=0;rt<_e;++rt){if(tt=j[rt],!isObject(tt))continue;const nt=Object.keys(tt);for(let st=0,it=nt.length;st<it;++st)et(nt[st],i,tt,_)}return i}function mergeIf(i,o){return merge(i,o,{merger:_mergerIf})}function _mergerIf(i,o,_){if(!isValidKey(i))return;const j=o[i],_e=_[i];isObject(j)&&isObject(_e)?mergeIf(j,_e):Object.prototype.hasOwnProperty.call(o,i)||(o[i]=clone(_e))}const keyResolvers={"":i=>i,x:i=>i.x,y:i=>i.y};function _splitKey(i){const o=i.split("."),_=[];let j="";for(const _e of o)j+=_e,j.endsWith("\\")?j=j.slice(0,-1)+".":(_.push(j),j="");return _}function _getKeyResolver(i){const o=_splitKey(i);return _=>{for(const j of o){if(j==="")break;_=_&&_[j]}return _}}function resolveObjectKey(i,o){return(keyResolvers[o]||(keyResolvers[o]=_getKeyResolver(o)))(i)}function _capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}const defined=i=>typeof i<"u",isFunction$1=i=>typeof i=="function",setsEqual=(i,o)=>{if(i.size!==o.size)return!1;for(const _ of i)if(!o.has(_))return!1;return!0};function _isClickEvent(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(i,o,_){return Math.abs(i-o)<_}function niceNum(i){const o=Math.round(i);i=almostEquals(i,o,i/1e3)?o:i;const _=Math.pow(10,Math.floor(log10(i))),j=i/_;return(j<=1?1:j<=2?2:j<=5?5:10)*_}function _factorize(i){const o=[],_=Math.sqrt(i);let j;for(j=1;j<_;j++)i%j===0&&(o.push(j),o.push(i/j));return _===(_|0)&&o.push(_),o.sort((_e,et)=>_e-et).pop(),o}function isNonPrimitive(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function isNumber(i){return!isNonPrimitive(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function almostWhole(i,o){const _=Math.round(i);return _-o<=i&&_+o>=i}function _setMinAndMaxByKey(i,o,_){let j,_e,et;for(j=0,_e=i.length;j<_e;j++)et=i[j][_],isNaN(et)||(o.min=Math.min(o.min,et),o.max=Math.max(o.max,et))}function toRadians(i){return i*(PI/180)}function toDegrees(i){return i*(180/PI)}function _decimalPlaces(i){if(!isNumberFinite(i))return;let o=1,_=0;for(;Math.round(i*o)/o!==i;)o*=10,_++;return _}function getAngleFromPoint(i,o){const _=o.x-i.x,j=o.y-i.y,_e=Math.sqrt(_*_+j*j);let et=Math.atan2(j,_);return et<-.5*PI&&(et+=TAU),{angle:et,distance:_e}}function distanceBetweenPoints(i,o){return Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))}function _angleDiff(i,o){return(i-o+PITAU)%TAU-PI}function _normalizeAngle(i){return(i%TAU+TAU)%TAU}function _angleBetween(i,o,_,j){const _e=_normalizeAngle(i),et=_normalizeAngle(o),tt=_normalizeAngle(_),rt=_normalizeAngle(et-_e),nt=_normalizeAngle(tt-_e),st=_normalizeAngle(_e-et),it=_normalizeAngle(_e-tt);return _e===et||_e===tt||j&&et===tt||rt>nt&&st<it}function _limitValue(i,o,_){return Math.max(o,Math.min(_,i))}function _int16Range(i){return _limitValue(i,-32768,32767)}function _isBetween(i,o,_,j=1e-6){return i>=Math.min(o,_)-j&&i<=Math.max(o,_)+j}function _lookup(i,o,_){_=_||(tt=>i[tt]<o);let j=i.length-1,_e=0,et;for(;j-_e>1;)et=_e+j>>1,_(et)?_e=et:j=et;return{lo:_e,hi:j}}const _lookupByKey=(i,o,_,j)=>_lookup(i,_,j?_e=>{const et=i[_e][o];return et<_||et===_&&i[_e+1][o]===_}:_e=>i[_e][o]<_),_rlookupByKey=(i,o,_)=>_lookup(i,_,j=>i[j][o]>=_);function _filterBetween(i,o,_){let j=0,_e=i.length;for(;j<_e&&i[j]<o;)j++;for(;_e>j&&i[_e-1]>_;)_e--;return j>0||_e<i.length?i.slice(j,_e):i}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(i,o){if(i._chartjs){i._chartjs.listeners.push(o);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),arrayEvents.forEach(_=>{const j="_onData"+_capitalize(_),_e=i[_];Object.defineProperty(i,_,{configurable:!0,enumerable:!1,value(...et){const tt=_e.apply(this,et);return i._chartjs.listeners.forEach(rt=>{typeof rt[j]=="function"&&rt[j](...et)}),tt}})})}function unlistenArrayEvents(i,o){const _=i._chartjs;if(!_)return;const j=_.listeners,_e=j.indexOf(o);_e!==-1&&j.splice(_e,1),!(j.length>0)&&(arrayEvents.forEach(et=>{delete i[et]}),delete i._chartjs)}function _arrayUnique(i){const o=new Set(i);return o.size===i.length?i:Array.from(o)}const requestAnimFrame=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function throttled(i,o){let _=[],j=!1;return function(..._e){_=_e,j||(j=!0,requestAnimFrame.call(window,()=>{j=!1,i.apply(o,_)}))}}function debounce(i,o){let _;return function(...j){return o?(clearTimeout(_),_=setTimeout(i,o,j)):i.apply(this,j),o}}const _toLeftRightCenter=i=>i==="start"?"left":i==="end"?"right":"center",_alignStartEnd=(i,o,_)=>i==="start"?o:i==="end"?_:(o+_)/2,_textX=(i,o,_,j)=>i===(j?"left":"right")?_:i==="center"?(o+_)/2:o;function _getStartAndCountOfVisiblePoints(i,o,_){const j=o.length;let _e=0,et=j;if(i._sorted){const{iScale:tt,vScale:rt,_parsed:nt}=i,st=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,it=tt.axis,{min:at,max:ot,minDefined:ct,maxDefined:ut}=tt.getUserBounds();if(ct){if(_e=Math.min(_lookupByKey(nt,it,at).lo,_?j:_lookupByKey(o,it,tt.getPixelForValue(at)).lo),st){const lt=nt.slice(0,_e+1).reverse().findIndex(pt=>!isNullOrUndef(pt[rt.axis]));_e-=Math.max(0,lt)}_e=_limitValue(_e,0,j-1)}if(ut){let lt=Math.max(_lookupByKey(nt,tt.axis,ot,!0).hi+1,_?0:_lookupByKey(o,it,tt.getPixelForValue(ot),!0).hi+1);if(st){const pt=nt.slice(lt-1).findIndex(dt=>!isNullOrUndef(dt[rt.axis]));lt+=Math.max(0,pt)}et=_limitValue(lt,_e,j)-_e}else et=j-_e}return{start:_e,count:et}}function _scaleRangesChanged(i){const{xScale:o,yScale:_,_scaleRanges:j}=i,_e={xmin:o.min,xmax:o.max,ymin:_.min,ymax:_.max};if(!j)return i._scaleRanges=_e,!0;const et=j.xmin!==o.min||j.xmax!==o.max||j.ymin!==_.min||j.ymax!==_.max;return Object.assign(j,_e),et}const atEdge=i=>i===0||i===1,elasticIn=(i,o,_)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-o)*TAU/_)),elasticOut=(i,o,_)=>Math.pow(2,-10*i)*Math.sin((i-o)*TAU/_)+1,effects={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*HALF_PI)+1,easeOutSine:i=>Math.sin(i*HALF_PI),easeInOutSine:i=>-.5*(Math.cos(PI*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>atEdge(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>atEdge(i)?i:elasticIn(i,.075,.3),easeOutElastic:i=>atEdge(i)?i:elasticOut(i,.075,.3),easeInOutElastic(i){return atEdge(i)?i:i<.5?.5*elasticIn(i*2,.1125,.45):.5+.5*elasticOut(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let o=1.70158;return(i/=.5)<1?.5*(i*i*(((o*=1.525)+1)*i-o)):.5*((i-=2)*i*(((o*=1.525)+1)*i+o)+2)},easeInBounce:i=>1-effects.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?effects.easeInBounce(i*2)*.5:effects.easeOutBounce(i*2-1)*.5+.5};function isPatternOrGradient(i){if(i&&typeof i=="object"){const o=i.toString();return o==="[object CanvasPattern]"||o==="[object CanvasGradient]"}return!1}function color(i){return isPatternOrGradient(i)?i:new Color(i)}function getHoverColor(i){return isPatternOrGradient(i)?i:new Color(i).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:o=>o!=="onProgress"&&o!=="onComplete"&&o!=="fn"}),i.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:o=>o|0}}}})}function applyLayoutsDefaults(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(i,o){o=o||{};const _=i+JSON.stringify(o);let j=intlCache.get(_);return j||(j=new Intl.NumberFormat(i,o),intlCache.set(_,j)),j}function formatNumber(i,o,_){return getNumberFormat(o,_).format(i)}const formatters={values(i){return isArray(i)?i:""+i},numeric(i,o,_){if(i===0)return"0";const j=this.chart.options.locale;let _e,et=i;if(_.length>1){const st=Math.max(Math.abs(_[0].value),Math.abs(_[_.length-1].value));(st<1e-4||st>1e15)&&(_e="scientific"),et=calculateDelta(i,_)}const tt=log10(Math.abs(et)),rt=isNaN(tt)?1:Math.max(Math.min(-1*Math.floor(tt),20),0),nt={notation:_e,minimumFractionDigits:rt,maximumFractionDigits:rt};return Object.assign(nt,this.options.ticks.format),formatNumber(i,j,nt)}};function calculateDelta(i,o){let _=o.length>3?o[2].value-o[1].value:o[1].value-o[0].value;return Math.abs(_)>=1&&i!==Math.floor(i)&&(_=i-Math.floor(i)),_}var Ticks={formatters};function applyScaleDefaults(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(o,_)=>_.lineWidth,tickColor:(o,_)=>_.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:o=>!o.startsWith("before")&&!o.startsWith("after")&&o!=="callback"&&o!=="parser",_indexable:o=>o!=="borderDash"&&o!=="tickBorderDash"&&o!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:o=>o!=="backdropPadding"&&o!=="callback",_indexable:o=>o!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(i,o){if(!o)return i;const _=o.split(".");for(let j=0,_e=_.length;j<_e;++j){const et=_[j];i=i[et]||(i[et]=Object.create(null))}return i}function set(i,o,_){return typeof o=="string"?merge(getScope$1(i,o),_):merge(getScope$1(i,""),o)}class Defaults{constructor(o,_){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=j=>j.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(j,_e)=>getHoverColor(_e.backgroundColor),this.hoverBorderColor=(j,_e)=>getHoverColor(_e.borderColor),this.hoverColor=(j,_e)=>getHoverColor(_e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(o),this.apply(_)}set(o,_){return set(this,o,_)}get(o){return getScope$1(this,o)}describe(o,_){return set(descriptors,o,_)}override(o,_){return set(overrides,o,_)}route(o,_,j,_e){const et=getScope$1(this,o),tt=getScope$1(this,j),rt="_"+_;Object.defineProperties(et,{[rt]:{value:et[_],writable:!0},[_]:{enumerable:!0,get(){const nt=this[rt],st=tt[_e];return isObject(nt)?Object.assign({},st,nt):valueOrDefault(nt,st)},set(nt){this[rt]=nt}}})}apply(o){o.forEach(_=>_(this))}}var defaults=new Defaults({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(i){return!i||isNullOrUndef(i.size)||isNullOrUndef(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function _measureText(i,o,_,j,_e){let et=o[_e];return et||(et=o[_e]=i.measureText(_e).width,_.push(_e)),et>j&&(j=et),j}function _alignPixel(i,o,_){const j=i.currentDevicePixelRatio,_e=_!==0?Math.max(_/2,.5):0;return Math.round((o-_e)*j)/j+_e}function clearCanvas(i,o){!o&&!i||(o=o||i.getContext("2d"),o.save(),o.resetTransform(),o.clearRect(0,0,i.width,i.height),o.restore())}function drawPoint(i,o,_,j){drawPointLegend(i,o,_,j,null)}function drawPointLegend(i,o,_,j,_e){let et,tt,rt,nt,st,it,at,ot;const ct=o.pointStyle,ut=o.rotation,lt=o.radius;let pt=(ut||0)*RAD_PER_DEG;if(ct&&typeof ct=="object"&&(et=ct.toString(),et==="[object HTMLImageElement]"||et==="[object HTMLCanvasElement]")){i.save(),i.translate(_,j),i.rotate(pt),i.drawImage(ct,-ct.width/2,-ct.height/2,ct.width,ct.height),i.restore();return}if(!(isNaN(lt)||lt<=0)){switch(i.beginPath(),ct){default:_e?i.ellipse(_,j,_e/2,lt,0,0,TAU):i.arc(_,j,lt,0,TAU),i.closePath();break;case"triangle":it=_e?_e/2:lt,i.moveTo(_+Math.sin(pt)*it,j-Math.cos(pt)*lt),pt+=TWO_THIRDS_PI,i.lineTo(_+Math.sin(pt)*it,j-Math.cos(pt)*lt),pt+=TWO_THIRDS_PI,i.lineTo(_+Math.sin(pt)*it,j-Math.cos(pt)*lt),i.closePath();break;case"rectRounded":st=lt*.516,nt=lt-st,tt=Math.cos(pt+QUARTER_PI)*nt,at=Math.cos(pt+QUARTER_PI)*(_e?_e/2-st:nt),rt=Math.sin(pt+QUARTER_PI)*nt,ot=Math.sin(pt+QUARTER_PI)*(_e?_e/2-st:nt),i.arc(_-at,j-rt,st,pt-PI,pt-HALF_PI),i.arc(_+ot,j-tt,st,pt-HALF_PI,pt),i.arc(_+at,j+rt,st,pt,pt+HALF_PI),i.arc(_-ot,j+tt,st,pt+HALF_PI,pt+PI),i.closePath();break;case"rect":if(!ut){nt=Math.SQRT1_2*lt,it=_e?_e/2:nt,i.rect(_-it,j-nt,2*it,2*nt);break}pt+=QUARTER_PI;case"rectRot":at=Math.cos(pt)*(_e?_e/2:lt),tt=Math.cos(pt)*lt,rt=Math.sin(pt)*lt,ot=Math.sin(pt)*(_e?_e/2:lt),i.moveTo(_-at,j-rt),i.lineTo(_+ot,j-tt),i.lineTo(_+at,j+rt),i.lineTo(_-ot,j+tt),i.closePath();break;case"crossRot":pt+=QUARTER_PI;case"cross":at=Math.cos(pt)*(_e?_e/2:lt),tt=Math.cos(pt)*lt,rt=Math.sin(pt)*lt,ot=Math.sin(pt)*(_e?_e/2:lt),i.moveTo(_-at,j-rt),i.lineTo(_+at,j+rt),i.moveTo(_+ot,j-tt),i.lineTo(_-ot,j+tt);break;case"star":at=Math.cos(pt)*(_e?_e/2:lt),tt=Math.cos(pt)*lt,rt=Math.sin(pt)*lt,ot=Math.sin(pt)*(_e?_e/2:lt),i.moveTo(_-at,j-rt),i.lineTo(_+at,j+rt),i.moveTo(_+ot,j-tt),i.lineTo(_-ot,j+tt),pt+=QUARTER_PI,at=Math.cos(pt)*(_e?_e/2:lt),tt=Math.cos(pt)*lt,rt=Math.sin(pt)*lt,ot=Math.sin(pt)*(_e?_e/2:lt),i.moveTo(_-at,j-rt),i.lineTo(_+at,j+rt),i.moveTo(_+ot,j-tt),i.lineTo(_-ot,j+tt);break;case"line":tt=_e?_e/2:Math.cos(pt)*lt,rt=Math.sin(pt)*lt,i.moveTo(_-tt,j-rt),i.lineTo(_+tt,j+rt);break;case"dash":i.moveTo(_,j),i.lineTo(_+Math.cos(pt)*(_e?_e/2:lt),j+Math.sin(pt)*lt);break;case!1:i.closePath();break}i.fill(),o.borderWidth>0&&i.stroke()}}function _isPointInArea(i,o,_){return _=_||.5,!o||i&&i.x>o.left-_&&i.x<o.right+_&&i.y>o.top-_&&i.y<o.bottom+_}function clipArea(i,o){i.save(),i.beginPath(),i.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),i.clip()}function unclipArea(i){i.restore()}function _steppedLineTo(i,o,_,j,_e){if(!o)return i.lineTo(_.x,_.y);if(_e==="middle"){const et=(o.x+_.x)/2;i.lineTo(et,o.y),i.lineTo(et,_.y)}else _e==="after"!=!!j?i.lineTo(o.x,_.y):i.lineTo(_.x,o.y);i.lineTo(_.x,_.y)}function _bezierCurveTo(i,o,_,j){if(!o)return i.lineTo(_.x,_.y);i.bezierCurveTo(j?o.cp1x:o.cp2x,j?o.cp1y:o.cp2y,j?_.cp2x:_.cp1x,j?_.cp2y:_.cp1y,_.x,_.y)}function setRenderOpts(i,o){o.translation&&i.translate(o.translation[0],o.translation[1]),isNullOrUndef(o.rotation)||i.rotate(o.rotation),o.color&&(i.fillStyle=o.color),o.textAlign&&(i.textAlign=o.textAlign),o.textBaseline&&(i.textBaseline=o.textBaseline)}function decorateText(i,o,_,j,_e){if(_e.strikethrough||_e.underline){const et=i.measureText(j),tt=o-et.actualBoundingBoxLeft,rt=o+et.actualBoundingBoxRight,nt=_-et.actualBoundingBoxAscent,st=_+et.actualBoundingBoxDescent,it=_e.strikethrough?(nt+st)/2:st;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=_e.decorationWidth||2,i.moveTo(tt,it),i.lineTo(rt,it),i.stroke()}}function drawBackdrop(i,o){const _=i.fillStyle;i.fillStyle=o.color,i.fillRect(o.left,o.top,o.width,o.height),i.fillStyle=_}function renderText(i,o,_,j,_e,et={}){const tt=isArray(o)?o:[o],rt=et.strokeWidth>0&&et.strokeColor!=="";let nt,st;for(i.save(),i.font=_e.string,setRenderOpts(i,et),nt=0;nt<tt.length;++nt)st=tt[nt],et.backdrop&&drawBackdrop(i,et.backdrop),rt&&(et.strokeColor&&(i.strokeStyle=et.strokeColor),isNullOrUndef(et.strokeWidth)||(i.lineWidth=et.strokeWidth),i.strokeText(st,_,j,et.maxWidth)),i.fillText(st,_,j,et.maxWidth),decorateText(i,_,j,st,et),j+=Number(_e.lineHeight);i.restore()}function addRoundedRectPath(i,o){const{x:_,y:j,w:_e,h:et,radius:tt}=o;i.arc(_+tt.topLeft,j+tt.topLeft,tt.topLeft,1.5*PI,PI,!0),i.lineTo(_,j+et-tt.bottomLeft),i.arc(_+tt.bottomLeft,j+et-tt.bottomLeft,tt.bottomLeft,PI,HALF_PI,!0),i.lineTo(_+_e-tt.bottomRight,j+et),i.arc(_+_e-tt.bottomRight,j+et-tt.bottomRight,tt.bottomRight,HALF_PI,0,!0),i.lineTo(_+_e,j+tt.topRight),i.arc(_+_e-tt.topRight,j+tt.topRight,tt.topRight,0,-HALF_PI,!0),i.lineTo(_+tt.topLeft,j)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(i,o){const _=(""+i).match(LINE_HEIGHT);if(!_||_[1]==="normal")return o*1.2;switch(i=+_[2],_[3]){case"px":return i;case"%":i/=100;break}return o*i}const numberOrZero=i=>+i||0;function _readValueToProps(i,o){const _={},j=isObject(o),_e=j?Object.keys(o):o,et=isObject(i)?j?tt=>valueOrDefault(i[tt],i[o[tt]]):tt=>i[tt]:()=>i;for(const tt of _e)_[tt]=numberOrZero(et(tt));return _}function toTRBL(i){return _readValueToProps(i,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(i){return _readValueToProps(i,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(i){const o=toTRBL(i);return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function toFont(i,o){i=i||{},o=o||defaults.font;let _=valueOrDefault(i.size,o.size);typeof _=="string"&&(_=parseInt(_,10));let j=valueOrDefault(i.style,o.style);j&&!(""+j).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+j+'"'),j=void 0);const _e={family:valueOrDefault(i.family,o.family),lineHeight:toLineHeight(valueOrDefault(i.lineHeight,o.lineHeight),_),size:_,style:j,weight:valueOrDefault(i.weight,o.weight),string:""};return _e.string=toFontString(_e),_e}function resolve(i,o,_,j){let _e,et,tt;for(_e=0,et=i.length;_e<et;++_e)if(tt=i[_e],tt!==void 0&&tt!==void 0)return tt}function _addGrace(i,o,_){const{min:j,max:_e}=i,et=toDimension(o,(_e-j)/2),tt=(rt,nt)=>_&&rt===0?0:rt+nt;return{min:tt(j,-Math.abs(et)),max:tt(_e,et)}}function createContext(i,o){return Object.assign(Object.create(i),o)}function _createResolver(i,o=[""],_,j,_e=()=>i[0]){const et=_||i;typeof j>"u"&&(j=_resolve("_fallback",i));const tt={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:et,_fallback:j,_getTarget:_e,override:rt=>_createResolver([rt,...i],o,et,j)};return new Proxy(tt,{deleteProperty(rt,nt){return delete rt[nt],delete rt._keys,delete i[0][nt],!0},get(rt,nt){return _cached(rt,nt,()=>_resolveWithPrefixes(nt,o,i,rt))},getOwnPropertyDescriptor(rt,nt){return Reflect.getOwnPropertyDescriptor(rt._scopes[0],nt)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(rt,nt){return getKeysFromAllScopes(rt).includes(nt)},ownKeys(rt){return getKeysFromAllScopes(rt)},set(rt,nt,st){const it=rt._storage||(rt._storage=_e());return rt[nt]=it[nt]=st,delete rt._keys,!0}})}function _attachContext(i,o,_,j){const _e={_cacheable:!1,_proxy:i,_context:o,_subProxy:_,_stack:new Set,_descriptors:_descriptors(i,j),setContext:et=>_attachContext(i,et,_,j),override:et=>_attachContext(i.override(et),o,_,j)};return new Proxy(_e,{deleteProperty(et,tt){return delete et[tt],delete i[tt],!0},get(et,tt,rt){return _cached(et,tt,()=>_resolveWithContext(et,tt,rt))},getOwnPropertyDescriptor(et,tt){return et._descriptors.allKeys?Reflect.has(i,tt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,tt)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(et,tt){return Reflect.has(i,tt)},ownKeys(){return Reflect.ownKeys(i)},set(et,tt,rt){return i[tt]=rt,delete et[tt],!0}})}function _descriptors(i,o={scriptable:!0,indexable:!0}){const{_scriptable:_=o.scriptable,_indexable:j=o.indexable,_allKeys:_e=o.allKeys}=i;return{allKeys:_e,scriptable:_,indexable:j,isScriptable:isFunction$1(_)?_:()=>_,isIndexable:isFunction$1(j)?j:()=>j}}const readKey=(i,o)=>i?i+_capitalize(o):o,needsSubResolver=(i,o)=>isObject(o)&&i!=="adapters"&&(Object.getPrototypeOf(o)===null||o.constructor===Object);function _cached(i,o,_){if(Object.prototype.hasOwnProperty.call(i,o)||o==="constructor")return i[o];const j=_();return i[o]=j,j}function _resolveWithContext(i,o,_){const{_proxy:j,_context:_e,_subProxy:et,_descriptors:tt}=i;let rt=j[o];return isFunction$1(rt)&&tt.isScriptable(o)&&(rt=_resolveScriptable(o,rt,i,_)),isArray(rt)&&rt.length&&(rt=_resolveArray(o,rt,i,tt.isIndexable)),needsSubResolver(o,rt)&&(rt=_attachContext(rt,_e,et&&et[o],tt)),rt}function _resolveScriptable(i,o,_,j){const{_proxy:_e,_context:et,_subProxy:tt,_stack:rt}=_;if(rt.has(i))throw new Error("Recursion detected: "+Array.from(rt).join("->")+"->"+i);rt.add(i);let nt=o(et,tt||j);return rt.delete(i),needsSubResolver(i,nt)&&(nt=createSubResolver(_e._scopes,_e,i,nt)),nt}function _resolveArray(i,o,_,j){const{_proxy:_e,_context:et,_subProxy:tt,_descriptors:rt}=_;if(typeof et.index<"u"&&j(i))return o[et.index%o.length];if(isObject(o[0])){const nt=o,st=_e._scopes.filter(it=>it!==nt);o=[];for(const it of nt){const at=createSubResolver(st,_e,i,it);o.push(_attachContext(at,et,tt&&tt[i],rt))}}return o}function resolveFallback(i,o,_){return isFunction$1(i)?i(o,_):i}const getScope=(i,o)=>i===!0?o:typeof i=="string"?resolveObjectKey(o,i):void 0;function addScopes(i,o,_,j,_e){for(const et of o){const tt=getScope(_,et);if(tt){i.add(tt);const rt=resolveFallback(tt._fallback,_,_e);if(typeof rt<"u"&&rt!==_&&rt!==j)return rt}else if(tt===!1&&typeof j<"u"&&_!==j)return null}return!1}function createSubResolver(i,o,_,j){const _e=o._rootScopes,et=resolveFallback(o._fallback,_,j),tt=[...i,..._e],rt=new Set;rt.add(j);let nt=addScopesFromKey(rt,tt,_,et||_,j);return nt===null||typeof et<"u"&&et!==_&&(nt=addScopesFromKey(rt,tt,et,nt,j),nt===null)?!1:_createResolver(Array.from(rt),[""],_e,et,()=>subGetTarget(o,_,j))}function addScopesFromKey(i,o,_,j,_e){for(;_;)_=addScopes(i,o,_,j,_e);return _}function subGetTarget(i,o,_){const j=i._getTarget();o in j||(j[o]={});const _e=j[o];return isArray(_e)&&isObject(_)?_:_e||{}}function _resolveWithPrefixes(i,o,_,j){let _e;for(const et of o)if(_e=_resolve(readKey(et,i),_),typeof _e<"u")return needsSubResolver(i,_e)?createSubResolver(_,j,i,_e):_e}function _resolve(i,o){for(const _ of o){if(!_)continue;const j=_[i];if(typeof j<"u")return j}}function getKeysFromAllScopes(i){let o=i._keys;return o||(o=i._keys=resolveKeysFromAllScopes(i._scopes)),o}function resolveKeysFromAllScopes(i){const o=new Set;for(const _ of i)for(const j of Object.keys(_).filter(_e=>!_e.startsWith("_")))o.add(j);return Array.from(o)}const EPSILON=Number.EPSILON||1e-14,getPoint=(i,o)=>o<i.length&&!i[o].skip&&i[o],getValueAxis=i=>i==="x"?"y":"x";function splineCurve(i,o,_,j){const _e=i.skip?o:i,et=o,tt=_.skip?o:_,rt=distanceBetweenPoints(et,_e),nt=distanceBetweenPoints(tt,et);let st=rt/(rt+nt),it=nt/(rt+nt);st=isNaN(st)?0:st,it=isNaN(it)?0:it;const at=j*st,ot=j*it;return{previous:{x:et.x-at*(tt.x-_e.x),y:et.y-at*(tt.y-_e.y)},next:{x:et.x+ot*(tt.x-_e.x),y:et.y+ot*(tt.y-_e.y)}}}function monotoneAdjust(i,o,_){const j=i.length;let _e,et,tt,rt,nt,st=getPoint(i,0);for(let it=0;it<j-1;++it)if(nt=st,st=getPoint(i,it+1),!(!nt||!st)){if(almostEquals(o[it],0,EPSILON)){_[it]=_[it+1]=0;continue}_e=_[it]/o[it],et=_[it+1]/o[it],rt=Math.pow(_e,2)+Math.pow(et,2),!(rt<=9)&&(tt=3/Math.sqrt(rt),_[it]=_e*tt*o[it],_[it+1]=et*tt*o[it])}}function monotoneCompute(i,o,_="x"){const j=getValueAxis(_),_e=i.length;let et,tt,rt,nt=getPoint(i,0);for(let st=0;st<_e;++st){if(tt=rt,rt=nt,nt=getPoint(i,st+1),!rt)continue;const it=rt[_],at=rt[j];tt&&(et=(it-tt[_])/3,rt[`cp1${_}`]=it-et,rt[`cp1${j}`]=at-et*o[st]),nt&&(et=(nt[_]-it)/3,rt[`cp2${_}`]=it+et,rt[`cp2${j}`]=at+et*o[st])}}function splineCurveMonotone(i,o="x"){const _=getValueAxis(o),j=i.length,_e=Array(j).fill(0),et=Array(j);let tt,rt,nt,st=getPoint(i,0);for(tt=0;tt<j;++tt)if(rt=nt,nt=st,st=getPoint(i,tt+1),!!nt){if(st){const it=st[o]-nt[o];_e[tt]=it!==0?(st[_]-nt[_])/it:0}et[tt]=rt?st?sign(_e[tt-1])!==sign(_e[tt])?0:(_e[tt-1]+_e[tt])/2:_e[tt-1]:_e[tt]}monotoneAdjust(i,_e,et),monotoneCompute(i,et,o)}function capControlPoint(i,o,_){return Math.max(Math.min(i,_),o)}function capBezierPoints(i,o){let _,j,_e,et,tt,rt=_isPointInArea(i[0],o);for(_=0,j=i.length;_<j;++_)tt=et,et=rt,rt=_<j-1&&_isPointInArea(i[_+1],o),et&&(_e=i[_],tt&&(_e.cp1x=capControlPoint(_e.cp1x,o.left,o.right),_e.cp1y=capControlPoint(_e.cp1y,o.top,o.bottom)),rt&&(_e.cp2x=capControlPoint(_e.cp2x,o.left,o.right),_e.cp2y=capControlPoint(_e.cp2y,o.top,o.bottom)))}function _updateBezierControlPoints(i,o,_,j,_e){let et,tt,rt,nt;if(o.spanGaps&&(i=i.filter(st=>!st.skip)),o.cubicInterpolationMode==="monotone")splineCurveMonotone(i,_e);else{let st=j?i[i.length-1]:i[0];for(et=0,tt=i.length;et<tt;++et)rt=i[et],nt=splineCurve(st,rt,i[Math.min(et+1,tt-(j?0:1))%tt],o.tension),rt.cp1x=nt.previous.x,rt.cp1y=nt.previous.y,rt.cp2x=nt.next.x,rt.cp2y=nt.next.y,st=rt}o.capBezierPoints&&capBezierPoints(i,_)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(i){let o=i.parentNode;return o&&o.toString()==="[object ShadowRoot]"&&(o=o.host),o}function parseMaxStyle(i,o,_){let j;return typeof i=="string"?(j=parseInt(i,10),i.indexOf("%")!==-1&&(j=j/100*o.parentNode[_])):j=i,j}const getComputedStyle$1=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function getStyle(i,o){return getComputedStyle$1(i).getPropertyValue(o)}const positions=["top","right","bottom","left"];function getPositionedStyle(i,o,_){const j={};_=_?"-"+_:"";for(let _e=0;_e<4;_e++){const et=positions[_e];j[et]=parseFloat(i[o+"-"+et+_])||0}return j.width=j.left+j.right,j.height=j.top+j.bottom,j}const useOffsetPos=(i,o,_)=>(i>0||o>0)&&(!_||!_.shadowRoot);function getCanvasPosition(i,o){const _=i.touches,j=_&&_.length?_[0]:i,{offsetX:_e,offsetY:et}=j;let tt=!1,rt,nt;if(useOffsetPos(_e,et,i.target))rt=_e,nt=et;else{const st=o.getBoundingClientRect();rt=j.clientX-st.left,nt=j.clientY-st.top,tt=!0}return{x:rt,y:nt,box:tt}}function getRelativePosition(i,o){if("native"in i)return i;const{canvas:_,currentDevicePixelRatio:j}=o,_e=getComputedStyle$1(_),et=_e.boxSizing==="border-box",tt=getPositionedStyle(_e,"padding"),rt=getPositionedStyle(_e,"border","width"),{x:nt,y:st,box:it}=getCanvasPosition(i,_),at=tt.left+(it&&rt.left),ot=tt.top+(it&&rt.top);let{width:ct,height:ut}=o;return et&&(ct-=tt.width+rt.width,ut-=tt.height+rt.height),{x:Math.round((nt-at)/ct*_.width/j),y:Math.round((st-ot)/ut*_.height/j)}}function getContainerSize(i,o,_){let j,_e;if(o===void 0||_===void 0){const et=i&&_getParentNode(i);if(!et)o=i.clientWidth,_=i.clientHeight;else{const tt=et.getBoundingClientRect(),rt=getComputedStyle$1(et),nt=getPositionedStyle(rt,"border","width"),st=getPositionedStyle(rt,"padding");o=tt.width-st.width-nt.width,_=tt.height-st.height-nt.height,j=parseMaxStyle(rt.maxWidth,et,"clientWidth"),_e=parseMaxStyle(rt.maxHeight,et,"clientHeight")}}return{width:o,height:_,maxWidth:j||INFINITY,maxHeight:_e||INFINITY}}const round1=i=>Math.round(i*10)/10;function getMaximumSize(i,o,_,j){const _e=getComputedStyle$1(i),et=getPositionedStyle(_e,"margin"),tt=parseMaxStyle(_e.maxWidth,i,"clientWidth")||INFINITY,rt=parseMaxStyle(_e.maxHeight,i,"clientHeight")||INFINITY,nt=getContainerSize(i,o,_);let{width:st,height:it}=nt;if(_e.boxSizing==="content-box"){const ot=getPositionedStyle(_e,"border","width"),ct=getPositionedStyle(_e,"padding");st-=ct.width+ot.width,it-=ct.height+ot.height}return st=Math.max(0,st-et.width),it=Math.max(0,j?st/j:it-et.height),st=round1(Math.min(st,tt,nt.maxWidth)),it=round1(Math.min(it,rt,nt.maxHeight)),st&&!it&&(it=round1(st/2)),(o!==void 0||_!==void 0)&&j&&nt.height&&it>nt.height&&(it=nt.height,st=round1(Math.floor(it*j))),{width:st,height:it}}function retinaScale(i,o,_){const j=o||1,_e=round1(i.height*j),et=round1(i.width*j);i.height=round1(i.height),i.width=round1(i.width);const tt=i.canvas;return tt.style&&(_||!tt.style.height&&!tt.style.width)&&(tt.style.height=`${i.height}px`,tt.style.width=`${i.width}px`),i.currentDevicePixelRatio!==j||tt.height!==_e||tt.width!==et?(i.currentDevicePixelRatio=j,tt.height=_e,tt.width=et,i.ctx.setTransform(j,0,0,j,0,0),!0):!1}const supportsEventListenerOptions=function(){let i=!1;try{const o={get passive(){return i=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,o),window.removeEventListener("test",null,o))}catch{}return i}();function readUsedSize(i,o){const _=getStyle(i,o),j=_&&_.match(/^(\d+)(\.\d+)?px$/);return j?+j[1]:void 0}function _pointInLine(i,o,_,j){return{x:i.x+_*(o.x-i.x),y:i.y+_*(o.y-i.y)}}function _steppedInterpolation(i,o,_,j){return{x:i.x+_*(o.x-i.x),y:j==="middle"?_<.5?i.y:o.y:j==="after"?_<1?i.y:o.y:_>0?o.y:i.y}}function _bezierInterpolation(i,o,_,j){const _e={x:i.cp2x,y:i.cp2y},et={x:o.cp1x,y:o.cp1y},tt=_pointInLine(i,_e,_),rt=_pointInLine(_e,et,_),nt=_pointInLine(et,o,_),st=_pointInLine(tt,rt,_),it=_pointInLine(rt,nt,_);return _pointInLine(st,it,_)}const getRightToLeftAdapter=function(i,o){return{x(_){return i+i+o-_},setWidth(_){o=_},textAlign(_){return _==="center"?_:_==="right"?"left":"right"},xPlus(_,j){return _-j},leftForLtr(_,j){return _-j}}},getLeftToRightAdapter=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,o){return i+o},leftForLtr(i,o){return i}}};function getRtlAdapter(i,o,_){return i?getRightToLeftAdapter(o,_):getLeftToRightAdapter()}function overrideTextDirection(i,o){let _,j;(o==="ltr"||o==="rtl")&&(_=i.canvas.style,j=[_.getPropertyValue("direction"),_.getPropertyPriority("direction")],_.setProperty("direction",o,"important"),i.prevTextDirection=j)}function restoreTextDirection(i,o){o!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",o[0],o[1]))}function propertyFn(i){return i==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(o,_)=>o-_,normalize:o=>o}}function normalizeSegment({start:i,end:o,count:_,loop:j,style:_e}){return{start:i%_,end:o%_,loop:j&&(o-i+1)%_===0,style:_e}}function getSegment(i,o,_){const{property:j,start:_e,end:et}=_,{between:tt,normalize:rt}=propertyFn(j),nt=o.length;let{start:st,end:it,loop:at}=i,ot,ct;if(at){for(st+=nt,it+=nt,ot=0,ct=nt;ot<ct&&tt(rt(o[st%nt][j]),_e,et);++ot)st--,it--;st%=nt,it%=nt}return it<st&&(it+=nt),{start:st,end:it,loop:at,style:i.style}}function _boundSegment(i,o,_){if(!_)return[i];const{property:j,start:_e,end:et}=_,tt=o.length,{compare:rt,between:nt,normalize:st}=propertyFn(j),{start:it,end:at,loop:ot,style:ct}=getSegment(i,o,_),ut=[];let lt=!1,pt=null,dt,ht,ft;const mt=()=>nt(_e,ft,dt)&&rt(_e,ft)!==0,xt=()=>rt(et,dt)===0||nt(et,ft,dt),gt=()=>lt||mt(),yt=()=>!lt||xt();for(let _t=it,Et=it;_t<=at;++_t)ht=o[_t%tt],!ht.skip&&(dt=st(ht[j]),dt!==ft&&(lt=nt(dt,_e,et),pt===null&&gt()&&(pt=rt(dt,_e)===0?_t:Et),pt!==null&&yt()&&(ut.push(normalizeSegment({start:pt,end:_t,loop:ot,count:tt,style:ct})),pt=null),Et=_t,ft=dt));return pt!==null&&ut.push(normalizeSegment({start:pt,end:at,loop:ot,count:tt,style:ct})),ut}function _boundSegments(i,o){const _=[],j=i.segments;for(let _e=0;_e<j.length;_e++){const et=_boundSegment(j[_e],i.points,o);et.length&&_.push(...et)}return _}function findStartAndEnd(i,o,_,j){let _e=0,et=o-1;if(_&&!j)for(;_e<o&&!i[_e].skip;)_e++;for(;_e<o&&i[_e].skip;)_e++;for(_e%=o,_&&(et+=_e);et>_e&&i[et%o].skip;)et--;return et%=o,{start:_e,end:et}}function solidSegments(i,o,_,j){const _e=i.length,et=[];let tt=o,rt=i[o],nt;for(nt=o+1;nt<=_;++nt){const st=i[nt%_e];st.skip||st.stop?rt.skip||(j=!1,et.push({start:o%_e,end:(nt-1)%_e,loop:j}),o=tt=st.stop?nt:null):(tt=nt,rt.skip&&(o=nt)),rt=st}return tt!==null&&et.push({start:o%_e,end:tt%_e,loop:j}),et}function _computeSegments(i,o){const _=i.points,j=i.options.spanGaps,_e=_.length;if(!_e)return[];const et=!!i._loop,{start:tt,end:rt}=findStartAndEnd(_,_e,et,j);if(j===!0)return splitByStyles(i,[{start:tt,end:rt,loop:et}],_,o);const nt=rt<tt?rt+_e:rt,st=!!i._fullLoop&&tt===0&&rt===_e-1;return splitByStyles(i,solidSegments(_,tt,nt,st),_,o)}function splitByStyles(i,o,_,j){return!j||!j.setContext||!_?o:doSplitByStyles(i,o,_,j)}function doSplitByStyles(i,o,_,j){const _e=i._chart.getContext(),et=readStyle(i.options),{_datasetIndex:tt,options:{spanGaps:rt}}=i,nt=_.length,st=[];let it=et,at=o[0].start,ot=at;function ct(ut,lt,pt,dt){const ht=rt?-1:1;if(ut!==lt){for(ut+=nt;_[ut%nt].skip;)ut-=ht;for(;_[lt%nt].skip;)lt+=ht;ut%nt!==lt%nt&&(st.push({start:ut%nt,end:lt%nt,loop:pt,style:dt}),it=dt,at=lt%nt)}}for(const ut of o){at=rt?at:ut.start;let lt=_[at%nt],pt;for(ot=at+1;ot<=ut.end;ot++){const dt=_[ot%nt];pt=readStyle(j.setContext(createContext(_e,{type:"segment",p0:lt,p1:dt,p0DataIndex:(ot-1)%nt,p1DataIndex:ot%nt,datasetIndex:tt}))),styleChanged(pt,it)&&ct(at,ot-1,ut.loop,it),lt=dt,it=pt}at<ot-1&&ct(at,ot-1,ut.loop,it)}return st}function readStyle(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function styleChanged(i,o){if(!o)return!1;const _=[],j=function(_e,et){return isPatternOrGradient(et)?(_.includes(et)||_.push(et),_.indexOf(et)):et};return JSON.stringify(i,j)!==JSON.stringify(o,j)}function getSizeForArea(i,o,_){return i.options.clip?i[_]:o[_]}function getDatasetArea(i,o){const{xScale:_,yScale:j}=i;return _&&j?{left:getSizeForArea(_,o,"left"),right:getSizeForArea(_,o,"right"),top:getSizeForArea(j,o,"top"),bottom:getSizeForArea(j,o,"bottom")}:o}function getDatasetClipArea(i,o){const _=o._clip;if(_.disabled)return!1;const j=getDatasetArea(o,i.chartArea);return{left:_.left===!1?0:j.left-(_.left===!0?0:_.left),right:_.right===!1?i.width:j.right+(_.right===!0?0:_.right),top:_.top===!1?0:j.top-(_.top===!0?0:_.top),bottom:_.bottom===!1?i.height:j.bottom+(_.bottom===!0?0:_.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(o,_,j,_e){const et=_.listeners[_e],tt=_.duration;et.forEach(rt=>rt({chart:o,initial:_.initial,numSteps:tt,currentStep:Math.min(j-_.start,tt)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(o=Date.now()){let _=0;this._charts.forEach((j,_e)=>{if(!j.running||!j.items.length)return;const et=j.items;let tt=et.length-1,rt=!1,nt;for(;tt>=0;--tt)nt=et[tt],nt._active?(nt._total>j.duration&&(j.duration=nt._total),nt.tick(o),rt=!0):(et[tt]=et[et.length-1],et.pop());rt&&(_e.draw(),this._notify(_e,j,o,"progress")),et.length||(j.running=!1,this._notify(_e,j,o,"complete"),j.initial=!1),_+=et.length}),this._lastDate=o,_===0&&(this._running=!1)}_getAnims(o){const _=this._charts;let j=_.get(o);return j||(j={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},_.set(o,j)),j}listen(o,_,j){this._getAnims(o).listeners[_].push(j)}add(o,_){!_||!_.length||this._getAnims(o).items.push(..._)}has(o){return this._getAnims(o).items.length>0}start(o){const _=this._charts.get(o);_&&(_.running=!0,_.start=Date.now(),_.duration=_.items.reduce((j,_e)=>Math.max(j,_e._duration),0),this._refresh())}running(o){if(!this._running)return!1;const _=this._charts.get(o);return!(!_||!_.running||!_.items.length)}stop(o){const _=this._charts.get(o);if(!_||!_.items.length)return;const j=_.items;let _e=j.length-1;for(;_e>=0;--_e)j[_e].cancel();_.items=[],this._notify(o,_,Date.now(),"complete")}remove(o){return this._charts.delete(o)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(i,o,_){return _>.5?o:i},color(i,o,_){const j=color(i||transparent),_e=j.valid&&color(o||transparent);return _e&&_e.valid?_e.mix(j,_).hexString():o},number(i,o,_){return i+(o-i)*_}};class Animation{constructor(o,_,j,_e){const et=_[j];_e=resolve([o.to,_e,et,o.from]);const tt=resolve([o.from,et,_e]);this._active=!0,this._fn=o.fn||interpolators[o.type||typeof tt],this._easing=effects[o.easing]||effects.linear,this._start=Math.floor(Date.now()+(o.delay||0)),this._duration=this._total=Math.floor(o.duration),this._loop=!!o.loop,this._target=_,this._prop=j,this._from=tt,this._to=_e,this._promises=void 0}active(){return this._active}update(o,_,j){if(this._active){this._notify(!1);const _e=this._target[this._prop],et=j-this._start,tt=this._duration-et;this._start=j,this._duration=Math.floor(Math.max(tt,o.duration)),this._total+=et,this._loop=!!o.loop,this._to=resolve([o.to,_,_e,o.from]),this._from=resolve([o.from,_e,_])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(o){const _=o-this._start,j=this._duration,_e=this._prop,et=this._from,tt=this._loop,rt=this._to;let nt;if(this._active=et!==rt&&(tt||_<j),!this._active){this._target[_e]=rt,this._notify(!0);return}if(_<0){this._target[_e]=et;return}nt=_/j%2,nt=tt&&nt>1?2-nt:nt,nt=this._easing(Math.min(1,Math.max(0,nt))),this._target[_e]=this._fn(et,rt,nt)}wait(){const o=this._promises||(this._promises=[]);return new Promise((_,j)=>{o.push({res:_,rej:j})})}_notify(o){const _=o?"res":"rej",j=this._promises||[];for(let _e=0;_e<j.length;_e++)j[_e][_]()}}class Animations{constructor(o,_){this._chart=o,this._properties=new Map,this.configure(_)}configure(o){if(!isObject(o))return;const _=Object.keys(defaults.animation),j=this._properties;Object.getOwnPropertyNames(o).forEach(_e=>{const et=o[_e];if(!isObject(et))return;const tt={};for(const rt of _)tt[rt]=et[rt];(isArray(et.properties)&&et.properties||[_e]).forEach(rt=>{(rt===_e||!j.has(rt))&&j.set(rt,tt)})})}_animateOptions(o,_){const j=_.options,_e=resolveTargetOptions(o,j);if(!_e)return[];const et=this._createAnimations(_e,j);return j.$shared&&awaitAll(o.options.$animations,j).then(()=>{o.options=j},()=>{}),et}_createAnimations(o,_){const j=this._properties,_e=[],et=o.$animations||(o.$animations={}),tt=Object.keys(_),rt=Date.now();let nt;for(nt=tt.length-1;nt>=0;--nt){const st=tt[nt];if(st.charAt(0)==="$")continue;if(st==="options"){_e.push(...this._animateOptions(o,_));continue}const it=_[st];let at=et[st];const ot=j.get(st);if(at)if(ot&&at.active()){at.update(ot,it,rt);continue}else at.cancel();if(!ot||!ot.duration){o[st]=it;continue}et[st]=at=new Animation(ot,o,st,it),_e.push(at)}return _e}update(o,_){if(this._properties.size===0){Object.assign(o,_);return}const j=this._createAnimations(o,_);if(j.length)return animator.add(this._chart,j),!0}}function awaitAll(i,o){const _=[],j=Object.keys(o);for(let _e=0;_e<j.length;_e++){const et=i[j[_e]];et&&et.active()&&_.push(et.wait())}return Promise.all(_)}function resolveTargetOptions(i,o){if(!o)return;let _=i.options;if(!_){i.options=o;return}return _.$shared&&(i.options=_=Object.assign({},_,{$shared:!1,$animations:{}})),_}function scaleClip(i,o){const _=i&&i.options||{},j=_.reverse,_e=_.min===void 0?o:0,et=_.max===void 0?o:0;return{start:j?et:_e,end:j?_e:et}}function defaultClip(i,o,_){if(_===!1)return!1;const j=scaleClip(i,_),_e=scaleClip(o,_);return{top:_e.end,right:j.end,bottom:_e.start,left:j.start}}function toClip(i){let o,_,j,_e;return isObject(i)?(o=i.top,_=i.right,j=i.bottom,_e=i.left):o=_=j=_e=i,{top:o,right:_,bottom:j,left:_e,disabled:i===!1}}function getSortedDatasetIndices(i,o){const _=[],j=i._getSortedDatasetMetas(o);let _e,et;for(_e=0,et=j.length;_e<et;++_e)_.push(j[_e].index);return _}function applyStack(i,o,_,j={}){const _e=i.keys,et=j.mode==="single";let tt,rt,nt,st;if(o===null)return;let it=!1;for(tt=0,rt=_e.length;tt<rt;++tt){if(nt=+_e[tt],nt===_){if(it=!0,j.all)continue;break}st=i.values[nt],isNumberFinite(st)&&(et||o===0||sign(o)===sign(st))&&(o+=st)}return!it&&!j.all?0:o}function convertObjectDataToArray(i,o){const{iScale:_,vScale:j}=o,_e=_.axis==="x"?"x":"y",et=j.axis==="x"?"x":"y",tt=Object.keys(i),rt=new Array(tt.length);let nt,st,it;for(nt=0,st=tt.length;nt<st;++nt)it=tt[nt],rt[nt]={[_e]:it,[et]:i[it]};return rt}function isStacked(i,o){const _=i&&i.options.stacked;return _||_===void 0&&o.stack!==void 0}function getStackKey(i,o,_){return`${i.id}.${o.id}.${_.stack||_.type}`}function getUserBounds(i){const{min:o,max:_,minDefined:j,maxDefined:_e}=i.getUserBounds();return{min:j?o:Number.NEGATIVE_INFINITY,max:_e?_:Number.POSITIVE_INFINITY}}function getOrCreateStack(i,o,_){const j=i[o]||(i[o]={});return j[_]||(j[_]={})}function getLastIndexInStack(i,o,_,j){for(const _e of o.getMatchingVisibleMetas(j).reverse()){const et=i[_e.index];if(_&&et>0||!_&&et<0)return _e.index}return null}function updateStacks(i,o){const{chart:_,_cachedMeta:j}=i,_e=_._stacks||(_._stacks={}),{iScale:et,vScale:tt,index:rt}=j,nt=et.axis,st=tt.axis,it=getStackKey(et,tt,j),at=o.length;let ot;for(let ct=0;ct<at;++ct){const ut=o[ct],{[nt]:lt,[st]:pt}=ut,dt=ut._stacks||(ut._stacks={});ot=dt[st]=getOrCreateStack(_e,it,lt),ot[rt]=pt,ot._top=getLastIndexInStack(ot,tt,!0,j.type),ot._bottom=getLastIndexInStack(ot,tt,!1,j.type);const ht=ot._visualValues||(ot._visualValues={});ht[rt]=pt}}function getFirstScaleId(i,o){const _=i.scales;return Object.keys(_).filter(j=>_[j].axis===o).shift()}function createDatasetContext(i,o){return createContext(i,{active:!1,dataset:void 0,datasetIndex:o,index:o,mode:"default",type:"dataset"})}function createDataContext(i,o,_){return createContext(i,{active:!1,dataIndex:o,parsed:void 0,raw:void 0,element:_,index:o,mode:"default",type:"data"})}function clearStacks(i,o){const _=i.controller.index,j=i.vScale&&i.vScale.axis;if(j){o=o||i._parsed;for(const _e of o){const et=_e._stacks;if(!et||et[j]===void 0||et[j][_]===void 0)return;delete et[j][_],et[j]._visualValues!==void 0&&et[j]._visualValues[_]!==void 0&&delete et[j]._visualValues[_]}}}const isDirectUpdateMode=i=>i==="reset"||i==="none",cloneIfNotShared=(i,o)=>o?i:Object.assign({},i),createStack=(i,o,_)=>i&&!o.hidden&&o._stacked&&{keys:getSortedDatasetIndices(_,!0),values:null};class DatasetController{constructor(o,_){this.chart=o,this._ctx=o.ctx,this.index=_,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const o=this._cachedMeta;this.configure(),this.linkScales(),o._stacked=isStacked(o.vScale,o),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(o){this.index!==o&&clearStacks(this._cachedMeta),this.index=o}linkScales(){const o=this.chart,_=this._cachedMeta,j=this.getDataset(),_e=(at,ot,ct,ut)=>at==="x"?ot:at==="r"?ut:ct,et=_.xAxisID=valueOrDefault(j.xAxisID,getFirstScaleId(o,"x")),tt=_.yAxisID=valueOrDefault(j.yAxisID,getFirstScaleId(o,"y")),rt=_.rAxisID=valueOrDefault(j.rAxisID,getFirstScaleId(o,"r")),nt=_.indexAxis,st=_.iAxisID=_e(nt,et,tt,rt),it=_.vAxisID=_e(nt,tt,et,rt);_.xScale=this.getScaleForId(et),_.yScale=this.getScaleForId(tt),_.rScale=this.getScaleForId(rt),_.iScale=this.getScaleForId(st),_.vScale=this.getScaleForId(it)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(o){return this.chart.scales[o]}_getOtherScale(o){const _=this._cachedMeta;return o===_.iScale?_.vScale:_.iScale}reset(){this._update("reset")}_destroy(){const o=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),o._stacked&&clearStacks(o)}_dataCheck(){const o=this.getDataset(),_=o.data||(o.data=[]),j=this._data;if(isObject(_)){const _e=this._cachedMeta;this._data=convertObjectDataToArray(_,_e)}else if(j!==_){if(j){unlistenArrayEvents(j,this);const _e=this._cachedMeta;clearStacks(_e),_e._parsed=[]}_&&Object.isExtensible(_)&&listenArrayEvents(_,this),this._syncList=[],this._data=_}}addElements(){const o=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(o.dataset=new this.datasetElementType)}buildOrUpdateElements(o){const _=this._cachedMeta,j=this.getDataset();let _e=!1;this._dataCheck();const et=_._stacked;_._stacked=isStacked(_.vScale,_),_.stack!==j.stack&&(_e=!0,clearStacks(_),_.stack=j.stack),this._resyncElements(o),(_e||et!==_._stacked)&&(updateStacks(this,_._parsed),_._stacked=isStacked(_.vScale,_))}configure(){const o=this.chart.config,_=o.datasetScopeKeys(this._type),j=o.getOptionScopes(this.getDataset(),_,!0);this.options=o.createResolver(j,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(o,_){const{_cachedMeta:j,_data:_e}=this,{iScale:et,_stacked:tt}=j,rt=et.axis;let nt=o===0&&_===_e.length?!0:j._sorted,st=o>0&&j._parsed[o-1],it,at,ot;if(this._parsing===!1)j._parsed=_e,j._sorted=!0,ot=_e;else{isArray(_e[o])?ot=this.parseArrayData(j,_e,o,_):isObject(_e[o])?ot=this.parseObjectData(j,_e,o,_):ot=this.parsePrimitiveData(j,_e,o,_);const ct=()=>at[rt]===null||st&&at[rt]<st[rt];for(it=0;it<_;++it)j._parsed[it+o]=at=ot[it],nt&&(ct()&&(nt=!1),st=at);j._sorted=nt}tt&&updateStacks(this,ot)}parsePrimitiveData(o,_,j,_e){const{iScale:et,vScale:tt}=o,rt=et.axis,nt=tt.axis,st=et.getLabels(),it=et===tt,at=new Array(_e);let ot,ct,ut;for(ot=0,ct=_e;ot<ct;++ot)ut=ot+j,at[ot]={[rt]:it||et.parse(st[ut],ut),[nt]:tt.parse(_[ut],ut)};return at}parseArrayData(o,_,j,_e){const{xScale:et,yScale:tt}=o,rt=new Array(_e);let nt,st,it,at;for(nt=0,st=_e;nt<st;++nt)it=nt+j,at=_[it],rt[nt]={x:et.parse(at[0],it),y:tt.parse(at[1],it)};return rt}parseObjectData(o,_,j,_e){const{xScale:et,yScale:tt}=o,{xAxisKey:rt="x",yAxisKey:nt="y"}=this._parsing,st=new Array(_e);let it,at,ot,ct;for(it=0,at=_e;it<at;++it)ot=it+j,ct=_[ot],st[it]={x:et.parse(resolveObjectKey(ct,rt),ot),y:tt.parse(resolveObjectKey(ct,nt),ot)};return st}getParsed(o){return this._cachedMeta._parsed[o]}getDataElement(o){return this._cachedMeta.data[o]}applyStack(o,_,j){const _e=this.chart,et=this._cachedMeta,tt=_[o.axis],rt={keys:getSortedDatasetIndices(_e,!0),values:_._stacks[o.axis]._visualValues};return applyStack(rt,tt,et.index,{mode:j})}updateRangeFromParsed(o,_,j,_e){const et=j[_.axis];let tt=et===null?NaN:et;const rt=_e&&j._stacks[_.axis];_e&&rt&&(_e.values=rt,tt=applyStack(_e,et,this._cachedMeta.index)),o.min=Math.min(o.min,tt),o.max=Math.max(o.max,tt)}getMinMax(o,_){const j=this._cachedMeta,_e=j._parsed,et=j._sorted&&o===j.iScale,tt=_e.length,rt=this._getOtherScale(o),nt=createStack(_,j,this.chart),st={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:it,max:at}=getUserBounds(rt);let ot,ct;function ut(){ct=_e[ot];const lt=ct[rt.axis];return!isNumberFinite(ct[o.axis])||it>lt||at<lt}for(ot=0;ot<tt&&!(!ut()&&(this.updateRangeFromParsed(st,o,ct,nt),et));++ot);if(et){for(ot=tt-1;ot>=0;--ot)if(!ut()){this.updateRangeFromParsed(st,o,ct,nt);break}}return st}getAllParsedValues(o){const _=this._cachedMeta._parsed,j=[];let _e,et,tt;for(_e=0,et=_.length;_e<et;++_e)tt=_[_e][o.axis],isNumberFinite(tt)&&j.push(tt);return j}getMaxOverflow(){return!1}getLabelAndValue(o){const _=this._cachedMeta,j=_.iScale,_e=_.vScale,et=this.getParsed(o);return{label:j?""+j.getLabelForValue(et[j.axis]):"",value:_e?""+_e.getLabelForValue(et[_e.axis]):""}}_update(o){const _=this._cachedMeta;this.update(o||"default"),_._clip=toClip(valueOrDefault(this.options.clip,defaultClip(_.xScale,_.yScale,this.getMaxOverflow())))}update(o){}draw(){const o=this._ctx,_=this.chart,j=this._cachedMeta,_e=j.data||[],et=_.chartArea,tt=[],rt=this._drawStart||0,nt=this._drawCount||_e.length-rt,st=this.options.drawActiveElementsOnTop;let it;for(j.dataset&&j.dataset.draw(o,et,rt,nt),it=rt;it<rt+nt;++it){const at=_e[it];at.hidden||(at.active&&st?tt.push(at):at.draw(o,et))}for(it=0;it<tt.length;++it)tt[it].draw(o,et)}getStyle(o,_){const j=_?"active":"default";return o===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(j):this.resolveDataElementOptions(o||0,j)}getContext(o,_,j){const _e=this.getDataset();let et;if(o>=0&&o<this._cachedMeta.data.length){const tt=this._cachedMeta.data[o];et=tt.$context||(tt.$context=createDataContext(this.getContext(),o,tt)),et.parsed=this.getParsed(o),et.raw=_e.data[o],et.index=et.dataIndex=o}else et=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),et.dataset=_e,et.index=et.datasetIndex=this.index;return et.active=!!_,et.mode=j,et}resolveDatasetElementOptions(o){return this._resolveElementOptions(this.datasetElementType.id,o)}resolveDataElementOptions(o,_){return this._resolveElementOptions(this.dataElementType.id,_,o)}_resolveElementOptions(o,_="default",j){const _e=_==="active",et=this._cachedDataOpts,tt=o+"-"+_,rt=et[tt],nt=this.enableOptionSharing&&defined(j);if(rt)return cloneIfNotShared(rt,nt);const st=this.chart.config,it=st.datasetElementScopeKeys(this._type,o),at=_e?[`${o}Hover`,"hover",o,""]:[o,""],ot=st.getOptionScopes(this.getDataset(),it),ct=Object.keys(defaults.elements[o]),ut=()=>this.getContext(j,_e,_),lt=st.resolveNamedOptions(ot,ct,ut,at);return lt.$shared&&(lt.$shared=nt,et[tt]=Object.freeze(cloneIfNotShared(lt,nt))),lt}_resolveAnimations(o,_,j){const _e=this.chart,et=this._cachedDataOpts,tt=`animation-${_}`,rt=et[tt];if(rt)return rt;let nt;if(_e.options.animation!==!1){const it=this.chart.config,at=it.datasetAnimationScopeKeys(this._type,_),ot=it.getOptionScopes(this.getDataset(),at);nt=it.createResolver(ot,this.getContext(o,j,_))}const st=new Animations(_e,nt&&nt.animations);return nt&&nt._cacheable&&(et[tt]=Object.freeze(st)),st}getSharedOptions(o){if(o.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},o))}includeOptions(o,_){return!_||isDirectUpdateMode(o)||this.chart._animationsDisabled}_getSharedOptions(o,_){const j=this.resolveDataElementOptions(o,_),_e=this._sharedOptions,et=this.getSharedOptions(j),tt=this.includeOptions(_,et)||et!==_e;return this.updateSharedOptions(et,_,j),{sharedOptions:et,includeOptions:tt}}updateElement(o,_,j,_e){isDirectUpdateMode(_e)?Object.assign(o,j):this._resolveAnimations(_,_e).update(o,j)}updateSharedOptions(o,_,j){o&&!isDirectUpdateMode(_)&&this._resolveAnimations(void 0,_).update(o,j)}_setStyle(o,_,j,_e){o.active=_e;const et=this.getStyle(_,_e);this._resolveAnimations(_,j,_e).update(o,{options:!_e&&this.getSharedOptions(et)||et})}removeHoverStyle(o,_,j){this._setStyle(o,j,"active",!1)}setHoverStyle(o,_,j){this._setStyle(o,j,"active",!0)}_removeDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!1)}_setDatasetHoverStyle(){const o=this._cachedMeta.dataset;o&&this._setStyle(o,void 0,"active",!0)}_resyncElements(o){const _=this._data,j=this._cachedMeta.data;for(const[rt,nt,st]of this._syncList)this[rt](nt,st);this._syncList=[];const _e=j.length,et=_.length,tt=Math.min(et,_e);tt&&this.parse(0,tt),et>_e?this._insertElements(_e,et-_e,o):et<_e&&this._removeElements(et,_e-et)}_insertElements(o,_,j=!0){const _e=this._cachedMeta,et=_e.data,tt=o+_;let rt;const nt=st=>{for(st.length+=_,rt=st.length-1;rt>=tt;rt--)st[rt]=st[rt-_]};for(nt(et),rt=o;rt<tt;++rt)et[rt]=new this.dataElementType;this._parsing&&nt(_e._parsed),this.parse(o,_),j&&this.updateElements(et,o,_,"reset")}updateElements(o,_,j,_e){}_removeElements(o,_){const j=this._cachedMeta;if(this._parsing){const _e=j._parsed.splice(o,_);j._stacked&&clearStacks(j,_e)}j.data.splice(o,_)}_sync(o){if(this._parsing)this._syncList.push(o);else{const[_,j,_e]=o;this[_](j,_e)}this.chart._dataChanges.push([this.index,...o])}_onDataPush(){const o=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-o,o])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(o,_){_&&this._sync(["_removeElements",o,_]);const j=arguments.length-2;j&&this._sync(["_insertElements",o,j])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}gr(DatasetController,"defaults",{}),gr(DatasetController,"datasetElementType",null),gr(DatasetController,"dataElementType",null);function getAllScaleValues(i,o){if(!i._cache.$bar){const _=i.getMatchingVisibleMetas(o);let j=[];for(let _e=0,et=_.length;_e<et;_e++)j=j.concat(_[_e].controller.getAllParsedValues(i));i._cache.$bar=_arrayUnique(j.sort((_e,et)=>_e-et))}return i._cache.$bar}function computeMinSampleSize(i){const o=i.iScale,_=getAllScaleValues(o,i.type);let j=o._length,_e,et,tt,rt;const nt=()=>{tt===32767||tt===-32768||(defined(rt)&&(j=Math.min(j,Math.abs(tt-rt)||j)),rt=tt)};for(_e=0,et=_.length;_e<et;++_e)tt=o.getPixelForValue(_[_e]),nt();for(rt=void 0,_e=0,et=o.ticks.length;_e<et;++_e)tt=o.getPixelForTick(_e),nt();return j}function computeFitCategoryTraits(i,o,_,j){const _e=_.barThickness;let et,tt;return isNullOrUndef(_e)?(et=o.min*_.categoryPercentage,tt=_.barPercentage):(et=_e*j,tt=1),{chunk:et/j,ratio:tt,start:o.pixels[i]-et/2}}function computeFlexCategoryTraits(i,o,_,j){const _e=o.pixels,et=_e[i];let tt=i>0?_e[i-1]:null,rt=i<_e.length-1?_e[i+1]:null;const nt=_.categoryPercentage;tt===null&&(tt=et-(rt===null?o.end-o.start:rt-et)),rt===null&&(rt=et+et-tt);const st=et-(et-Math.min(tt,rt))/2*nt;return{chunk:Math.abs(rt-tt)/2*nt/j,ratio:_.barPercentage,start:st}}function parseFloatBar(i,o,_,j){const _e=_.parse(i[0],j),et=_.parse(i[1],j),tt=Math.min(_e,et),rt=Math.max(_e,et);let nt=tt,st=rt;Math.abs(tt)>Math.abs(rt)&&(nt=rt,st=tt),o[_.axis]=st,o._custom={barStart:nt,barEnd:st,start:_e,end:et,min:tt,max:rt}}function parseValue(i,o,_,j){return isArray(i)?parseFloatBar(i,o,_,j):o[_.axis]=_.parse(i,j),o}function parseArrayOrPrimitive(i,o,_,j){const _e=i.iScale,et=i.vScale,tt=_e.getLabels(),rt=_e===et,nt=[];let st,it,at,ot;for(st=_,it=_+j;st<it;++st)ot=o[st],at={},at[_e.axis]=rt||_e.parse(tt[st],st),nt.push(parseValue(ot,at,et,st));return nt}function isFloatBar(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function barSign(i,o,_){return i!==0?sign(i):(o.isHorizontal()?1:-1)*(o.min>=_?1:-1)}function borderProps(i){let o,_,j,_e,et;return i.horizontal?(o=i.base>i.x,_="left",j="right"):(o=i.base<i.y,_="bottom",j="top"),o?(_e="end",et="start"):(_e="start",et="end"),{start:_,end:j,reverse:o,top:_e,bottom:et}}function setBorderSkipped(i,o,_,j){let _e=o.borderSkipped;const et={};if(!_e){i.borderSkipped=et;return}if(_e===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:tt,end:rt,reverse:nt,top:st,bottom:it}=borderProps(i);_e==="middle"&&_&&(i.enableBorderRadius=!0,(_._top||0)===j?_e=st:(_._bottom||0)===j?_e=it:(et[parseEdge(it,tt,rt,nt)]=!0,_e=st)),et[parseEdge(_e,tt,rt,nt)]=!0,i.borderSkipped=et}function parseEdge(i,o,_,j){return j?(i=swap(i,o,_),i=startEnd(i,_,o)):i=startEnd(i,o,_),i}function swap(i,o,_){return i===o?_:i===_?o:i}function startEnd(i,o,_){return i==="start"?o:i==="end"?_:i}function setInflateAmount(i,{inflateAmount:o},_){i.inflateAmount=o==="auto"?_===1?.33:0:o}class BarController extends DatasetController{parsePrimitiveData(o,_,j,_e){return parseArrayOrPrimitive(o,_,j,_e)}parseArrayData(o,_,j,_e){return parseArrayOrPrimitive(o,_,j,_e)}parseObjectData(o,_,j,_e){const{iScale:et,vScale:tt}=o,{xAxisKey:rt="x",yAxisKey:nt="y"}=this._parsing,st=et.axis==="x"?rt:nt,it=tt.axis==="x"?rt:nt,at=[];let ot,ct,ut,lt;for(ot=j,ct=j+_e;ot<ct;++ot)lt=_[ot],ut={},ut[et.axis]=et.parse(resolveObjectKey(lt,st),ot),at.push(parseValue(resolveObjectKey(lt,it),ut,tt,ot));return at}updateRangeFromParsed(o,_,j,_e){super.updateRangeFromParsed(o,_,j,_e);const et=j._custom;et&&_===this._cachedMeta.vScale&&(o.min=Math.min(o.min,et.min),o.max=Math.max(o.max,et.max))}getMaxOverflow(){return 0}getLabelAndValue(o){const _=this._cachedMeta,{iScale:j,vScale:_e}=_,et=this.getParsed(o),tt=et._custom,rt=isFloatBar(tt)?"["+tt.start+", "+tt.end+"]":""+_e.getLabelForValue(et[_e.axis]);return{label:""+j.getLabelForValue(et[j.axis]),value:rt}}initialize(){this.enableOptionSharing=!0,super.initialize();const o=this._cachedMeta;o.stack=this.getDataset().stack}update(o){const _=this._cachedMeta;this.updateElements(_.data,0,_.data.length,o)}updateElements(o,_,j,_e){const et=_e==="reset",{index:tt,_cachedMeta:{vScale:rt}}=this,nt=rt.getBasePixel(),st=rt.isHorizontal(),it=this._getRuler(),{sharedOptions:at,includeOptions:ot}=this._getSharedOptions(_,_e);for(let ct=_;ct<_+j;ct++){const ut=this.getParsed(ct),lt=et||isNullOrUndef(ut[rt.axis])?{base:nt,head:nt}:this._calculateBarValuePixels(ct),pt=this._calculateBarIndexPixels(ct,it),dt=(ut._stacks||{})[rt.axis],ht={horizontal:st,base:lt.base,enableBorderRadius:!dt||isFloatBar(ut._custom)||tt===dt._top||tt===dt._bottom,x:st?lt.head:pt.center,y:st?pt.center:lt.head,height:st?pt.size:Math.abs(lt.size),width:st?Math.abs(lt.size):pt.size};ot&&(ht.options=at||this.resolveDataElementOptions(ct,o[ct].active?"active":_e));const ft=ht.options||o[ct].options;setBorderSkipped(ht,ft,dt,tt),setInflateAmount(ht,ft,it.ratio),this.updateElement(o[ct],ct,ht,_e)}}_getStacks(o,_){const{iScale:j}=this._cachedMeta,_e=j.getMatchingVisibleMetas(this._type).filter(it=>it.controller.options.grouped),et=j.options.stacked,tt=[],rt=this._cachedMeta.controller.getParsed(_),nt=rt&&rt[j.axis],st=it=>{const at=it._parsed.find(ct=>ct[j.axis]===nt),ot=at&&at[it.vScale.axis];if(isNullOrUndef(ot)||isNaN(ot))return!0};for(const it of _e)if(!(_!==void 0&&st(it))&&((et===!1||tt.indexOf(it.stack)===-1||et===void 0&&it.stack===void 0)&&tt.push(it.stack),it.index===o))break;return tt.length||tt.push(void 0),tt}_getStackCount(o){return this._getStacks(void 0,o).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const o=this.chart.scales,_=this.chart.options.indexAxis;return Object.keys(o).filter(j=>o[j].axis===_).shift()}_getAxis(){const o={},_=this.getFirstScaleIdForIndexAxis();for(const j of this.chart.data.datasets)o[valueOrDefault(this.chart.options.indexAxis==="x"?j.xAxisID:j.yAxisID,_)]=!0;return Object.keys(o)}_getStackIndex(o,_,j){const _e=this._getStacks(o,j),et=_!==void 0?_e.indexOf(_):-1;return et===-1?_e.length-1:et}_getRuler(){const o=this.options,_=this._cachedMeta,j=_.iScale,_e=[];let et,tt;for(et=0,tt=_.data.length;et<tt;++et)_e.push(j.getPixelForValue(this.getParsed(et)[j.axis],et));const rt=o.barThickness;return{min:rt||computeMinSampleSize(_),pixels:_e,start:j._startPixel,end:j._endPixel,stackCount:this._getStackCount(),scale:j,grouped:o.grouped,ratio:rt?1:o.categoryPercentage*o.barPercentage}}_calculateBarValuePixels(o){const{_cachedMeta:{vScale:_,_stacked:j,index:_e},options:{base:et,minBarLength:tt}}=this,rt=et||0,nt=this.getParsed(o),st=nt._custom,it=isFloatBar(st);let at=nt[_.axis],ot=0,ct=j?this.applyStack(_,nt,j):at,ut,lt;ct!==at&&(ot=ct-at,ct=at),it&&(at=st.barStart,ct=st.barEnd-st.barStart,at!==0&&sign(at)!==sign(st.barEnd)&&(ot=0),ot+=at);const pt=!isNullOrUndef(et)&&!it?et:ot;let dt=_.getPixelForValue(pt);if(this.chart.getDataVisibility(o)?ut=_.getPixelForValue(ot+ct):ut=dt,lt=ut-dt,Math.abs(lt)<tt){lt=barSign(lt,_,rt)*tt,at===rt&&(dt-=lt/2);const ht=_.getPixelForDecimal(0),ft=_.getPixelForDecimal(1),mt=Math.min(ht,ft),xt=Math.max(ht,ft);dt=Math.max(Math.min(dt,xt),mt),ut=dt+lt,j&&!it&&(nt._stacks[_.axis]._visualValues[_e]=_.getValueForPixel(ut)-_.getValueForPixel(dt))}if(dt===_.getPixelForValue(rt)){const ht=sign(lt)*_.getLineWidthForValue(rt)/2;dt+=ht,lt-=ht}return{size:lt,base:dt,head:ut,center:ut+lt/2}}_calculateBarIndexPixels(o,_){const j=_.scale,_e=this.options,et=_e.skipNull,tt=valueOrDefault(_e.maxBarThickness,1/0);let rt,nt;const st=this._getAxisCount();if(_.grouped){const it=et?this._getStackCount(o):_.stackCount,at=_e.barThickness==="flex"?computeFlexCategoryTraits(o,_,_e,it*st):computeFitCategoryTraits(o,_,_e,it*st),ot=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,ct=this._getAxis().indexOf(valueOrDefault(ot,this.getFirstScaleIdForIndexAxis())),ut=this._getStackIndex(this.index,this._cachedMeta.stack,et?o:void 0)+ct;rt=at.start+at.chunk*ut+at.chunk/2,nt=Math.min(tt,at.chunk*at.ratio)}else rt=j.getPixelForValue(this.getParsed(o)[j.axis],o),nt=Math.min(tt,_.min*_.ratio);return{base:rt-nt/2,head:rt+nt/2,center:rt,size:nt}}draw(){const o=this._cachedMeta,_=o.vScale,j=o.data,_e=j.length;let et=0;for(;et<_e;++et)this.getParsed(et)[_.axis]!==null&&!j[et].hidden&&j[et].draw(this._ctx)}}gr(BarController,"id","bar"),gr(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),gr(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function getRatioAndOffset(i,o,_){let j=1,_e=1,et=0,tt=0;if(o<TAU){const rt=i,nt=rt+o,st=Math.cos(rt),it=Math.sin(rt),at=Math.cos(nt),ot=Math.sin(nt),ct=(ft,mt,xt)=>_angleBetween(ft,rt,nt,!0)?1:Math.max(mt,mt*_,xt,xt*_),ut=(ft,mt,xt)=>_angleBetween(ft,rt,nt,!0)?-1:Math.min(mt,mt*_,xt,xt*_),lt=ct(0,st,at),pt=ct(HALF_PI,it,ot),dt=ut(PI,st,at),ht=ut(PI+HALF_PI,it,ot);j=(lt-dt)/2,_e=(pt-ht)/2,et=-(lt+dt)/2,tt=-(pt+ht)/2}return{ratioX:j,ratioY:_e,offsetX:et,offsetY:tt}}class DoughnutController extends DatasetController{constructor(o,_){super(o,_),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(o,_){const j=this.getDataset().data,_e=this._cachedMeta;if(this._parsing===!1)_e._parsed=j;else{let et=nt=>+j[nt];if(isObject(j[o])){const{key:nt="value"}=this._parsing;et=st=>+resolveObjectKey(j[st],nt)}let tt,rt;for(tt=o,rt=o+_;tt<rt;++tt)_e._parsed[tt]=et(tt)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let o=TAU,_=-TAU;for(let j=0;j<this.chart.data.datasets.length;++j)if(this.chart.isDatasetVisible(j)&&this.chart.getDatasetMeta(j).type===this._type){const _e=this.chart.getDatasetMeta(j).controller,et=_e._getRotation(),tt=_e._getCircumference();o=Math.min(o,et),_=Math.max(_,et+tt)}return{rotation:o,circumference:_-o}}update(o){const _=this.chart,{chartArea:j}=_,_e=this._cachedMeta,et=_e.data,tt=this.getMaxBorderWidth()+this.getMaxOffset(et)+this.options.spacing,rt=Math.max((Math.min(j.width,j.height)-tt)/2,0),nt=Math.min(toPercentage(this.options.cutout,rt),1),st=this._getRingWeight(this.index),{circumference:it,rotation:at}=this._getRotationExtents(),{ratioX:ot,ratioY:ct,offsetX:ut,offsetY:lt}=getRatioAndOffset(at,it,nt),pt=(j.width-tt)/ot,dt=(j.height-tt)/ct,ht=Math.max(Math.min(pt,dt)/2,0),ft=toDimension(this.options.radius,ht),mt=Math.max(ft*nt,0),xt=(ft-mt)/this._getVisibleDatasetWeightTotal();this.offsetX=ut*ft,this.offsetY=lt*ft,_e.total=this.calculateTotal(),this.outerRadius=ft-xt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-xt*st,0),this.updateElements(et,0,et.length,o)}_circumference(o,_){const j=this.options,_e=this._cachedMeta,et=this._getCircumference();return _&&j.animation.animateRotate||!this.chart.getDataVisibility(o)||_e._parsed[o]===null||_e.data[o].hidden?0:this.calculateCircumference(_e._parsed[o]*et/TAU)}updateElements(o,_,j,_e){const et=_e==="reset",tt=this.chart,rt=tt.chartArea,st=tt.options.animation,it=(rt.left+rt.right)/2,at=(rt.top+rt.bottom)/2,ot=et&&st.animateScale,ct=ot?0:this.innerRadius,ut=ot?0:this.outerRadius,{sharedOptions:lt,includeOptions:pt}=this._getSharedOptions(_,_e);let dt=this._getRotation(),ht;for(ht=0;ht<_;++ht)dt+=this._circumference(ht,et);for(ht=_;ht<_+j;++ht){const ft=this._circumference(ht,et),mt=o[ht],xt={x:it+this.offsetX,y:at+this.offsetY,startAngle:dt,endAngle:dt+ft,circumference:ft,outerRadius:ut,innerRadius:ct};pt&&(xt.options=lt||this.resolveDataElementOptions(ht,mt.active?"active":_e)),dt+=ft,this.updateElement(mt,ht,xt,_e)}}calculateTotal(){const o=this._cachedMeta,_=o.data;let j=0,_e;for(_e=0;_e<_.length;_e++){const et=o._parsed[_e];et!==null&&!isNaN(et)&&this.chart.getDataVisibility(_e)&&!_[_e].hidden&&(j+=Math.abs(et))}return j}calculateCircumference(o){const _=this._cachedMeta.total;return _>0&&!isNaN(o)?TAU*(Math.abs(o)/_):0}getLabelAndValue(o){const _=this._cachedMeta,j=this.chart,_e=j.data.labels||[],et=formatNumber(_._parsed[o],j.options.locale);return{label:_e[o]||"",value:et}}getMaxBorderWidth(o){let _=0;const j=this.chart;let _e,et,tt,rt,nt;if(!o){for(_e=0,et=j.data.datasets.length;_e<et;++_e)if(j.isDatasetVisible(_e)){tt=j.getDatasetMeta(_e),o=tt.data,rt=tt.controller;break}}if(!o)return 0;for(_e=0,et=o.length;_e<et;++_e)nt=rt.resolveDataElementOptions(_e),nt.borderAlign!=="inner"&&(_=Math.max(_,nt.borderWidth||0,nt.hoverBorderWidth||0));return _}getMaxOffset(o){let _=0;for(let j=0,_e=o.length;j<_e;++j){const et=this.resolveDataElementOptions(j);_=Math.max(_,et.offset||0,et.hoverOffset||0)}return _}_getRingWeightOffset(o){let _=0;for(let j=0;j<o;++j)this.chart.isDatasetVisible(j)&&(_+=this._getRingWeight(j));return _}_getRingWeight(o){return Math.max(valueOrDefault(this.chart.data.datasets[o].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}gr(DoughnutController,"id","doughnut"),gr(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),gr(DoughnutController,"descriptors",{_scriptable:o=>o!=="spacing",_indexable:o=>o!=="spacing"&&!o.startsWith("borderDash")&&!o.startsWith("hoverBorderDash")}),gr(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(o){const _=o.data,{labels:{pointStyle:j,textAlign:_e,color:et,useBorderRadius:tt,borderRadius:rt}}=o.legend.options;return _.labels.length&&_.datasets.length?_.labels.map((nt,st)=>{const at=o.getDatasetMeta(0).controller.getStyle(st);return{text:nt,fillStyle:at.backgroundColor,fontColor:et,hidden:!o.getDataVisibility(st),lineDash:at.borderDash,lineDashOffset:at.borderDashOffset,lineJoin:at.borderJoinStyle,lineWidth:at.borderWidth,strokeStyle:at.borderColor,textAlign:_e,pointStyle:j,borderRadius:tt&&(rt||at.borderRadius),index:st}}):[]}},onClick(o,_,j){j.chart.toggleDataVisibility(_.index),j.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(o){const _=this._cachedMeta,{dataset:j,data:_e=[],_dataset:et}=_,tt=this.chart._animationsDisabled;let{start:rt,count:nt}=_getStartAndCountOfVisiblePoints(_,_e,tt);this._drawStart=rt,this._drawCount=nt,_scaleRangesChanged(_)&&(rt=0,nt=_e.length),j._chart=this.chart,j._datasetIndex=this.index,j._decimated=!!et._decimated,j.points=_e;const st=this.resolveDatasetElementOptions(o);this.options.showLine||(st.borderWidth=0),st.segment=this.options.segment,this.updateElement(j,void 0,{animated:!tt,options:st},o),this.updateElements(_e,rt,nt,o)}updateElements(o,_,j,_e){const et=_e==="reset",{iScale:tt,vScale:rt,_stacked:nt,_dataset:st}=this._cachedMeta,{sharedOptions:it,includeOptions:at}=this._getSharedOptions(_,_e),ot=tt.axis,ct=rt.axis,{spanGaps:ut,segment:lt}=this.options,pt=isNumber(ut)?ut:Number.POSITIVE_INFINITY,dt=this.chart._animationsDisabled||et||_e==="none",ht=_+j,ft=o.length;let mt=_>0&&this.getParsed(_-1);for(let xt=0;xt<ft;++xt){const gt=o[xt],yt=dt?gt:{};if(xt<_||xt>=ht){yt.skip=!0;continue}const _t=this.getParsed(xt),Et=isNullOrUndef(_t[ct]),wt=yt[ot]=tt.getPixelForValue(_t[ot],xt),$t=yt[ct]=et||Et?rt.getBasePixel():rt.getPixelForValue(nt?this.applyStack(rt,_t,nt):_t[ct],xt);yt.skip=isNaN(wt)||isNaN($t)||Et,yt.stop=xt>0&&Math.abs(_t[ot]-mt[ot])>pt,lt&&(yt.parsed=_t,yt.raw=st.data[xt]),at&&(yt.options=it||this.resolveDataElementOptions(xt,gt.active?"active":_e)),dt||this.updateElement(gt,xt,yt,_e),mt=_t}}getMaxOverflow(){const o=this._cachedMeta,_=o.dataset,j=_.options&&_.options.borderWidth||0,_e=o.data||[];if(!_e.length)return j;const et=_e[0].size(this.resolveDataElementOptions(0)),tt=_e[_e.length-1].size(this.resolveDataElementOptions(_e.length-1));return Math.max(j,et,tt)/2}draw(){const o=this._cachedMeta;o.dataset.updateControlPoints(this.chart.chartArea,o.iScale.axis),super.draw()}}gr(LineController,"id","line"),gr(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),gr(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PieController extends DoughnutController{}gr(PieController,"id","pie"),gr(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(o){gr(this,"options");this.options=o||{}}static override(o){Object.assign(DateAdapterBase.prototype,o)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(i,o,_,j){const{controller:_e,data:et,_sorted:tt}=i,rt=_e._cachedMeta.iScale,nt=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(rt&&o===rt.axis&&o!=="r"&&tt&&et.length){const st=rt._reversePixels?_rlookupByKey:_lookupByKey;if(j){if(_e._sharedOptions){const it=et[0],at=typeof it.getRange=="function"&&it.getRange(o);if(at){const ot=st(et,o,_-at),ct=st(et,o,_+at);return{lo:ot.lo,hi:ct.hi}}}}else{const it=st(et,o,_);if(nt){const{vScale:at}=_e._cachedMeta,{_parsed:ot}=i,ct=ot.slice(0,it.lo+1).reverse().findIndex(lt=>!isNullOrUndef(lt[at.axis]));it.lo-=Math.max(0,ct);const ut=ot.slice(it.hi).findIndex(lt=>!isNullOrUndef(lt[at.axis]));it.hi+=Math.max(0,ut)}return it}}return{lo:0,hi:et.length-1}}function evaluateInteractionItems(i,o,_,j,_e){const et=i.getSortedVisibleDatasetMetas(),tt=_[o];for(let rt=0,nt=et.length;rt<nt;++rt){const{index:st,data:it}=et[rt],{lo:at,hi:ot}=binarySearch(et[rt],o,tt,_e);for(let ct=at;ct<=ot;++ct){const ut=it[ct];ut.skip||j(ut,st,ct)}}}function getDistanceMetricForAxis(i){const o=i.indexOf("x")!==-1,_=i.indexOf("y")!==-1;return function(j,_e){const et=o?Math.abs(j.x-_e.x):0,tt=_?Math.abs(j.y-_e.y):0;return Math.sqrt(Math.pow(et,2)+Math.pow(tt,2))}}function getIntersectItems(i,o,_,j,_e){const et=[];return!_e&&!i.isPointInArea(o)||evaluateInteractionItems(i,_,o,function(rt,nt,st){!_e&&!_isPointInArea(rt,i.chartArea,0)||rt.inRange(o.x,o.y,j)&&et.push({element:rt,datasetIndex:nt,index:st})},!0),et}function getNearestRadialItems(i,o,_,j){let _e=[];function et(tt,rt,nt){const{startAngle:st,endAngle:it}=tt.getProps(["startAngle","endAngle"],j),{angle:at}=getAngleFromPoint(tt,{x:o.x,y:o.y});_angleBetween(at,st,it)&&_e.push({element:tt,datasetIndex:rt,index:nt})}return evaluateInteractionItems(i,_,o,et),_e}function getNearestCartesianItems(i,o,_,j,_e,et){let tt=[];const rt=getDistanceMetricForAxis(_);let nt=Number.POSITIVE_INFINITY;function st(it,at,ot){const ct=it.inRange(o.x,o.y,_e);if(j&&!ct)return;const ut=it.getCenterPoint(_e);if(!(!!et||i.isPointInArea(ut))&&!ct)return;const pt=rt(o,ut);pt<nt?(tt=[{element:it,datasetIndex:at,index:ot}],nt=pt):pt===nt&&tt.push({element:it,datasetIndex:at,index:ot})}return evaluateInteractionItems(i,_,o,st),tt}function getNearestItems(i,o,_,j,_e,et){return!et&&!i.isPointInArea(o)?[]:_==="r"&&!j?getNearestRadialItems(i,o,_,_e):getNearestCartesianItems(i,o,_,j,_e,et)}function getAxisItems(i,o,_,j,_e){const et=[],tt=_==="x"?"inXRange":"inYRange";let rt=!1;return evaluateInteractionItems(i,_,o,(nt,st,it)=>{nt[tt]&&nt[tt](o[_],_e)&&(et.push({element:nt,datasetIndex:st,index:it}),rt=rt||nt.inRange(o.x,o.y,_e))}),j&&!rt?[]:et}var Interaction={modes:{index(i,o,_,j){const _e=getRelativePosition(o,i),et=_.axis||"x",tt=_.includeInvisible||!1,rt=_.intersect?getIntersectItems(i,_e,et,j,tt):getNearestItems(i,_e,et,!1,j,tt),nt=[];return rt.length?(i.getSortedVisibleDatasetMetas().forEach(st=>{const it=rt[0].index,at=st.data[it];at&&!at.skip&&nt.push({element:at,datasetIndex:st.index,index:it})}),nt):[]},dataset(i,o,_,j){const _e=getRelativePosition(o,i),et=_.axis||"xy",tt=_.includeInvisible||!1;let rt=_.intersect?getIntersectItems(i,_e,et,j,tt):getNearestItems(i,_e,et,!1,j,tt);if(rt.length>0){const nt=rt[0].datasetIndex,st=i.getDatasetMeta(nt).data;rt=[];for(let it=0;it<st.length;++it)rt.push({element:st[it],datasetIndex:nt,index:it})}return rt},point(i,o,_,j){const _e=getRelativePosition(o,i),et=_.axis||"xy",tt=_.includeInvisible||!1;return getIntersectItems(i,_e,et,j,tt)},nearest(i,o,_,j){const _e=getRelativePosition(o,i),et=_.axis||"xy",tt=_.includeInvisible||!1;return getNearestItems(i,_e,et,_.intersect,j,tt)},x(i,o,_,j){const _e=getRelativePosition(o,i);return getAxisItems(i,_e,"x",_.intersect,j)},y(i,o,_,j){const _e=getRelativePosition(o,i);return getAxisItems(i,_e,"y",_.intersect,j)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(i,o){return i.filter(_=>_.pos===o)}function filterDynamicPositionByAxis(i,o){return i.filter(_=>STATIC_POSITIONS.indexOf(_.pos)===-1&&_.box.axis===o)}function sortByWeight(i,o){return i.sort((_,j)=>{const _e=o?j:_,et=o?_:j;return _e.weight===et.weight?_e.index-et.index:_e.weight-et.weight})}function wrapBoxes(i){const o=[];let _,j,_e,et,tt,rt;for(_=0,j=(i||[]).length;_<j;++_)_e=i[_],{position:et,options:{stack:tt,stackWeight:rt=1}}=_e,o.push({index:_,box:_e,pos:et,horizontal:_e.isHorizontal(),weight:_e.weight,stack:tt&&et+tt,stackWeight:rt});return o}function buildStacks(i){const o={};for(const _ of i){const{stack:j,pos:_e,stackWeight:et}=_;if(!j||!STATIC_POSITIONS.includes(_e))continue;const tt=o[j]||(o[j]={count:0,placed:0,weight:0,size:0});tt.count++,tt.weight+=et}return o}function setLayoutDims(i,o){const _=buildStacks(i),{vBoxMaxWidth:j,hBoxMaxHeight:_e}=o;let et,tt,rt;for(et=0,tt=i.length;et<tt;++et){rt=i[et];const{fullSize:nt}=rt.box,st=_[rt.stack],it=st&&rt.stackWeight/st.weight;rt.horizontal?(rt.width=it?it*j:nt&&o.availableWidth,rt.height=_e):(rt.width=j,rt.height=it?it*_e:nt&&o.availableHeight)}return _}function buildLayoutBoxes(i){const o=wrapBoxes(i),_=sortByWeight(o.filter(st=>st.box.fullSize),!0),j=sortByWeight(filterByPosition(o,"left"),!0),_e=sortByWeight(filterByPosition(o,"right")),et=sortByWeight(filterByPosition(o,"top"),!0),tt=sortByWeight(filterByPosition(o,"bottom")),rt=filterDynamicPositionByAxis(o,"x"),nt=filterDynamicPositionByAxis(o,"y");return{fullSize:_,leftAndTop:j.concat(et),rightAndBottom:_e.concat(nt).concat(tt).concat(rt),chartArea:filterByPosition(o,"chartArea"),vertical:j.concat(_e).concat(nt),horizontal:et.concat(tt).concat(rt)}}function getCombinedMax(i,o,_,j){return Math.max(i[_],o[_])+Math.max(i[j],o[j])}function updateMaxPadding(i,o){i.top=Math.max(i.top,o.top),i.left=Math.max(i.left,o.left),i.bottom=Math.max(i.bottom,o.bottom),i.right=Math.max(i.right,o.right)}function updateDims(i,o,_,j){const{pos:_e,box:et}=_,tt=i.maxPadding;if(!isObject(_e)){_.size&&(i[_e]-=_.size);const at=j[_.stack]||{size:0,count:1};at.size=Math.max(at.size,_.horizontal?et.height:et.width),_.size=at.size/at.count,i[_e]+=_.size}et.getPadding&&updateMaxPadding(tt,et.getPadding());const rt=Math.max(0,o.outerWidth-getCombinedMax(tt,i,"left","right")),nt=Math.max(0,o.outerHeight-getCombinedMax(tt,i,"top","bottom")),st=rt!==i.w,it=nt!==i.h;return i.w=rt,i.h=nt,_.horizontal?{same:st,other:it}:{same:it,other:st}}function handleMaxPadding(i){const o=i.maxPadding;function _(j){const _e=Math.max(o[j]-i[j],0);return i[j]+=_e,_e}i.y+=_("top"),i.x+=_("left"),_("right"),_("bottom")}function getMargins(i,o){const _=o.maxPadding;function j(_e){const et={left:0,top:0,right:0,bottom:0};return _e.forEach(tt=>{et[tt]=Math.max(o[tt],_[tt])}),et}return j(i?["left","right"]:["top","bottom"])}function fitBoxes(i,o,_,j){const _e=[];let et,tt,rt,nt,st,it;for(et=0,tt=i.length,st=0;et<tt;++et){rt=i[et],nt=rt.box,nt.update(rt.width||o.w,rt.height||o.h,getMargins(rt.horizontal,o));const{same:at,other:ot}=updateDims(o,_,rt,j);st|=at&&_e.length,it=it||ot,nt.fullSize||_e.push(rt)}return st&&fitBoxes(_e,o,_,j)||it}function setBoxDims(i,o,_,j,_e){i.top=_,i.left=o,i.right=o+j,i.bottom=_+_e,i.width=j,i.height=_e}function placeBoxes(i,o,_,j){const _e=_.padding;let{x:et,y:tt}=o;for(const rt of i){const nt=rt.box,st=j[rt.stack]||{placed:0,weight:1},it=rt.stackWeight/st.weight||1;if(rt.horizontal){const at=o.w*it,ot=st.size||nt.height;defined(st.start)&&(tt=st.start),nt.fullSize?setBoxDims(nt,_e.left,tt,_.outerWidth-_e.right-_e.left,ot):setBoxDims(nt,o.left+st.placed,tt,at,ot),st.start=tt,st.placed+=at,tt=nt.bottom}else{const at=o.h*it,ot=st.size||nt.width;defined(st.start)&&(et=st.start),nt.fullSize?setBoxDims(nt,et,_e.top,ot,_.outerHeight-_e.bottom-_e.top):setBoxDims(nt,et,o.top+st.placed,ot,at),st.start=et,st.placed+=at,et=nt.right}}o.x=et,o.y=tt}var layouts={addBox(i,o){i.boxes||(i.boxes=[]),o.fullSize=o.fullSize||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw(_){o.draw(_)}}]},i.boxes.push(o)},removeBox(i,o){const _=i.boxes?i.boxes.indexOf(o):-1;_!==-1&&i.boxes.splice(_,1)},configure(i,o,_){o.fullSize=_.fullSize,o.position=_.position,o.weight=_.weight},update(i,o,_,j){if(!i)return;const _e=toPadding(i.options.layout.padding),et=Math.max(o-_e.width,0),tt=Math.max(_-_e.height,0),rt=buildLayoutBoxes(i.boxes),nt=rt.vertical,st=rt.horizontal;each(i.boxes,lt=>{typeof lt.beforeLayout=="function"&&lt.beforeLayout()});const it=nt.reduce((lt,pt)=>pt.box.options&&pt.box.options.display===!1?lt:lt+1,0)||1,at=Object.freeze({outerWidth:o,outerHeight:_,padding:_e,availableWidth:et,availableHeight:tt,vBoxMaxWidth:et/2/it,hBoxMaxHeight:tt/2}),ot=Object.assign({},_e);updateMaxPadding(ot,toPadding(j));const ct=Object.assign({maxPadding:ot,w:et,h:tt,x:_e.left,y:_e.top},_e),ut=setLayoutDims(nt.concat(st),at);fitBoxes(rt.fullSize,ct,at,ut),fitBoxes(nt,ct,at,ut),fitBoxes(st,ct,at,ut)&&fitBoxes(nt,ct,at,ut),handleMaxPadding(ct),placeBoxes(rt.leftAndTop,ct,at,ut),ct.x+=ct.w,ct.y+=ct.h,placeBoxes(rt.rightAndBottom,ct,at,ut),i.chartArea={left:ct.left,top:ct.top,right:ct.left+ct.w,bottom:ct.top+ct.h,height:ct.h,width:ct.w},each(rt.chartArea,lt=>{const pt=lt.box;Object.assign(pt,i.chartArea),pt.update(ct.w,ct.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(o,_){}releaseContext(o){return!1}addEventListener(o,_,j){}removeEventListener(o,_,j){}getDevicePixelRatio(){return 1}getMaximumSize(o,_,j,_e){return _=Math.max(0,_||o.width),j=j||o.height,{width:_,height:Math.max(0,_e?Math.floor(_/_e):j)}}isAttached(o){return!0}updateConfig(o){}}class BasicPlatform extends BasePlatform{acquireContext(o){return o&&o.getContext&&o.getContext("2d")||null}updateConfig(o){o.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=i=>i===null||i==="";function initCanvas(i,o){const _=i.style,j=i.getAttribute("height"),_e=i.getAttribute("width");if(i[EXPANDO_KEY]={initial:{height:j,width:_e,style:{display:_.display,height:_.height,width:_.width}}},_.display=_.display||"block",_.boxSizing=_.boxSizing||"border-box",isNullOrEmpty(_e)){const et=readUsedSize(i,"width");et!==void 0&&(i.width=et)}if(isNullOrEmpty(j))if(i.style.height==="")i.height=i.width/(o||2);else{const et=readUsedSize(i,"height");et!==void 0&&(i.height=et)}return i}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(i,o,_){i&&i.addEventListener(o,_,eventListenerOptions)}function removeListener(i,o,_){i&&i.canvas&&i.canvas.removeEventListener(o,_,eventListenerOptions)}function fromNativeEvent(i,o){const _=EVENT_TYPES[i.type]||i.type,{x:j,y:_e}=getRelativePosition(i,o);return{type:_,chart:o,native:i,x:j!==void 0?j:null,y:_e!==void 0?_e:null}}function nodeListContains(i,o){for(const _ of i)if(_===o||_.contains(o))return!0}function createAttachObserver(i,o,_){const j=i.canvas,_e=new MutationObserver(et=>{let tt=!1;for(const rt of et)tt=tt||nodeListContains(rt.addedNodes,j),tt=tt&&!nodeListContains(rt.removedNodes,j);tt&&_()});return _e.observe(document,{childList:!0,subtree:!0}),_e}function createDetachObserver(i,o,_){const j=i.canvas,_e=new MutationObserver(et=>{let tt=!1;for(const rt of et)tt=tt||nodeListContains(rt.removedNodes,j),tt=tt&&!nodeListContains(rt.addedNodes,j);tt&&_()});return _e.observe(document,{childList:!0,subtree:!0}),_e}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const i=window.devicePixelRatio;i!==oldDevicePixelRatio&&(oldDevicePixelRatio=i,drpListeningCharts.forEach((o,_)=>{_.currentDevicePixelRatio!==i&&o()}))}function listenDevicePixelRatioChanges(i,o){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(i,o)}function unlistenDevicePixelRatioChanges(i){drpListeningCharts.delete(i),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(i,o,_){const j=i.canvas,_e=j&&_getParentNode(j);if(!_e)return;const et=throttled((rt,nt)=>{const st=_e.clientWidth;_(rt,nt),st<_e.clientWidth&&_()},window),tt=new ResizeObserver(rt=>{const nt=rt[0],st=nt.contentRect.width,it=nt.contentRect.height;st===0&&it===0||et(st,it)});return tt.observe(_e),listenDevicePixelRatioChanges(i,et),tt}function releaseObserver(i,o,_){_&&_.disconnect(),o==="resize"&&unlistenDevicePixelRatioChanges(i)}function createProxyAndListen(i,o,_){const j=i.canvas,_e=throttled(et=>{i.ctx!==null&&_(fromNativeEvent(et,i))},i);return addListener(j,o,_e),_e}class DomPlatform extends BasePlatform{acquireContext(o,_){const j=o&&o.getContext&&o.getContext("2d");return j&&j.canvas===o?(initCanvas(o,_),j):null}releaseContext(o){const _=o.canvas;if(!_[EXPANDO_KEY])return!1;const j=_[EXPANDO_KEY].initial;["height","width"].forEach(et=>{const tt=j[et];isNullOrUndef(tt)?_.removeAttribute(et):_.setAttribute(et,tt)});const _e=j.style||{};return Object.keys(_e).forEach(et=>{_.style[et]=_e[et]}),_.width=_.width,delete _[EXPANDO_KEY],!0}addEventListener(o,_,j){this.removeEventListener(o,_);const _e=o.$proxies||(o.$proxies={}),tt={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[_]||createProxyAndListen;_e[_]=tt(o,_,j)}removeEventListener(o,_){const j=o.$proxies||(o.$proxies={}),_e=j[_];if(!_e)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[_]||removeListener)(o,_,_e),j[_]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(o,_,j,_e){return getMaximumSize(o,_,j,_e)}isAttached(o){const _=o&&_getParentNode(o);return!!(_&&_.isConnected)}}function _detectPlatform(i){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var fn;let Element$1=(fn=class{constructor(){gr(this,"x");gr(this,"y");gr(this,"active",!1);gr(this,"options");gr(this,"$animations")}tooltipPosition(o){const{x:_,y:j}=this.getProps(["x","y"],o);return{x:_,y:j}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(o,_){const j=this.$animations;if(!_||!j)return this;const _e={};return o.forEach(et=>{_e[et]=j[et]&&j[et].active()?j[et]._to:this[et]}),_e}},gr(fn,"defaults",{}),gr(fn,"defaultRoutes"),fn);function autoSkip(i,o){const _=i.options.ticks,j=determineMaxTicks(i),_e=Math.min(_.maxTicksLimit||j,j),et=_.major.enabled?getMajorIndices(o):[],tt=et.length,rt=et[0],nt=et[tt-1],st=[];if(tt>_e)return skipMajors(o,st,et,tt/_e),st;const it=calculateSpacing(et,o,_e);if(tt>0){let at,ot;const ct=tt>1?Math.round((nt-rt)/(tt-1)):null;for(skip(o,st,it,isNullOrUndef(ct)?0:rt-ct,rt),at=0,ot=tt-1;at<ot;at++)skip(o,st,it,et[at],et[at+1]);return skip(o,st,it,nt,isNullOrUndef(ct)?o.length:nt+ct),st}return skip(o,st,it),st}function determineMaxTicks(i){const o=i.options.offset,_=i._tickSize(),j=i._length/_+(o?0:1),_e=i._maxLength/_;return Math.floor(Math.min(j,_e))}function calculateSpacing(i,o,_){const j=getEvenSpacing(i),_e=o.length/_;if(!j)return Math.max(_e,1);const et=_factorize(j);for(let tt=0,rt=et.length-1;tt<rt;tt++){const nt=et[tt];if(nt>_e)return nt}return Math.max(_e,1)}function getMajorIndices(i){const o=[];let _,j;for(_=0,j=i.length;_<j;_++)i[_].major&&o.push(_);return o}function skipMajors(i,o,_,j){let _e=0,et=_[0],tt;for(j=Math.ceil(j),tt=0;tt<i.length;tt++)tt===et&&(o.push(i[tt]),_e++,et=_[_e*j])}function skip(i,o,_,j,_e){const et=valueOrDefault(j,0),tt=Math.min(valueOrDefault(_e,i.length),i.length);let rt=0,nt,st,it;for(_=Math.ceil(_),_e&&(nt=_e-j,_=nt/Math.floor(nt/_)),it=et;it<0;)rt++,it=Math.round(et+rt*_);for(st=Math.max(et,0);st<tt;st++)st===it&&(o.push(i[st]),rt++,it=Math.round(et+rt*_))}function getEvenSpacing(i){const o=i.length;let _,j;if(o<2)return!1;for(j=i[0],_=1;_<o;++_)if(i[_]-i[_-1]!==j)return!1;return j}const reverseAlign=i=>i==="left"?"right":i==="right"?"left":i,offsetFromEdge=(i,o,_)=>o==="top"||o==="left"?i[o]+_:i[o]-_,getTicksLimit=(i,o)=>Math.min(o||i,i);function sample(i,o){const _=[],j=i.length/o,_e=i.length;let et=0;for(;et<_e;et+=j)_.push(i[Math.floor(et)]);return _}function getPixelForGridLine(i,o,_){const j=i.ticks.length,_e=Math.min(o,j-1),et=i._startPixel,tt=i._endPixel,rt=1e-6;let nt=i.getPixelForTick(_e),st;if(!(_&&(j===1?st=Math.max(nt-et,tt-nt):o===0?st=(i.getPixelForTick(1)-nt)/2:st=(nt-i.getPixelForTick(_e-1))/2,nt+=_e<o?st:-st,nt<et-rt||nt>tt+rt)))return nt}function garbageCollect(i,o){each(i,_=>{const j=_.gc,_e=j.length/2;let et;if(_e>o){for(et=0;et<_e;++et)delete _.data[j[et]];j.splice(0,_e)}})}function getTickMarkLength(i){return i.drawTicks?i.tickLength:0}function getTitleHeight(i,o){if(!i.display)return 0;const _=toFont(i.font,o),j=toPadding(i.padding);return(isArray(i.text)?i.text.length:1)*_.lineHeight+j.height}function createScaleContext(i,o){return createContext(i,{scale:o,type:"scale"})}function createTickContext(i,o,_){return createContext(i,{tick:_,index:o,type:"tick"})}function titleAlign(i,o,_){let j=_toLeftRightCenter(i);return(_&&o!=="right"||!_&&o==="right")&&(j=reverseAlign(j)),j}function titleArgs(i,o,_,j){const{top:_e,left:et,bottom:tt,right:rt,chart:nt}=i,{chartArea:st,scales:it}=nt;let at=0,ot,ct,ut;const lt=tt-_e,pt=rt-et;if(i.isHorizontal()){if(ct=_alignStartEnd(j,et,rt),isObject(_)){const dt=Object.keys(_)[0],ht=_[dt];ut=it[dt].getPixelForValue(ht)+lt-o}else _==="center"?ut=(st.bottom+st.top)/2+lt-o:ut=offsetFromEdge(i,_,o);ot=rt-et}else{if(isObject(_)){const dt=Object.keys(_)[0],ht=_[dt];ct=it[dt].getPixelForValue(ht)-pt+o}else _==="center"?ct=(st.left+st.right)/2-pt+o:ct=offsetFromEdge(i,_,o);ut=_alignStartEnd(j,tt,_e),at=_==="left"?-HALF_PI:HALF_PI}return{titleX:ct,titleY:ut,maxWidth:ot,rotation:at}}class Scale extends Element$1{constructor(o){super(),this.id=o.id,this.type=o.type,this.options=void 0,this.ctx=o.ctx,this.chart=o.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(o){this.options=o.setContext(this.getContext()),this.axis=o.axis,this._userMin=this.parse(o.min),this._userMax=this.parse(o.max),this._suggestedMin=this.parse(o.suggestedMin),this._suggestedMax=this.parse(o.suggestedMax)}parse(o,_){return o}getUserBounds(){let{_userMin:o,_userMax:_,_suggestedMin:j,_suggestedMax:_e}=this;return o=finiteOrDefault(o,Number.POSITIVE_INFINITY),_=finiteOrDefault(_,Number.NEGATIVE_INFINITY),j=finiteOrDefault(j,Number.POSITIVE_INFINITY),_e=finiteOrDefault(_e,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(o,j),max:finiteOrDefault(_,_e),minDefined:isNumberFinite(o),maxDefined:isNumberFinite(_)}}getMinMax(o){let{min:_,max:j,minDefined:_e,maxDefined:et}=this.getUserBounds(),tt;if(_e&&et)return{min:_,max:j};const rt=this.getMatchingVisibleMetas();for(let nt=0,st=rt.length;nt<st;++nt)tt=rt[nt].controller.getMinMax(this,o),_e||(_=Math.min(_,tt.min)),et||(j=Math.max(j,tt.max));return _=et&&_>j?j:_,j=_e&&_>j?_:j,{min:finiteOrDefault(_,finiteOrDefault(j,_)),max:finiteOrDefault(j,finiteOrDefault(_,j))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const o=this.chart.data;return this.options.labels||(this.isHorizontal()?o.xLabels:o.yLabels)||o.labels||[]}getLabelItems(o=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(o))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(o,_,j){const{beginAtZero:_e,grace:et,ticks:tt}=this.options,rt=tt.sampleSize;this.beforeUpdate(),this.maxWidth=o,this.maxHeight=_,this._margins=j=Object.assign({left:0,right:0,top:0,bottom:0},j),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+j.left+j.right:this.height+j.top+j.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,et,_e),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const nt=rt<this.ticks.length;this._convertTicksToLabels(nt?sample(this.ticks,rt):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),tt.display&&(tt.autoSkip||tt.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),nt&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let o=this.options.reverse,_,j;this.isHorizontal()?(_=this.left,j=this.right):(_=this.top,j=this.bottom,o=!o),this._startPixel=_,this._endPixel=j,this._reversePixels=o,this._length=j-_,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(o){this.chart.notifyPlugins(o,this.getContext()),callback(this.options[o],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(o){const _=this.options.ticks;let j,_e,et;for(j=0,_e=o.length;j<_e;j++)et=o[j],et.label=callback(_.callback,[et.value,j,o],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const o=this.options,_=o.ticks,j=getTicksLimit(this.ticks.length,o.ticks.maxTicksLimit),_e=_.minRotation||0,et=_.maxRotation;let tt=_e,rt,nt,st;if(!this._isVisible()||!_.display||_e>=et||j<=1||!this.isHorizontal()){this.labelRotation=_e;return}const it=this._getLabelSizes(),at=it.widest.width,ot=it.highest.height,ct=_limitValue(this.chart.width-at,0,this.maxWidth);rt=o.offset?this.maxWidth/j:ct/(j-1),at+6>rt&&(rt=ct/(j-(o.offset?.5:1)),nt=this.maxHeight-getTickMarkLength(o.grid)-_.padding-getTitleHeight(o.title,this.chart.options.font),st=Math.sqrt(at*at+ot*ot),tt=toDegrees(Math.min(Math.asin(_limitValue((it.highest.height+6)/rt,-1,1)),Math.asin(_limitValue(nt/st,-1,1))-Math.asin(_limitValue(ot/st,-1,1)))),tt=Math.max(_e,Math.min(et,tt))),this.labelRotation=tt}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const o={width:0,height:0},{chart:_,options:{ticks:j,title:_e,grid:et}}=this,tt=this._isVisible(),rt=this.isHorizontal();if(tt){const nt=getTitleHeight(_e,_.options.font);if(rt?(o.width=this.maxWidth,o.height=getTickMarkLength(et)+nt):(o.height=this.maxHeight,o.width=getTickMarkLength(et)+nt),j.display&&this.ticks.length){const{first:st,last:it,widest:at,highest:ot}=this._getLabelSizes(),ct=j.padding*2,ut=toRadians(this.labelRotation),lt=Math.cos(ut),pt=Math.sin(ut);if(rt){const dt=j.mirror?0:pt*at.width+lt*ot.height;o.height=Math.min(this.maxHeight,o.height+dt+ct)}else{const dt=j.mirror?0:lt*at.width+pt*ot.height;o.width=Math.min(this.maxWidth,o.width+dt+ct)}this._calculatePadding(st,it,pt,lt)}}this._handleMargins(),rt?(this.width=this._length=_.width-this._margins.left-this._margins.right,this.height=o.height):(this.width=o.width,this.height=this._length=_.height-this._margins.top-this._margins.bottom)}_calculatePadding(o,_,j,_e){const{ticks:{align:et,padding:tt},position:rt}=this.options,nt=this.labelRotation!==0,st=rt!=="top"&&this.axis==="x";if(this.isHorizontal()){const it=this.getPixelForTick(0)-this.left,at=this.right-this.getPixelForTick(this.ticks.length-1);let ot=0,ct=0;nt?st?(ot=_e*o.width,ct=j*_.height):(ot=j*o.height,ct=_e*_.width):et==="start"?ct=_.width:et==="end"?ot=o.width:et!=="inner"&&(ot=o.width/2,ct=_.width/2),this.paddingLeft=Math.max((ot-it+tt)*this.width/(this.width-it),0),this.paddingRight=Math.max((ct-at+tt)*this.width/(this.width-at),0)}else{let it=_.height/2,at=o.height/2;et==="start"?(it=0,at=o.height):et==="end"&&(it=_.height,at=0),this.paddingTop=it+tt,this.paddingBottom=at+tt}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:o,position:_}=this.options;return _==="top"||_==="bottom"||o==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(o){this.beforeTickToLabelConversion(),this.generateTickLabels(o);let _,j;for(_=0,j=o.length;_<j;_++)isNullOrUndef(o[_].label)&&(o.splice(_,1),j--,_--);this.afterTickToLabelConversion()}_getLabelSizes(){let o=this._labelSizes;if(!o){const _=this.options.ticks.sampleSize;let j=this.ticks;_<j.length&&(j=sample(j,_)),this._labelSizes=o=this._computeLabelSizes(j,j.length,this.options.ticks.maxTicksLimit)}return o}_computeLabelSizes(o,_,j){const{ctx:_e,_longestTextCache:et}=this,tt=[],rt=[],nt=Math.floor(_/getTicksLimit(_,j));let st=0,it=0,at,ot,ct,ut,lt,pt,dt,ht,ft,mt,xt;for(at=0;at<_;at+=nt){if(ut=o[at].label,lt=this._resolveTickFontOptions(at),_e.font=pt=lt.string,dt=et[pt]=et[pt]||{data:{},gc:[]},ht=lt.lineHeight,ft=mt=0,!isNullOrUndef(ut)&&!isArray(ut))ft=_measureText(_e,dt.data,dt.gc,ft,ut),mt=ht;else if(isArray(ut))for(ot=0,ct=ut.length;ot<ct;++ot)xt=ut[ot],!isNullOrUndef(xt)&&!isArray(xt)&&(ft=_measureText(_e,dt.data,dt.gc,ft,xt),mt+=ht);tt.push(ft),rt.push(mt),st=Math.max(ft,st),it=Math.max(mt,it)}garbageCollect(et,_);const gt=tt.indexOf(st),yt=rt.indexOf(it),_t=Et=>({width:tt[Et]||0,height:rt[Et]||0});return{first:_t(0),last:_t(_-1),widest:_t(gt),highest:_t(yt),widths:tt,heights:rt}}getLabelForValue(o){return o}getPixelForValue(o,_){return NaN}getValueForPixel(o){}getPixelForTick(o){const _=this.ticks;return o<0||o>_.length-1?null:this.getPixelForValue(_[o].value)}getPixelForDecimal(o){this._reversePixels&&(o=1-o);const _=this._startPixel+o*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,_,0):_)}getDecimalForPixel(o){const _=(o-this._startPixel)/this._length;return this._reversePixels?1-_:_}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:o,max:_}=this;return o<0&&_<0?_:o>0&&_>0?o:0}getContext(o){const _=this.ticks||[];if(o>=0&&o<_.length){const j=_[o];return j.$context||(j.$context=createTickContext(this.getContext(),o,j))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const o=this.options.ticks,_=toRadians(this.labelRotation),j=Math.abs(Math.cos(_)),_e=Math.abs(Math.sin(_)),et=this._getLabelSizes(),tt=o.autoSkipPadding||0,rt=et?et.widest.width+tt:0,nt=et?et.highest.height+tt:0;return this.isHorizontal()?nt*j>rt*_e?rt/j:nt/_e:nt*_e<rt*j?nt/j:rt/_e}_isVisible(){const o=this.options.display;return o!=="auto"?!!o:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(o){const _=this.axis,j=this.chart,_e=this.options,{grid:et,position:tt,border:rt}=_e,nt=et.offset,st=this.isHorizontal(),at=this.ticks.length+(nt?1:0),ot=getTickMarkLength(et),ct=[],ut=rt.setContext(this.getContext()),lt=ut.display?ut.width:0,pt=lt/2,dt=function(St){return _alignPixel(j,St,lt)};let ht,ft,mt,xt,gt,yt,_t,Et,wt,$t,jt,Tt;if(tt==="top")ht=dt(this.bottom),yt=this.bottom-ot,Et=ht-pt,$t=dt(o.top)+pt,Tt=o.bottom;else if(tt==="bottom")ht=dt(this.top),$t=o.top,Tt=dt(o.bottom)-pt,yt=ht+pt,Et=this.top+ot;else if(tt==="left")ht=dt(this.right),gt=this.right-ot,_t=ht-pt,wt=dt(o.left)+pt,jt=o.right;else if(tt==="right")ht=dt(this.left),wt=o.left,jt=dt(o.right)-pt,gt=ht+pt,_t=this.left+ot;else if(_==="x"){if(tt==="center")ht=dt((o.top+o.bottom)/2+.5);else if(isObject(tt)){const St=Object.keys(tt)[0],Rt=tt[St];ht=dt(this.chart.scales[St].getPixelForValue(Rt))}$t=o.top,Tt=o.bottom,yt=ht+pt,Et=yt+ot}else if(_==="y"){if(tt==="center")ht=dt((o.left+o.right)/2);else if(isObject(tt)){const St=Object.keys(tt)[0],Rt=tt[St];ht=dt(this.chart.scales[St].getPixelForValue(Rt))}gt=ht-pt,_t=gt-ot,wt=o.left,jt=o.right}const kt=valueOrDefault(_e.ticks.maxTicksLimit,at),Pt=Math.max(1,Math.ceil(at/kt));for(ft=0;ft<at;ft+=Pt){const St=this.getContext(ft),Rt=et.setContext(St),bt=rt.setContext(St),vt=Rt.lineWidth,At=Rt.color,Ot=bt.dash||[],Ct=bt.dashOffset,Lt=Rt.tickWidth,It=Rt.tickColor,Dt=Rt.tickBorderDash||[],Zt=Rt.tickBorderDashOffset;mt=getPixelForGridLine(this,ft,nt),mt!==void 0&&(xt=_alignPixel(j,mt,vt),st?gt=_t=wt=jt=xt:yt=Et=$t=Tt=xt,ct.push({tx1:gt,ty1:yt,tx2:_t,ty2:Et,x1:wt,y1:$t,x2:jt,y2:Tt,width:vt,color:At,borderDash:Ot,borderDashOffset:Ct,tickWidth:Lt,tickColor:It,tickBorderDash:Dt,tickBorderDashOffset:Zt}))}return this._ticksLength=at,this._borderValue=ht,ct}_computeLabelItems(o){const _=this.axis,j=this.options,{position:_e,ticks:et}=j,tt=this.isHorizontal(),rt=this.ticks,{align:nt,crossAlign:st,padding:it,mirror:at}=et,ot=getTickMarkLength(j.grid),ct=ot+it,ut=at?-it:ct,lt=-toRadians(this.labelRotation),pt=[];let dt,ht,ft,mt,xt,gt,yt,_t,Et,wt,$t,jt,Tt="middle";if(_e==="top")gt=this.bottom-ut,yt=this._getXAxisLabelAlignment();else if(_e==="bottom")gt=this.top+ut,yt=this._getXAxisLabelAlignment();else if(_e==="left"){const Pt=this._getYAxisLabelAlignment(ot);yt=Pt.textAlign,xt=Pt.x}else if(_e==="right"){const Pt=this._getYAxisLabelAlignment(ot);yt=Pt.textAlign,xt=Pt.x}else if(_==="x"){if(_e==="center")gt=(o.top+o.bottom)/2+ct;else if(isObject(_e)){const Pt=Object.keys(_e)[0],St=_e[Pt];gt=this.chart.scales[Pt].getPixelForValue(St)+ct}yt=this._getXAxisLabelAlignment()}else if(_==="y"){if(_e==="center")xt=(o.left+o.right)/2-ct;else if(isObject(_e)){const Pt=Object.keys(_e)[0],St=_e[Pt];xt=this.chart.scales[Pt].getPixelForValue(St)}yt=this._getYAxisLabelAlignment(ot).textAlign}_==="y"&&(nt==="start"?Tt="top":nt==="end"&&(Tt="bottom"));const kt=this._getLabelSizes();for(dt=0,ht=rt.length;dt<ht;++dt){ft=rt[dt],mt=ft.label;const Pt=et.setContext(this.getContext(dt));_t=this.getPixelForTick(dt)+et.labelOffset,Et=this._resolveTickFontOptions(dt),wt=Et.lineHeight,$t=isArray(mt)?mt.length:1;const St=$t/2,Rt=Pt.color,bt=Pt.textStrokeColor,vt=Pt.textStrokeWidth;let At=yt;tt?(xt=_t,yt==="inner"&&(dt===ht-1?At=this.options.reverse?"left":"right":dt===0?At=this.options.reverse?"right":"left":At="center"),_e==="top"?st==="near"||lt!==0?jt=-$t*wt+wt/2:st==="center"?jt=-kt.highest.height/2-St*wt+wt:jt=-kt.highest.height+wt/2:st==="near"||lt!==0?jt=wt/2:st==="center"?jt=kt.highest.height/2-St*wt:jt=kt.highest.height-$t*wt,at&&(jt*=-1),lt!==0&&!Pt.showLabelBackdrop&&(xt+=wt/2*Math.sin(lt))):(gt=_t,jt=(1-$t)*wt/2);let Ot;if(Pt.showLabelBackdrop){const Ct=toPadding(Pt.backdropPadding),Lt=kt.heights[dt],It=kt.widths[dt];let Dt=jt-Ct.top,Zt=0-Ct.left;switch(Tt){case"middle":Dt-=Lt/2;break;case"bottom":Dt-=Lt;break}switch(yt){case"center":Zt-=It/2;break;case"right":Zt-=It;break;case"inner":dt===ht-1?Zt-=It:dt>0&&(Zt-=It/2);break}Ot={left:Zt,top:Dt,width:It+Ct.width,height:Lt+Ct.height,color:Pt.backdropColor}}pt.push({label:mt,font:Et,textOffset:jt,options:{rotation:lt,color:Rt,strokeColor:bt,strokeWidth:vt,textAlign:At,textBaseline:Tt,translation:[xt,gt],backdrop:Ot}})}return pt}_getXAxisLabelAlignment(){const{position:o,ticks:_}=this.options;if(-toRadians(this.labelRotation))return o==="top"?"left":"right";let _e="center";return _.align==="start"?_e="left":_.align==="end"?_e="right":_.align==="inner"&&(_e="inner"),_e}_getYAxisLabelAlignment(o){const{position:_,ticks:{crossAlign:j,mirror:_e,padding:et}}=this.options,tt=this._getLabelSizes(),rt=o+et,nt=tt.widest.width;let st,it;return _==="left"?_e?(it=this.right+et,j==="near"?st="left":j==="center"?(st="center",it+=nt/2):(st="right",it+=nt)):(it=this.right-rt,j==="near"?st="right":j==="center"?(st="center",it-=nt/2):(st="left",it=this.left)):_==="right"?_e?(it=this.left+et,j==="near"?st="right":j==="center"?(st="center",it-=nt/2):(st="left",it-=nt)):(it=this.left+rt,j==="near"?st="left":j==="center"?(st="center",it+=nt/2):(st="right",it=this.right)):st="right",{textAlign:st,x:it}}_computeLabelArea(){if(this.options.ticks.mirror)return;const o=this.chart,_=this.options.position;if(_==="left"||_==="right")return{top:0,left:this.left,bottom:o.height,right:this.right};if(_==="top"||_==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:o.width}}drawBackground(){const{ctx:o,options:{backgroundColor:_},left:j,top:_e,width:et,height:tt}=this;_&&(o.save(),o.fillStyle=_,o.fillRect(j,_e,et,tt),o.restore())}getLineWidthForValue(o){const _=this.options.grid;if(!this._isVisible()||!_.display)return 0;const _e=this.ticks.findIndex(et=>et.value===o);return _e>=0?_.setContext(this.getContext(_e)).lineWidth:0}drawGrid(o){const _=this.options.grid,j=this.ctx,_e=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(o));let et,tt;const rt=(nt,st,it)=>{!it.width||!it.color||(j.save(),j.lineWidth=it.width,j.strokeStyle=it.color,j.setLineDash(it.borderDash||[]),j.lineDashOffset=it.borderDashOffset,j.beginPath(),j.moveTo(nt.x,nt.y),j.lineTo(st.x,st.y),j.stroke(),j.restore())};if(_.display)for(et=0,tt=_e.length;et<tt;++et){const nt=_e[et];_.drawOnChartArea&&rt({x:nt.x1,y:nt.y1},{x:nt.x2,y:nt.y2},nt),_.drawTicks&&rt({x:nt.tx1,y:nt.ty1},{x:nt.tx2,y:nt.ty2},{color:nt.tickColor,width:nt.tickWidth,borderDash:nt.tickBorderDash,borderDashOffset:nt.tickBorderDashOffset})}}drawBorder(){const{chart:o,ctx:_,options:{border:j,grid:_e}}=this,et=j.setContext(this.getContext()),tt=j.display?et.width:0;if(!tt)return;const rt=_e.setContext(this.getContext(0)).lineWidth,nt=this._borderValue;let st,it,at,ot;this.isHorizontal()?(st=_alignPixel(o,this.left,tt)-tt/2,it=_alignPixel(o,this.right,rt)+rt/2,at=ot=nt):(at=_alignPixel(o,this.top,tt)-tt/2,ot=_alignPixel(o,this.bottom,rt)+rt/2,st=it=nt),_.save(),_.lineWidth=et.width,_.strokeStyle=et.color,_.beginPath(),_.moveTo(st,at),_.lineTo(it,ot),_.stroke(),_.restore()}drawLabels(o){if(!this.options.ticks.display)return;const j=this.ctx,_e=this._computeLabelArea();_e&&clipArea(j,_e);const et=this.getLabelItems(o);for(const tt of et){const rt=tt.options,nt=tt.font,st=tt.label,it=tt.textOffset;renderText(j,st,0,it,nt,rt)}_e&&unclipArea(j)}drawTitle(){const{ctx:o,options:{position:_,title:j,reverse:_e}}=this;if(!j.display)return;const et=toFont(j.font),tt=toPadding(j.padding),rt=j.align;let nt=et.lineHeight/2;_==="bottom"||_==="center"||isObject(_)?(nt+=tt.bottom,isArray(j.text)&&(nt+=et.lineHeight*(j.text.length-1))):nt+=tt.top;const{titleX:st,titleY:it,maxWidth:at,rotation:ot}=titleArgs(this,nt,_,rt);renderText(o,j.text,0,0,et,{color:j.color,maxWidth:at,rotation:ot,textAlign:titleAlign(rt,_,_e),textBaseline:"middle",translation:[st,it]})}draw(o){this._isVisible()&&(this.drawBackground(),this.drawGrid(o),this.drawBorder(),this.drawTitle(),this.drawLabels(o))}_layers(){const o=this.options,_=o.ticks&&o.ticks.z||0,j=valueOrDefault(o.grid&&o.grid.z,-1),_e=valueOrDefault(o.border&&o.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:_,draw:et=>{this.draw(et)}}]:[{z:j,draw:et=>{this.drawBackground(),this.drawGrid(et),this.drawTitle()}},{z:_e,draw:()=>{this.drawBorder()}},{z:_,draw:et=>{this.drawLabels(et)}}]}getMatchingVisibleMetas(o){const _=this.chart.getSortedVisibleDatasetMetas(),j=this.axis+"AxisID",_e=[];let et,tt;for(et=0,tt=_.length;et<tt;++et){const rt=_[et];rt[j]===this.id&&(!o||rt.type===o)&&_e.push(rt)}return _e}_resolveTickFontOptions(o){const _=this.options.ticks.setContext(this.getContext(o));return toFont(_.font)}_maxDigits(){const o=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/o}}class TypedRegistry{constructor(o,_,j){this.type=o,this.scope=_,this.override=j,this.items=Object.create(null)}isForType(o){return Object.prototype.isPrototypeOf.call(this.type.prototype,o.prototype)}register(o){const _=Object.getPrototypeOf(o);let j;isIChartComponent(_)&&(j=this.register(_));const _e=this.items,et=o.id,tt=this.scope+"."+et;if(!et)throw new Error("class does not have id: "+o);return et in _e||(_e[et]=o,registerDefaults(o,tt,j),this.override&&defaults.override(o.id,o.overrides)),tt}get(o){return this.items[o]}unregister(o){const _=this.items,j=o.id,_e=this.scope;j in _&&delete _[j],_e&&j in defaults[_e]&&(delete defaults[_e][j],this.override&&delete overrides[j])}}function registerDefaults(i,o,_){const j=merge(Object.create(null),[_?defaults.get(_):{},defaults.get(o),i.defaults]);defaults.set(o,j),i.defaultRoutes&&routeDefaults(o,i.defaultRoutes),i.descriptors&&defaults.describe(o,i.descriptors)}function routeDefaults(i,o){Object.keys(o).forEach(_=>{const j=_.split("."),_e=j.pop(),et=[i].concat(j).join("."),tt=o[_].split("."),rt=tt.pop(),nt=tt.join(".");defaults.route(et,_e,nt,rt)})}function isIChartComponent(i){return"id"in i&&"defaults"in i}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...o){this._each("register",o)}remove(...o){this._each("unregister",o)}addControllers(...o){this._each("register",o,this.controllers)}addElements(...o){this._each("register",o,this.elements)}addPlugins(...o){this._each("register",o,this.plugins)}addScales(...o){this._each("register",o,this.scales)}getController(o){return this._get(o,this.controllers,"controller")}getElement(o){return this._get(o,this.elements,"element")}getPlugin(o){return this._get(o,this.plugins,"plugin")}getScale(o){return this._get(o,this.scales,"scale")}removeControllers(...o){this._each("unregister",o,this.controllers)}removeElements(...o){this._each("unregister",o,this.elements)}removePlugins(...o){this._each("unregister",o,this.plugins)}removeScales(...o){this._each("unregister",o,this.scales)}_each(o,_,j){[..._].forEach(_e=>{const et=j||this._getRegistryForType(_e);j||et.isForType(_e)||et===this.plugins&&_e.id?this._exec(o,et,_e):each(_e,tt=>{const rt=j||this._getRegistryForType(tt);this._exec(o,rt,tt)})})}_exec(o,_,j){const _e=_capitalize(o);callback(j["before"+_e],[],j),_[o](j),callback(j["after"+_e],[],j)}_getRegistryForType(o){for(let _=0;_<this._typedRegistries.length;_++){const j=this._typedRegistries[_];if(j.isForType(o))return j}return this.plugins}_get(o,_,j){const _e=_.get(o);if(_e===void 0)throw new Error('"'+o+'" is not a registered '+j+".");return _e}}var registry=new Registry;class PluginService{constructor(){this._init=void 0}notify(o,_,j,_e){if(_==="beforeInit"&&(this._init=this._createDescriptors(o,!0),this._notify(this._init,o,"install")),this._init===void 0)return;const et=_e?this._descriptors(o).filter(_e):this._descriptors(o),tt=this._notify(et,o,_,j);return _==="afterDestroy"&&(this._notify(et,o,"stop"),this._notify(this._init,o,"uninstall"),this._init=void 0),tt}_notify(o,_,j,_e){_e=_e||{};for(const et of o){const tt=et.plugin,rt=tt[j],nt=[_,_e,et.options];if(callback(rt,nt,tt)===!1&&_e.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(o){if(this._cache)return this._cache;const _=this._cache=this._createDescriptors(o);return this._notifyStateChanges(o),_}_createDescriptors(o,_){const j=o&&o.config,_e=valueOrDefault(j.options&&j.options.plugins,{}),et=allPlugins(j);return _e===!1&&!_?[]:createDescriptors(o,et,_e,_)}_notifyStateChanges(o){const _=this._oldCache||[],j=this._cache,_e=(et,tt)=>et.filter(rt=>!tt.some(nt=>rt.plugin.id===nt.plugin.id));this._notify(_e(_,j),o,"stop"),this._notify(_e(j,_),o,"start")}}function allPlugins(i){const o={},_=[],j=Object.keys(registry.plugins.items);for(let et=0;et<j.length;et++)_.push(registry.getPlugin(j[et]));const _e=i.plugins||[];for(let et=0;et<_e.length;et++){const tt=_e[et];_.indexOf(tt)===-1&&(_.push(tt),o[tt.id]=!0)}return{plugins:_,localIds:o}}function getOpts(i,o){return!o&&i===!1?null:i===!0?{}:i}function createDescriptors(i,{plugins:o,localIds:_},j,_e){const et=[],tt=i.getContext();for(const rt of o){const nt=rt.id,st=getOpts(j[nt],_e);st!==null&&et.push({plugin:rt,options:pluginOpts(i.config,{plugin:rt,local:_[nt]},st,tt)})}return et}function pluginOpts(i,{plugin:o,local:_},j,_e){const et=i.pluginScopeKeys(o),tt=i.getOptionScopes(j,et);return _&&o.defaults&&tt.push(o.defaults),i.createResolver(tt,_e,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(i,o){const _=defaults.datasets[i]||{};return((o.datasets||{})[i]||{}).indexAxis||o.indexAxis||_.indexAxis||"x"}function getAxisFromDefaultScaleID(i,o){let _=i;return i==="_index_"?_=o:i==="_value_"&&(_=o==="x"?"y":"x"),_}function getDefaultScaleIDFromAxis(i,o){return i===o?"_index_":"_value_"}function idMatchesAxis(i){if(i==="x"||i==="y"||i==="r")return i}function axisFromPosition(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function determineAxis(i,...o){if(idMatchesAxis(i))return i;for(const _ of o){const j=_.axis||axisFromPosition(_.position)||i.length>1&&idMatchesAxis(i[0].toLowerCase());if(j)return j}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(i,o,_){if(_[o+"AxisID"]===i)return{axis:o}}function retrieveAxisFromDatasets(i,o){if(o.data&&o.data.datasets){const _=o.data.datasets.filter(j=>j.xAxisID===i||j.yAxisID===i);if(_.length)return getAxisFromDataset(i,"x",_[0])||getAxisFromDataset(i,"y",_[0])}return{}}function mergeScaleConfig(i,o){const _=overrides[i.type]||{scales:{}},j=o.scales||{},_e=getIndexAxis(i.type,o),et=Object.create(null);return Object.keys(j).forEach(tt=>{const rt=j[tt];if(!isObject(rt))return console.error(`Invalid scale configuration for scale: ${tt}`);if(rt._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${tt}`);const nt=determineAxis(tt,rt,retrieveAxisFromDatasets(tt,i),defaults.scales[rt.type]),st=getDefaultScaleIDFromAxis(nt,_e),it=_.scales||{};et[tt]=mergeIf(Object.create(null),[{axis:nt},rt,it[nt],it[st]])}),i.data.datasets.forEach(tt=>{const rt=tt.type||i.type,nt=tt.indexAxis||getIndexAxis(rt,o),it=(overrides[rt]||{}).scales||{};Object.keys(it).forEach(at=>{const ot=getAxisFromDefaultScaleID(at,nt),ct=tt[ot+"AxisID"]||ot;et[ct]=et[ct]||Object.create(null),mergeIf(et[ct],[{axis:ot},j[ct],it[at]])})}),Object.keys(et).forEach(tt=>{const rt=et[tt];mergeIf(rt,[defaults.scales[rt.type],defaults.scale])}),et}function initOptions(i){const o=i.options||(i.options={});o.plugins=valueOrDefault(o.plugins,{}),o.scales=mergeScaleConfig(i,o)}function initData(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function initConfig(i){return i=i||{},i.data=initData(i.data),initOptions(i),i}const keyCache=new Map,keysCached=new Set;function cachedKeys(i,o){let _=keyCache.get(i);return _||(_=o(),keyCache.set(i,_),keysCached.add(_)),_}const addIfFound=(i,o,_)=>{const j=resolveObjectKey(o,_);j!==void 0&&i.add(j)};class Config{constructor(o){this._config=initConfig(o),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(o){this._config.type=o}get data(){return this._config.data}set data(o){this._config.data=initData(o)}get options(){return this._config.options}set options(o){this._config.options=o}get plugins(){return this._config.plugins}update(){const o=this._config;this.clearCache(),initOptions(o)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(o){return cachedKeys(o,()=>[[`datasets.${o}`,""]])}datasetAnimationScopeKeys(o,_){return cachedKeys(`${o}.transition.${_}`,()=>[[`datasets.${o}.transitions.${_}`,`transitions.${_}`],[`datasets.${o}`,""]])}datasetElementScopeKeys(o,_){return cachedKeys(`${o}-${_}`,()=>[[`datasets.${o}.elements.${_}`,`datasets.${o}`,`elements.${_}`,""]])}pluginScopeKeys(o){const _=o.id,j=this.type;return cachedKeys(`${j}-plugin-${_}`,()=>[[`plugins.${_}`,...o.additionalOptionScopes||[]]])}_cachedScopes(o,_){const j=this._scopeCache;let _e=j.get(o);return(!_e||_)&&(_e=new Map,j.set(o,_e)),_e}getOptionScopes(o,_,j){const{options:_e,type:et}=this,tt=this._cachedScopes(o,j),rt=tt.get(_);if(rt)return rt;const nt=new Set;_.forEach(it=>{o&&(nt.add(o),it.forEach(at=>addIfFound(nt,o,at))),it.forEach(at=>addIfFound(nt,_e,at)),it.forEach(at=>addIfFound(nt,overrides[et]||{},at)),it.forEach(at=>addIfFound(nt,defaults,at)),it.forEach(at=>addIfFound(nt,descriptors,at))});const st=Array.from(nt);return st.length===0&&st.push(Object.create(null)),keysCached.has(_)&&tt.set(_,st),st}chartOptionScopes(){const{options:o,type:_}=this;return[o,overrides[_]||{},defaults.datasets[_]||{},{type:_},defaults,descriptors]}resolveNamedOptions(o,_,j,_e=[""]){const et={$shared:!0},{resolver:tt,subPrefixes:rt}=getResolver(this._resolverCache,o,_e);let nt=tt;if(needContext(tt,_)){et.$shared=!1,j=isFunction$1(j)?j():j;const st=this.createResolver(o,j,rt);nt=_attachContext(tt,j,st)}for(const st of _)et[st]=nt[st];return et}createResolver(o,_,j=[""],_e){const{resolver:et}=getResolver(this._resolverCache,o,j);return isObject(_)?_attachContext(et,_,void 0,_e):et}}function getResolver(i,o,_){let j=i.get(o);j||(j=new Map,i.set(o,j));const _e=_.join();let et=j.get(_e);return et||(et={resolver:_createResolver(o,_),subPrefixes:_.filter(rt=>!rt.toLowerCase().includes("hover"))},j.set(_e,et)),et}const hasFunction=i=>isObject(i)&&Object.getOwnPropertyNames(i).some(o=>isFunction$1(i[o]));function needContext(i,o){const{isScriptable:_,isIndexable:j}=_descriptors(i);for(const _e of o){const et=_(_e),tt=j(_e),rt=(tt||et)&&i[_e];if(et&&(isFunction$1(rt)||hasFunction(rt))||tt&&isArray(rt))return!0}return!1}var version="4.5.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(i,o){return i==="top"||i==="bottom"||KNOWN_POSITIONS.indexOf(i)===-1&&o==="x"}function compare2Level(i,o){return function(_,j){return _[i]===j[i]?_[o]-j[o]:_[i]-j[i]}}function onAnimationsComplete(i){const o=i.chart,_=o.options.animation;o.notifyPlugins("afterRender"),callback(_&&_.onComplete,[i],o)}function onAnimationProgress(i){const o=i.chart,_=o.options.animation;callback(_&&_.onProgress,[i],o)}function getCanvas(i){return _isDomSupported()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const instances={},getChart=i=>{const o=getCanvas(i);return Object.values(instances).filter(_=>_.canvas===o).pop()};function moveNumericKeys(i,o,_){const j=Object.keys(i);for(const _e of j){const et=+_e;if(et>=o){const tt=i[_e];delete i[_e],(_>0||et>o)&&(i[et+_]=tt)}}}function determineLastEvent(i,o,_,j){return!_||i.type==="mouseout"?null:j?o:i}var zr;let Chart$1=(zr=class{static register(...o){registry.add(...o),invalidatePlugins()}static unregister(...o){registry.remove(...o),invalidatePlugins()}constructor(o,_){const j=this.config=new Config(_),_e=getCanvas(o),et=getChart(_e);if(et)throw new Error("Canvas is already in use. Chart with ID '"+et.id+"' must be destroyed before the canvas with ID '"+et.canvas.id+"' can be reused.");const tt=j.createResolver(j.chartOptionScopes(),this.getContext());this.platform=new(j.platform||_detectPlatform(_e)),this.platform.updateConfig(j);const rt=this.platform.acquireContext(_e,tt.aspectRatio),nt=rt&&rt.canvas,st=nt&&nt.height,it=nt&&nt.width;if(this.id=uid(),this.ctx=rt,this.canvas=nt,this.width=it,this.height=st,this._options=tt,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(at=>this.update(at),tt.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!rt||!nt){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:o,maintainAspectRatio:_},width:j,height:_e,_aspectRatio:et}=this;return isNullOrUndef(o)?_&&et?et:_e?j/_e:null:o}get data(){return this.config.data}set data(o){this.config.data=o}get options(){return this._options}set options(o){this.config.options=o}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(o,_){animator.running(this)?this._resizeBeforeDraw={width:o,height:_}:this._resize(o,_)}_resize(o,_){const j=this.options,_e=this.canvas,et=j.maintainAspectRatio&&this.aspectRatio,tt=this.platform.getMaximumSize(_e,o,_,et),rt=j.devicePixelRatio||this.platform.getDevicePixelRatio(),nt=this.width?"resize":"attach";this.width=tt.width,this.height=tt.height,this._aspectRatio=this.aspectRatio,retinaScale(this,rt,!0)&&(this.notifyPlugins("resize",{size:tt}),callback(j.onResize,[this,tt],this),this.attached&&this._doResize(nt)&&this.render())}ensureScalesHaveIDs(){const _=this.options.scales||{};each(_,(j,_e)=>{j.id=_e})}buildOrUpdateScales(){const o=this.options,_=o.scales,j=this.scales,_e=Object.keys(j).reduce((tt,rt)=>(tt[rt]=!1,tt),{});let et=[];_&&(et=et.concat(Object.keys(_).map(tt=>{const rt=_[tt],nt=determineAxis(tt,rt),st=nt==="r",it=nt==="x";return{options:rt,dposition:st?"chartArea":it?"bottom":"left",dtype:st?"radialLinear":it?"category":"linear"}}))),each(et,tt=>{const rt=tt.options,nt=rt.id,st=determineAxis(nt,rt),it=valueOrDefault(rt.type,tt.dtype);(rt.position===void 0||positionIsHorizontal(rt.position,st)!==positionIsHorizontal(tt.dposition))&&(rt.position=tt.dposition),_e[nt]=!0;let at=null;if(nt in j&&j[nt].type===it)at=j[nt];else{const ot=registry.getScale(it);at=new ot({id:nt,type:it,ctx:this.ctx,chart:this}),j[at.id]=at}at.init(rt,o)}),each(_e,(tt,rt)=>{tt||delete j[rt]}),each(j,tt=>{layouts.configure(this,tt,tt.options),layouts.addBox(this,tt)})}_updateMetasets(){const o=this._metasets,_=this.data.datasets.length,j=o.length;if(o.sort((_e,et)=>_e.index-et.index),j>_){for(let _e=_;_e<j;++_e)this._destroyDatasetMeta(_e);o.splice(_,j-_)}this._sortedMetasets=o.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:o,data:{datasets:_}}=this;o.length>_.length&&delete this._stacks,o.forEach((j,_e)=>{_.filter(et=>et===j._dataset).length===0&&this._destroyDatasetMeta(_e)})}buildOrUpdateControllers(){const o=[],_=this.data.datasets;let j,_e;for(this._removeUnreferencedMetasets(),j=0,_e=_.length;j<_e;j++){const et=_[j];let tt=this.getDatasetMeta(j);const rt=et.type||this.config.type;if(tt.type&&tt.type!==rt&&(this._destroyDatasetMeta(j),tt=this.getDatasetMeta(j)),tt.type=rt,tt.indexAxis=et.indexAxis||getIndexAxis(rt,this.options),tt.order=et.order||0,tt.index=j,tt.label=""+et.label,tt.visible=this.isDatasetVisible(j),tt.controller)tt.controller.updateIndex(j),tt.controller.linkScales();else{const nt=registry.getController(rt),{datasetElementType:st,dataElementType:it}=defaults.datasets[rt];Object.assign(nt,{dataElementType:registry.getElement(it),datasetElementType:st&&registry.getElement(st)}),tt.controller=new nt(this,j),o.push(tt.controller)}}return this._updateMetasets(),o}_resetElements(){each(this.data.datasets,(o,_)=>{this.getDatasetMeta(_).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(o){const _=this.config;_.update();const j=this._options=_.createResolver(_.chartOptionScopes(),this.getContext()),_e=this._animationsDisabled=!j.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:o,cancelable:!0})===!1)return;const et=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let tt=0;for(let st=0,it=this.data.datasets.length;st<it;st++){const{controller:at}=this.getDatasetMeta(st),ot=!_e&&et.indexOf(at)===-1;at.buildOrUpdateElements(ot),tt=Math.max(+at.getMaxOverflow(),tt)}tt=this._minPadding=j.layout.autoPadding?tt:0,this._updateLayout(tt),_e||each(et,st=>{st.reset()}),this._updateDatasets(o),this.notifyPlugins("afterUpdate",{mode:o}),this._layers.sort(compare2Level("z","_idx"));const{_active:rt,_lastEvent:nt}=this;nt?this._eventHandler(nt,!0):rt.length&&this._updateHoverStyles(rt,rt,!0),this.render()}_updateScales(){each(this.scales,o=>{layouts.removeBox(this,o)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const o=this.options,_=new Set(Object.keys(this._listeners)),j=new Set(o.events);(!setsEqual(_,j)||!!this._responsiveListeners!==o.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:o}=this,_=this._getUniformDataChanges()||[];for(const{method:j,start:_e,count:et}of _){const tt=j==="_removeElements"?-et:et;moveNumericKeys(o,_e,tt)}}_getUniformDataChanges(){const o=this._dataChanges;if(!o||!o.length)return;this._dataChanges=[];const _=this.data.datasets.length,j=et=>new Set(o.filter(tt=>tt[0]===et).map((tt,rt)=>rt+","+tt.splice(1).join(","))),_e=j(0);for(let et=1;et<_;et++)if(!setsEqual(_e,j(et)))return;return Array.from(_e).map(et=>et.split(",")).map(et=>({method:et[1],start:+et[2],count:+et[3]}))}_updateLayout(o){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,o);const _=this.chartArea,j=_.width<=0||_.height<=0;this._layers=[],each(this.boxes,_e=>{j&&_e.position==="chartArea"||(_e.configure&&_e.configure(),this._layers.push(..._e._layers()))},this),this._layers.forEach((_e,et)=>{_e._idx=et}),this.notifyPlugins("afterLayout")}_updateDatasets(o){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:o,cancelable:!0})!==!1){for(let _=0,j=this.data.datasets.length;_<j;++_)this.getDatasetMeta(_).controller.configure();for(let _=0,j=this.data.datasets.length;_<j;++_)this._updateDataset(_,isFunction$1(o)?o({datasetIndex:_}):o);this.notifyPlugins("afterDatasetsUpdate",{mode:o})}}_updateDataset(o,_){const j=this.getDatasetMeta(o),_e={meta:j,index:o,mode:_,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",_e)!==!1&&(j.controller._update(_),_e.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",_e))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let o;if(this._resizeBeforeDraw){const{width:j,height:_e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(j,_e)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const _=this._layers;for(o=0;o<_.length&&_[o].z<=0;++o)_[o].draw(this.chartArea);for(this._drawDatasets();o<_.length;++o)_[o].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(o){const _=this._sortedMetasets,j=[];let _e,et;for(_e=0,et=_.length;_e<et;++_e){const tt=_[_e];(!o||tt.visible)&&j.push(tt)}return j}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const o=this.getSortedVisibleDatasetMetas();for(let _=o.length-1;_>=0;--_)this._drawDataset(o[_]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(o){const _=this.ctx,j={meta:o,index:o.index,cancelable:!0},_e=getDatasetClipArea(this,o);this.notifyPlugins("beforeDatasetDraw",j)!==!1&&(_e&&clipArea(_,_e),o.controller.draw(),_e&&unclipArea(_),j.cancelable=!1,this.notifyPlugins("afterDatasetDraw",j))}isPointInArea(o){return _isPointInArea(o,this.chartArea,this._minPadding)}getElementsAtEventForMode(o,_,j,_e){const et=Interaction.modes[_];return typeof et=="function"?et(this,o,j,_e):[]}getDatasetMeta(o){const _=this.data.datasets[o],j=this._metasets;let _e=j.filter(et=>et&&et._dataset===_).pop();return _e||(_e={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:_&&_.order||0,index:o,_dataset:_,_parsed:[],_sorted:!1},j.push(_e)),_e}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(o){const _=this.data.datasets[o];if(!_)return!1;const j=this.getDatasetMeta(o);return typeof j.hidden=="boolean"?!j.hidden:!_.hidden}setDatasetVisibility(o,_){const j=this.getDatasetMeta(o);j.hidden=!_}toggleDataVisibility(o){this._hiddenIndices[o]=!this._hiddenIndices[o]}getDataVisibility(o){return!this._hiddenIndices[o]}_updateVisibility(o,_,j){const _e=j?"show":"hide",et=this.getDatasetMeta(o),tt=et.controller._resolveAnimations(void 0,_e);defined(_)?(et.data[_].hidden=!j,this.update()):(this.setDatasetVisibility(o,j),tt.update(et,{visible:j}),this.update(rt=>rt.datasetIndex===o?_e:void 0))}hide(o,_){this._updateVisibility(o,_,!1)}show(o,_){this._updateVisibility(o,_,!0)}_destroyDatasetMeta(o){const _=this._metasets[o];_&&_.controller&&_.controller._destroy(),delete this._metasets[o]}_stop(){let o,_;for(this.stop(),animator.remove(this),o=0,_=this.data.datasets.length;o<_;++o)this._destroyDatasetMeta(o)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:o,ctx:_}=this;this._stop(),this.config.clearCache(),o&&(this.unbindEvents(),clearCanvas(o,_),this.platform.releaseContext(_),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...o){return this.canvas.toDataURL(...o)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const o=this._listeners,_=this.platform,j=(et,tt)=>{_.addEventListener(this,et,tt),o[et]=tt},_e=(et,tt,rt)=>{et.offsetX=tt,et.offsetY=rt,this._eventHandler(et)};each(this.options.events,et=>j(et,_e))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const o=this._responsiveListeners,_=this.platform,j=(nt,st)=>{_.addEventListener(this,nt,st),o[nt]=st},_e=(nt,st)=>{o[nt]&&(_.removeEventListener(this,nt,st),delete o[nt])},et=(nt,st)=>{this.canvas&&this.resize(nt,st)};let tt;const rt=()=>{_e("attach",rt),this.attached=!0,this.resize(),j("resize",et),j("detach",tt)};tt=()=>{this.attached=!1,_e("resize",et),this._stop(),this._resize(0,0),j("attach",rt)},_.isAttached(this.canvas)?rt():tt()}unbindEvents(){each(this._listeners,(o,_)=>{this.platform.removeEventListener(this,_,o)}),this._listeners={},each(this._responsiveListeners,(o,_)=>{this.platform.removeEventListener(this,_,o)}),this._responsiveListeners=void 0}updateHoverStyle(o,_,j){const _e=j?"set":"remove";let et,tt,rt,nt;for(_==="dataset"&&(et=this.getDatasetMeta(o[0].datasetIndex),et.controller["_"+_e+"DatasetHoverStyle"]()),rt=0,nt=o.length;rt<nt;++rt){tt=o[rt];const st=tt&&this.getDatasetMeta(tt.datasetIndex).controller;st&&st[_e+"HoverStyle"](tt.element,tt.datasetIndex,tt.index)}}getActiveElements(){return this._active||[]}setActiveElements(o){const _=this._active||[],j=o.map(({datasetIndex:et,index:tt})=>{const rt=this.getDatasetMeta(et);if(!rt)throw new Error("No dataset found at index "+et);return{datasetIndex:et,element:rt.data[tt],index:tt}});!_elementsEqual(j,_)&&(this._active=j,this._lastEvent=null,this._updateHoverStyles(j,_))}notifyPlugins(o,_,j){return this._plugins.notify(this,o,_,j)}isPluginEnabled(o){return this._plugins._cache.filter(_=>_.plugin.id===o).length===1}_updateHoverStyles(o,_,j){const _e=this.options.hover,et=(nt,st)=>nt.filter(it=>!st.some(at=>it.datasetIndex===at.datasetIndex&&it.index===at.index)),tt=et(_,o),rt=j?o:et(o,_);tt.length&&this.updateHoverStyle(tt,_e.mode,!1),rt.length&&_e.mode&&this.updateHoverStyle(rt,_e.mode,!0)}_eventHandler(o,_){const j={event:o,replay:_,cancelable:!0,inChartArea:this.isPointInArea(o)},_e=tt=>(tt.options.events||this.options.events).includes(o.native.type);if(this.notifyPlugins("beforeEvent",j,_e)===!1)return;const et=this._handleEvent(o,_,j.inChartArea);return j.cancelable=!1,this.notifyPlugins("afterEvent",j,_e),(et||j.changed)&&this.render(),this}_handleEvent(o,_,j){const{_active:_e=[],options:et}=this,tt=_,rt=this._getActiveElements(o,_e,j,tt),nt=_isClickEvent(o),st=determineLastEvent(o,this._lastEvent,j,nt);j&&(this._lastEvent=null,callback(et.onHover,[o,rt,this],this),nt&&callback(et.onClick,[o,rt,this],this));const it=!_elementsEqual(rt,_e);return(it||_)&&(this._active=rt,this._updateHoverStyles(rt,_e,_)),this._lastEvent=st,it}_getActiveElements(o,_,j,_e){if(o.type==="mouseout")return[];if(!j)return _;const et=this.options.hover;return this.getElementsAtEventForMode(o,et.mode,et,_e)}},gr(zr,"defaults",defaults),gr(zr,"instances",instances),gr(zr,"overrides",overrides),gr(zr,"registry",registry),gr(zr,"version",version),gr(zr,"getChart",getChart),zr);function invalidatePlugins(){return each(Chart$1.instances,i=>i._plugins.invalidate())}function clipSelf(i,o,_){const{startAngle:j,x:_e,y:et,outerRadius:tt,innerRadius:rt,options:nt}=o,{borderWidth:st,borderJoinStyle:it}=nt,at=Math.min(st/tt,_normalizeAngle(j-_));if(i.beginPath(),i.arc(_e,et,tt-st/2,j+at/2,_-at/2),rt>0){const ot=Math.min(st/rt,_normalizeAngle(j-_));i.arc(_e,et,rt+st/2,_-ot/2,j+ot/2,!0)}else{const ot=Math.min(st/2,tt*_normalizeAngle(j-_));if(it==="round")i.arc(_e,et,ot,_-PI/2,j+PI/2,!0);else if(it==="bevel"){const ct=2*ot*ot,ut=-ct*Math.cos(_+PI/2)+_e,lt=-ct*Math.sin(_+PI/2)+et,pt=ct*Math.cos(j+PI/2)+_e,dt=ct*Math.sin(j+PI/2)+et;i.lineTo(ut,lt),i.lineTo(pt,dt)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function clipArc(i,o,_){const{startAngle:j,pixelMargin:_e,x:et,y:tt,outerRadius:rt,innerRadius:nt}=o;let st=_e/rt;i.beginPath(),i.arc(et,tt,rt,j-st,_+st),nt>_e?(st=_e/nt,i.arc(et,tt,nt,_+st,j-st,!0)):i.arc(et,tt,_e,_+HALF_PI,j-HALF_PI),i.closePath(),i.clip()}function toRadiusCorners(i){return _readValueToProps(i,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(i,o,_,j){const _e=toRadiusCorners(i.options.borderRadius),et=(_-o)/2,tt=Math.min(et,j*o/2),rt=nt=>{const st=(_-Math.min(et,nt))*j/2;return _limitValue(nt,0,Math.min(et,st))};return{outerStart:rt(_e.outerStart),outerEnd:rt(_e.outerEnd),innerStart:_limitValue(_e.innerStart,0,tt),innerEnd:_limitValue(_e.innerEnd,0,tt)}}function rThetaToXY(i,o,_,j){return{x:_+i*Math.cos(o),y:j+i*Math.sin(o)}}function pathArc(i,o,_,j,_e,et){const{x:tt,y:rt,startAngle:nt,pixelMargin:st,innerRadius:it}=o,at=Math.max(o.outerRadius+j+_-st,0),ot=it>0?it+j+_+st:0;let ct=0;const ut=_e-nt;if(j){const Pt=it>0?it-j:0,St=at>0?at-j:0,Rt=(Pt+St)/2,bt=Rt!==0?ut*Rt/(Rt+j):ut;ct=(ut-bt)/2}const lt=Math.max(.001,ut*at-_/PI)/at,pt=(ut-lt)/2,dt=nt+pt+ct,ht=_e-pt-ct,{outerStart:ft,outerEnd:mt,innerStart:xt,innerEnd:gt}=parseBorderRadius$1(o,ot,at,ht-dt),yt=at-ft,_t=at-mt,Et=dt+ft/yt,wt=ht-mt/_t,$t=ot+xt,jt=ot+gt,Tt=dt+xt/$t,kt=ht-gt/jt;if(i.beginPath(),et){const Pt=(Et+wt)/2;if(i.arc(tt,rt,at,Et,Pt),i.arc(tt,rt,at,Pt,wt),mt>0){const vt=rThetaToXY(_t,wt,tt,rt);i.arc(vt.x,vt.y,mt,wt,ht+HALF_PI)}const St=rThetaToXY(jt,ht,tt,rt);if(i.lineTo(St.x,St.y),gt>0){const vt=rThetaToXY(jt,kt,tt,rt);i.arc(vt.x,vt.y,gt,ht+HALF_PI,kt+Math.PI)}const Rt=(ht-gt/ot+(dt+xt/ot))/2;if(i.arc(tt,rt,ot,ht-gt/ot,Rt,!0),i.arc(tt,rt,ot,Rt,dt+xt/ot,!0),xt>0){const vt=rThetaToXY($t,Tt,tt,rt);i.arc(vt.x,vt.y,xt,Tt+Math.PI,dt-HALF_PI)}const bt=rThetaToXY(yt,dt,tt,rt);if(i.lineTo(bt.x,bt.y),ft>0){const vt=rThetaToXY(yt,Et,tt,rt);i.arc(vt.x,vt.y,ft,dt-HALF_PI,Et)}}else{i.moveTo(tt,rt);const Pt=Math.cos(Et)*at+tt,St=Math.sin(Et)*at+rt;i.lineTo(Pt,St);const Rt=Math.cos(wt)*at+tt,bt=Math.sin(wt)*at+rt;i.lineTo(Rt,bt)}i.closePath()}function drawArc(i,o,_,j,_e){const{fullCircles:et,startAngle:tt,circumference:rt}=o;let nt=o.endAngle;if(et){pathArc(i,o,_,j,nt,_e);for(let st=0;st<et;++st)i.fill();isNaN(rt)||(nt=tt+(rt%TAU||TAU))}return pathArc(i,o,_,j,nt,_e),i.fill(),nt}function drawBorder(i,o,_,j,_e){const{fullCircles:et,startAngle:tt,circumference:rt,options:nt}=o,{borderWidth:st,borderJoinStyle:it,borderDash:at,borderDashOffset:ot,borderRadius:ct}=nt,ut=nt.borderAlign==="inner";if(!st)return;i.setLineDash(at||[]),i.lineDashOffset=ot,ut?(i.lineWidth=st*2,i.lineJoin=it||"round"):(i.lineWidth=st,i.lineJoin=it||"bevel");let lt=o.endAngle;if(et){pathArc(i,o,_,j,lt,_e);for(let pt=0;pt<et;++pt)i.stroke();isNaN(rt)||(lt=tt+(rt%TAU||TAU))}ut&&clipArc(i,o,lt),nt.selfJoin&&lt-tt>=PI&&ct===0&&it!=="miter"&&clipSelf(i,o,lt),et||(pathArc(i,o,_,j,lt,_e),i.stroke())}class ArcElement extends Element$1{constructor(_){super();gr(this,"circumference");gr(this,"endAngle");gr(this,"fullCircles");gr(this,"innerRadius");gr(this,"outerRadius");gr(this,"pixelMargin");gr(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,_&&Object.assign(this,_)}inRange(_,j,_e){const et=this.getProps(["x","y"],_e),{angle:tt,distance:rt}=getAngleFromPoint(et,{x:_,y:j}),{startAngle:nt,endAngle:st,innerRadius:it,outerRadius:at,circumference:ot}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],_e),ct=(this.options.spacing+this.options.borderWidth)/2,ut=valueOrDefault(ot,st-nt),lt=_angleBetween(tt,nt,st)&&nt!==st,pt=ut>=TAU||lt,dt=_isBetween(rt,it+ct,at+ct);return pt&&dt}getCenterPoint(_){const{x:j,y:_e,startAngle:et,endAngle:tt,innerRadius:rt,outerRadius:nt}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],_),{offset:st,spacing:it}=this.options,at=(et+tt)/2,ot=(rt+nt+it+st)/2;return{x:j+Math.cos(at)*ot,y:_e+Math.sin(at)*ot}}tooltipPosition(_){return this.getCenterPoint(_)}draw(_){const{options:j,circumference:_e}=this,et=(j.offset||0)/4,tt=(j.spacing||0)/2,rt=j.circular;if(this.pixelMargin=j.borderAlign==="inner"?.33:0,this.fullCircles=_e>TAU?Math.floor(_e/TAU):0,_e===0||this.innerRadius<0||this.outerRadius<0)return;_.save();const nt=(this.startAngle+this.endAngle)/2;_.translate(Math.cos(nt)*et,Math.sin(nt)*et);const st=1-Math.sin(Math.min(PI,_e||0)),it=et*st;_.fillStyle=j.backgroundColor,_.strokeStyle=j.borderColor,drawArc(_,this,it,tt,rt),drawBorder(_,this,it,tt,rt),_.restore()}}gr(ArcElement,"id","arc"),gr(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),gr(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),gr(ArcElement,"descriptors",{_scriptable:!0,_indexable:_=>_!=="borderDash"});function setStyle(i,o,_=o){i.lineCap=valueOrDefault(_.borderCapStyle,o.borderCapStyle),i.setLineDash(valueOrDefault(_.borderDash,o.borderDash)),i.lineDashOffset=valueOrDefault(_.borderDashOffset,o.borderDashOffset),i.lineJoin=valueOrDefault(_.borderJoinStyle,o.borderJoinStyle),i.lineWidth=valueOrDefault(_.borderWidth,o.borderWidth),i.strokeStyle=valueOrDefault(_.borderColor,o.borderColor)}function lineTo(i,o,_){i.lineTo(_.x,_.y)}function getLineMethod(i){return i.stepped?_steppedLineTo:i.tension||i.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(i,o,_={}){const j=i.length,{start:_e=0,end:et=j-1}=_,{start:tt,end:rt}=o,nt=Math.max(_e,tt),st=Math.min(et,rt),it=_e<tt&&et<tt||_e>rt&&et>rt;return{count:j,start:nt,loop:o.loop,ilen:st<nt&&!it?j+st-nt:st-nt}}function pathSegment(i,o,_,j){const{points:_e,options:et}=o,{count:tt,start:rt,loop:nt,ilen:st}=pathVars(_e,_,j),it=getLineMethod(et);let{move:at=!0,reverse:ot}=j||{},ct,ut,lt;for(ct=0;ct<=st;++ct)ut=_e[(rt+(ot?st-ct:ct))%tt],!ut.skip&&(at?(i.moveTo(ut.x,ut.y),at=!1):it(i,lt,ut,ot,et.stepped),lt=ut);return nt&&(ut=_e[(rt+(ot?st:0))%tt],it(i,lt,ut,ot,et.stepped)),!!nt}function fastPathSegment(i,o,_,j){const _e=o.points,{count:et,start:tt,ilen:rt}=pathVars(_e,_,j),{move:nt=!0,reverse:st}=j||{};let it=0,at=0,ot,ct,ut,lt,pt,dt;const ht=mt=>(tt+(st?rt-mt:mt))%et,ft=()=>{lt!==pt&&(i.lineTo(it,pt),i.lineTo(it,lt),i.lineTo(it,dt))};for(nt&&(ct=_e[ht(0)],i.moveTo(ct.x,ct.y)),ot=0;ot<=rt;++ot){if(ct=_e[ht(ot)],ct.skip)continue;const mt=ct.x,xt=ct.y,gt=mt|0;gt===ut?(xt<lt?lt=xt:xt>pt&&(pt=xt),it=(at*it+mt)/++at):(ft(),i.lineTo(mt,xt),ut=gt,at=0,lt=pt=xt),dt=xt}ft()}function _getSegmentMethod(i){const o=i.options,_=o.borderDash&&o.borderDash.length;return!i._decimated&&!i._loop&&!o.tension&&o.cubicInterpolationMode!=="monotone"&&!o.stepped&&!_?fastPathSegment:pathSegment}function _getInterpolationMethod(i){return i.stepped?_steppedInterpolation:i.tension||i.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(i,o,_,j){let _e=o._path;_e||(_e=o._path=new Path2D,o.path(_e,_,j)&&_e.closePath()),setStyle(i,o.options),i.stroke(_e)}function strokePathDirect(i,o,_,j){const{segments:_e,options:et}=o,tt=_getSegmentMethod(o);for(const rt of _e)setStyle(i,et,rt.style),i.beginPath(),tt(i,o,rt,{start:_,end:_+j-1})&&i.closePath(),i.stroke()}const usePath2D=typeof Path2D=="function";function draw(i,o,_,j){usePath2D&&!o.options.segment?strokePathWithCache(i,o,_,j):strokePathDirect(i,o,_,j)}class LineElement extends Element$1{constructor(o){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,o&&Object.assign(this,o)}updateControlPoints(o,_){const j=this.options;if((j.tension||j.cubicInterpolationMode==="monotone")&&!j.stepped&&!this._pointsUpdated){const _e=j.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,j,o,_e,_),this._pointsUpdated=!0}}set points(o){this._points=o,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const o=this.segments,_=this.points;return o.length&&_[o[0].start]}last(){const o=this.segments,_=this.points,j=o.length;return j&&_[o[j-1].end]}interpolate(o,_){const j=this.options,_e=o[_],et=this.points,tt=_boundSegments(this,{property:_,start:_e,end:_e});if(!tt.length)return;const rt=[],nt=_getInterpolationMethod(j);let st,it;for(st=0,it=tt.length;st<it;++st){const{start:at,end:ot}=tt[st],ct=et[at],ut=et[ot];if(ct===ut){rt.push(ct);continue}const lt=Math.abs((_e-ct[_])/(ut[_]-ct[_])),pt=nt(ct,ut,lt,j.stepped);pt[_]=o[_],rt.push(pt)}return rt.length===1?rt[0]:rt}pathSegment(o,_,j){return _getSegmentMethod(this)(o,this,_,j)}path(o,_,j){const _e=this.segments,et=_getSegmentMethod(this);let tt=this._loop;_=_||0,j=j||this.points.length-_;for(const rt of _e)tt&=et(o,this,rt,{start:_,end:_+j-1});return!!tt}draw(o,_,j,_e){const et=this.options||{};(this.points||[]).length&&et.borderWidth&&(o.save(),draw(o,this,j,_e),o.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}gr(LineElement,"id","line"),gr(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),gr(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),gr(LineElement,"descriptors",{_scriptable:!0,_indexable:o=>o!=="borderDash"&&o!=="fill"});function inRange$1(i,o,_,j){const _e=i.options,{[_]:et}=i.getProps([_],j);return Math.abs(o-et)<_e.radius+_e.hitRadius}class PointElement extends Element$1{constructor(_){super();gr(this,"parsed");gr(this,"skip");gr(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,_&&Object.assign(this,_)}inRange(_,j,_e){const et=this.options,{x:tt,y:rt}=this.getProps(["x","y"],_e);return Math.pow(_-tt,2)+Math.pow(j-rt,2)<Math.pow(et.hitRadius+et.radius,2)}inXRange(_,j){return inRange$1(this,_,"x",j)}inYRange(_,j){return inRange$1(this,_,"y",j)}getCenterPoint(_){const{x:j,y:_e}=this.getProps(["x","y"],_);return{x:j,y:_e}}size(_){_=_||this.options||{};let j=_.radius||0;j=Math.max(j,j&&_.hoverRadius||0);const _e=j&&_.borderWidth||0;return(j+_e)*2}draw(_,j){const _e=this.options;this.skip||_e.radius<.1||!_isPointInArea(this,j,this.size(_e)/2)||(_.strokeStyle=_e.borderColor,_.lineWidth=_e.borderWidth,_.fillStyle=_e.backgroundColor,drawPoint(_,_e,this.x,this.y))}getRange(){const _=this.options||{};return _.radius+_.hitRadius}}gr(PointElement,"id","point"),gr(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),gr(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(i,o){const{x:_,y:j,base:_e,width:et,height:tt}=i.getProps(["x","y","base","width","height"],o);let rt,nt,st,it,at;return i.horizontal?(at=tt/2,rt=Math.min(_,_e),nt=Math.max(_,_e),st=j-at,it=j+at):(at=et/2,rt=_-at,nt=_+at,st=Math.min(j,_e),it=Math.max(j,_e)),{left:rt,top:st,right:nt,bottom:it}}function skipOrLimit(i,o,_,j){return i?0:_limitValue(o,_,j)}function parseBorderWidth(i,o,_){const j=i.options.borderWidth,_e=i.borderSkipped,et=toTRBL(j);return{t:skipOrLimit(_e.top,et.top,0,_),r:skipOrLimit(_e.right,et.right,0,o),b:skipOrLimit(_e.bottom,et.bottom,0,_),l:skipOrLimit(_e.left,et.left,0,o)}}function parseBorderRadius(i,o,_){const{enableBorderRadius:j}=i.getProps(["enableBorderRadius"]),_e=i.options.borderRadius,et=toTRBLCorners(_e),tt=Math.min(o,_),rt=i.borderSkipped,nt=j||isObject(_e);return{topLeft:skipOrLimit(!nt||rt.top||rt.left,et.topLeft,0,tt),topRight:skipOrLimit(!nt||rt.top||rt.right,et.topRight,0,tt),bottomLeft:skipOrLimit(!nt||rt.bottom||rt.left,et.bottomLeft,0,tt),bottomRight:skipOrLimit(!nt||rt.bottom||rt.right,et.bottomRight,0,tt)}}function boundingRects(i){const o=getBarBounds(i),_=o.right-o.left,j=o.bottom-o.top,_e=parseBorderWidth(i,_/2,j/2),et=parseBorderRadius(i,_/2,j/2);return{outer:{x:o.left,y:o.top,w:_,h:j,radius:et},inner:{x:o.left+_e.l,y:o.top+_e.t,w:_-_e.l-_e.r,h:j-_e.t-_e.b,radius:{topLeft:Math.max(0,et.topLeft-Math.max(_e.t,_e.l)),topRight:Math.max(0,et.topRight-Math.max(_e.t,_e.r)),bottomLeft:Math.max(0,et.bottomLeft-Math.max(_e.b,_e.l)),bottomRight:Math.max(0,et.bottomRight-Math.max(_e.b,_e.r))}}}}function inRange(i,o,_,j){const _e=o===null,et=_===null,rt=i&&!(_e&&et)&&getBarBounds(i,j);return rt&&(_e||_isBetween(o,rt.left,rt.right))&&(et||_isBetween(_,rt.top,rt.bottom))}function hasRadius(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function addNormalRectPath(i,o){i.rect(o.x,o.y,o.w,o.h)}function inflateRect(i,o,_={}){const j=i.x!==_.x?-o:0,_e=i.y!==_.y?-o:0,et=(i.x+i.w!==_.x+_.w?o:0)-j,tt=(i.y+i.h!==_.y+_.h?o:0)-_e;return{x:i.x+j,y:i.y+_e,w:i.w+et,h:i.h+tt,radius:i.radius}}class BarElement extends Element$1{constructor(o){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,o&&Object.assign(this,o)}draw(o){const{inflateAmount:_,options:{borderColor:j,backgroundColor:_e}}=this,{inner:et,outer:tt}=boundingRects(this),rt=hasRadius(tt.radius)?addRoundedRectPath:addNormalRectPath;o.save(),(tt.w!==et.w||tt.h!==et.h)&&(o.beginPath(),rt(o,inflateRect(tt,_,et)),o.clip(),rt(o,inflateRect(et,-_,tt)),o.fillStyle=j,o.fill("evenodd")),o.beginPath(),rt(o,inflateRect(et,_)),o.fillStyle=_e,o.fill(),o.restore()}inRange(o,_,j){return inRange(this,o,_,j)}inXRange(o,_){return inRange(this,o,null,_)}inYRange(o,_){return inRange(this,null,o,_)}getCenterPoint(o){const{x:_,y:j,base:_e,horizontal:et}=this.getProps(["x","y","base","horizontal"],o);return{x:et?(_+_e)/2:_,y:et?j:(j+_e)/2}}getRange(o){return o==="x"?this.width/2:this.height/2}}gr(BarElement,"id","bar"),gr(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),gr(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _segments(i,o,_){const j=i.segments,_e=i.points,et=o.points,tt=[];for(const rt of j){let{start:nt,end:st}=rt;st=_findSegmentEnd(nt,st,_e);const it=_getBounds(_,_e[nt],_e[st],rt.loop);if(!o.segments){tt.push({source:rt,target:it,start:_e[nt],end:_e[st]});continue}const at=_boundSegments(o,it);for(const ot of at){const ct=_getBounds(_,et[ot.start],et[ot.end],ot.loop),ut=_boundSegment(rt,_e,ct);for(const lt of ut)tt.push({source:lt,target:ot,start:{[_]:_getEdge(it,ct,"start",Math.max)},end:{[_]:_getEdge(it,ct,"end",Math.min)}})}}return tt}function _getBounds(i,o,_,j){if(j)return;let _e=o[i],et=_[i];return i==="angle"&&(_e=_normalizeAngle(_e),et=_normalizeAngle(et)),{property:i,start:_e,end:et}}function _pointsFromSegments(i,o){const{x:_=null,y:j=null}=i||{},_e=o.points,et=[];return o.segments.forEach(({start:tt,end:rt})=>{rt=_findSegmentEnd(tt,rt,_e);const nt=_e[tt],st=_e[rt];j!==null?(et.push({x:nt.x,y:j}),et.push({x:st.x,y:j})):_!==null&&(et.push({x:_,y:nt.y}),et.push({x:_,y:st.y}))}),et}function _findSegmentEnd(i,o,_){for(;o>i;o--){const j=_[o];if(!isNaN(j.x)&&!isNaN(j.y))break}return o}function _getEdge(i,o,_,j){return i&&o?j(i[_],o[_]):i?i[_]:o?o[_]:0}function _createBoundaryLine(i,o){let _=[],j=!1;return isArray(i)?(j=!0,_=i):_=_pointsFromSegments(i,o),_.length?new LineElement({points:_,options:{tension:0},_loop:j,_fullLoop:j}):null}function _shouldApplyFill(i){return i&&i.fill!==!1}function _resolveTarget(i,o,_){let _e=i[o].fill;const et=[o];let tt;if(!_)return _e;for(;_e!==!1&&et.indexOf(_e)===-1;){if(!isNumberFinite(_e))return _e;if(tt=i[_e],!tt)return!1;if(tt.visible)return _e;et.push(_e),_e=tt.fill}return!1}function _decodeFill(i,o,_){const j=parseFillOption(i);if(isObject(j))return isNaN(j.value)?!1:j;let _e=parseFloat(j);return isNumberFinite(_e)&&Math.floor(_e)===_e?decodeTargetIndex(j[0],o,_e,_):["origin","start","end","stack","shape"].indexOf(j)>=0&&j}function decodeTargetIndex(i,o,_,j){return(i==="-"||i==="+")&&(_=o+_),_===o||_<0||_>=j?!1:_}function _getTargetPixel(i,o){let _=null;return i==="start"?_=o.bottom:i==="end"?_=o.top:isObject(i)?_=o.getPixelForValue(i.value):o.getBasePixel&&(_=o.getBasePixel()),_}function _getTargetValue(i,o,_){let j;return i==="start"?j=_:i==="end"?j=o.options.reverse?o.min:o.max:isObject(i)?j=i.value:j=o.getBaseValue(),j}function parseFillOption(i){const o=i.options,_=o.fill;let j=valueOrDefault(_&&_.target,_);return j===void 0&&(j=!!o.backgroundColor),j===!1||j===null?!1:j===!0?"origin":j}function _buildStackLine(i){const{scale:o,index:_,line:j}=i,_e=[],et=j.segments,tt=j.points,rt=getLinesBelow(o,_);rt.push(_createBoundaryLine({x:null,y:o.bottom},j));for(let nt=0;nt<et.length;nt++){const st=et[nt];for(let it=st.start;it<=st.end;it++)addPointsBelow(_e,tt[it],rt)}return new LineElement({points:_e,options:{}})}function getLinesBelow(i,o){const _=[],j=i.getMatchingVisibleMetas("line");for(let _e=0;_e<j.length;_e++){const et=j[_e];if(et.index===o)break;et.hidden||_.unshift(et.dataset)}return _}function addPointsBelow(i,o,_){const j=[];for(let _e=0;_e<_.length;_e++){const et=_[_e],{first:tt,last:rt,point:nt}=findPoint(et,o,"x");if(!(!nt||tt&&rt)){if(tt)j.unshift(nt);else if(i.push(nt),!rt)break}}i.push(...j)}function findPoint(i,o,_){const j=i.interpolate(o,_);if(!j)return{};const _e=j[_],et=i.segments,tt=i.points;let rt=!1,nt=!1;for(let st=0;st<et.length;st++){const it=et[st],at=tt[it.start][_],ot=tt[it.end][_];if(_isBetween(_e,at,ot)){rt=_e===at,nt=_e===ot;break}}return{first:rt,last:nt,point:j}}class simpleArc{constructor(o){this.x=o.x,this.y=o.y,this.radius=o.radius}pathSegment(o,_,j){const{x:_e,y:et,radius:tt}=this;return _=_||{start:0,end:TAU},o.arc(_e,et,tt,_.end,_.start,!0),!j.bounds}interpolate(o){const{x:_,y:j,radius:_e}=this,et=o.angle;return{x:_+Math.cos(et)*_e,y:j+Math.sin(et)*_e,angle:et}}}function _getTarget(i){const{chart:o,fill:_,line:j}=i;if(isNumberFinite(_))return getLineByIndex(o,_);if(_==="stack")return _buildStackLine(i);if(_==="shape")return!0;const _e=computeBoundary(i);return _e instanceof simpleArc?_e:_createBoundaryLine(_e,j)}function getLineByIndex(i,o){const _=i.getDatasetMeta(o);return _&&i.isDatasetVisible(o)?_.dataset:null}function computeBoundary(i){return(i.scale||{}).getPointPositionForValue?computeCircularBoundary(i):computeLinearBoundary(i)}function computeLinearBoundary(i){const{scale:o={},fill:_}=i,j=_getTargetPixel(_,o);if(isNumberFinite(j)){const _e=o.isHorizontal();return{x:_e?j:null,y:_e?null:j}}return null}function computeCircularBoundary(i){const{scale:o,fill:_}=i,j=o.options,_e=o.getLabels().length,et=j.reverse?o.max:o.min,tt=_getTargetValue(_,o,et),rt=[];if(j.grid.circular){const nt=o.getPointPositionForValue(0,et);return new simpleArc({x:nt.x,y:nt.y,radius:o.getDistanceFromCenterForValue(tt)})}for(let nt=0;nt<_e;++nt)rt.push(o.getPointPositionForValue(nt,tt));return rt}function _drawfill(i,o,_){const j=_getTarget(o),{chart:_e,index:et,line:tt,scale:rt,axis:nt}=o,st=tt.options,it=st.fill,at=st.backgroundColor,{above:ot=at,below:ct=at}=it||{},ut=_e.getDatasetMeta(et),lt=getDatasetClipArea(_e,ut);j&&tt.points.length&&(clipArea(i,_),doFill(i,{line:tt,target:j,above:ot,below:ct,area:_,scale:rt,axis:nt,clip:lt}),unclipArea(i))}function doFill(i,o){const{line:_,target:j,above:_e,below:et,area:tt,scale:rt,clip:nt}=o,st=_._loop?"angle":o.axis;i.save();let it=et;et!==_e&&(st==="x"?(clipVertical(i,j,tt.top),fill$1(i,{line:_,target:j,color:_e,scale:rt,property:st,clip:nt}),i.restore(),i.save(),clipVertical(i,j,tt.bottom)):st==="y"&&(clipHorizontal(i,j,tt.left),fill$1(i,{line:_,target:j,color:et,scale:rt,property:st,clip:nt}),i.restore(),i.save(),clipHorizontal(i,j,tt.right),it=_e)),fill$1(i,{line:_,target:j,color:it,scale:rt,property:st,clip:nt}),i.restore()}function clipVertical(i,o,_){const{segments:j,points:_e}=o;let et=!0,tt=!1;i.beginPath();for(const rt of j){const{start:nt,end:st}=rt,it=_e[nt],at=_e[_findSegmentEnd(nt,st,_e)];et?(i.moveTo(it.x,it.y),et=!1):(i.lineTo(it.x,_),i.lineTo(it.x,it.y)),tt=!!o.pathSegment(i,rt,{move:tt}),tt?i.closePath():i.lineTo(at.x,_)}i.lineTo(o.first().x,_),i.closePath(),i.clip()}function clipHorizontal(i,o,_){const{segments:j,points:_e}=o;let et=!0,tt=!1;i.beginPath();for(const rt of j){const{start:nt,end:st}=rt,it=_e[nt],at=_e[_findSegmentEnd(nt,st,_e)];et?(i.moveTo(it.x,it.y),et=!1):(i.lineTo(_,it.y),i.lineTo(it.x,it.y)),tt=!!o.pathSegment(i,rt,{move:tt}),tt?i.closePath():i.lineTo(_,at.y)}i.lineTo(_,o.first().y),i.closePath(),i.clip()}function fill$1(i,o){const{line:_,target:j,property:_e,color:et,scale:tt,clip:rt}=o,nt=_segments(_,j,_e);for(const{source:st,target:it,start:at,end:ot}of nt){const{style:{backgroundColor:ct=et}={}}=st,ut=j!==!0;i.save(),i.fillStyle=ct,clipBounds(i,tt,rt,ut&&_getBounds(_e,at,ot)),i.beginPath();const lt=!!_.pathSegment(i,st);let pt;if(ut){lt?i.closePath():interpolatedLineTo(i,j,ot,_e);const dt=!!j.pathSegment(i,it,{move:lt,reverse:!0});pt=lt&&dt,pt||interpolatedLineTo(i,j,at,_e)}i.closePath(),i.fill(pt?"evenodd":"nonzero"),i.restore()}}function clipBounds(i,o,_,j){const _e=o.chart.chartArea,{property:et,start:tt,end:rt}=j||{};if(et==="x"||et==="y"){let nt,st,it,at;et==="x"?(nt=tt,st=_e.top,it=rt,at=_e.bottom):(nt=_e.left,st=tt,it=_e.right,at=rt),i.beginPath(),_&&(nt=Math.max(nt,_.left),it=Math.min(it,_.right),st=Math.max(st,_.top),at=Math.min(at,_.bottom)),i.rect(nt,st,it-nt,at-st),i.clip()}}function interpolatedLineTo(i,o,_,j){const _e=o.interpolate(_,j);_e&&i.lineTo(_e.x,_e.y)}var index$1={id:"filler",afterDatasetsUpdate(i,o,_){const j=(i.data.datasets||[]).length,_e=[];let et,tt,rt,nt;for(tt=0;tt<j;++tt)et=i.getDatasetMeta(tt),rt=et.dataset,nt=null,rt&&rt.options&&rt instanceof LineElement&&(nt={visible:i.isDatasetVisible(tt),index:tt,fill:_decodeFill(rt,tt,j),chart:i,axis:et.controller.options.indexAxis,scale:et.vScale,line:rt}),et.$filler=nt,_e.push(nt);for(tt=0;tt<j;++tt)nt=_e[tt],!(!nt||nt.fill===!1)&&(nt.fill=_resolveTarget(_e,tt,_.propagate))},beforeDraw(i,o,_){const j=_.drawTime==="beforeDraw",_e=i.getSortedVisibleDatasetMetas(),et=i.chartArea;for(let tt=_e.length-1;tt>=0;--tt){const rt=_e[tt].$filler;rt&&(rt.line.updateControlPoints(et,rt.axis),j&&rt.fill&&_drawfill(i.ctx,rt,et))}},beforeDatasetsDraw(i,o,_){if(_.drawTime!=="beforeDatasetsDraw")return;const j=i.getSortedVisibleDatasetMetas();for(let _e=j.length-1;_e>=0;--_e){const et=j[_e].$filler;_shouldApplyFill(et)&&_drawfill(i.ctx,et,i.chartArea)}},beforeDatasetDraw(i,o,_){const j=o.meta.$filler;!_shouldApplyFill(j)||_.drawTime!=="beforeDatasetDraw"||_drawfill(i.ctx,j,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(i,o)=>{let{boxHeight:_=o,boxWidth:j=o}=i;return i.usePointStyle&&(_=Math.min(_,o),j=i.pointStyleWidth||Math.min(j,o)),{boxWidth:j,boxHeight:_,itemHeight:Math.max(o,_)}},itemsEqual=(i,o)=>i!==null&&o!==null&&i.datasetIndex===o.datasetIndex&&i.index===o.index;class Legend extends Element$1{constructor(o){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,_,j){this.maxWidth=o,this.maxHeight=_,this._margins=j,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const o=this.options.labels||{};let _=callback(o.generateLabels,[this.chart],this)||[];o.filter&&(_=_.filter(j=>o.filter(j,this.chart.data))),o.sort&&(_=_.sort((j,_e)=>o.sort(j,_e,this.chart.data))),this.options.reverse&&_.reverse(),this.legendItems=_}fit(){const{options:o,ctx:_}=this;if(!o.display){this.width=this.height=0;return}const j=o.labels,_e=toFont(j.font),et=_e.size,tt=this._computeTitleHeight(),{boxWidth:rt,itemHeight:nt}=getBoxSize(j,et);let st,it;_.font=_e.string,this.isHorizontal()?(st=this.maxWidth,it=this._fitRows(tt,et,rt,nt)+10):(it=this.maxHeight,st=this._fitCols(tt,_e,rt,nt)+10),this.width=Math.min(st,o.maxWidth||this.maxWidth),this.height=Math.min(it,o.maxHeight||this.maxHeight)}_fitRows(o,_,j,_e){const{ctx:et,maxWidth:tt,options:{labels:{padding:rt}}}=this,nt=this.legendHitBoxes=[],st=this.lineWidths=[0],it=_e+rt;let at=o;et.textAlign="left",et.textBaseline="middle";let ot=-1,ct=-it;return this.legendItems.forEach((ut,lt)=>{const pt=j+_/2+et.measureText(ut.text).width;(lt===0||st[st.length-1]+pt+2*rt>tt)&&(at+=it,st[st.length-(lt>0?0:1)]=0,ct+=it,ot++),nt[lt]={left:0,top:ct,row:ot,width:pt,height:_e},st[st.length-1]+=pt+rt}),at}_fitCols(o,_,j,_e){const{ctx:et,maxHeight:tt,options:{labels:{padding:rt}}}=this,nt=this.legendHitBoxes=[],st=this.columnSizes=[],it=tt-o;let at=rt,ot=0,ct=0,ut=0,lt=0;return this.legendItems.forEach((pt,dt)=>{const{itemWidth:ht,itemHeight:ft}=calculateItemSize(j,_,et,pt,_e);dt>0&&ct+ft+2*rt>it&&(at+=ot+rt,st.push({width:ot,height:ct}),ut+=ot+rt,lt++,ot=ct=0),nt[dt]={left:ut,top:ct,col:lt,width:ht,height:ft},ot=Math.max(ot,ht),ct+=ft+rt}),at+=ot,st.push({width:ot,height:ct}),at}adjustHitBoxes(){if(!this.options.display)return;const o=this._computeTitleHeight(),{legendHitBoxes:_,options:{align:j,labels:{padding:_e},rtl:et}}=this,tt=getRtlAdapter(et,this.left,this.width);if(this.isHorizontal()){let rt=0,nt=_alignStartEnd(j,this.left+_e,this.right-this.lineWidths[rt]);for(const st of _)rt!==st.row&&(rt=st.row,nt=_alignStartEnd(j,this.left+_e,this.right-this.lineWidths[rt])),st.top+=this.top+o+_e,st.left=tt.leftForLtr(tt.x(nt),st.width),nt+=st.width+_e}else{let rt=0,nt=_alignStartEnd(j,this.top+o+_e,this.bottom-this.columnSizes[rt].height);for(const st of _)st.col!==rt&&(rt=st.col,nt=_alignStartEnd(j,this.top+o+_e,this.bottom-this.columnSizes[rt].height)),st.top=nt,st.left+=this.left+_e,st.left=tt.leftForLtr(tt.x(st.left),st.width),nt+=st.height+_e}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const o=this.ctx;clipArea(o,this),this._draw(),unclipArea(o)}}_draw(){const{options:o,columnSizes:_,lineWidths:j,ctx:_e}=this,{align:et,labels:tt}=o,rt=defaults.color,nt=getRtlAdapter(o.rtl,this.left,this.width),st=toFont(tt.font),{padding:it}=tt,at=st.size,ot=at/2;let ct;this.drawTitle(),_e.textAlign=nt.textAlign("left"),_e.textBaseline="middle",_e.lineWidth=.5,_e.font=st.string;const{boxWidth:ut,boxHeight:lt,itemHeight:pt}=getBoxSize(tt,at),dt=function(gt,yt,_t){if(isNaN(ut)||ut<=0||isNaN(lt)||lt<0)return;_e.save();const Et=valueOrDefault(_t.lineWidth,1);if(_e.fillStyle=valueOrDefault(_t.fillStyle,rt),_e.lineCap=valueOrDefault(_t.lineCap,"butt"),_e.lineDashOffset=valueOrDefault(_t.lineDashOffset,0),_e.lineJoin=valueOrDefault(_t.lineJoin,"miter"),_e.lineWidth=Et,_e.strokeStyle=valueOrDefault(_t.strokeStyle,rt),_e.setLineDash(valueOrDefault(_t.lineDash,[])),tt.usePointStyle){const wt={radius:lt*Math.SQRT2/2,pointStyle:_t.pointStyle,rotation:_t.rotation,borderWidth:Et},$t=nt.xPlus(gt,ut/2),jt=yt+ot;drawPointLegend(_e,wt,$t,jt,tt.pointStyleWidth&&ut)}else{const wt=yt+Math.max((at-lt)/2,0),$t=nt.leftForLtr(gt,ut),jt=toTRBLCorners(_t.borderRadius);_e.beginPath(),Object.values(jt).some(Tt=>Tt!==0)?addRoundedRectPath(_e,{x:$t,y:wt,w:ut,h:lt,radius:jt}):_e.rect($t,wt,ut,lt),_e.fill(),Et!==0&&_e.stroke()}_e.restore()},ht=function(gt,yt,_t){renderText(_e,_t.text,gt,yt+pt/2,st,{strikethrough:_t.hidden,textAlign:nt.textAlign(_t.textAlign)})},ft=this.isHorizontal(),mt=this._computeTitleHeight();ft?ct={x:_alignStartEnd(et,this.left+it,this.right-j[0]),y:this.top+it+mt,line:0}:ct={x:this.left+it,y:_alignStartEnd(et,this.top+mt+it,this.bottom-_[0].height),line:0},overrideTextDirection(this.ctx,o.textDirection);const xt=pt+it;this.legendItems.forEach((gt,yt)=>{_e.strokeStyle=gt.fontColor,_e.fillStyle=gt.fontColor;const _t=_e.measureText(gt.text).width,Et=nt.textAlign(gt.textAlign||(gt.textAlign=tt.textAlign)),wt=ut+ot+_t;let $t=ct.x,jt=ct.y;nt.setWidth(this.width),ft?yt>0&&$t+wt+it>this.right&&(jt=ct.y+=xt,ct.line++,$t=ct.x=_alignStartEnd(et,this.left+it,this.right-j[ct.line])):yt>0&&jt+xt>this.bottom&&($t=ct.x=$t+_[ct.line].width+it,ct.line++,jt=ct.y=_alignStartEnd(et,this.top+mt+it,this.bottom-_[ct.line].height));const Tt=nt.x($t);if(dt(Tt,jt,gt),$t=_textX(Et,$t+ut+ot,ft?$t+wt:this.right,o.rtl),ht(nt.x($t),jt,gt),ft)ct.x+=wt+it;else if(typeof gt.text!="string"){const kt=st.lineHeight;ct.y+=calculateLegendItemHeight(gt,kt)+it}else ct.y+=xt}),restoreTextDirection(this.ctx,o.textDirection)}drawTitle(){const o=this.options,_=o.title,j=toFont(_.font),_e=toPadding(_.padding);if(!_.display)return;const et=getRtlAdapter(o.rtl,this.left,this.width),tt=this.ctx,rt=_.position,nt=j.size/2,st=_e.top+nt;let it,at=this.left,ot=this.width;if(this.isHorizontal())ot=Math.max(...this.lineWidths),it=this.top+st,at=_alignStartEnd(o.align,at,this.right-ot);else{const ut=this.columnSizes.reduce((lt,pt)=>Math.max(lt,pt.height),0);it=st+_alignStartEnd(o.align,this.top,this.bottom-ut-o.labels.padding-this._computeTitleHeight())}const ct=_alignStartEnd(rt,at,at+ot);tt.textAlign=et.textAlign(_toLeftRightCenter(rt)),tt.textBaseline="middle",tt.strokeStyle=_.color,tt.fillStyle=_.color,tt.font=j.string,renderText(tt,_.text,ct,it,j)}_computeTitleHeight(){const o=this.options.title,_=toFont(o.font),j=toPadding(o.padding);return o.display?_.lineHeight+j.height:0}_getLegendItemAt(o,_){let j,_e,et;if(_isBetween(o,this.left,this.right)&&_isBetween(_,this.top,this.bottom)){for(et=this.legendHitBoxes,j=0;j<et.length;++j)if(_e=et[j],_isBetween(o,_e.left,_e.left+_e.width)&&_isBetween(_,_e.top,_e.top+_e.height))return this.legendItems[j]}return null}handleEvent(o){const _=this.options;if(!isListened(o.type,_))return;const j=this._getLegendItemAt(o.x,o.y);if(o.type==="mousemove"||o.type==="mouseout"){const _e=this._hoveredItem,et=itemsEqual(_e,j);_e&&!et&&callback(_.onLeave,[o,_e,this],this),this._hoveredItem=j,j&&!et&&callback(_.onHover,[o,j,this],this)}else j&&callback(_.onClick,[o,j,this],this)}}function calculateItemSize(i,o,_,j,_e){const et=calculateItemWidth(j,i,o,_),tt=calculateItemHeight(_e,j,o.lineHeight);return{itemWidth:et,itemHeight:tt}}function calculateItemWidth(i,o,_,j){let _e=i.text;return _e&&typeof _e!="string"&&(_e=_e.reduce((et,tt)=>et.length>tt.length?et:tt)),o+_.size/2+j.measureText(_e).width}function calculateItemHeight(i,o,_){let j=i;return typeof o.text!="string"&&(j=calculateLegendItemHeight(o,_)),j}function calculateLegendItemHeight(i,o){const _=i.text?i.text.length:0;return o*_}function isListened(i,o){return!!((i==="mousemove"||i==="mouseout")&&(o.onHover||o.onLeave)||o.onClick&&(i==="click"||i==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(i,o,_){const j=i.legend=new Legend({ctx:i.ctx,options:_,chart:i});layouts.configure(i,j,_),layouts.addBox(i,j)},stop(i){layouts.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,o,_){const j=i.legend;layouts.configure(i,j,_),j.options=_},afterUpdate(i){const o=i.legend;o.buildLabels(),o.adjustHitBoxes()},afterEvent(i,o){o.replay||i.legend.handleEvent(o.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,o,_){const j=o.datasetIndex,_e=_.chart;_e.isDatasetVisible(j)?(_e.hide(j),o.hidden=!0):(_e.show(j),o.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const o=i.data.datasets,{labels:{usePointStyle:_,pointStyle:j,textAlign:_e,color:et,useBorderRadius:tt,borderRadius:rt}}=i.legend.options;return i._getSortedDatasetMetas().map(nt=>{const st=nt.controller.getStyle(_?0:void 0),it=toPadding(st.borderWidth);return{text:o[nt.index].label,fillStyle:st.backgroundColor,fontColor:et,hidden:!nt.visible,lineCap:st.borderCapStyle,lineDash:st.borderDash,lineDashOffset:st.borderDashOffset,lineJoin:st.borderJoinStyle,lineWidth:(it.width+it.height)/4,strokeStyle:st.borderColor,pointStyle:j||st.pointStyle,rotation:st.rotation,textAlign:_e||st.textAlign,borderRadius:tt&&(rt||st.borderRadius),datasetIndex:nt.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Title extends Element$1{constructor(o){super(),this.chart=o.chart,this.options=o.options,this.ctx=o.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(o,_){const j=this.options;if(this.left=0,this.top=0,!j.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=o,this.height=this.bottom=_;const _e=isArray(j.text)?j.text.length:1;this._padding=toPadding(j.padding);const et=_e*toFont(j.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=et:this.width=et}isHorizontal(){const o=this.options.position;return o==="top"||o==="bottom"}_drawArgs(o){const{top:_,left:j,bottom:_e,right:et,options:tt}=this,rt=tt.align;let nt=0,st,it,at;return this.isHorizontal()?(it=_alignStartEnd(rt,j,et),at=_+o,st=et-j):(tt.position==="left"?(it=j+o,at=_alignStartEnd(rt,_e,_),nt=PI*-.5):(it=et-o,at=_alignStartEnd(rt,_,_e),nt=PI*.5),st=_e-_),{titleX:it,titleY:at,maxWidth:st,rotation:nt}}draw(){const o=this.ctx,_=this.options;if(!_.display)return;const j=toFont(_.font),et=j.lineHeight/2+this._padding.top,{titleX:tt,titleY:rt,maxWidth:nt,rotation:st}=this._drawArgs(et);renderText(o,_.text,0,0,j,{color:_.color,maxWidth:nt,rotation:st,textAlign:_toLeftRightCenter(_.align),textBaseline:"middle",translation:[tt,rt]})}}function createTitle(i,o){const _=new Title({ctx:i.ctx,options:o,chart:i});layouts.configure(i,_,o),layouts.addBox(i,_),i.titleBlock=_}var plugin_title={id:"title",_element:Title,start(i,o,_){createTitle(i,_)},stop(i){const o=i.titleBlock;layouts.removeBox(i,o),delete i.titleBlock},beforeUpdate(i,o,_){const j=i.titleBlock;layouts.configure(i,j,_),j.options=_},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(i){if(!i.length)return!1;let o,_,j=new Set,_e=0,et=0;for(o=0,_=i.length;o<_;++o){const rt=i[o].element;if(rt&&rt.hasValue()){const nt=rt.tooltipPosition();j.add(nt.x),_e+=nt.y,++et}}return et===0||j.size===0?!1:{x:[...j].reduce((rt,nt)=>rt+nt)/j.size,y:_e/et}},nearest(i,o){if(!i.length)return!1;let _=o.x,j=o.y,_e=Number.POSITIVE_INFINITY,et,tt,rt;for(et=0,tt=i.length;et<tt;++et){const nt=i[et].element;if(nt&&nt.hasValue()){const st=nt.getCenterPoint(),it=distanceBetweenPoints(o,st);it<_e&&(_e=it,rt=nt)}}if(rt){const nt=rt.tooltipPosition();_=nt.x,j=nt.y}return{x:_,y:j}}};function pushOrConcat(i,o){return o&&(isArray(o)?Array.prototype.push.apply(i,o):i.push(o)),i}function splitNewlines(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function createTooltipItem(i,o){const{element:_,datasetIndex:j,index:_e}=o,et=i.getDatasetMeta(j).controller,{label:tt,value:rt}=et.getLabelAndValue(_e);return{chart:i,label:tt,parsed:et.getParsed(_e),raw:i.data.datasets[j].data[_e],formattedValue:rt,dataset:et.getDataset(),dataIndex:_e,datasetIndex:j,element:_}}function getTooltipSize(i,o){const _=i.chart.ctx,{body:j,footer:_e,title:et}=i,{boxWidth:tt,boxHeight:rt}=o,nt=toFont(o.bodyFont),st=toFont(o.titleFont),it=toFont(o.footerFont),at=et.length,ot=_e.length,ct=j.length,ut=toPadding(o.padding);let lt=ut.height,pt=0,dt=j.reduce((mt,xt)=>mt+xt.before.length+xt.lines.length+xt.after.length,0);if(dt+=i.beforeBody.length+i.afterBody.length,at&&(lt+=at*st.lineHeight+(at-1)*o.titleSpacing+o.titleMarginBottom),dt){const mt=o.displayColors?Math.max(rt,nt.lineHeight):nt.lineHeight;lt+=ct*mt+(dt-ct)*nt.lineHeight+(dt-1)*o.bodySpacing}ot&&(lt+=o.footerMarginTop+ot*it.lineHeight+(ot-1)*o.footerSpacing);let ht=0;const ft=function(mt){pt=Math.max(pt,_.measureText(mt).width+ht)};return _.save(),_.font=st.string,each(i.title,ft),_.font=nt.string,each(i.beforeBody.concat(i.afterBody),ft),ht=o.displayColors?tt+2+o.boxPadding:0,each(j,mt=>{each(mt.before,ft),each(mt.lines,ft),each(mt.after,ft)}),ht=0,_.font=it.string,each(i.footer,ft),_.restore(),pt+=ut.width,{width:pt,height:lt}}function determineYAlign(i,o){const{y:_,height:j}=o;return _<j/2?"top":_>i.height-j/2?"bottom":"center"}function doesNotFitWithAlign(i,o,_,j){const{x:_e,width:et}=j,tt=_.caretSize+_.caretPadding;if(i==="left"&&_e+et+tt>o.width||i==="right"&&_e-et-tt<0)return!0}function determineXAlign(i,o,_,j){const{x:_e,width:et}=_,{width:tt,chartArea:{left:rt,right:nt}}=i;let st="center";return j==="center"?st=_e<=(rt+nt)/2?"left":"right":_e<=et/2?st="left":_e>=tt-et/2&&(st="right"),doesNotFitWithAlign(st,i,o,_)&&(st="center"),st}function determineAlignment(i,o,_){const j=_.yAlign||o.yAlign||determineYAlign(i,_);return{xAlign:_.xAlign||o.xAlign||determineXAlign(i,o,_,j),yAlign:j}}function alignX(i,o){let{x:_,width:j}=i;return o==="right"?_-=j:o==="center"&&(_-=j/2),_}function alignY(i,o,_){let{y:j,height:_e}=i;return o==="top"?j+=_:o==="bottom"?j-=_e+_:j-=_e/2,j}function getBackgroundPoint(i,o,_,j){const{caretSize:_e,caretPadding:et,cornerRadius:tt}=i,{xAlign:rt,yAlign:nt}=_,st=_e+et,{topLeft:it,topRight:at,bottomLeft:ot,bottomRight:ct}=toTRBLCorners(tt);let ut=alignX(o,rt);const lt=alignY(o,nt,st);return nt==="center"?rt==="left"?ut+=st:rt==="right"&&(ut-=st):rt==="left"?ut-=Math.max(it,ot)+_e:rt==="right"&&(ut+=Math.max(at,ct)+_e),{x:_limitValue(ut,0,j.width-o.width),y:_limitValue(lt,0,j.height-o.height)}}function getAlignedX(i,o,_){const j=toPadding(_.padding);return o==="center"?i.x+i.width/2:o==="right"?i.x+i.width-j.right:i.x+j.left}function getBeforeAfterBodyLines(i){return pushOrConcat([],splitNewlines(i))}function createTooltipContext(i,o,_){return createContext(i,{tooltip:o,tooltipItems:_,type:"tooltip"})}function overrideCallbacks(i,o){const _=o&&o.dataset&&o.dataset.tooltip&&o.dataset.tooltip.callbacks;return _?i.override(_):i}const defaultCallbacks={beforeTitle:noop$1,title(i){if(i.length>0){const o=i[0],_=o.chart.data.labels,j=_?_.length:0;if(this&&this.options&&this.options.mode==="dataset")return o.dataset.label||"";if(o.label)return o.label;if(j>0&&o.dataIndex<j)return _[o.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let o=i.dataset.label||"";o&&(o+=": ");const _=i.formattedValue;return isNullOrUndef(_)||(o+=_),o},labelColor(i){const _=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:_.borderColor,backgroundColor:_.backgroundColor,borderWidth:_.borderWidth,borderDash:_.borderDash,borderDashOffset:_.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const _=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:_.pointStyle,rotation:_.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1};function invokeCallbackWithFallback(i,o,_,j){const _e=i[o].call(_,j);return typeof _e>"u"?defaultCallbacks[o].call(_,j):_e}class Tooltip extends Element$1{constructor(o){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=o.chart,this.options=o.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(o){this.options=o,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const o=this._cachedAnimations;if(o)return o;const _=this.chart,j=this.options.setContext(this.getContext()),_e=j.enabled&&_.options.animation&&j.animations,et=new Animations(this.chart,_e);return _e._cacheable&&(this._cachedAnimations=Object.freeze(et)),et}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(o,_){const{callbacks:j}=_,_e=invokeCallbackWithFallback(j,"beforeTitle",this,o),et=invokeCallbackWithFallback(j,"title",this,o),tt=invokeCallbackWithFallback(j,"afterTitle",this,o);let rt=[];return rt=pushOrConcat(rt,splitNewlines(_e)),rt=pushOrConcat(rt,splitNewlines(et)),rt=pushOrConcat(rt,splitNewlines(tt)),rt}getBeforeBody(o,_){return getBeforeAfterBodyLines(invokeCallbackWithFallback(_.callbacks,"beforeBody",this,o))}getBody(o,_){const{callbacks:j}=_,_e=[];return each(o,et=>{const tt={before:[],lines:[],after:[]},rt=overrideCallbacks(j,et);pushOrConcat(tt.before,splitNewlines(invokeCallbackWithFallback(rt,"beforeLabel",this,et))),pushOrConcat(tt.lines,invokeCallbackWithFallback(rt,"label",this,et)),pushOrConcat(tt.after,splitNewlines(invokeCallbackWithFallback(rt,"afterLabel",this,et))),_e.push(tt)}),_e}getAfterBody(o,_){return getBeforeAfterBodyLines(invokeCallbackWithFallback(_.callbacks,"afterBody",this,o))}getFooter(o,_){const{callbacks:j}=_,_e=invokeCallbackWithFallback(j,"beforeFooter",this,o),et=invokeCallbackWithFallback(j,"footer",this,o),tt=invokeCallbackWithFallback(j,"afterFooter",this,o);let rt=[];return rt=pushOrConcat(rt,splitNewlines(_e)),rt=pushOrConcat(rt,splitNewlines(et)),rt=pushOrConcat(rt,splitNewlines(tt)),rt}_createItems(o){const _=this._active,j=this.chart.data,_e=[],et=[],tt=[];let rt=[],nt,st;for(nt=0,st=_.length;nt<st;++nt)rt.push(createTooltipItem(this.chart,_[nt]));return o.filter&&(rt=rt.filter((it,at,ot)=>o.filter(it,at,ot,j))),o.itemSort&&(rt=rt.sort((it,at)=>o.itemSort(it,at,j))),each(rt,it=>{const at=overrideCallbacks(o.callbacks,it);_e.push(invokeCallbackWithFallback(at,"labelColor",this,it)),et.push(invokeCallbackWithFallback(at,"labelPointStyle",this,it)),tt.push(invokeCallbackWithFallback(at,"labelTextColor",this,it))}),this.labelColors=_e,this.labelPointStyles=et,this.labelTextColors=tt,this.dataPoints=rt,rt}update(o,_){const j=this.options.setContext(this.getContext()),_e=this._active;let et,tt=[];if(!_e.length)this.opacity!==0&&(et={opacity:0});else{const rt=positioners[j.position].call(this,_e,this._eventPosition);tt=this._createItems(j),this.title=this.getTitle(tt,j),this.beforeBody=this.getBeforeBody(tt,j),this.body=this.getBody(tt,j),this.afterBody=this.getAfterBody(tt,j),this.footer=this.getFooter(tt,j);const nt=this._size=getTooltipSize(this,j),st=Object.assign({},rt,nt),it=determineAlignment(this.chart,j,st),at=getBackgroundPoint(j,st,it,this.chart);this.xAlign=it.xAlign,this.yAlign=it.yAlign,et={opacity:1,x:at.x,y:at.y,width:nt.width,height:nt.height,caretX:rt.x,caretY:rt.y}}this._tooltipItems=tt,this.$context=void 0,et&&this._resolveAnimations().update(this,et),o&&j.external&&j.external.call(this,{chart:this.chart,tooltip:this,replay:_})}drawCaret(o,_,j,_e){const et=this.getCaretPosition(o,j,_e);_.lineTo(et.x1,et.y1),_.lineTo(et.x2,et.y2),_.lineTo(et.x3,et.y3)}getCaretPosition(o,_,j){const{xAlign:_e,yAlign:et}=this,{caretSize:tt,cornerRadius:rt}=j,{topLeft:nt,topRight:st,bottomLeft:it,bottomRight:at}=toTRBLCorners(rt),{x:ot,y:ct}=o,{width:ut,height:lt}=_;let pt,dt,ht,ft,mt,xt;return et==="center"?(mt=ct+lt/2,_e==="left"?(pt=ot,dt=pt-tt,ft=mt+tt,xt=mt-tt):(pt=ot+ut,dt=pt+tt,ft=mt-tt,xt=mt+tt),ht=pt):(_e==="left"?dt=ot+Math.max(nt,it)+tt:_e==="right"?dt=ot+ut-Math.max(st,at)-tt:dt=this.caretX,et==="top"?(ft=ct,mt=ft-tt,pt=dt-tt,ht=dt+tt):(ft=ct+lt,mt=ft+tt,pt=dt+tt,ht=dt-tt),xt=ft),{x1:pt,x2:dt,x3:ht,y1:ft,y2:mt,y3:xt}}drawTitle(o,_,j){const _e=this.title,et=_e.length;let tt,rt,nt;if(et){const st=getRtlAdapter(j.rtl,this.x,this.width);for(o.x=getAlignedX(this,j.titleAlign,j),_.textAlign=st.textAlign(j.titleAlign),_.textBaseline="middle",tt=toFont(j.titleFont),rt=j.titleSpacing,_.fillStyle=j.titleColor,_.font=tt.string,nt=0;nt<et;++nt)_.fillText(_e[nt],st.x(o.x),o.y+tt.lineHeight/2),o.y+=tt.lineHeight+rt,nt+1===et&&(o.y+=j.titleMarginBottom-rt)}}_drawColorBox(o,_,j,_e,et){const tt=this.labelColors[j],rt=this.labelPointStyles[j],{boxHeight:nt,boxWidth:st}=et,it=toFont(et.bodyFont),at=getAlignedX(this,"left",et),ot=_e.x(at),ct=nt<it.lineHeight?(it.lineHeight-nt)/2:0,ut=_.y+ct;if(et.usePointStyle){const lt={radius:Math.min(st,nt)/2,pointStyle:rt.pointStyle,rotation:rt.rotation,borderWidth:1},pt=_e.leftForLtr(ot,st)+st/2,dt=ut+nt/2;o.strokeStyle=et.multiKeyBackground,o.fillStyle=et.multiKeyBackground,drawPoint(o,lt,pt,dt),o.strokeStyle=tt.borderColor,o.fillStyle=tt.backgroundColor,drawPoint(o,lt,pt,dt)}else{o.lineWidth=isObject(tt.borderWidth)?Math.max(...Object.values(tt.borderWidth)):tt.borderWidth||1,o.strokeStyle=tt.borderColor,o.setLineDash(tt.borderDash||[]),o.lineDashOffset=tt.borderDashOffset||0;const lt=_e.leftForLtr(ot,st),pt=_e.leftForLtr(_e.xPlus(ot,1),st-2),dt=toTRBLCorners(tt.borderRadius);Object.values(dt).some(ht=>ht!==0)?(o.beginPath(),o.fillStyle=et.multiKeyBackground,addRoundedRectPath(o,{x:lt,y:ut,w:st,h:nt,radius:dt}),o.fill(),o.stroke(),o.fillStyle=tt.backgroundColor,o.beginPath(),addRoundedRectPath(o,{x:pt,y:ut+1,w:st-2,h:nt-2,radius:dt}),o.fill()):(o.fillStyle=et.multiKeyBackground,o.fillRect(lt,ut,st,nt),o.strokeRect(lt,ut,st,nt),o.fillStyle=tt.backgroundColor,o.fillRect(pt,ut+1,st-2,nt-2))}o.fillStyle=this.labelTextColors[j]}drawBody(o,_,j){const{body:_e}=this,{bodySpacing:et,bodyAlign:tt,displayColors:rt,boxHeight:nt,boxWidth:st,boxPadding:it}=j,at=toFont(j.bodyFont);let ot=at.lineHeight,ct=0;const ut=getRtlAdapter(j.rtl,this.x,this.width),lt=function(_t){_.fillText(_t,ut.x(o.x+ct),o.y+ot/2),o.y+=ot+et},pt=ut.textAlign(tt);let dt,ht,ft,mt,xt,gt,yt;for(_.textAlign=tt,_.textBaseline="middle",_.font=at.string,o.x=getAlignedX(this,pt,j),_.fillStyle=j.bodyColor,each(this.beforeBody,lt),ct=rt&&pt!=="right"?tt==="center"?st/2+it:st+2+it:0,mt=0,gt=_e.length;mt<gt;++mt){for(dt=_e[mt],ht=this.labelTextColors[mt],_.fillStyle=ht,each(dt.before,lt),ft=dt.lines,rt&&ft.length&&(this._drawColorBox(_,o,mt,ut,j),ot=Math.max(at.lineHeight,nt)),xt=0,yt=ft.length;xt<yt;++xt)lt(ft[xt]),ot=at.lineHeight;each(dt.after,lt)}ct=0,ot=at.lineHeight,each(this.afterBody,lt),o.y-=et}drawFooter(o,_,j){const _e=this.footer,et=_e.length;let tt,rt;if(et){const nt=getRtlAdapter(j.rtl,this.x,this.width);for(o.x=getAlignedX(this,j.footerAlign,j),o.y+=j.footerMarginTop,_.textAlign=nt.textAlign(j.footerAlign),_.textBaseline="middle",tt=toFont(j.footerFont),_.fillStyle=j.footerColor,_.font=tt.string,rt=0;rt<et;++rt)_.fillText(_e[rt],nt.x(o.x),o.y+tt.lineHeight/2),o.y+=tt.lineHeight+j.footerSpacing}}drawBackground(o,_,j,_e){const{xAlign:et,yAlign:tt}=this,{x:rt,y:nt}=o,{width:st,height:it}=j,{topLeft:at,topRight:ot,bottomLeft:ct,bottomRight:ut}=toTRBLCorners(_e.cornerRadius);_.fillStyle=_e.backgroundColor,_.strokeStyle=_e.borderColor,_.lineWidth=_e.borderWidth,_.beginPath(),_.moveTo(rt+at,nt),tt==="top"&&this.drawCaret(o,_,j,_e),_.lineTo(rt+st-ot,nt),_.quadraticCurveTo(rt+st,nt,rt+st,nt+ot),tt==="center"&&et==="right"&&this.drawCaret(o,_,j,_e),_.lineTo(rt+st,nt+it-ut),_.quadraticCurveTo(rt+st,nt+it,rt+st-ut,nt+it),tt==="bottom"&&this.drawCaret(o,_,j,_e),_.lineTo(rt+ct,nt+it),_.quadraticCurveTo(rt,nt+it,rt,nt+it-ct),tt==="center"&&et==="left"&&this.drawCaret(o,_,j,_e),_.lineTo(rt,nt+at),_.quadraticCurveTo(rt,nt,rt+at,nt),_.closePath(),_.fill(),_e.borderWidth>0&&_.stroke()}_updateAnimationTarget(o){const _=this.chart,j=this.$animations,_e=j&&j.x,et=j&&j.y;if(_e||et){const tt=positioners[o.position].call(this,this._active,this._eventPosition);if(!tt)return;const rt=this._size=getTooltipSize(this,o),nt=Object.assign({},tt,this._size),st=determineAlignment(_,o,nt),it=getBackgroundPoint(o,nt,st,_);(_e._to!==it.x||et._to!==it.y)&&(this.xAlign=st.xAlign,this.yAlign=st.yAlign,this.width=rt.width,this.height=rt.height,this.caretX=tt.x,this.caretY=tt.y,this._resolveAnimations().update(this,it))}}_willRender(){return!!this.opacity}draw(o){const _=this.options.setContext(this.getContext());let j=this.opacity;if(!j)return;this._updateAnimationTarget(_);const _e={width:this.width,height:this.height},et={x:this.x,y:this.y};j=Math.abs(j)<.001?0:j;const tt=toPadding(_.padding),rt=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;_.enabled&&rt&&(o.save(),o.globalAlpha=j,this.drawBackground(et,o,_e,_),overrideTextDirection(o,_.textDirection),et.y+=tt.top,this.drawTitle(et,o,_),this.drawBody(et,o,_),this.drawFooter(et,o,_),restoreTextDirection(o,_.textDirection),o.restore())}getActiveElements(){return this._active||[]}setActiveElements(o,_){const j=this._active,_e=o.map(({datasetIndex:rt,index:nt})=>{const st=this.chart.getDatasetMeta(rt);if(!st)throw new Error("Cannot find a dataset at index "+rt);return{datasetIndex:rt,element:st.data[nt],index:nt}}),et=!_elementsEqual(j,_e),tt=this._positionChanged(_e,_);(et||tt)&&(this._active=_e,this._eventPosition=_,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(o,_,j=!0){if(_&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const _e=this.options,et=this._active||[],tt=this._getActiveElements(o,et,_,j),rt=this._positionChanged(tt,o),nt=_||!_elementsEqual(tt,et)||rt;return nt&&(this._active=tt,(_e.enabled||_e.external)&&(this._eventPosition={x:o.x,y:o.y},this.update(!0,_))),nt}_getActiveElements(o,_,j,_e){const et=this.options;if(o.type==="mouseout")return[];if(!_e)return _.filter(rt=>this.chart.data.datasets[rt.datasetIndex]&&this.chart.getDatasetMeta(rt.datasetIndex).controller.getParsed(rt.index)!==void 0);const tt=this.chart.getElementsAtEventForMode(o,et.mode,et,j);return et.reverse&&tt.reverse(),tt}_positionChanged(o,_){const{caretX:j,caretY:_e,options:et}=this,tt=positioners[et.position].call(this,o,_);return tt!==!1&&(j!==tt.x||_e!==tt.y)}}gr(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(i,o,_){_&&(i.tooltip=new Tooltip({chart:i,options:_}))},beforeUpdate(i,o,_){i.tooltip&&i.tooltip.initialize(_)},reset(i,o,_){i.tooltip&&i.tooltip.initialize(_)},afterDraw(i){const o=i.tooltip;if(o&&o._willRender()){const _={tooltip:o};if(i.notifyPlugins("beforeTooltipDraw",{..._,cancelable:!0})===!1)return;o.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",_)}},afterEvent(i,o){if(i.tooltip){const _=o.replay;i.tooltip.handleEvent(o.event,_,o.inChartArea)&&(o.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,o)=>o.bodyFont.size,boxWidth:(i,o)=>o.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(i,o,_,j)=>(typeof o=="string"?(_=i.push(o)-1,j.unshift({index:_,label:o})):isNaN(o)&&(_=null),_);function findOrAddLabel(i,o,_,j){const _e=i.indexOf(o);if(_e===-1)return addIfString(i,o,_,j);const et=i.lastIndexOf(o);return _e!==et?_:_e}const validIndex=(i,o)=>i===null?null:_limitValue(Math.round(i),0,o);function _getLabelForValue(i){const o=this.getLabels();return i>=0&&i<o.length?o[i]:i}class CategoryScale extends Scale{constructor(o){super(o),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(o){const _=this._addedLabels;if(_.length){const j=this.getLabels();for(const{index:_e,label:et}of _)j[_e]===et&&j.splice(_e,1);this._addedLabels=[]}super.init(o)}parse(o,_){if(isNullOrUndef(o))return null;const j=this.getLabels();return _=isFinite(_)&&j[_]===o?_:findOrAddLabel(j,o,valueOrDefault(_,o),this._addedLabels),validIndex(_,j.length-1)}determineDataLimits(){const{minDefined:o,maxDefined:_}=this.getUserBounds();let{min:j,max:_e}=this.getMinMax(!0);this.options.bounds==="ticks"&&(o||(j=0),_||(_e=this.getLabels().length-1)),this.min=j,this.max=_e}buildTicks(){const o=this.min,_=this.max,j=this.options.offset,_e=[];let et=this.getLabels();et=o===0&&_===et.length-1?et:et.slice(o,_+1),this._valueRange=Math.max(et.length-(j?0:1),1),this._startValue=this.min-(j?.5:0);for(let tt=o;tt<=_;tt++)_e.push({value:tt});return _e}getLabelForValue(o){return _getLabelForValue.call(this,o)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(o){return typeof o!="number"&&(o=this.parse(o)),o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getPixelForTick(o){const _=this.ticks;return o<0||o>_.length-1?null:this.getPixelForValue(_[o].value)}getValueForPixel(o){return Math.round(this._startValue+this.getDecimalForPixel(o)*this._valueRange)}getBasePixel(){return this.bottom}}gr(CategoryScale,"id","category"),gr(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(i,o){const _=[],{bounds:_e,step:et,min:tt,max:rt,precision:nt,count:st,maxTicks:it,maxDigits:at,includeBounds:ot}=i,ct=et||1,ut=it-1,{min:lt,max:pt}=o,dt=!isNullOrUndef(tt),ht=!isNullOrUndef(rt),ft=!isNullOrUndef(st),mt=(pt-lt)/(at+1);let xt=niceNum((pt-lt)/ut/ct)*ct,gt,yt,_t,Et;if(xt<1e-14&&!dt&&!ht)return[{value:lt},{value:pt}];Et=Math.ceil(pt/xt)-Math.floor(lt/xt),Et>ut&&(xt=niceNum(Et*xt/ut/ct)*ct),isNullOrUndef(nt)||(gt=Math.pow(10,nt),xt=Math.ceil(xt*gt)/gt),_e==="ticks"?(yt=Math.floor(lt/xt)*xt,_t=Math.ceil(pt/xt)*xt):(yt=lt,_t=pt),dt&&ht&&et&&almostWhole((rt-tt)/et,xt/1e3)?(Et=Math.round(Math.min((rt-tt)/xt,it)),xt=(rt-tt)/Et,yt=tt,_t=rt):ft?(yt=dt?tt:yt,_t=ht?rt:_t,Et=st-1,xt=(_t-yt)/Et):(Et=(_t-yt)/xt,almostEquals(Et,Math.round(Et),xt/1e3)?Et=Math.round(Et):Et=Math.ceil(Et));const wt=Math.max(_decimalPlaces(xt),_decimalPlaces(yt));gt=Math.pow(10,isNullOrUndef(nt)?wt:nt),yt=Math.round(yt*gt)/gt,_t=Math.round(_t*gt)/gt;let $t=0;for(dt&&(ot&&yt!==tt?(_.push({value:tt}),yt<tt&&$t++,almostEquals(Math.round((yt+$t*xt)*gt)/gt,tt,relativeLabelSize(tt,mt,i))&&$t++):yt<tt&&$t++);$t<Et;++$t){const jt=Math.round((yt+$t*xt)*gt)/gt;if(ht&&jt>rt)break;_.push({value:jt})}return ht&&ot&&_t!==rt?_.length&&almostEquals(_[_.length-1].value,rt,relativeLabelSize(rt,mt,i))?_[_.length-1].value=rt:_.push({value:rt}):(!ht||_t===rt)&&_.push({value:_t}),_}function relativeLabelSize(i,o,{horizontal:_,minRotation:j}){const _e=toRadians(j),et=(_?Math.sin(_e):Math.cos(_e))||.001,tt=.75*o*(""+i).length;return Math.min(o/et,tt)}class LinearScaleBase extends Scale{constructor(o){super(o),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(o,_){return isNullOrUndef(o)||(typeof o=="number"||o instanceof Number)&&!isFinite(+o)?null:+o}handleTickRangeOptions(){const{beginAtZero:o}=this.options,{minDefined:_,maxDefined:j}=this.getUserBounds();let{min:_e,max:et}=this;const tt=nt=>_e=_?_e:nt,rt=nt=>et=j?et:nt;if(o){const nt=sign(_e),st=sign(et);nt<0&&st<0?rt(0):nt>0&&st>0&&tt(0)}if(_e===et){let nt=et===0?1:Math.abs(et*.05);rt(et+nt),o||tt(_e-nt)}this.min=_e,this.max=et}getTickLimit(){const o=this.options.ticks;let{maxTicksLimit:_,stepSize:j}=o,_e;return j?(_e=Math.ceil(this.max/j)-Math.floor(this.min/j)+1,_e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${j} would result generating up to ${_e} ticks. Limiting to 1000.`),_e=1e3)):(_e=this.computeTickLimit(),_=_||11),_&&(_e=Math.min(_,_e)),_e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const o=this.options,_=o.ticks;let j=this.getTickLimit();j=Math.max(2,j);const _e={maxTicks:j,bounds:o.bounds,min:o.min,max:o.max,precision:_.precision,step:_.stepSize,count:_.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:_.minRotation||0,includeBounds:_.includeBounds!==!1},et=this._range||this,tt=generateTicks$1(_e,et);return o.bounds==="ticks"&&_setMinAndMaxByKey(tt,this,"value"),o.reverse?(tt.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),tt}configure(){const o=this.ticks;let _=this.min,j=this.max;if(super.configure(),this.options.offset&&o.length){const _e=(j-_)/Math.max(o.length-1,1)/2;_-=_e,j+=_e}this._startValue=_,this._endValue=j,this._valueRange=j-_}getLabelForValue(o){return formatNumber(o,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:o,max:_}=this.getMinMax(!0);this.min=isNumberFinite(o)?o:0,this.max=isNumberFinite(_)?_:1,this.handleTickRangeOptions()}computeTickLimit(){const o=this.isHorizontal(),_=o?this.width:this.height,j=toRadians(this.options.ticks.minRotation),_e=(o?Math.sin(j):Math.cos(j))||.001,et=this._resolveTickFontOptions(0);return Math.ceil(_/Math.min(40,et.lineHeight/_e))}getPixelForValue(o){return o===null?NaN:this.getPixelForDecimal((o-this._startValue)/this._valueRange)}getValueForPixel(o){return this._startValue+this.getDecimalForPixel(o)*this._valueRange}}gr(LinearScale,"id","linear"),gr(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(i,o){return i-o}function parse(i,o){if(isNullOrUndef(o))return null;const _=i._adapter,{parser:j,round:_e,isoWeekday:et}=i._parseOpts;let tt=o;return typeof j=="function"&&(tt=j(tt)),isNumberFinite(tt)||(tt=typeof j=="string"?_.parse(tt,j):_.parse(tt)),tt===null?null:(_e&&(tt=_e==="week"&&(isNumber(et)||et===!0)?_.startOf(tt,"isoWeek",et):_.startOf(tt,_e)),+tt)}function determineUnitForAutoTicks(i,o,_,j){const _e=UNITS.length;for(let et=UNITS.indexOf(i);et<_e-1;++et){const tt=INTERVALS[UNITS[et]],rt=tt.steps?tt.steps:Number.MAX_SAFE_INTEGER;if(tt.common&&Math.ceil((_-o)/(rt*tt.size))<=j)return UNITS[et]}return UNITS[_e-1]}function determineUnitForFormatting(i,o,_,j,_e){for(let et=UNITS.length-1;et>=UNITS.indexOf(_);et--){const tt=UNITS[et];if(INTERVALS[tt].common&&i._adapter.diff(_e,j,tt)>=o-1)return tt}return UNITS[_?UNITS.indexOf(_):0]}function determineMajorUnit(i){for(let o=UNITS.indexOf(i)+1,_=UNITS.length;o<_;++o)if(INTERVALS[UNITS[o]].common)return UNITS[o]}function addTick(i,o,_){if(!_)i[o]=!0;else if(_.length){const{lo:j,hi:_e}=_lookup(_,o),et=_[j]>=o?_[j]:_[_e];i[et]=!0}}function setMajorTicks(i,o,_,j){const _e=i._adapter,et=+_e.startOf(o[0].value,j),tt=o[o.length-1].value;let rt,nt;for(rt=et;rt<=tt;rt=+_e.add(rt,1,j))nt=_[rt],nt>=0&&(o[nt].major=!0);return o}function ticksFromTimestamps(i,o,_){const j=[],_e={},et=o.length;let tt,rt;for(tt=0;tt<et;++tt)rt=o[tt],_e[rt]=tt,j.push({value:rt,major:!1});return et===0||!_?j:setMajorTicks(i,j,_e,_)}class TimeScale extends Scale{constructor(o){super(o),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(o,_={}){const j=o.time||(o.time={}),_e=this._adapter=new adapters._date(o.adapters.date);_e.init(_),mergeIf(j.displayFormats,_e.formats()),this._parseOpts={parser:j.parser,round:j.round,isoWeekday:j.isoWeekday},super.init(o),this._normalized=_.normalized}parse(o,_){return o===void 0?null:parse(this,o)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const o=this.options,_=this._adapter,j=o.time.unit||"day";let{min:_e,max:et,minDefined:tt,maxDefined:rt}=this.getUserBounds();function nt(st){!tt&&!isNaN(st.min)&&(_e=Math.min(_e,st.min)),!rt&&!isNaN(st.max)&&(et=Math.max(et,st.max))}(!tt||!rt)&&(nt(this._getLabelBounds()),(o.bounds!=="ticks"||o.ticks.source!=="labels")&&nt(this.getMinMax(!1))),_e=isNumberFinite(_e)&&!isNaN(_e)?_e:+_.startOf(Date.now(),j),et=isNumberFinite(et)&&!isNaN(et)?et:+_.endOf(Date.now(),j)+1,this.min=Math.min(_e,et-1),this.max=Math.max(_e+1,et)}_getLabelBounds(){const o=this.getLabelTimestamps();let _=Number.POSITIVE_INFINITY,j=Number.NEGATIVE_INFINITY;return o.length&&(_=o[0],j=o[o.length-1]),{min:_,max:j}}buildTicks(){const o=this.options,_=o.time,j=o.ticks,_e=j.source==="labels"?this.getLabelTimestamps():this._generate();o.bounds==="ticks"&&_e.length&&(this.min=this._userMin||_e[0],this.max=this._userMax||_e[_e.length-1]);const et=this.min,tt=this.max,rt=_filterBetween(_e,et,tt);return this._unit=_.unit||(j.autoSkip?determineUnitForAutoTicks(_.minUnit,this.min,this.max,this._getLabelCapacity(et)):determineUnitForFormatting(this,rt.length,_.minUnit,this.min,this.max)),this._majorUnit=!j.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(_e),o.reverse&&rt.reverse(),ticksFromTimestamps(this,rt,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(o=>+o.value))}initOffsets(o=[]){let _=0,j=0,_e,et;this.options.offset&&o.length&&(_e=this.getDecimalForValue(o[0]),o.length===1?_=1-_e:_=(this.getDecimalForValue(o[1])-_e)/2,et=this.getDecimalForValue(o[o.length-1]),o.length===1?j=et:j=(et-this.getDecimalForValue(o[o.length-2]))/2);const tt=o.length<3?.5:.25;_=_limitValue(_,0,tt),j=_limitValue(j,0,tt),this._offsets={start:_,end:j,factor:1/(_+1+j)}}_generate(){const o=this._adapter,_=this.min,j=this.max,_e=this.options,et=_e.time,tt=et.unit||determineUnitForAutoTicks(et.minUnit,_,j,this._getLabelCapacity(_)),rt=valueOrDefault(_e.ticks.stepSize,1),nt=tt==="week"?et.isoWeekday:!1,st=isNumber(nt)||nt===!0,it={};let at=_,ot,ct;if(st&&(at=+o.startOf(at,"isoWeek",nt)),at=+o.startOf(at,st?"day":tt),o.diff(j,_,tt)>1e5*rt)throw new Error(_+" and "+j+" are too far apart with stepSize of "+rt+" "+tt);const ut=_e.ticks.source==="data"&&this.getDataTimestamps();for(ot=at,ct=0;ot<j;ot=+o.add(ot,rt,tt),ct++)addTick(it,ot,ut);return(ot===j||_e.bounds==="ticks"||ct===1)&&addTick(it,ot,ut),Object.keys(it).sort(sorter).map(lt=>+lt)}getLabelForValue(o){const _=this._adapter,j=this.options.time;return j.tooltipFormat?_.format(o,j.tooltipFormat):_.format(o,j.displayFormats.datetime)}format(o,_){const _e=this.options.time.displayFormats,et=this._unit,tt=_||_e[et];return this._adapter.format(o,tt)}_tickFormatFunction(o,_,j,_e){const et=this.options,tt=et.ticks.callback;if(tt)return callback(tt,[o,_,j],this);const rt=et.time.displayFormats,nt=this._unit,st=this._majorUnit,it=nt&&rt[nt],at=st&&rt[st],ot=j[_],ct=st&&at&&ot&&ot.major;return this._adapter.format(o,_e||(ct?at:it))}generateTickLabels(o){let _,j,_e;for(_=0,j=o.length;_<j;++_)_e=o[_],_e.label=this._tickFormatFunction(_e.value,_,o)}getDecimalForValue(o){return o===null?NaN:(o-this.min)/(this.max-this.min)}getPixelForValue(o){const _=this._offsets,j=this.getDecimalForValue(o);return this.getPixelForDecimal((_.start+j)*_.factor)}getValueForPixel(o){const _=this._offsets,j=this.getDecimalForPixel(o)/_.factor-_.end;return this.min+j*(this.max-this.min)}_getLabelSize(o){const _=this.options.ticks,j=this.ctx.measureText(o).width,_e=toRadians(this.isHorizontal()?_.maxRotation:_.minRotation),et=Math.cos(_e),tt=Math.sin(_e),rt=this._resolveTickFontOptions(0).size;return{w:j*et+rt*tt,h:j*tt+rt*et}}_getLabelCapacity(o){const _=this.options.time,j=_.displayFormats,_e=j[_.unit]||j.millisecond,et=this._tickFormatFunction(o,0,ticksFromTimestamps(this,[o],this._majorUnit),_e),tt=this._getLabelSize(et),rt=Math.floor(this.isHorizontal()?this.width/tt.w:this.height/tt.h)-1;return rt>0?rt:1}getDataTimestamps(){let o=this._cache.data||[],_,j;if(o.length)return o;const _e=this.getMatchingVisibleMetas();if(this._normalized&&_e.length)return this._cache.data=_e[0].controller.getAllParsedValues(this);for(_=0,j=_e.length;_<j;++_)o=o.concat(_e[_].controller.getAllParsedValues(this));return this._cache.data=this.normalize(o)}getLabelTimestamps(){const o=this._cache.labels||[];let _,j;if(o.length)return o;const _e=this.getLabels();for(_=0,j=_e.length;_<j;++_)o.push(parse(this,_e[_]));return this._cache.labels=this._normalized?o:this.normalize(o)}normalize(o){return _arrayUnique(o.sort(sorter))}}gr(TimeScale,"id","time"),gr(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(i,o,_){let j=0,_e=i.length-1,et,tt,rt,nt;_?(o>=i[j].pos&&o<=i[_e].pos&&({lo:j,hi:_e}=_lookupByKey(i,"pos",o)),{pos:et,time:rt}=i[j],{pos:tt,time:nt}=i[_e]):(o>=i[j].time&&o<=i[_e].time&&({lo:j,hi:_e}=_lookupByKey(i,"time",o)),{time:et,pos:rt}=i[j],{time:tt,pos:nt}=i[_e]);const st=tt-et;return st?rt+(nt-rt)*(o-et)/st:rt}class TimeSeriesScale extends TimeScale{constructor(o){super(o),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const o=this._getTimestampsForTable(),_=this._table=this.buildLookupTable(o);this._minPos=interpolate(_,this.min),this._tableRange=interpolate(_,this.max)-this._minPos,super.initOffsets(o)}buildLookupTable(o){const{min:_,max:j}=this,_e=[],et=[];let tt,rt,nt,st,it;for(tt=0,rt=o.length;tt<rt;++tt)st=o[tt],st>=_&&st<=j&&_e.push(st);if(_e.length<2)return[{time:_,pos:0},{time:j,pos:1}];for(tt=0,rt=_e.length;tt<rt;++tt)it=_e[tt+1],nt=_e[tt-1],st=_e[tt],Math.round((it+nt)/2)!==st&&et.push({time:st,pos:tt/(rt-1)});return et}_generate(){const o=this.min,_=this.max;let j=super.getDataTimestamps();return(!j.includes(o)||!j.length)&&j.splice(0,0,o),(!j.includes(_)||j.length===1)&&j.push(_),j.sort((_e,et)=>_e-et)}_getTimestampsForTable(){let o=this._cache.all||[];if(o.length)return o;const _=this.getDataTimestamps(),j=this.getLabelTimestamps();return _.length&&j.length?o=this.normalize(_.concat(j)):o=_.length?_:j,o=this._cache.all=o,o}getDecimalForValue(o){return(interpolate(this._table,o)-this._minPos)/this._tableRange}getValueForPixel(o){const _=this._offsets,j=this.getDecimalForPixel(o)/_.factor-_.end;return interpolate(this._table,j*this._tableRange+this._minPos,!0)}}gr(TimeSeriesScale,"id","timeseries"),gr(TimeSeriesScale,"defaults",TimeScale.defaults);const defaultDatasetIdKey="label";function reforwardRef(i,o){typeof i=="function"?i(o):i&&(i.current=o)}function setOptions(i,o){const _=i.options;_&&o&&Object.assign(_,o)}function setLabels(i,o){i.labels=o}function setDatasets(i,o,_=defaultDatasetIdKey){const j=[];i.datasets=o.map(_e=>{const et=i.datasets.find(tt=>tt[_]===_e[_]);return!et||!_e.data||j.includes(et)?{..._e}:(j.push(et),Object.assign(et,_e),et)})}function cloneData(i,o=defaultDatasetIdKey){const _={labels:[],datasets:[]};return setLabels(_,i.labels),setDatasets(_,i.datasets,o),_}function ChartComponent(i,o){const{height:_=150,width:j=300,redraw:_e=!1,datasetIdKey:et,type:tt,data:rt,options:nt,plugins:st=[],fallbackContent:it,updateMode:at,...ot}=i,ct=reactExports.useRef(null),ut=reactExports.useRef(null),lt=()=>{ct.current&&(ut.current=new Chart$1(ct.current,{type:tt,data:cloneData(rt,et),options:nt&&{...nt},plugins:st}),reforwardRef(o,ut.current))},pt=()=>{reforwardRef(o,null),ut.current&&(ut.current.destroy(),ut.current=null)};return reactExports.useEffect(()=>{!_e&&ut.current&&nt&&setOptions(ut.current,nt)},[_e,nt]),reactExports.useEffect(()=>{!_e&&ut.current&&setLabels(ut.current.config.data,rt.labels)},[_e,rt.labels]),reactExports.useEffect(()=>{!_e&&ut.current&&rt.datasets&&setDatasets(ut.current.config.data,rt.datasets,et)},[_e,rt.datasets]),reactExports.useEffect(()=>{ut.current&&(_e?(pt(),setTimeout(lt)):ut.current.update(at))},[_e,nt,rt.labels,rt.datasets,at]),reactExports.useEffect(()=>{ut.current&&(pt(),setTimeout(lt))},[tt]),reactExports.useEffect(()=>(lt(),()=>pt()),[]),jsxRuntimeExports.jsx("canvas",{ref:ct,role:"img",height:_,width:j,...ot,children:it})}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(i,o){return Chart$1.register(o),reactExports.forwardRef((_,j)=>jsxRuntimeExports.jsx(Chart,{..._,ref:j,type:i}))}const Line=createTypedChart("line",LineController),Bar=createTypedChart("bar",BarController),Doughnut=createTypedChart("doughnut",DoughnutController),Pie=createTypedChart("pie",PieController),metricCardSquare="_metricCardSquare_13a09_21",metricCardVariant1$2="_metricCardVariant1_13a09_45",metricCardVariant2$2="_metricCardVariant2_13a09_61",metricCardVariant3$2="_metricCardVariant3_13a09_73",cardHeader$4="_cardHeader_13a09_86",headerLeft$8="_headerLeft_13a09_93",cardTitle$3="_cardTitle_13a09_99",headerRight$4="_headerRight_13a09_108",optionsButton$2="_optionsButton_13a09_114",cardValue$2="_cardValue_13a09_135",cardSubtitle$3="_cardSubtitle_13a09_144",trendIndicator$2="_trendIndicator_13a09_151",positive$4="_positive_13a09_159",negative$4="_negative_13a09_163",trendIcon$3="_trendIcon_13a09_167",trendValue$3="_trendValue_13a09_171",variantSelector$2="_variantSelector_13a09_176",variantButton$2="_variantButton_13a09_186",active$e="_active_13a09_207",cardChart$2="_cardChart_13a09_214",squareGrid="_squareGrid_13a09_231",loading$8="_loading_13a09_317",styles$w={metricCardSquare,metricCardVariant1:metricCardVariant1$2,metricCardVariant2:metricCardVariant2$2,metricCardVariant3:metricCardVariant3$2,cardHeader:cardHeader$4,headerLeft:headerLeft$8,cardTitle:cardTitle$3,headerRight:headerRight$4,optionsButton:optionsButton$2,cardValue:cardValue$2,cardSubtitle:cardSubtitle$3,trendIndicator:trendIndicator$2,positive:positive$4,negative:negative$4,trendIcon:trendIcon$3,trendValue:trendValue$3,variantSelector:variantSelector$2,variantButton:variantButton$2,active:active$e,cardChart:cardChart$2,squareGrid,loading:loading$8};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,BarElement,plugin_title,plugin_tooltip,index$1,plugin_legend);const MetricCardSquare=({id:i,title:o,value:_,subtitle:j,trend:_e,chartData:et=[],format:tt="number",design:rt="variant1",icon:nt,color:st,onClick:it,onOptionsClick:at,onVariantChange:ot,cardIndex:ct=0,isEditMode:ut=!1})=>{const{getMetricCardColor:lt}=useColors(),pt=st||lt(ct),dt=(ft=!1)=>!ot||!ft?null:jsxRuntimeExports.jsxs("div",{className:styles$w.variantSelector,children:[jsxRuntimeExports.jsx("button",{className:`${styles$w.variantButton} ${rt==="variant1"?styles$w.active:""}`,onClick:mt=>{mt.stopPropagation(),ot("variant1")},title:"Line Chart",children:"1"}),jsxRuntimeExports.jsx("button",{className:`${styles$w.variantButton} ${rt==="variant2"?styles$w.active:""}`,onClick:mt=>{mt.stopPropagation(),ot("variant2")},title:"Bar Chart",children:"2"}),jsxRuntimeExports.jsx("button",{className:`${styles$w.variantButton} ${rt==="variant3"?styles$w.active:""}`,onClick:mt=>{mt.stopPropagation(),ot("variant3")},title:"Area Chart",children:"3"})]}),ht=()=>{if(!et||et.length===0)return null;const ft=et.map(_t=>_t.name),mt=et.map(_t=>_t.value),xt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1}},elements:{point:{radius:0}},interaction:{intersect:!1}};let gt,yt;if(rt==="variant1")yt=Line,gt={labels:ft,datasets:[{data:mt,borderColor:pt,backgroundColor:"transparent",fill:!1,borderWidth:3,tension:.4}]};else if(rt==="variant2"){yt=Bar;const _t=mt.map((Et,wt)=>wt===Math.floor(mt.length/2)?"#FF9F00":pt);gt={labels:ft,datasets:[{data:mt,backgroundColor:_t,borderWidth:0,borderRadius:4,borderSkipped:!1}]}}else yt=Line,gt={labels:ft,datasets:[{data:mt,borderColor:pt,backgroundColor:`${pt}40`,fill:!0,borderWidth:3,tension:.4}]};return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",position:"relative"},children:jsxRuntimeExports.jsx(yt,{data:gt,options:xt})})};return jsxRuntimeExports.jsxs("div",{className:`${styles$w.metricCardSquare} ${styles$w[`metricCard${rt.charAt(0).toUpperCase()+rt.slice(1)}`]}`,onClick:it,style:{...rt==="variant1"&&{borderLeftColor:pt},...rt==="variant2"&&{borderTopColor:pt},...rt==="variant3"&&{borderTopColor:pt,borderBottomColor:pt,borderLeftColor:pt,borderRightColor:pt},background:rt==="variant1"?"rgba(var(--bg-secondary-rgb), 0.8)":void 0,backdropFilter:rt==="variant1"?"blur(10px)":void 0},children:[jsxRuntimeExports.jsxs("div",{className:styles$w.cardHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$w.headerLeft,children:jsxRuntimeExports.jsx("h3",{className:styles$w.cardTitle,children:o})}),jsxRuntimeExports.jsxs("div",{className:styles$w.headerRight,children:[_e&&jsxRuntimeExports.jsxs("div",{className:`${styles$w.trendIndicator} ${_e.isPositive?styles$w.positive:styles$w.negative}`,children:[jsxRuntimeExports.jsx("span",{className:styles$w.trendIcon,children:_e.isPositive?"":""}),jsxRuntimeExports.jsxs("span",{className:styles$w.trendValue,children:[Math.abs(_e.value).toFixed(0),"%"]})]}),dt(ut),at&&jsxRuntimeExports.jsx("button",{className:styles$w.optionsButton,onClick:ft=>{ft.stopPropagation(),at()},children:jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:[jsxRuntimeExports.jsx("circle",{cx:"10",cy:"4",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"10",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"16",r:"1.5"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$w.cardValue,children:typeof _=="number"?jsxRuntimeExports.jsx(_default,{end:_,duration:1.5,separator:",",prefix:tt==="currency"?"":"",suffix:tt==="percentage"?"%":"",decimals:tt==="percentage"?1:0}):_}),j&&jsxRuntimeExports.jsx("div",{className:styles$w.cardSubtitle,children:j}),et&&et.length>0&&jsxRuntimeExports.jsx("div",{className:styles$w.cardChart,children:ht()})]})},colorfulMetricCard="_colorfulMetricCard_mofod_1",colorPurple="_colorPurple_mofod_16",colorBlue="_colorBlue_mofod_22",colorOrange="_colorOrange_mofod_28",colorGreen="_colorGreen_mofod_34",colorRed="_colorRed_mofod_40",colorYellow="_colorYellow_mofod_46",metricCardHeader="_metricCardHeader_mofod_59",metricCardIcon="_metricCardIcon_mofod_66",metricTrend="_metricTrend_mofod_72",positive$3="_positive_mofod_84",negative$3="_negative_mofod_88",metricCardBody="_metricCardBody_mofod_93",metricTitle="_metricTitle_mofod_100",metricValue="_metricValue_mofod_109",metricSubtitle="_metricSubtitle_mofod_117",metricCardChart="_metricCardChart_mofod_167",chartContainer$1="_chartContainer_mofod_173",chartSvg="_chartSvg_mofod_178",loading$7="_loading_mofod_184",shimmer$1="_shimmer_mofod_1",metricCardsGrid="_metricCardsGrid_mofod_204",styles$v={colorfulMetricCard,colorPurple,colorBlue,colorOrange,colorGreen,colorRed,colorYellow,metricCardHeader,metricCardIcon,metricTrend,positive:positive$3,negative:negative$3,metricCardBody,metricTitle,metricValue,metricSubtitle,metricCardChart,chartContainer:chartContainer$1,chartSvg,loading:loading$7,shimmer:shimmer$1,metricCardsGrid},ColorfulMetricCard=({title:i,value:o,subtitle:_,icon:j,trend:_e,chartData:et,color:tt,format:rt="number",onClick:nt,className:st="",cardIndex:it=0,useContextColors:at=!1})=>{const{getMetricCardColor:ot}=useColors(),ct=at?ot(it):tt||"blue",ut=ft=>{if(typeof ft=="string")return ft;switch(rt){case"currency":return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(ft);case"percentage":return`${ft.toFixed(1)}%`;default:return ft.toLocaleString()}},lt=()=>{if(!_e)return null;const ft=_e.isPositive?TrendingUp:TrendingDown;return jsxRuntimeExports.jsx(ft,{size:16})},pt=()=>at||ct.startsWith("#")?"custom":ct,dt=()=>at||ct.startsWith("#")?{"--gradient-start":ct,"--gradient-end":`${ct}CC`}:{},ht=[styles$v.colorfulMetricCard,styles$v[`color${pt().charAt(0).toUpperCase()+pt().slice(1)}`]||"",st].filter(Boolean).join(" ");return jsxRuntimeExports.jsxs("div",{className:ht,onClick:nt,style:{cursor:nt?"pointer":"default",...dt()},children:[jsxRuntimeExports.jsxs("div",{className:styles$v.metricCardHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$v.metricCardIcon,children:j}),_e&&jsxRuntimeExports.jsxs("div",{className:`${styles$v.metricTrend} ${_e.isPositive?styles$v.positive:styles$v.negative}`,children:[lt(),jsxRuntimeExports.jsxs("span",{children:[_e.value>0?"+":"",_e.value.toFixed(0),"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$v.metricCardBody,children:[jsxRuntimeExports.jsx("h3",{className:styles$v.metricTitle,children:i}),jsxRuntimeExports.jsx("div",{className:styles$v.metricValue,children:typeof o=="number"?jsxRuntimeExports.jsx(_default,{start:0,end:o,duration:1.5,separator:",",formattingFn:ut}):ut(o)}),_&&jsxRuntimeExports.jsx("p",{className:styles$v.metricSubtitle,children:_})]}),et&&et.length>0&&jsxRuntimeExports.jsx("div",{className:styles$v.metricCardChart,children:jsxRuntimeExports.jsx("div",{className:styles$v.chartContainer,children:jsxRuntimeExports.jsxs("svg",{width:"100%",height:"60",viewBox:"0 0 300 60",className:styles$v.chartSvg,children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:`gradient-${i.replace(/\s/g,"")}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:ct,stopOpacity:"0.3"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:ct,stopOpacity:"0"})]})}),(()=>{const ft=et.map(Et=>Et.value),mt=Math.max(...ft),xt=Math.min(...ft),gt=mt-xt||1,yt=et.map((Et,wt)=>{const $t=wt/(et.length-1)*300,jt=60-(Et.value-xt)/gt*50;return`${$t},${jt}`}).join(" "),_t=`M ${yt.split(" ").map(Et=>Et).join(" L ")} L 300,60 L 0,60 Z`;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{d:_t,fill:`url(#gradient-${i.replace(/\s/g,"")})`,stroke:ct,strokeWidth:"2"}),jsxRuntimeExports.jsx("polyline",{points:yt,fill:"none",stroke:ct,strokeWidth:"2"})]})})()]})})})]})},compactCard="_compactCard_1t5sd_3",compactIcon="_compactIcon_1t5sd_26",compactContent="_compactContent_1t5sd_38",compactValue="_compactValue_1t5sd_43",compactTitle="_compactTitle_1t5sd_51",compactTrend="_compactTrend_1t5sd_59",positive$2="_positive_1t5sd_69",negative$2="_negative_1t5sd_74",trendIcon$2="_trendIcon_1t5sd_79",trendValue$2="_trendValue_1t5sd_83",styles$u={compactCard,compactIcon,compactContent,compactValue,compactTitle,compactTrend,positive:positive$2,negative:negative$2,trendIcon:trendIcon$2,trendValue:trendValue$2},CompactCard=({title:i,value:o,icon:_,trend:j,format:_e="number",color:et="#79d5e9",onClick:tt})=>jsxRuntimeExports.jsxs("div",{className:styles$u.compactCard,onClick:tt,style:{borderLeftColor:et,borderLeftWidth:"3px",borderLeftStyle:"solid"},children:[jsxRuntimeExports.jsx("div",{className:styles$u.compactIcon,style:{backgroundColor:et},children:_||""}),jsxRuntimeExports.jsxs("div",{className:styles$u.compactContent,children:[jsxRuntimeExports.jsx("div",{className:styles$u.compactValue,children:typeof o=="number"?jsxRuntimeExports.jsx(_default,{end:o,duration:1.5,separator:",",prefix:_e==="currency"?"":"",suffix:_e==="percentage"?"%":"",decimals:_e==="percentage"?1:0}):o}),jsxRuntimeExports.jsx("div",{className:styles$u.compactTitle,children:i})]}),j&&jsxRuntimeExports.jsxs("div",{className:`${styles$u.compactTrend} ${j.isPositive?styles$u.positive:styles$u.negative}`,children:[jsxRuntimeExports.jsx("span",{className:styles$u.trendIcon,children:j.isPositive?"":""}),jsxRuntimeExports.jsxs("span",{className:styles$u.trendValue,children:["+",Math.abs(j.value).toFixed(0),"%"]})]})]}),mediumMetricCard="_mediumMetricCard_3b6gp_4",metricCardVariant1$1="_metricCardVariant1_3b6gp_26",metricCardVariant2$1="_metricCardVariant2_3b6gp_38",metricCardVariant3$1="_metricCardVariant3_3b6gp_49",cardHeader$3="_cardHeader_3b6gp_61",headerLeft$7="_headerLeft_3b6gp_68",cardTitle$2="_cardTitle_3b6gp_74",headerRight$3="_headerRight_3b6gp_83",optionsButton$1="_optionsButton_3b6gp_89",cardValue$1="_cardValue_3b6gp_110",cardSubtitle$2="_cardSubtitle_3b6gp_119",trendIndicator$1="_trendIndicator_3b6gp_126",positive$1="_positive_3b6gp_134",negative$1="_negative_3b6gp_138",trendIcon$1="_trendIcon_3b6gp_142",trendValue$1="_trendValue_3b6gp_146",variantSelector$1="_variantSelector_3b6gp_151",variantButton$1="_variantButton_3b6gp_161",active$d="_active_3b6gp_182",cardChart$1="_cardChart_3b6gp_189",cardDateRange$1="_cardDateRange_3b6gp_198",styles$t={mediumMetricCard,metricCardVariant1:metricCardVariant1$1,metricCardVariant2:metricCardVariant2$1,metricCardVariant3:metricCardVariant3$1,cardHeader:cardHeader$3,headerLeft:headerLeft$7,cardTitle:cardTitle$2,headerRight:headerRight$3,optionsButton:optionsButton$1,cardValue:cardValue$1,cardSubtitle:cardSubtitle$2,trendIndicator:trendIndicator$1,positive:positive$1,negative:negative$1,trendIcon:trendIcon$1,trendValue:trendValue$1,variantSelector:variantSelector$1,variantButton:variantButton$1,active:active$d,cardChart:cardChart$1,cardDateRange:cardDateRange$1},MediumMetricCard=({id:i,title:o,value:_,subtitle:j,trend:_e,chartData:et=[],format:tt="number",design:rt="variant1",icon:nt,color:st="#79d5e9",onClick:it,onOptionsClick:at,onVariantChange:ot,isEditMode:ct=!1})=>{var pt,dt;const ut={margin:{top:5,right:10,bottom:5,left:10},strokeWidth:2},lt=()=>{if(!et||et.length===0)return null;const ht=rt==="variant3"?BarChart:rt==="variant2"?LineChart:AreaChart;return jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ht,{data:et,...ut,children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:st,stopOpacity:.3}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:st,stopOpacity:0})]})}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",hide:!0}),jsxRuntimeExports.jsx(YAxis,{hide:!0}),jsxRuntimeExports.jsx(Tooltip$1,{contentStyle:{background:"#1a1f2a",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",fontSize:"12px",padding:"8px"},labelStyle:{color:"#a0a0a0"},formatter:ft=>[tt==="currency"?`${Math.round(ft).toLocaleString()}`:tt==="percentage"?`${Math.round(ft)}%`:Math.round(ft).toLocaleString(),""]}),rt==="variant3"?jsxRuntimeExports.jsx(Bar$1,{dataKey:"value",fill:st,radius:[4,4,0,0]}):rt==="variant2"?jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"value",stroke:st,strokeWidth:2,dot:!1}):jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"value",stroke:st,fill:`url(#gradient-${i})`,strokeWidth:2})]})})};return jsxRuntimeExports.jsxs("div",{className:`${styles$t.mediumMetricCard} ${styles$t[`metricCard${rt.charAt(0).toUpperCase()+rt.slice(1)}`]}`,onClick:it,style:{...rt==="variant1"&&{borderTopColor:st,borderBottomColor:st,borderLeftColor:st,borderRightColor:st},...rt==="variant2"&&{borderLeftColor:st},...rt==="variant3"&&{borderTopColor:st},background:rt==="variant1"?`linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, ${st}15 100%)`:void 0},children:[jsxRuntimeExports.jsxs("div",{className:styles$t.cardHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$t.headerLeft,children:jsxRuntimeExports.jsx("h3",{className:styles$t.cardTitle,children:o})}),jsxRuntimeExports.jsxs("div",{className:styles$t.headerRight,children:[_e&&jsxRuntimeExports.jsxs("div",{className:`${styles$t.trendIndicator} ${_e.isPositive?styles$t.positive:styles$t.negative}`,children:[jsxRuntimeExports.jsx("span",{className:styles$t.trendIcon,children:_e.isPositive?"":""}),jsxRuntimeExports.jsxs("span",{className:styles$t.trendValue,children:[Math.abs(_e.value).toFixed(0),"%"]})]}),at&&jsxRuntimeExports.jsx("button",{className:styles$t.optionsButton,onClick:ht=>{ht.stopPropagation(),at()},children:jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:[jsxRuntimeExports.jsx("circle",{cx:"10",cy:"4",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"10",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"16",r:"1.5"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$t.cardValue,children:typeof _=="number"?jsxRuntimeExports.jsx(_default,{end:_,duration:1.5,separator:",",prefix:tt==="currency"?"":"",suffix:tt==="percentage"?"%":"",decimals:tt==="percentage"?1:0}):_}),j&&jsxRuntimeExports.jsx("div",{className:styles$t.cardSubtitle,children:j}),et&&et.length>0&&jsxRuntimeExports.jsx("div",{className:styles$t.cardChart,children:lt()}),et&&et.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$t.cardDateRange,children:[jsxRuntimeExports.jsx("span",{children:(pt=et[0])==null?void 0:pt.name}),jsxRuntimeExports.jsx("span",{children:(dt=et[et.length-1])==null?void 0:dt.name})]})]})},largeMetricCard="_largeMetricCard_6qmjq_4",metricCardVariant1="_metricCardVariant1_6qmjq_28",metricCardVariant2="_metricCardVariant2_6qmjq_37",metricCardVariant3="_metricCardVariant3_6qmjq_50",cardHeader$2="_cardHeader_6qmjq_63",headerLeft$6="_headerLeft_6qmjq_70",cardTitle$1="_cardTitle_6qmjq_76",headerRight$2="_headerRight_6qmjq_85",optionsButton="_optionsButton_6qmjq_91",cardValue="_cardValue_6qmjq_112",cardSubtitle$1="_cardSubtitle_6qmjq_121",trendIndicator="_trendIndicator_6qmjq_128",positive="_positive_6qmjq_136",negative="_negative_6qmjq_140",trendIcon="_trendIcon_6qmjq_144",trendValue="_trendValue_6qmjq_148",variantSelector="_variantSelector_6qmjq_153",variantButton="_variantButton_6qmjq_163",active$c="_active_6qmjq_184",cardChart="_cardChart_6qmjq_191",cardDateRange="_cardDateRange_6qmjq_200",styles$s={largeMetricCard,metricCardVariant1,metricCardVariant2,metricCardVariant3,cardHeader:cardHeader$2,headerLeft:headerLeft$6,cardTitle:cardTitle$1,headerRight:headerRight$2,optionsButton,cardValue,cardSubtitle:cardSubtitle$1,trendIndicator,positive,negative,trendIcon,trendValue,variantSelector,variantButton,active:active$c,cardChart,cardDateRange},LargeMetricCard=({id:i,title:o,value:_,subtitle:j,trend:_e,chartData:et=[],format:tt="number",design:rt="variant1",icon:nt,color:st="#79d5e9",onClick:it,onOptionsClick:at,onVariantChange:ot,isEditMode:ct=!1})=>{var dt,ht;const ut={margin:{top:5,right:10,bottom:5,left:10},strokeWidth:2},lt=()=>!ot||!ct?null:jsxRuntimeExports.jsxs("div",{className:styles$s.variantSelector,children:[jsxRuntimeExports.jsx("button",{className:`${styles$s.variantButton} ${rt==="variant1"?styles$s.active:""}`,onClick:ft=>{ft.stopPropagation(),ot("variant1")},title:"Area Chart",children:"1"}),jsxRuntimeExports.jsx("button",{className:`${styles$s.variantButton} ${rt==="variant2"?styles$s.active:""}`,onClick:ft=>{ft.stopPropagation(),ot("variant2")},title:"Line Chart",children:"2"}),jsxRuntimeExports.jsx("button",{className:`${styles$s.variantButton} ${rt==="variant3"?styles$s.active:""}`,onClick:ft=>{ft.stopPropagation(),ot("variant3")},title:"Bar Chart",children:"3"})]}),pt=()=>{if(!et||et.length===0)return null;const ft=rt==="variant3"?BarChart:rt==="variant2"?LineChart:AreaChart;return jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(ft,{data:et,...ut,children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:st,stopOpacity:.3}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:st,stopOpacity:0})]})}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",hide:!0}),jsxRuntimeExports.jsx(YAxis,{hide:!0}),jsxRuntimeExports.jsx(Tooltip$1,{contentStyle:{background:"#1a1f2a",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",fontSize:"12px",padding:"8px"},labelStyle:{color:"#a0a0a0"},formatter:mt=>[tt==="currency"?`${Math.round(mt).toLocaleString()}`:tt==="percentage"?`${Math.round(mt)}%`:Math.round(mt).toLocaleString(),""]}),rt==="variant3"?jsxRuntimeExports.jsx(Bar$1,{dataKey:"value",fill:st,radius:[4,4,0,0]}):rt==="variant2"?jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"value",stroke:st,strokeWidth:2,dot:!1}):jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"value",stroke:st,fill:`url(#gradient-${i})`,strokeWidth:2})]})})};return jsxRuntimeExports.jsxs("div",{className:`${styles$s.largeMetricCard} ${styles$s[`metricCard${rt.charAt(0).toUpperCase()+rt.slice(1)}`]}`,onClick:it,style:{...rt==="variant1"&&{borderTopColor:st,borderBottomColor:st,borderLeftColor:st,borderRightColor:st},...rt==="variant2"&&{borderLeftColor:st},...rt==="variant3"&&{borderTopColor:st},background:rt==="variant1"?`linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, ${st}15 100%)`:void 0},children:[jsxRuntimeExports.jsxs("div",{className:styles$s.cardHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$s.headerLeft,children:jsxRuntimeExports.jsx("h3",{className:styles$s.cardTitle,children:o})}),jsxRuntimeExports.jsxs("div",{className:styles$s.headerRight,children:[_e&&jsxRuntimeExports.jsxs("div",{className:`${styles$s.trendIndicator} ${_e.isPositive?styles$s.positive:styles$s.negative}`,children:[jsxRuntimeExports.jsx("span",{className:styles$s.trendIcon,children:_e.isPositive?"":""}),jsxRuntimeExports.jsxs("span",{className:styles$s.trendValue,children:[Math.abs(_e.value).toFixed(0),"%"]})]}),lt(),at&&jsxRuntimeExports.jsx("button",{className:styles$s.optionsButton,onClick:ft=>{ft.stopPropagation(),at()},children:jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:[jsxRuntimeExports.jsx("circle",{cx:"10",cy:"4",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"10",r:"1.5"}),jsxRuntimeExports.jsx("circle",{cx:"10",cy:"16",r:"1.5"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$s.cardValue,children:typeof _=="number"?jsxRuntimeExports.jsx(_default,{end:_,duration:1.5,separator:",",prefix:tt==="currency"?"":"",suffix:tt==="percentage"?"%":"",decimals:tt==="percentage"?1:0}):_}),j&&jsxRuntimeExports.jsx("div",{className:styles$s.cardSubtitle,children:j}),et&&et.length>0&&jsxRuntimeExports.jsx("div",{className:styles$s.cardChart,children:pt()}),et&&et.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$s.cardDateRange,children:[jsxRuntimeExports.jsx("span",{children:(dt=et[0])==null?void 0:dt.name}),jsxRuntimeExports.jsx("span",{children:(ht=et[et.length-1])==null?void 0:ht.name})]})]})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React$7.createContext&&React$7.createContext(DefaultContext),__assign=function(){return __assign=Object.assign||function(i){for(var o,_=1,j=arguments.length;_<j;_++){o=arguments[_];for(var _e in o)Object.prototype.hasOwnProperty.call(o,_e)&&(i[_e]=o[_e])}return i},__assign.apply(this,arguments)},__rest=function(i,o){var _={};for(var j in i)Object.prototype.hasOwnProperty.call(i,j)&&o.indexOf(j)<0&&(_[j]=i[j]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,j=Object.getOwnPropertySymbols(i);_e<j.length;_e++)o.indexOf(j[_e])<0&&Object.prototype.propertyIsEnumerable.call(i,j[_e])&&(_[j[_e]]=i[j[_e]]);return _};function Tree2Element(i){return i&&i.map(function(o,_){return React$7.createElement(o.tag,__assign({key:_},o.attr),Tree2Element(o.child))})}function GenIcon(i){return function(o){return React$7.createElement(IconBase,__assign({attr:__assign({},i.attr)},o),Tree2Element(i.child))}}function IconBase(i){var o=function(_){var j=i.attr,_e=i.size,et=i.title,tt=__rest(i,["attr","size","title"]),rt=_e||_.size||"1em",nt;return _.className&&(nt=_.className),i.className&&(nt=(nt?nt+" ":"")+i.className),React$7.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},_.attr,j,tt,{className:nt,style:__assign(__assign({color:i.color||_.color},_.style),i.style),height:rt,width:rt,xmlns:"http://www.w3.org/2000/svg"}),et&&React$7.createElement("title",null,et),i.children)};return IconContext!==void 0?React$7.createElement(IconContext.Consumer,null,function(_){return o(_)}):o(DefaultContext)}function FaBolt(i){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"}}]})(i)}function FaBox(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(i)}function FaCalendarAlt(i){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(i)}function FaChartLine(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(i)}function FaCog(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(i)}function FaEdit(i){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(i)}function FaGripVertical(i){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z"}}]})(i)}function FaMoneyBillWave(i){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(i)}function FaPlus(i){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(i)}function FaSave(i){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(i)}function FaShoppingCart(i){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}}]})(i)}function FaSyncAlt(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(i)}function FaTable(i){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"}}]})(i)}function FaTimes(i){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(i)}function FaTruck(i){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"}}]})(i)}function FaUsers(i){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(i)}const dashboardHeaderBar="_dashboardHeaderBar_1q2zl_2",headerMain="_headerMain_1q2zl_6",headerLeft$5="_headerLeft_1q2zl_32",headerTitle$2="_headerTitle_1q2zl_39",editableTitle="_editableTitle_1q2zl_51",editIcon="_editIcon_1q2zl_62",titleEditContainer="_titleEditContainer_1q2zl_72",titleInput="_titleInput_1q2zl_78",currentDate="_currentDate_1q2zl_91",headerControls="_headerControls_1q2zl_98",dateRangeSelector="_dateRangeSelector_1q2zl_105",controlIcon="_controlIcon_1q2zl_121",dateSelect="_dateSelect_1q2zl_126",controlBtn="_controlBtn_1q2zl_142",active$b="_active_1q2zl_164",styles$r={dashboardHeaderBar,headerMain,headerLeft:headerLeft$5,headerTitle:headerTitle$2,editableTitle,editIcon,titleEditContainer,titleInput,currentDate,headerControls,dateRangeSelector,controlIcon,dateSelect,controlBtn,active:active$b},DashboardHeader=({title:i,dateRange:o,onDateRangeChange:_,onRefresh:j,isEditMode:_e,onEditModeToggle:et,onTitleChange:tt,metricDisplayMode:rt,onMetricDisplayModeChange:nt})=>{const[st,it]=React$7.useState(!1),[at,ot]=React$7.useState(!1),[ct,ut]=React$7.useState(i);React$7.useEffect(()=>{ut(i)},[i]);const lt=()=>{tt&&ot(!0)},pt=()=>{tt&&ct.trim()!==i&&tt(ct.trim()),ot(!1)},dt=()=>{ut(i),ot(!1)},ht=ft=>{ft.key==="Enter"?pt():ft.key==="Escape"&&dt()};return jsxRuntimeExports.jsx("div",{className:styles$r.dashboardHeaderBar,children:jsxRuntimeExports.jsxs("div",{className:styles$r.headerMain,children:[jsxRuntimeExports.jsxs("div",{className:styles$r.headerLeft,children:[at?jsxRuntimeExports.jsx("div",{className:styles$r.titleEditContainer,children:jsxRuntimeExports.jsx("input",{type:"text",value:ct,onChange:ft=>ut(ft.target.value),onKeyDown:ht,onBlur:pt,className:styles$r.titleInput,autoFocus:!0})}):jsxRuntimeExports.jsxs("h1",{className:`${styles$r.headerTitle} ${tt?styles$r.editableTitle:""}`,onClick:lt,title:tt?"Click to edit title":"",children:[i,tt&&jsxRuntimeExports.jsx(FaEdit,{className:styles$r.editIcon})]}),jsxRuntimeExports.jsx("span",{className:styles$r.currentDate,children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),jsxRuntimeExports.jsxs("div",{className:styles$r.headerControls,children:[jsxRuntimeExports.jsxs("div",{className:styles$r.dateRangeSelector,children:[jsxRuntimeExports.jsx(FaCalendarAlt,{className:styles$r.controlIcon}),jsxRuntimeExports.jsxs("select",{value:o,onChange:ft=>_(ft.target.value),className:styles$r.dateSelect,children:[jsxRuntimeExports.jsx("option",{value:"7_days",children:"Last 7 Days"}),jsxRuntimeExports.jsx("option",{value:"30_days",children:"Last 30 Days"}),jsxRuntimeExports.jsx("option",{value:"90_days",children:"Last 90 Days"}),jsxRuntimeExports.jsx("option",{value:"last_month",children:"Last Month"}),jsxRuntimeExports.jsx("option",{value:"quarter",children:"This Quarter"}),jsxRuntimeExports.jsx("option",{value:"last_quarter",children:"Last Quarter"}),jsxRuntimeExports.jsx("option",{value:"this_year",children:"This Year"}),jsxRuntimeExports.jsx("option",{value:"last_year",children:"Last Year"}),jsxRuntimeExports.jsx("option",{value:"12_months",children:"Last 12 Months"})]})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$r.controlBtn} ${_e?styles$r.active:""}`,onClick:()=>{et(),it(_e?!1:st)},title:_e?"Exit Edit Mode":"Enter Edit Mode",children:[jsxRuntimeExports.jsx(FaEdit,{}),jsxRuntimeExports.jsx("span",{children:_e?"Done":"Edit"})]}),jsxRuntimeExports.jsxs("button",{className:styles$r.controlBtn,onClick:j,title:"Refresh Data",children:[jsxRuntimeExports.jsx(FaSyncAlt,{}),jsxRuntimeExports.jsx("span",{children:"Refresh"})]})]})]})})},tableContainer$1="_tableContainer_scp5e_1",table="_table_scp5e_1",headerRow="_headerRow_scp5e_16",headerCell$1="_headerCell_scp5e_21",dataRow="_dataRow_scp5e_30",dataCell="_dataCell_scp5e_43",emptyState$b="_emptyState_scp5e_51",styles$q={tableContainer:tableContainer$1,table,headerRow,headerCell:headerCell$1,dataRow,dataCell,emptyState:emptyState$b},CleanTableCard=({data:i,columns:o,backgroundColor:_="#1a1f2a",textColor:j="#ffffff",headerColor:_e="#79d5e9",borderColor:et="rgba(255, 255, 255, 0.1)",maxRows:tt=10})=>{const rt=i.slice(0,tt),nt=(st,it)=>{if(st==null)return"-";switch(it){case"currency":return typeof st=="number"?`${st.toLocaleString()}`:st;case"percentage":return typeof st=="number"?`${st}%`:st;case"number":return typeof st=="number"?st.toLocaleString():st;case"date":return st instanceof Date?st.toLocaleDateString():st;default:return st}};return jsxRuntimeExports.jsxs("div",{className:styles$q.tableContainer,style:{backgroundColor:_,color:j,borderColor:et},children:[jsxRuntimeExports.jsxs("table",{className:styles$q.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{className:styles$q.headerRow,children:o.map(st=>jsxRuntimeExports.jsx("th",{className:styles$q.headerCell,style:{width:st.width,textAlign:st.align||"left",color:_e},children:st.header},st.key))})}),jsxRuntimeExports.jsx("tbody",{children:rt.map((st,it)=>jsxRuntimeExports.jsx("tr",{className:styles$q.dataRow,children:o.map(at=>jsxRuntimeExports.jsx("td",{className:styles$q.dataCell,style:{textAlign:at.align||"left"},children:nt(st[at.key],at.format)},at.key))},it))})]}),rt.length===0&&jsxRuntimeExports.jsx("div",{className:styles$q.emptyState,children:jsxRuntimeExports.jsx("p",{children:"No data available"})})]})},fullGraphContainer="_fullGraphContainer_1xyvv_3",fullGraphHeader="_fullGraphHeader_1xyvv_14",graphHeaderLeft="_graphHeaderLeft_1xyvv_23",graphTitle="_graphTitle_1xyvv_28",graphSubtitle="_graphSubtitle_1xyvv_35",graphHeaderRight="_graphHeaderRight_1xyvv_41",graphActions="_graphActions_1xyvv_82",graphActionButton="_graphActionButton_1xyvv_87",fullGraphContent="_fullGraphContent_1xyvv_109",styles$p={fullGraphContainer,fullGraphHeader,graphHeaderLeft,graphTitle,graphSubtitle,graphHeaderRight,graphActions,graphActionButton,fullGraphContent};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);const FullGraph=({id:i,title:o,subtitle:_,data:j,type:_e="area",lines:et=[{dataKey:"value",color:"#79d5e9",name:"Value"}],showBrush:tt=!0,showGrid:rt=!0,showLegend:nt=!0,height:st=400,dateRange:it,onDateRangeChange:at,onExport:ot,onFullscreen:ct,customColors:ut})=>{const lt=j||[],pt=(ht,ft="currency")=>typeof ht!="number"?ht:ft==="number"?ht>=1e6?`${(ht/1e6).toFixed(1)}M`:ht>=1e3?`${(ht/1e3).toFixed(1)}K`:ht.toFixed(0):ft==="percentage"?`${ht.toFixed(1)}%`:ht>=1e6?`${(ht/1e6).toFixed(1)}M`:ht>=1e3?`${(ht/1e3).toFixed(1)}K`:`${ht.toFixed(0)}`,dt=()=>{if(_e==="pie"||_e==="doughnut"||_e==="donut"){const xt={labels:(lt==null?void 0:lt.map(_t=>_t.name||_t.date))||[],datasets:[{data:(lt==null?void 0:lt.map(_t=>{var Et;return _t[((Et=et[0])==null?void 0:Et.dataKey)||"value"]}))||[],backgroundColor:["#79d5e9","#799de9","#79e9c5","#FF9F00","#C96868","#A459D1","#FFB84C","#16B3AC","#F266AB","#A25772"],borderWidth:2,borderColor:"#1a1f2a"}]},gt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:nt,position:"right",labels:{color:"#a0a0a0",padding:20,font:{size:12}}},tooltip:{backgroundColor:"#1a1f2a",titleColor:"#a0a0a0",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,callbacks:{label:_t=>{var Tt;const Et=_t.raw,wt=_t.dataset.data.reduce((kt,Pt)=>kt+Pt,0),$t=(Et/wt*100).toFixed(1),jt=((Tt=et[0])==null?void 0:Tt.format)||"currency";return`${_t.label}: ${pt(Et,jt)} (${$t}%)`}}}}},yt=_e==="pie"?Pie:Doughnut;return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:st},children:jsxRuntimeExports.jsx(yt,{data:xt,options:gt})})}const ht={labels:(lt==null?void 0:lt.map(xt=>xt.name||xt.date))||[],datasets:et.map((xt,gt)=>{const yt=(ut==null?void 0:ut[xt.dataKey])||xt.color;return{label:xt.name,data:(lt==null?void 0:lt.map(_t=>_t[xt.dataKey]))||[],borderColor:yt,backgroundColor:xt.type==="bar"?yt:`${yt}40`,fill:xt.type==="area",borderWidth:2,tension:.4,pointRadius:0}})},ft={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:nt,position:"top",labels:{color:"#a0a0a0",usePointStyle:!0,pointStyle:"line"}},tooltip:{backgroundColor:"#1a1f2a",titleColor:"#a0a0a0",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,cornerRadius:8,callbacks:{label:xt=>{const gt=et[xt.datasetIndex];return pt(xt.raw,(gt==null?void 0:gt.format)||"currency")}}}},scales:{x:{display:!0,grid:{display:rt,color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#666",font:{size:12}}},y:{display:!0,grid:{display:rt,color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#666",font:{size:12},callback:xt=>{const gt=et.find(yt=>(yt.yAxisId||"left")==="left");return pt(xt,(gt==null?void 0:gt.format)||"currency")}}}},elements:{point:{radius:0,hoverRadius:4}}},mt=_e==="bar"?Bar:Line;return jsxRuntimeExports.jsx("div",{style:{width:"100%",height:st},children:jsxRuntimeExports.jsx(mt,{data:ht,options:ft})})};return jsxRuntimeExports.jsxs("div",{className:styles$p.fullGraphContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$p.fullGraphHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$p.graphHeaderLeft,children:[jsxRuntimeExports.jsx("h2",{className:styles$p.graphTitle,children:o}),_&&jsxRuntimeExports.jsx("p",{className:styles$p.graphSubtitle,children:_})]}),jsxRuntimeExports.jsx("div",{className:styles$p.graphHeaderRight,children:jsxRuntimeExports.jsxs("div",{className:styles$p.graphActions,children:[ot&&jsxRuntimeExports.jsx("button",{className:styles$p.graphActionButton,onClick:ot,title:"Export","aria-label":"Export graph data",children:jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M10 3v10m0 0l-3-3m3 3l3-3M5 17h10",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),ct&&jsxRuntimeExports.jsx("button",{className:styles$p.graphActionButton,onClick:ct,title:"Fullscreen","aria-label":"Toggle fullscreen view",children:jsxRuntimeExports.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 7V4h3m9 0h-3v3m0 9v-3h3m-9 3H4v-3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),jsxRuntimeExports.jsx("div",{className:styles$p.fullGraphContent,children:lt&&lt.length>0?dt():jsxRuntimeExports.jsx("div",{style:{height:st,display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"14px"},children:"No data available for the selected period"})})]})},activityFeedContainer="_activityFeedContainer_1t7ch_3",cardHeader$1="_cardHeader_1t7ch_13",cardTitle="_cardTitle_1t7ch_22",cardSubtitle="_cardSubtitle_1t7ch_29",loadingState="_loadingState_1t7ch_35",emptyState$a="_emptyState_1t7ch_43",activitiesSimple="_activitiesSimple_1t7ch_51",activityItem$1="_activityItem_1t7ch_62",activityContent$1="_activityContent_1t7ch_75",activityIcon$1="_activityIcon_1t7ch_82",activityCard="_activityCard_1t7ch_99",activityMain="_activityMain_1t7ch_112",activityRight="_activityRight_1t7ch_120",activityInfo="_activityInfo_1t7ch_130",activityTitle$1="_activityTitle_1t7ch_138",activityCompany="_activityCompany_1t7ch_144",activityAmount="_activityAmount_1t7ch_149",activityTime="_activityTime_1t7ch_155",filterBar="_filterBar_1t7ch_162",filterList="_filterList_1t7ch_167",filterButton$1="_filterButton_1t7ch_173",active$a="_active_1t7ch_188",styles$o={activityFeedContainer,cardHeader:cardHeader$1,cardTitle,cardSubtitle,loadingState,emptyState:emptyState$a,activitiesSimple,activityItem:activityItem$1,activityContent:activityContent$1,activityIcon:activityIcon$1,activityCard,activityMain,activityRight,activityInfo,activityTitle:activityTitle$1,activityCompany,activityAmount,activityTime,filterBar,filterList,filterButton:filterButton$1,active:active$a},getTextColor=i=>{const o=i.replace("#",""),_=parseInt(o.substr(0,2),16),j=parseInt(o.substr(2,2),16),_e=parseInt(o.substr(4,2),16);return(.299*_+.587*j+.114*_e)/255>.5?"#1a1f2a":"#ffffff"},ActivityFeed=({activities:i=[],loading:o=!1,color:_="#79d5e9",title:j="Recent Activities",subtitle:_e="Latest system events",maxActivities:et=6,filters:tt=[],onFilterChange:rt,showFilters:nt=!1})=>{const st=getTextColor(_),it=st==="#ffffff"?"rgba(255, 255, 255, 0.7)":"rgba(26, 31, 42, 0.7)",at=tt.length>0&&tt.some(ut=>ut.active)?i.filter(ut=>tt.filter(pt=>pt.active).some(pt=>ut.action.toLowerCase().includes(pt.value.toLowerCase()))):i,ot=ut=>{if(rt){const lt=tt.map(pt=>pt.id===ut?{...pt,active:!pt.active}:pt);rt(lt)}},ct=ut=>ut.action.toLowerCase().includes("delivered")?{icon:jsxRuntimeExports.jsx(Package,{size:16,color:"white"}),bgColor:"#3b82f6",title:"Order Delivered",showAmount:!0}:ut.action.toLowerCase().includes("order")?{icon:jsxRuntimeExports.jsx(ShoppingCart,{size:16,color:"white"}),bgColor:"#22c55e",title:"New Order",showAmount:!0}:ut.action.toLowerCase().includes("invoice")?{icon:jsxRuntimeExports.jsx(FileText,{size:16,color:"white"}),bgColor:"#22c55e",title:"Invoice Paid",showAmount:!0}:{icon:jsxRuntimeExports.jsx(User,{size:16,color:"white"}),bgColor:"#64748b",title:"User Logged In",showAmount:!1};return o?jsxRuntimeExports.jsxs("div",{className:styles$o.activityFeedContainer,style:{background:_,color:st},children:[jsxRuntimeExports.jsxs("div",{className:styles$o.cardHeader,children:[jsxRuntimeExports.jsx("h3",{style:{color:st},children:j}),jsxRuntimeExports.jsx("p",{style:{color:it},children:_e})]}),jsxRuntimeExports.jsx("div",{className:styles$o.loadingState,style:{color:it},children:"Loading activities..."})]}):jsxRuntimeExports.jsxs("div",{className:styles$o.activityFeedContainer,style:{background:_,color:st},children:[jsxRuntimeExports.jsx("div",{className:styles$o.cardHeader,style:{borderBottom:`1px solid ${st==="#ffffff"?"rgba(255, 255, 255, 0.15)":"rgba(26, 31, 42, 0.15)"}`},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:styles$o.cardTitle,style:{color:st},children:j}),jsxRuntimeExports.jsx("p",{className:styles$o.cardSubtitle,style:{color:it},children:_e})]})}),nt&&tt.length>0&&jsxRuntimeExports.jsx("div",{className:styles$o.filterBar,style:{borderBottom:`1px solid ${st==="#ffffff"?"rgba(255, 255, 255, 0.15)":"rgba(26, 31, 42, 0.15)"}`},children:jsxRuntimeExports.jsx("div",{className:styles$o.filterList,children:tt.map(ut=>jsxRuntimeExports.jsx("button",{className:`${styles$o.filterButton} ${ut.active?styles$o.active:""}`,onClick:()=>ot(ut.id),style:{background:ut.active?st==="#ffffff"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)":"transparent",color:ut.active?st:it,border:`1px solid ${ut.active?st==="#ffffff"?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)":st==="#ffffff"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:ut.label},ut.id))})}),jsxRuntimeExports.jsxs("div",{className:styles$o.activitiesSimple,children:[at.slice(0,et).map(ut=>{const lt=ct(ut);return jsxRuntimeExports.jsx("div",{className:styles$o.activityItem,children:jsxRuntimeExports.jsxs("div",{className:styles$o.activityContent,children:[jsxRuntimeExports.jsx("div",{className:styles$o.activityIcon,style:{background:lt.bgColor},children:lt.icon}),jsxRuntimeExports.jsx("div",{className:styles$o.activityCard,style:{background:st==="#ffffff"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",border:`1px solid ${st==="#ffffff"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)"}`},children:jsxRuntimeExports.jsxs("div",{className:styles$o.activityMain,children:[jsxRuntimeExports.jsxs("div",{className:styles$o.activityInfo,children:[jsxRuntimeExports.jsx("div",{className:styles$o.activityTitle,style:{color:st},children:lt.title}),jsxRuntimeExports.jsx("div",{className:styles$o.activityCompany,style:{color:it},children:ut.customerName})]}),jsxRuntimeExports.jsxs("div",{className:styles$o.activityRight,children:[lt.showAmount&&ut.amount>0&&jsxRuntimeExports.jsxs("div",{className:styles$o.activityAmount,style:{color:st},children:["",ut.amount.toLocaleString()]}),jsxRuntimeExports.jsx("div",{className:styles$o.activityTime,style:{color:it},children:ut.time.replace(" ago","").replace("hours","hr").replace("hour","hr").replace("minutes","min").replace("minute","min")})]})]})})]})},ut.id)}),at.length===0&&jsxRuntimeExports.jsx("div",{className:styles$o.emptyState,style:{color:it},children:"No recent activities"})]})]})};var reactGridLayout={exports:{}},ReactGridLayout$1={},fastEquals={exports:{}};(function(i,o){(function(_,j){j(o)})(commonjsGlobal,function(_){function j(Yt){return function(Kt,er,Nt,lr,Wt,Ut,Jt){return Yt(Kt,er,Jt)}}function _e(Yt){return function(Kt,er,Nt,lr){if(!Kt||!er||typeof Kt!="object"||typeof er!="object")return Yt(Kt,er,Nt,lr);var Wt=lr.get(Kt),Ut=lr.get(er);if(Wt&&Ut)return Wt===er&&Ut===Kt;lr.set(Kt,er),lr.set(er,Kt);var Jt=Yt(Kt,er,Nt,lr);return lr.delete(Kt),lr.delete(er),Jt}}function et(Yt,Ft){var Kt={};for(var er in Yt)Kt[er]=Yt[er];for(var er in Ft)Kt[er]=Ft[er];return Kt}function tt(Yt){return Yt.constructor===Object||Yt.constructor==null}function rt(Yt){return typeof Yt.then=="function"}function nt(Yt,Ft){return Yt===Ft||Yt!==Yt&&Ft!==Ft}var st="[object Arguments]",it="[object Boolean]",at="[object Date]",ot="[object RegExp]",ct="[object Map]",ut="[object Number]",lt="[object Object]",pt="[object Set]",dt="[object String]",ht=Object.prototype.toString;function ft(Yt){var Ft=Yt.areArraysEqual,Kt=Yt.areDatesEqual,er=Yt.areMapsEqual,Nt=Yt.areObjectsEqual,lr=Yt.areRegExpsEqual,Wt=Yt.areSetsEqual,Ut=Yt.createIsNestedEqual,Jt=Ut(Bt);function Bt(tr,ar,hr){if(tr===ar)return!0;if(!tr||!ar||typeof tr!="object"||typeof ar!="object")return tr!==tr&&ar!==ar;if(tt(tr)&&tt(ar))return Nt(tr,ar,Jt,hr);var pr=Array.isArray(tr),yr=Array.isArray(ar);if(pr||yr)return pr===yr&&Ft(tr,ar,Jt,hr);var xr=ht.call(tr);return xr!==ht.call(ar)?!1:xr===at?Kt(tr,ar,Jt,hr):xr===ot?lr(tr,ar,Jt,hr):xr===ct?er(tr,ar,Jt,hr):xr===pt?Wt(tr,ar,Jt,hr):xr===lt||xr===st?rt(tr)||rt(ar)?!1:Nt(tr,ar,Jt,hr):xr===it||xr===ut||xr===dt?nt(tr.valueOf(),ar.valueOf()):!1}return Bt}function mt(Yt,Ft,Kt,er){var Nt=Yt.length;if(Ft.length!==Nt)return!1;for(;Nt-- >0;)if(!Kt(Yt[Nt],Ft[Nt],Nt,Nt,Yt,Ft,er))return!1;return!0}var xt=_e(mt);function gt(Yt,Ft){return nt(Yt.valueOf(),Ft.valueOf())}function yt(Yt,Ft,Kt,er){var Nt=Yt.size===Ft.size;if(!Nt)return!1;if(!Yt.size)return!0;var lr={},Wt=0;return Yt.forEach(function(Ut,Jt){if(Nt){var Bt=!1,tr=0;Ft.forEach(function(ar,hr){!Bt&&!lr[tr]&&(Bt=Kt(Jt,hr,Wt,tr,Yt,Ft,er)&&Kt(Ut,ar,Jt,hr,Yt,Ft,er))&&(lr[tr]=!0),tr++}),Wt++,Nt=Bt}}),Nt}var _t=_e(yt),Et="_owner",wt=Object.prototype.hasOwnProperty;function $t(Yt,Ft,Kt,er){var Nt=Object.keys(Yt),lr=Nt.length;if(Object.keys(Ft).length!==lr)return!1;for(var Wt;lr-- >0;){if(Wt=Nt[lr],Wt===Et){var Ut=!!Yt.$$typeof,Jt=!!Ft.$$typeof;if((Ut||Jt)&&Ut!==Jt)return!1}if(!wt.call(Ft,Wt)||!Kt(Yt[Wt],Ft[Wt],Wt,Wt,Yt,Ft,er))return!1}return!0}var jt=_e($t);function Tt(Yt,Ft){return Yt.source===Ft.source&&Yt.flags===Ft.flags}function kt(Yt,Ft,Kt,er){var Nt=Yt.size===Ft.size;if(!Nt)return!1;if(!Yt.size)return!0;var lr={};return Yt.forEach(function(Wt,Ut){if(Nt){var Jt=!1,Bt=0;Ft.forEach(function(tr,ar){!Jt&&!lr[Bt]&&(Jt=Kt(Wt,tr,Ut,ar,Yt,Ft,er))&&(lr[Bt]=!0),Bt++}),Nt=Jt}}),Nt}var Pt=_e(kt),St=Object.freeze({areArraysEqual:mt,areDatesEqual:gt,areMapsEqual:yt,areObjectsEqual:$t,areRegExpsEqual:Tt,areSetsEqual:kt,createIsNestedEqual:j}),Rt=Object.freeze({areArraysEqual:xt,areDatesEqual:gt,areMapsEqual:_t,areObjectsEqual:jt,areRegExpsEqual:Tt,areSetsEqual:Pt,createIsNestedEqual:j}),bt=ft(St);function vt(Yt,Ft){return bt(Yt,Ft,void 0)}var At=ft(et(St,{createIsNestedEqual:function(){return nt}}));function Ot(Yt,Ft){return At(Yt,Ft,void 0)}var Ct=ft(Rt);function Lt(Yt,Ft){return Ct(Yt,Ft,new WeakMap)}var It=ft(et(Rt,{createIsNestedEqual:function(){return nt}}));function Dt(Yt,Ft){return It(Yt,Ft,new WeakMap)}function Zt(Yt){return ft(et(St,Yt(St)))}function Qt(Yt){var Ft=ft(et(Rt,Yt(Rt)));return function(Kt,er,Nt){return Nt===void 0&&(Nt=new WeakMap),Ft(Kt,er,Nt)}}_.circularDeepEqual=Lt,_.circularShallowEqual=Dt,_.createCustomCircularEqual=Qt,_.createCustomEqual=Zt,_.deepEqual=vt,_.sameValueZeroEqual=nt,_.shallowEqual=Ot,Object.defineProperty(_,"__esModule",{value:!0})})})(fastEquals,fastEquals.exports);var fastEqualsExports=fastEquals.exports;const require$$3=getAugmentedNamespace(clsx$1);var utils$2={},fastRGLPropsEqual=function(o,_,j){return o===_?!0:o.className===_.className&&j(o.style,_.style)&&o.width===_.width&&o.autoSize===_.autoSize&&o.cols===_.cols&&o.draggableCancel===_.draggableCancel&&o.draggableHandle===_.draggableHandle&&j(o.verticalCompact,_.verticalCompact)&&j(o.compactType,_.compactType)&&j(o.layout,_.layout)&&j(o.margin,_.margin)&&j(o.containerPadding,_.containerPadding)&&o.rowHeight===_.rowHeight&&o.maxRows===_.maxRows&&o.isBounded===_.isBounded&&o.isDraggable===_.isDraggable&&o.isResizable===_.isResizable&&o.allowOverlap===_.allowOverlap&&o.preventCollision===_.preventCollision&&o.useCSSTransforms===_.useCSSTransforms&&o.transformScale===_.transformScale&&o.isDroppable===_.isDroppable&&j(o.resizeHandles,_.resizeHandles)&&j(o.resizeHandle,_.resizeHandle)&&o.onLayoutChange===_.onLayoutChange&&o.onDragStart===_.onDragStart&&o.onDrag===_.onDrag&&o.onDragStop===_.onDragStop&&o.onResizeStart===_.onResizeStart&&o.onResize===_.onResize&&o.onResizeStop===_.onResizeStop&&o.onDrop===_.onDrop&&j(o.droppingItem,_.droppingItem)&&j(o.innerRef,_.innerRef)};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.bottom=bottom;utils$2.childrenEqual=childrenEqual;utils$2.cloneLayout=cloneLayout;utils$2.cloneLayoutItem=cloneLayoutItem;utils$2.collides=collides;utils$2.compact=compact;utils$2.compactItem=compactItem;utils$2.compactType=compactType;utils$2.correctBounds=correctBounds;utils$2.fastPositionEqual=fastPositionEqual;utils$2.fastRGLPropsEqual=void 0;utils$2.getAllCollisions=getAllCollisions;utils$2.getFirstCollision=getFirstCollision;utils$2.getLayoutItem=getLayoutItem;utils$2.getStatics=getStatics;utils$2.modifyLayout=modifyLayout;utils$2.moveElement=moveElement;utils$2.moveElementAwayFromCollision=moveElementAwayFromCollision;utils$2.noop=void 0;utils$2.perc=perc;utils$2.resizeItemInDirection=resizeItemInDirection;utils$2.setTopLeft=setTopLeft;utils$2.setTransform=setTransform;utils$2.sortLayoutItems=sortLayoutItems;utils$2.sortLayoutItemsByColRow=sortLayoutItemsByColRow;utils$2.sortLayoutItemsByRowCol=sortLayoutItemsByRowCol;utils$2.synchronizeLayoutWithChildren=synchronizeLayoutWithChildren;utils$2.validateLayout=validateLayout;utils$2.withLayoutItem=withLayoutItem;var _fastEquals$2=fastEqualsExports,_react$3=_interopRequireDefault$9(reactExports);function _interopRequireDefault$9(i){return i&&i.__esModule?i:{default:i}}function ownKeys$7(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$6(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$7(Object(_),!0).forEach(function(j){_defineProperty$9(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$7(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$9(i,o,_){return(o=_toPropertyKey$9(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$9(i){var o=_toPrimitive$9(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$9(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function bottom(i){let o=0,_;for(let j=0,_e=i.length;j<_e;j++)_=i[j].y+i[j].h,_>o&&(o=_);return o}function cloneLayout(i){const o=Array(i.length);for(let _=0,j=i.length;_<j;_++)o[_]=cloneLayoutItem(i[_]);return o}function modifyLayout(i,o){const _=Array(i.length);for(let j=0,_e=i.length;j<_e;j++)o.i===i[j].i?_[j]=o:_[j]=i[j];return _}function withLayoutItem(i,o,_){let j=getLayoutItem(i,o);return j?(j=_(cloneLayoutItem(j)),i=modifyLayout(i,j),[i,j]):[i,null]}function cloneLayoutItem(i){return{w:i.w,h:i.h,x:i.x,y:i.y,i:i.i,minW:i.minW,maxW:i.maxW,minH:i.minH,maxH:i.maxH,moved:!!i.moved,static:!!i.static,isDraggable:i.isDraggable,isResizable:i.isResizable,resizeHandles:i.resizeHandles,isBounded:i.isBounded}}function childrenEqual(i,o){return(0,_fastEquals$2.deepEqual)(_react$3.default.Children.map(i,_=>_==null?void 0:_.key),_react$3.default.Children.map(o,_=>_==null?void 0:_.key))&&(0,_fastEquals$2.deepEqual)(_react$3.default.Children.map(i,_=>_==null?void 0:_.props["data-grid"]),_react$3.default.Children.map(o,_=>_==null?void 0:_.props["data-grid"]))}utils$2.fastRGLPropsEqual=fastRGLPropsEqual;function fastPositionEqual(i,o){return i.left===o.left&&i.top===o.top&&i.width===o.width&&i.height===o.height}function collides(i,o){return!(i.i===o.i||i.x+i.w<=o.x||i.x>=o.x+o.w||i.y+i.h<=o.y||i.y>=o.y+o.h)}function compact(i,o,_,j){const _e=getStatics(i);let et=bottom(_e);const tt=sortLayoutItems(i,o),rt=Array(i.length);for(let nt=0,st=tt.length;nt<st;nt++){let it=cloneLayoutItem(tt[nt]);it.static||(it=compactItem(_e,it,o,_,tt,j,et),et=Math.max(et,it.y+it.h),_e.push(it)),rt[i.indexOf(tt[nt])]=it,it.moved=!1}return rt}const heightWidth={x:"w",y:"h"};function resolveCompactionCollision(i,o,_,j){const _e=heightWidth[j];o[j]+=1;const et=i.map(tt=>tt.i).indexOf(o.i);for(let tt=et+1;tt<i.length;tt++){const rt=i[tt];if(!rt.static){if(rt.y>o.y+o.h)break;collides(o,rt)&&resolveCompactionCollision(i,rt,_+o[_e],j)}}o[j]=_}function compactItem(i,o,_,j,_e,et,tt){const rt=_==="vertical",nt=_==="horizontal";if(rt)for(typeof tt=="number"?o.y=Math.min(tt,o.y):o.y=Math.min(bottom(i),o.y);o.y>0&&!getFirstCollision(i,o);)o.y--;else if(nt)for(;o.x>0&&!getFirstCollision(i,o);)o.x--;let st;for(;(st=getFirstCollision(i,o))&&!(_===null&&et);)if(nt?resolveCompactionCollision(_e,o,st.x+st.w,"x"):resolveCompactionCollision(_e,o,st.y+st.h,"y"),nt&&o.x+o.w>j)for(o.x=j-o.w,o.y++;o.x>0&&!getFirstCollision(i,o);)o.x--;return o.y=Math.max(o.y,0),o.x=Math.max(o.x,0),o}function correctBounds(i,o){const _=getStatics(i);for(let j=0,_e=i.length;j<_e;j++){const et=i[j];if(et.x+et.w>o.cols&&(et.x=o.cols-et.w),et.x<0&&(et.x=0,et.w=o.cols),!et.static)_.push(et);else for(;getFirstCollision(_,et);)et.y++}return i}function getLayoutItem(i,o){for(let _=0,j=i.length;_<j;_++)if(i[_].i===o)return i[_]}function getFirstCollision(i,o){for(let _=0,j=i.length;_<j;_++)if(collides(i[_],o))return i[_]}function getAllCollisions(i,o){return i.filter(_=>collides(_,o))}function getStatics(i){return i.filter(o=>o.static)}function moveElement(i,o,_,j,_e,et,tt,rt,nt){if(o.static&&o.isDraggable!==!0||o.y===j&&o.x===_)return i;"Moving element ".concat(o.i," to [").concat(String(_),",").concat(String(j),"] from [").concat(o.x,",").concat(o.y,"]");const st=o.x,it=o.y;typeof _=="number"&&(o.x=_),typeof j=="number"&&(o.y=j),o.moved=!0;let at=sortLayoutItems(i,tt);(tt==="vertical"&&typeof j=="number"?it>=j:tt==="horizontal"&&typeof _=="number"?st>=_:!1)&&(at=at.reverse());const ct=getAllCollisions(at,o),ut=ct.length>0;if(ut&&nt)return cloneLayout(i);if(ut&&et)return"Collision prevented on ".concat(o.i,", reverting."),o.x=st,o.y=it,o.moved=!1,i;for(let lt=0,pt=ct.length;lt<pt;lt++){const dt=ct[lt];"Resolving collision between ".concat(o.i," at [").concat(o.x,",").concat(o.y,"] and ").concat(dt.i," at [").concat(dt.x,",").concat(dt.y,"]"),!dt.moved&&(dt.static?i=moveElementAwayFromCollision(i,dt,o,_e,tt):i=moveElementAwayFromCollision(i,o,dt,_e,tt))}return i}function moveElementAwayFromCollision(i,o,_,j,_e,et){const tt=_e==="horizontal",rt=_e==="vertical",nt=o.static;if(j){j=!1;const at={x:tt?Math.max(o.x-_.w,0):_.x,y:rt?Math.max(o.y-_.h,0):_.y,w:_.w,h:_.h,i:"-1"},ot=getFirstCollision(i,at),ct=ot&&ot.y+ot.h>o.y,ut=ot&&o.x+o.w>ot.x;if(ot){if(ct&&rt)return moveElement(i,_,void 0,_.y+1,j,nt,_e);if(ct&&_e==null)return o.y=_.y,_.y=_.y+_.h,i;if(ut&&tt)return moveElement(i,o,_.x,void 0,j,nt,_e)}else return"Doing reverse collision on ".concat(_.i," up to [").concat(at.x,",").concat(at.y,"]."),moveElement(i,_,tt?at.x:void 0,rt?at.y:void 0,j,nt,_e)}const st=tt?_.x+1:void 0,it=rt?_.y+1:void 0;return st==null&&it==null?i:moveElement(i,_,tt?_.x+1:void 0,rt?_.y+1:void 0,j,nt,_e)}function perc(i){return i*100+"%"}const constrainWidth=(i,o,_,j)=>i+_>j?o:_,constrainHeight=(i,o,_)=>i<0?o:_,constrainLeft=i=>Math.max(0,i),constrainTop=i=>Math.max(0,i),resizeNorth=(i,o,_)=>{let{left:j,height:_e,width:et}=o;const tt=i.top-(_e-i.height);return{left:j,width:et,height:constrainHeight(tt,i.height,_e),top:constrainTop(tt)}},resizeEast=(i,o,_)=>{let{top:j,left:_e,height:et,width:tt}=o;return{top:j,height:et,width:constrainWidth(i.left,i.width,tt,_),left:constrainLeft(_e)}},resizeWest=(i,o,_)=>{let{top:j,height:_e,width:et}=o;const tt=i.left-(et-i.width);return{height:_e,width:tt<0?i.width:constrainWidth(i.left,i.width,et,_),top:constrainTop(j),left:constrainLeft(tt)}},resizeSouth=(i,o,_)=>{let{top:j,left:_e,height:et,width:tt}=o;return{width:tt,left:_e,height:constrainHeight(j,i.height,et),top:constrainTop(j)}},resizeNorthEast=function(){return resizeNorth(arguments.length<=0?void 0:arguments[0],resizeEast(...arguments))},resizeNorthWest=function(){return resizeNorth(arguments.length<=0?void 0:arguments[0],resizeWest(...arguments))},resizeSouthEast=function(){return resizeSouth(arguments.length<=0?void 0:arguments[0],resizeEast(...arguments))},resizeSouthWest=function(){return resizeSouth(arguments.length<=0?void 0:arguments[0],resizeWest(...arguments))},ordinalResizeHandlerMap={n:resizeNorth,ne:resizeNorthEast,e:resizeEast,se:resizeSouthEast,s:resizeSouth,sw:resizeSouthWest,w:resizeWest,nw:resizeNorthWest};function resizeItemInDirection(i,o,_,j){const _e=ordinalResizeHandlerMap[i];return _e?_e(o,_objectSpread$6(_objectSpread$6({},o),_),j):_}function setTransform(i){let{top:o,left:_,width:j,height:_e}=i;const et="translate(".concat(_,"px,").concat(o,"px)");return{transform:et,WebkitTransform:et,MozTransform:et,msTransform:et,OTransform:et,width:"".concat(j,"px"),height:"".concat(_e,"px"),position:"absolute"}}function setTopLeft(i){let{top:o,left:_,width:j,height:_e}=i;return{top:"".concat(o,"px"),left:"".concat(_,"px"),width:"".concat(j,"px"),height:"".concat(_e,"px"),position:"absolute"}}function sortLayoutItems(i,o){return o==="horizontal"?sortLayoutItemsByColRow(i):o==="vertical"?sortLayoutItemsByRowCol(i):i}function sortLayoutItemsByRowCol(i){return i.slice(0).sort(function(o,_){return o.y>_.y||o.y===_.y&&o.x>_.x?1:o.y===_.y&&o.x===_.x?0:-1})}function sortLayoutItemsByColRow(i){return i.slice(0).sort(function(o,_){return o.x>_.x||o.x===_.x&&o.y>_.y?1:-1})}function synchronizeLayoutWithChildren(i,o,_,j,_e){i=i||[];const et=[];_react$3.default.Children.forEach(o,rt=>{if((rt==null?void 0:rt.key)==null)return;const nt=getLayoutItem(i,String(rt.key)),st=rt.props["data-grid"];nt&&st==null?et.push(cloneLayoutItem(nt)):st?et.push(cloneLayoutItem(_objectSpread$6(_objectSpread$6({},st),{},{i:rt.key}))):et.push(cloneLayoutItem({w:1,h:1,x:0,y:bottom(et),i:String(rt.key)}))});const tt=correctBounds(et,{cols:_});return _e?tt:compact(tt,j,_)}function validateLayout(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const _=["x","y","w","h"];if(!Array.isArray(i))throw new Error(o+" must be an array!");for(let j=0,_e=i.length;j<_e;j++){const et=i[j];for(let tt=0;tt<_.length;tt++){const rt=_[tt],nt=et[rt];if(typeof nt!="number"||Number.isNaN(nt))throw new Error("ReactGridLayout: ".concat(o,"[").concat(j,"].").concat(rt," must be a number! Received: ").concat(nt," (").concat(typeof nt,")"))}if(typeof et.i<"u"&&typeof et.i!="string")throw new Error("ReactGridLayout: ".concat(o,"[").concat(j,"].i must be a string! Received: ").concat(et.i," (").concat(typeof et.i,")"))}}function compactType(i){const{verticalCompact:o,compactType:_}=i||{};return o===!1?null:_}function log$2(){}const noop=()=>{};utils$2.noop=noop;var calculateUtils={};Object.defineProperty(calculateUtils,"__esModule",{value:!0});calculateUtils.calcGridColWidth=calcGridColWidth;calculateUtils.calcGridItemPosition=calcGridItemPosition;calculateUtils.calcGridItemWHPx=calcGridItemWHPx;calculateUtils.calcWH=calcWH;calculateUtils.calcXY=calcXY;calculateUtils.clamp=clamp;function calcGridColWidth(i){const{margin:o,containerPadding:_,containerWidth:j,cols:_e}=i;return(j-o[0]*(_e-1)-_[0]*2)/_e}function calcGridItemWHPx(i,o,_){return Number.isFinite(i)?Math.round(o*i+Math.max(0,i-1)*_):i}function calcGridItemPosition(i,o,_,j,_e,et){const{margin:tt,containerPadding:rt,rowHeight:nt}=i,st=calcGridColWidth(i),it={};return et&&et.resizing?(it.width=Math.round(et.resizing.width),it.height=Math.round(et.resizing.height)):(it.width=calcGridItemWHPx(j,st,tt[0]),it.height=calcGridItemWHPx(_e,nt,tt[1])),et&&et.dragging?(it.top=Math.round(et.dragging.top),it.left=Math.round(et.dragging.left)):et&&et.resizing&&typeof et.resizing.top=="number"&&typeof et.resizing.left=="number"?(it.top=Math.round(et.resizing.top),it.left=Math.round(et.resizing.left)):(it.top=Math.round((nt+tt[1])*_+rt[1]),it.left=Math.round((st+tt[0])*o+rt[0])),it}function calcXY(i,o,_,j,_e){const{margin:et,containerPadding:tt,cols:rt,rowHeight:nt,maxRows:st}=i,it=calcGridColWidth(i);let at=Math.round((_-tt[0])/(it+et[0])),ot=Math.round((o-tt[1])/(nt+et[1]));return at=clamp(at,0,rt-j),ot=clamp(ot,0,st-_e),{x:at,y:ot}}function calcWH(i,o,_,j,_e,et){const{margin:tt,maxRows:rt,cols:nt,rowHeight:st}=i,it=calcGridColWidth(i);let at=Math.round((o+tt[0])/(it+tt[0])),ot=Math.round((_+tt[1])/(st+tt[1])),ct=clamp(at,0,nt-j),ut=clamp(ot,0,rt-_e);return["sw","w","nw"].indexOf(et)!==-1&&(ct=clamp(at,0,nt)),["nw","n","ne"].indexOf(et)!==-1&&(ut=clamp(ot,0,rt)),{w:ct,h:ut}}function clamp(i,o,_){return Math.max(Math.min(i,_),o)}var GridItem$1={},cjs={exports:{}},Draggable$1={},domFns={},shims={};Object.defineProperty(shims,"__esModule",{value:!0});shims.dontSetMe=dontSetMe;shims.findInArray=findInArray;shims.int=int;shims.isFunction=isFunction;shims.isNum=isNum;function findInArray(i,o){for(let _=0,j=i.length;_<j;_++)if(o.apply(o,[i[_],_,i]))return i[_]}function isFunction(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function isNum(i){return typeof i=="number"&&!isNaN(i)}function int(i){return parseInt(i,10)}function dontSetMe(i,o,_){if(i[o])return new Error(`Invalid prop ${o} passed to ${_} - do not set this, set it on the child.`)}var getPrefix$1={};Object.defineProperty(getPrefix$1,"__esModule",{value:!0});getPrefix$1.browserPrefixToKey=browserPrefixToKey;getPrefix$1.browserPrefixToStyle=browserPrefixToStyle;getPrefix$1.default=void 0;getPrefix$1.getPrefix=getPrefix;const prefixes=["Moz","Webkit","O","ms"];function getPrefix(){var _,j;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const o=(j=(_=window.document)==null?void 0:_.documentElement)==null?void 0:j.style;if(!o||i in o)return"";for(let _e=0;_e<prefixes.length;_e++)if(browserPrefixToKey(i,prefixes[_e])in o)return prefixes[_e];return""}function browserPrefixToKey(i,o){return o?`${o}${kebabToTitleCase(i)}`:i}function browserPrefixToStyle(i,o){return o?`-${o.toLowerCase()}-${i}`:i}function kebabToTitleCase(i){let o="",_=!0;for(let j=0;j<i.length;j++)_?(o+=i[j].toUpperCase(),_=!1):i[j]==="-"?_=!0:o+=i[j];return o}getPrefix$1.default=getPrefix();Object.defineProperty(domFns,"__esModule",{value:!0});domFns.addClassName=addClassName;domFns.addEvent=addEvent;domFns.addUserSelectStyles=addUserSelectStyles;domFns.createCSSTransform=createCSSTransform;domFns.createSVGTransform=createSVGTransform;domFns.getTouch=getTouch;domFns.getTouchIdentifier=getTouchIdentifier;domFns.getTranslation=getTranslation;domFns.innerHeight=innerHeight;domFns.innerWidth=innerWidth;domFns.matchesSelector=matchesSelector;domFns.matchesSelectorAndParentsTo=matchesSelectorAndParentsTo;domFns.offsetXYFromParent=offsetXYFromParent;domFns.outerHeight=outerHeight;domFns.outerWidth=outerWidth;domFns.removeClassName=removeClassName;domFns.removeEvent=removeEvent;domFns.scheduleRemoveUserSelectStyles=scheduleRemoveUserSelectStyles;var _shims$2=shims,_getPrefix=_interopRequireWildcard$6(getPrefix$1);function _interopRequireWildcard$6(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard$6=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}let matchesSelectorFunc="";function matchesSelector(i,o){return matchesSelectorFunc||(matchesSelectorFunc=(0,_shims$2.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(_){return(0,_shims$2.isFunction)(i[_])})),(0,_shims$2.isFunction)(i[matchesSelectorFunc])?i[matchesSelectorFunc](o):!1}function matchesSelectorAndParentsTo(i,o,_){let j=i;do{if(matchesSelector(j,o))return!0;if(j===_)return!1;j=j.parentNode}while(j);return!1}function addEvent(i,o,_,j){if(!i)return;const _e={capture:!0,...j};i.addEventListener?i.addEventListener(o,_,_e):i.attachEvent?i.attachEvent("on"+o,_):i["on"+o]=_}function removeEvent(i,o,_,j){if(!i)return;const _e={capture:!0,...j};i.removeEventListener?i.removeEventListener(o,_,_e):i.detachEvent?i.detachEvent("on"+o,_):i["on"+o]=null}function outerHeight(i){let o=i.clientHeight;const _=i.ownerDocument.defaultView.getComputedStyle(i);return o+=(0,_shims$2.int)(_.borderTopWidth),o+=(0,_shims$2.int)(_.borderBottomWidth),o}function outerWidth(i){let o=i.clientWidth;const _=i.ownerDocument.defaultView.getComputedStyle(i);return o+=(0,_shims$2.int)(_.borderLeftWidth),o+=(0,_shims$2.int)(_.borderRightWidth),o}function innerHeight(i){let o=i.clientHeight;const _=i.ownerDocument.defaultView.getComputedStyle(i);return o-=(0,_shims$2.int)(_.paddingTop),o-=(0,_shims$2.int)(_.paddingBottom),o}function innerWidth(i){let o=i.clientWidth;const _=i.ownerDocument.defaultView.getComputedStyle(i);return o-=(0,_shims$2.int)(_.paddingLeft),o-=(0,_shims$2.int)(_.paddingRight),o}function offsetXYFromParent(i,o,_){const _e=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),et=(i.clientX+o.scrollLeft-_e.left)/_,tt=(i.clientY+o.scrollTop-_e.top)/_;return{x:et,y:tt}}function createCSSTransform(i,o){const _=getTranslation(i,o,"px");return{[(0,_getPrefix.browserPrefixToKey)("transform",_getPrefix.default)]:_}}function createSVGTransform(i,o){return getTranslation(i,o,"")}function getTranslation(i,o,_){let{x:j,y:_e}=i,et=`translate(${j}${_},${_e}${_})`;if(o){const tt=`${typeof o.x=="string"?o.x:o.x+_}`,rt=`${typeof o.y=="string"?o.y:o.y+_}`;et=`translate(${tt}, ${rt})`+et}return et}function getTouch(i,o){return i.targetTouches&&(0,_shims$2.findInArray)(i.targetTouches,_=>o===_.identifier)||i.changedTouches&&(0,_shims$2.findInArray)(i.changedTouches,_=>o===_.identifier)}function getTouchIdentifier(i){if(i.targetTouches&&i.targetTouches[0])return i.targetTouches[0].identifier;if(i.changedTouches&&i.changedTouches[0])return i.changedTouches[0].identifier}function addUserSelectStyles(i){if(!i)return;let o=i.getElementById("react-draggable-style-el");o||(o=i.createElement("style"),o.type="text/css",o.id="react-draggable-style-el",o.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,o.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(o)),i.body&&addClassName(i.body,"react-draggable-transparent-selection")}function scheduleRemoveUserSelectStyles(i){window.requestAnimationFrame?window.requestAnimationFrame(()=>{removeUserSelectStyles(i)}):removeUserSelectStyles(i)}function removeUserSelectStyles(i){if(i)try{if(i.body&&removeClassName(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{const o=(i.defaultView||window).getSelection();o&&o.type!=="Caret"&&o.removeAllRanges()}}catch{}}function addClassName(i,o){i.classList?i.classList.add(o):i.className.match(new RegExp(`(?:^|\\s)${o}(?!\\S)`))||(i.className+=` ${o}`)}function removeClassName(i,o){i.classList?i.classList.remove(o):i.className=i.className.replace(new RegExp(`(?:^|\\s)${o}(?!\\S)`,"g"),"")}var positionFns={};Object.defineProperty(positionFns,"__esModule",{value:!0});positionFns.canDragX=canDragX;positionFns.canDragY=canDragY;positionFns.createCoreData=createCoreData;positionFns.createDraggableData=createDraggableData;positionFns.getBoundPosition=getBoundPosition;positionFns.getControlPosition=getControlPosition;positionFns.snapToGrid=snapToGrid;var _shims$1=shims,_domFns$1=domFns;function getBoundPosition(i,o,_){if(!i.props.bounds)return[o,_];let{bounds:j}=i.props;j=typeof j=="string"?j:cloneBounds(j);const _e=findDOMNode(i);if(typeof j=="string"){const{ownerDocument:et}=_e,tt=et.defaultView;let rt;if(j==="parent"?rt=_e.parentNode:rt=_e.getRootNode().querySelector(j),!(rt instanceof tt.HTMLElement))throw new Error('Bounds selector "'+j+'" could not find an element.');const nt=rt,st=tt.getComputedStyle(_e),it=tt.getComputedStyle(nt);j={left:-_e.offsetLeft+(0,_shims$1.int)(it.paddingLeft)+(0,_shims$1.int)(st.marginLeft),top:-_e.offsetTop+(0,_shims$1.int)(it.paddingTop)+(0,_shims$1.int)(st.marginTop),right:(0,_domFns$1.innerWidth)(nt)-(0,_domFns$1.outerWidth)(_e)-_e.offsetLeft+(0,_shims$1.int)(it.paddingRight)-(0,_shims$1.int)(st.marginRight),bottom:(0,_domFns$1.innerHeight)(nt)-(0,_domFns$1.outerHeight)(_e)-_e.offsetTop+(0,_shims$1.int)(it.paddingBottom)-(0,_shims$1.int)(st.marginBottom)}}return(0,_shims$1.isNum)(j.right)&&(o=Math.min(o,j.right)),(0,_shims$1.isNum)(j.bottom)&&(_=Math.min(_,j.bottom)),(0,_shims$1.isNum)(j.left)&&(o=Math.max(o,j.left)),(0,_shims$1.isNum)(j.top)&&(_=Math.max(_,j.top)),[o,_]}function snapToGrid(i,o,_){const j=Math.round(o/i[0])*i[0],_e=Math.round(_/i[1])*i[1];return[j,_e]}function canDragX(i){return i.props.axis==="both"||i.props.axis==="x"}function canDragY(i){return i.props.axis==="both"||i.props.axis==="y"}function getControlPosition(i,o,_){const j=typeof o=="number"?(0,_domFns$1.getTouch)(i,o):null;if(typeof o=="number"&&!j)return null;const _e=findDOMNode(_),et=_.props.offsetParent||_e.offsetParent||_e.ownerDocument.body;return(0,_domFns$1.offsetXYFromParent)(j||i,et,_.props.scale)}function createCoreData(i,o,_){const j=!(0,_shims$1.isNum)(i.lastX),_e=findDOMNode(i);return j?{node:_e,deltaX:0,deltaY:0,lastX:o,lastY:_,x:o,y:_}:{node:_e,deltaX:o-i.lastX,deltaY:_-i.lastY,lastX:i.lastX,lastY:i.lastY,x:o,y:_}}function createDraggableData(i,o){const _=i.props.scale;return{node:o.node,x:i.state.x+o.deltaX/_,y:i.state.y+o.deltaY/_,deltaX:o.deltaX/_,deltaY:o.deltaY/_,lastX:i.state.x,lastY:i.state.y}}function cloneBounds(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom}}function findDOMNode(i){const o=i.findDOMNode();if(!o)throw new Error("<DraggableCore>: Unmounted during event!");return o}var DraggableCore$2={},log$1={};Object.defineProperty(log$1,"__esModule",{value:!0});log$1.default=log;function log(){}Object.defineProperty(DraggableCore$2,"__esModule",{value:!0});DraggableCore$2.default=void 0;var React$5=_interopRequireWildcard$5(reactExports),_propTypes$7=_interopRequireDefault$8(propTypesExports),_reactDom$1=_interopRequireDefault$8(reactDomExports),_domFns=domFns,_positionFns=positionFns,_shims=shims,_log=_interopRequireDefault$8(log$1);function _interopRequireDefault$8(i){return i&&i.__esModule?i:{default:i}}function _interopRequireWildcard$5(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard$5=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}function _defineProperty$8(i,o,_){return(o=_toPropertyKey$8(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$8(i){var o=_toPrimitive$8(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$8(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}const eventsFor={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let dragEventFor=eventsFor.mouse,DraggableCore$1=class extends React$5.Component{constructor(){super(...arguments),_defineProperty$8(this,"dragging",!1),_defineProperty$8(this,"lastX",NaN),_defineProperty$8(this,"lastY",NaN),_defineProperty$8(this,"touchIdentifier",null),_defineProperty$8(this,"mounted",!1),_defineProperty$8(this,"handleDragStart",o=>{if(this.props.onMouseDown(o),!this.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;const _=this.findDOMNode();if(!_||!_.ownerDocument||!_.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:j}=_;if(this.props.disabled||!(o.target instanceof j.defaultView.Node)||this.props.handle&&!(0,_domFns.matchesSelectorAndParentsTo)(o.target,this.props.handle,_)||this.props.cancel&&(0,_domFns.matchesSelectorAndParentsTo)(o.target,this.props.cancel,_))return;o.type==="touchstart"&&!this.props.allowMobileScroll&&o.preventDefault();const _e=(0,_domFns.getTouchIdentifier)(o);this.touchIdentifier=_e;const et=(0,_positionFns.getControlPosition)(o,_e,this);if(et==null)return;const{x:tt,y:rt}=et,nt=(0,_positionFns.createCoreData)(this,tt,rt);(0,_log.default)("DraggableCore: handleDragStart: %j",nt),(0,_log.default)("calling",this.props.onStart),!(this.props.onStart(o,nt)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,_domFns.addUserSelectStyles)(j),this.dragging=!0,this.lastX=tt,this.lastY=rt,(0,_domFns.addEvent)(j,dragEventFor.move,this.handleDrag),(0,_domFns.addEvent)(j,dragEventFor.stop,this.handleDragStop))}),_defineProperty$8(this,"handleDrag",o=>{const _=(0,_positionFns.getControlPosition)(o,this.touchIdentifier,this);if(_==null)return;let{x:j,y:_e}=_;if(Array.isArray(this.props.grid)){let rt=j-this.lastX,nt=_e-this.lastY;if([rt,nt]=(0,_positionFns.snapToGrid)(this.props.grid,rt,nt),!rt&&!nt)return;j=this.lastX+rt,_e=this.lastY+nt}const et=(0,_positionFns.createCoreData)(this,j,_e);if((0,_log.default)("DraggableCore: handleDrag: %j",et),this.props.onDrag(o,et)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const nt=document.createEvent("MouseEvents");nt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(nt)}return}this.lastX=j,this.lastY=_e}),_defineProperty$8(this,"handleDragStop",o=>{if(!this.dragging)return;const _=(0,_positionFns.getControlPosition)(o,this.touchIdentifier,this);if(_==null)return;let{x:j,y:_e}=_;if(Array.isArray(this.props.grid)){let nt=j-this.lastX||0,st=_e-this.lastY||0;[nt,st]=(0,_positionFns.snapToGrid)(this.props.grid,nt,st),j=this.lastX+nt,_e=this.lastY+st}const et=(0,_positionFns.createCoreData)(this,j,_e);if(this.props.onStop(o,et)===!1||this.mounted===!1)return!1;const rt=this.findDOMNode();rt&&this.props.enableUserSelectHack&&(0,_domFns.scheduleRemoveUserSelectStyles)(rt.ownerDocument),(0,_log.default)("DraggableCore: handleDragStop: %j",et),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,rt&&((0,_log.default)("DraggableCore: Removing handlers"),(0,_domFns.removeEvent)(rt.ownerDocument,dragEventFor.move,this.handleDrag),(0,_domFns.removeEvent)(rt.ownerDocument,dragEventFor.stop,this.handleDragStop))}),_defineProperty$8(this,"onMouseDown",o=>(dragEventFor=eventsFor.mouse,this.handleDragStart(o))),_defineProperty$8(this,"onMouseUp",o=>(dragEventFor=eventsFor.mouse,this.handleDragStop(o))),_defineProperty$8(this,"onTouchStart",o=>(dragEventFor=eventsFor.touch,this.handleDragStart(o))),_defineProperty$8(this,"onTouchEnd",o=>(dragEventFor=eventsFor.touch,this.handleDragStop(o)))}componentDidMount(){this.mounted=!0;const o=this.findDOMNode();o&&(0,_domFns.addEvent)(o,eventsFor.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const o=this.findDOMNode();if(o){const{ownerDocument:_}=o;(0,_domFns.removeEvent)(_,eventsFor.mouse.move,this.handleDrag),(0,_domFns.removeEvent)(_,eventsFor.touch.move,this.handleDrag),(0,_domFns.removeEvent)(_,eventsFor.mouse.stop,this.handleDragStop),(0,_domFns.removeEvent)(_,eventsFor.touch.stop,this.handleDragStop),(0,_domFns.removeEvent)(o,eventsFor.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_domFns.scheduleRemoveUserSelectStyles)(_)}}findDOMNode(){var o,_,j;return(o=this.props)!=null&&o.nodeRef?(j=(_=this.props)==null?void 0:_.nodeRef)==null?void 0:j.current:_reactDom$1.default.findDOMNode(this)}render(){return React$5.cloneElement(React$5.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};DraggableCore$2.default=DraggableCore$1;_defineProperty$8(DraggableCore$1,"displayName","DraggableCore");_defineProperty$8(DraggableCore$1,"propTypes",{allowAnyClick:_propTypes$7.default.bool,allowMobileScroll:_propTypes$7.default.bool,children:_propTypes$7.default.node.isRequired,disabled:_propTypes$7.default.bool,enableUserSelectHack:_propTypes$7.default.bool,offsetParent:function(i,o){if(i[o]&&i[o].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:_propTypes$7.default.arrayOf(_propTypes$7.default.number),handle:_propTypes$7.default.string,cancel:_propTypes$7.default.string,nodeRef:_propTypes$7.default.object,onStart:_propTypes$7.default.func,onDrag:_propTypes$7.default.func,onStop:_propTypes$7.default.func,onMouseDown:_propTypes$7.default.func,scale:_propTypes$7.default.number,className:_shims.dontSetMe,style:_shims.dontSetMe,transform:_shims.dontSetMe});_defineProperty$8(DraggableCore$1,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"DraggableCore",{enumerable:!0,get:function(){return nt.default}}),i.default=void 0;var o=at(reactExports),_=it(propTypesExports),j=it(reactDomExports),_e=require$$3,et=domFns,tt=positionFns,rt=shims,nt=it(DraggableCore$2),st=it(log$1);function it(dt){return dt&&dt.__esModule?dt:{default:dt}}function at(dt,ht){if(typeof WeakMap=="function")var ft=new WeakMap,mt=new WeakMap;return(at=function(xt,gt){if(!gt&&xt&&xt.__esModule)return xt;var yt,_t,Et={__proto__:null,default:xt};if(xt===null||typeof xt!="object"&&typeof xt!="function")return Et;if(yt=gt?mt:ft){if(yt.has(xt))return yt.get(xt);yt.set(xt,Et)}for(const wt in xt)wt!=="default"&&{}.hasOwnProperty.call(xt,wt)&&((_t=(yt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(xt,wt))&&(_t.get||_t.set)?yt(Et,wt,_t):Et[wt]=xt[wt]);return Et})(dt,ht)}function ot(){return ot=Object.assign?Object.assign.bind():function(dt){for(var ht=1;ht<arguments.length;ht++){var ft=arguments[ht];for(var mt in ft)({}).hasOwnProperty.call(ft,mt)&&(dt[mt]=ft[mt])}return dt},ot.apply(null,arguments)}function ct(dt,ht,ft){return(ht=ut(ht))in dt?Object.defineProperty(dt,ht,{value:ft,enumerable:!0,configurable:!0,writable:!0}):dt[ht]=ft,dt}function ut(dt){var ht=lt(dt,"string");return typeof ht=="symbol"?ht:ht+""}function lt(dt,ht){if(typeof dt!="object"||!dt)return dt;var ft=dt[Symbol.toPrimitive];if(ft!==void 0){var mt=ft.call(dt,ht);if(typeof mt!="object")return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ht==="string"?String:Number)(dt)}class pt extends o.Component{static getDerivedStateFromProps(ht,ft){let{position:mt}=ht,{prevPropsPosition:xt}=ft;return mt&&(!xt||mt.x!==xt.x||mt.y!==xt.y)?((0,st.default)("Draggable: getDerivedStateFromProps %j",{position:mt,prevPropsPosition:xt}),{x:mt.x,y:mt.y,prevPropsPosition:{...mt}}):null}constructor(ht){super(ht),ct(this,"onDragStart",(ft,mt)=>{if((0,st.default)("Draggable: onDragStart: %j",mt),this.props.onStart(ft,(0,tt.createDraggableData)(this,mt))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),ct(this,"onDrag",(ft,mt)=>{if(!this.state.dragging)return!1;(0,st.default)("Draggable: onDrag: %j",mt);const xt=(0,tt.createDraggableData)(this,mt),gt={x:xt.x,y:xt.y,slackX:0,slackY:0};if(this.props.bounds){const{x:_t,y:Et}=gt;gt.x+=this.state.slackX,gt.y+=this.state.slackY;const[wt,$t]=(0,tt.getBoundPosition)(this,gt.x,gt.y);gt.x=wt,gt.y=$t,gt.slackX=this.state.slackX+(_t-gt.x),gt.slackY=this.state.slackY+(Et-gt.y),xt.x=gt.x,xt.y=gt.y,xt.deltaX=gt.x-this.state.x,xt.deltaY=gt.y-this.state.y}if(this.props.onDrag(ft,xt)===!1)return!1;this.setState(gt)}),ct(this,"onDragStop",(ft,mt)=>{if(!this.state.dragging||this.props.onStop(ft,(0,tt.createDraggableData)(this,mt))===!1)return!1;(0,st.default)("Draggable: onDragStop: %j",mt);const gt={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:_t,y:Et}=this.props.position;gt.x=_t,gt.y=Et}this.setState(gt)}),this.state={dragging:!1,dragged:!1,x:ht.position?ht.position.x:ht.defaultPosition.x,y:ht.position?ht.position.y:ht.defaultPosition.y,prevPropsPosition:{...ht.position},slackX:0,slackY:0,isElementSVG:!1},ht.position&&!(ht.onDrag||ht.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var ht,ft;return((ft=(ht=this.props)==null?void 0:ht.nodeRef)==null?void 0:ft.current)??j.default.findDOMNode(this)}render(){const{axis:ht,bounds:ft,children:mt,defaultPosition:xt,defaultClassName:gt,defaultClassNameDragging:yt,defaultClassNameDragged:_t,position:Et,positionOffset:wt,scale:$t,...jt}=this.props;let Tt={},kt=null;const St=!!!Et||this.state.dragging,Rt=Et||xt,bt={x:(0,tt.canDragX)(this)&&St?this.state.x:Rt.x,y:(0,tt.canDragY)(this)&&St?this.state.y:Rt.y};this.state.isElementSVG?kt=(0,et.createSVGTransform)(bt,wt):Tt=(0,et.createCSSTransform)(bt,wt);const vt=(0,_e.clsx)(mt.props.className||"",gt,{[yt]:this.state.dragging,[_t]:this.state.dragged});return o.createElement(nt.default,ot({},jt,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(mt),{className:vt,style:{...mt.props.style,...Tt},transform:kt}))}}i.default=pt,ct(pt,"displayName","Draggable"),ct(pt,"propTypes",{...nt.default.propTypes,axis:_.default.oneOf(["both","x","y","none"]),bounds:_.default.oneOfType([_.default.shape({left:_.default.number,right:_.default.number,top:_.default.number,bottom:_.default.number}),_.default.string,_.default.oneOf([!1])]),defaultClassName:_.default.string,defaultClassNameDragging:_.default.string,defaultClassNameDragged:_.default.string,defaultPosition:_.default.shape({x:_.default.number,y:_.default.number}),positionOffset:_.default.shape({x:_.default.oneOfType([_.default.number,_.default.string]),y:_.default.oneOfType([_.default.number,_.default.string])}),position:_.default.shape({x:_.default.number,y:_.default.number}),className:rt.dontSetMe,style:rt.dontSetMe,transform:rt.dontSetMe}),ct(pt,"defaultProps",{...nt.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Draggable$1);const{default:Draggable,DraggableCore}=Draggable$1;cjs.exports=Draggable;cjs.exports.default=Draggable;cjs.exports.DraggableCore=DraggableCore;var cjsExports=cjs.exports,reactResizable={exports:{}},Resizable$1={},utils$1={};utils$1.__esModule=!0;utils$1.cloneElement=cloneElement;var _react$2=_interopRequireDefault$7(reactExports);function _interopRequireDefault$7(i){return i&&i.__esModule?i:{default:i}}function ownKeys$6(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$5(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$6(Object(_),!0).forEach(function(j){_defineProperty$7(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$6(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$7(i,o,_){return(o=_toPropertyKey$7(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$7(i){var o=_toPrimitive$7(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$7(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function cloneElement(i,o){return o.style&&i.props.style&&(o.style=_objectSpread$5(_objectSpread$5({},i.props.style),o.style)),o.className&&i.props.className&&(o.className=`${i.props.className} ${o.className}`),_react$2.default.cloneElement(i,o)}var propTypes={};propTypes.__esModule=!0;propTypes.resizableProps=void 0;var _propTypes$6=_interopRequireDefault$6(propTypesExports);function _interopRequireDefault$6(i){return i&&i.__esModule?i:{default:i}}propTypes.resizableProps={axis:_propTypes$6.default.oneOf(["both","x","y","none"]),className:_propTypes$6.default.string,children:_propTypes$6.default.element.isRequired,draggableOpts:_propTypes$6.default.shape({allowAnyClick:_propTypes$6.default.bool,cancel:_propTypes$6.default.string,children:_propTypes$6.default.node,disabled:_propTypes$6.default.bool,enableUserSelectHack:_propTypes$6.default.bool,offsetParent:typeof Element<"u"?_propTypes$6.default.instanceOf(Element):_propTypes$6.default.any,grid:_propTypes$6.default.arrayOf(_propTypes$6.default.number),handle:_propTypes$6.default.string,nodeRef:_propTypes$6.default.object,onStart:_propTypes$6.default.func,onDrag:_propTypes$6.default.func,onStop:_propTypes$6.default.func,onMouseDown:_propTypes$6.default.func,scale:_propTypes$6.default.number}),height:function(){for(var i=arguments.length,o=new Array(i),_=0;_<i;_++)o[_]=arguments[_];const[j]=o;return j.axis==="both"||j.axis==="y"?_propTypes$6.default.number.isRequired(...o):_propTypes$6.default.number(...o)},handle:_propTypes$6.default.oneOfType([_propTypes$6.default.node,_propTypes$6.default.func]),handleSize:_propTypes$6.default.arrayOf(_propTypes$6.default.number),lockAspectRatio:_propTypes$6.default.bool,maxConstraints:_propTypes$6.default.arrayOf(_propTypes$6.default.number),minConstraints:_propTypes$6.default.arrayOf(_propTypes$6.default.number),onResizeStop:_propTypes$6.default.func,onResizeStart:_propTypes$6.default.func,onResize:_propTypes$6.default.func,resizeHandles:_propTypes$6.default.arrayOf(_propTypes$6.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:_propTypes$6.default.number,width:function(){for(var i=arguments.length,o=new Array(i),_=0;_<i;_++)o[_]=arguments[_];const[j]=o;return j.axis==="both"||j.axis==="x"?_propTypes$6.default.number.isRequired(...o):_propTypes$6.default.number(...o)}};Resizable$1.__esModule=!0;Resizable$1.default=void 0;var React$4=_interopRequireWildcard$4(reactExports),_reactDraggable$1=cjsExports,_utils$4=utils$1,_propTypes$5=propTypes;const _excluded$5=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function _interopRequireWildcard$4(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard$4=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)({}).hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$3.apply(null,arguments)}function _objectWithoutProperties$4(i,o){if(i==null)return{};var _,j,_e=_objectWithoutPropertiesLoose$4(i,o);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(j=0;j<et.length;j++)_=et[j],o.indexOf(_)===-1&&{}.propertyIsEnumerable.call(i,_)&&(_e[_]=i[_])}return _e}function _objectWithoutPropertiesLoose$4(i,o){if(i==null)return{};var _={};for(var j in i)if({}.hasOwnProperty.call(i,j)){if(o.indexOf(j)!==-1)continue;_[j]=i[j]}return _}function ownKeys$5(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$4(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$5(Object(_),!0).forEach(function(j){_defineProperty$6(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$5(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$6(i,o,_){return(o=_toPropertyKey$6(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$6(i){var o=_toPrimitive$6(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$6(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}class Resizable extends React$4.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(o,_){const{minConstraints:j,maxConstraints:_e,lockAspectRatio:et}=this.props;if(!j&&!_e&&!et)return[o,_];if(et){const it=this.props.width/this.props.height,at=o-this.props.width,ot=_-this.props.height;Math.abs(at)>Math.abs(ot*it)?_=o/it:o=_*it}const[tt,rt]=[o,_];let[nt,st]=this.slack||[0,0];return o+=nt,_+=st,j&&(o=Math.max(j[0],o),_=Math.max(j[1],_)),_e&&(o=Math.min(_e[0],o),_=Math.min(_e[1],_)),this.slack=[nt+(tt-o),st+(rt-_)],[o,_]}resizeHandler(o,_){return(j,_e)=>{var ht;let{node:et,deltaX:tt,deltaY:rt}=_e;o==="onResizeStart"&&this.resetData();const nt=(this.props.axis==="both"||this.props.axis==="x")&&_!=="n"&&_!=="s",st=(this.props.axis==="both"||this.props.axis==="y")&&_!=="e"&&_!=="w";if(!nt&&!st)return;const it=_[0],at=_[_.length-1],ot=et.getBoundingClientRect();if(this.lastHandleRect!=null){if(at==="w"){const ft=ot.left-this.lastHandleRect.left;tt+=ft}if(it==="n"){const ft=ot.top-this.lastHandleRect.top;rt+=ft}}this.lastHandleRect=ot,at==="w"&&(tt=-tt),it==="n"&&(rt=-rt);let ct=this.props.width+(nt?tt/this.props.transformScale:0),ut=this.props.height+(st?rt/this.props.transformScale:0);[ct,ut]=this.runConstraints(ct,ut),o==="onResizeStop"&&this.lastSize&&({width:ct,height:ut}=this.lastSize);const lt=ct!==this.props.width||ut!==this.props.height;o!=="onResizeStop"&&(this.lastSize={width:ct,height:ut});const pt=typeof this.props[o]=="function"?this.props[o]:null;pt&&!(o==="onResize"&&!lt)&&((ht=j.persist)==null||ht.call(j),pt(j,{node:et,size:{width:ct,height:ut},handle:_})),o==="onResizeStop"&&this.resetData()}}renderResizeHandle(o,_){const{handle:j}=this.props;if(!j)return React$4.createElement("span",{className:`react-resizable-handle react-resizable-handle-${o}`,ref:_});if(typeof j=="function")return j(o,_);const _e=typeof j.type=="string",et=_objectSpread$4({ref:_},_e?{}:{handleAxis:o});return React$4.cloneElement(j,et)}render(){const o=this.props,{children:_,className:j,draggableOpts:_e,width:et,height:tt,handle:rt,handleSize:nt,lockAspectRatio:st,axis:it,minConstraints:at,maxConstraints:ot,onResize:ct,onResizeStop:ut,onResizeStart:lt,resizeHandles:pt,transformScale:dt}=o,ht=_objectWithoutProperties$4(o,_excluded$5);return(0,_utils$4.cloneElement)(_,_objectSpread$4(_objectSpread$4({},ht),{},{className:`${j?`${j} `:""}react-resizable`,children:[...React$4.Children.toArray(_.props.children),...pt.map(ft=>{const mt=this.handleRefs[ft]??(this.handleRefs[ft]=React$4.createRef());return React$4.createElement(_reactDraggable$1.DraggableCore,_extends$3({},_e,{nodeRef:mt,key:`resizableHandle-${ft}`,onStop:this.resizeHandler("onResizeStop",ft),onStart:this.resizeHandler("onResizeStart",ft),onDrag:this.resizeHandler("onResize",ft)}),this.renderResizeHandle(ft,mt))})]}))}}Resizable$1.default=Resizable;Resizable.propTypes=_propTypes$5.resizableProps;Resizable.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var ResizableBox$1={};ResizableBox$1.__esModule=!0;ResizableBox$1.default=void 0;var React$3=_interopRequireWildcard$3(reactExports),_propTypes$4=_interopRequireDefault$5(propTypesExports),_Resizable=_interopRequireDefault$5(Resizable$1),_propTypes2=propTypes;const _excluded$4=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function _interopRequireDefault$5(i){return i&&i.__esModule?i:{default:i}}function _interopRequireWildcard$3(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard$3=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)({}).hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$2.apply(null,arguments)}function ownKeys$4(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$3(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$4(Object(_),!0).forEach(function(j){_defineProperty$5(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$4(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$5(i,o,_){return(o=_toPropertyKey$5(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$5(i){var o=_toPrimitive$5(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$5(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _objectWithoutProperties$3(i,o){if(i==null)return{};var _,j,_e=_objectWithoutPropertiesLoose$3(i,o);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(j=0;j<et.length;j++)_=et[j],o.indexOf(_)===-1&&{}.propertyIsEnumerable.call(i,_)&&(_e[_]=i[_])}return _e}function _objectWithoutPropertiesLoose$3(i,o){if(i==null)return{};var _={};for(var j in i)if({}.hasOwnProperty.call(i,j)){if(o.indexOf(j)!==-1)continue;_[j]=i[j]}return _}class ResizableBox extends React$3.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(o,_)=>{var _e;const{size:j}=_;this.props.onResize?((_e=o.persist)==null||_e.call(o),this.setState(j,()=>this.props.onResize&&this.props.onResize(o,_))):this.setState(j)}}static getDerivedStateFromProps(o,_){return _.propsWidth!==o.width||_.propsHeight!==o.height?{width:o.width,height:o.height,propsWidth:o.width,propsHeight:o.height}:null}render(){const o=this.props,{handle:_,handleSize:j,onResize:_e,onResizeStart:et,onResizeStop:tt,draggableOpts:rt,minConstraints:nt,maxConstraints:st,lockAspectRatio:it,axis:at,width:ot,height:ct,resizeHandles:ut,style:lt,transformScale:pt}=o,dt=_objectWithoutProperties$3(o,_excluded$4);return React$3.createElement(_Resizable.default,{axis:at,draggableOpts:rt,handle:_,handleSize:j,height:this.state.height,lockAspectRatio:it,maxConstraints:st,minConstraints:nt,onResizeStart:et,onResize:this.onResize,onResizeStop:tt,resizeHandles:ut,transformScale:pt,width:this.state.width},React$3.createElement("div",_extends$2({},dt,{style:_objectSpread$3(_objectSpread$3({},lt),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}}ResizableBox$1.default=ResizableBox;ResizableBox.propTypes=_objectSpread$3(_objectSpread$3({},_propTypes2.resizableProps),{},{children:_propTypes$4.default.element});reactResizable.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};reactResizable.exports.Resizable=Resizable$1.default;reactResizable.exports.ResizableBox=ResizableBox$1.default;var reactResizableExports=reactResizable.exports,ReactGridLayoutPropTypes={};Object.defineProperty(ReactGridLayoutPropTypes,"__esModule",{value:!0});ReactGridLayoutPropTypes.resizeHandleType=ReactGridLayoutPropTypes.resizeHandleAxesType=ReactGridLayoutPropTypes.default=void 0;var _propTypes$3=_interopRequireDefault$4(propTypesExports),_react$1=_interopRequireDefault$4(reactExports);function _interopRequireDefault$4(i){return i&&i.__esModule?i:{default:i}}const resizeHandleAxesType=ReactGridLayoutPropTypes.resizeHandleAxesType=_propTypes$3.default.arrayOf(_propTypes$3.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),resizeHandleType=ReactGridLayoutPropTypes.resizeHandleType=_propTypes$3.default.oneOfType([_propTypes$3.default.node,_propTypes$3.default.func]);ReactGridLayoutPropTypes.default={className:_propTypes$3.default.string,style:_propTypes$3.default.object,width:_propTypes$3.default.number,autoSize:_propTypes$3.default.bool,cols:_propTypes$3.default.number,draggableCancel:_propTypes$3.default.string,draggableHandle:_propTypes$3.default.string,verticalCompact:function(i){i.verticalCompact},compactType:_propTypes$3.default.oneOf(["vertical","horizontal"]),layout:function(i){var o=i.layout;o!==void 0&&utils$2.validateLayout(o,"layout")},margin:_propTypes$3.default.arrayOf(_propTypes$3.default.number),containerPadding:_propTypes$3.default.arrayOf(_propTypes$3.default.number),rowHeight:_propTypes$3.default.number,maxRows:_propTypes$3.default.number,isBounded:_propTypes$3.default.bool,isDraggable:_propTypes$3.default.bool,isResizable:_propTypes$3.default.bool,allowOverlap:_propTypes$3.default.bool,preventCollision:_propTypes$3.default.bool,useCSSTransforms:_propTypes$3.default.bool,transformScale:_propTypes$3.default.number,isDroppable:_propTypes$3.default.bool,resizeHandles:resizeHandleAxesType,resizeHandle:resizeHandleType,onLayoutChange:_propTypes$3.default.func,onDragStart:_propTypes$3.default.func,onDrag:_propTypes$3.default.func,onDragStop:_propTypes$3.default.func,onResizeStart:_propTypes$3.default.func,onResize:_propTypes$3.default.func,onResizeStop:_propTypes$3.default.func,onDrop:_propTypes$3.default.func,droppingItem:_propTypes$3.default.shape({i:_propTypes$3.default.string.isRequired,w:_propTypes$3.default.number.isRequired,h:_propTypes$3.default.number.isRequired}),children:function(i,o){const _=i[o],j={};_react$1.default.Children.forEach(_,function(_e){if((_e==null?void 0:_e.key)!=null){if(j[_e.key])throw new Error('Duplicate child key "'+_e.key+'" found! This will cause problems in ReactGridLayout.');j[_e.key]=!0}})},innerRef:_propTypes$3.default.any};Object.defineProperty(GridItem$1,"__esModule",{value:!0});GridItem$1.default=void 0;var _react=_interopRequireDefault$3(reactExports),_reactDom=reactDomExports,_propTypes$2=_interopRequireDefault$3(propTypesExports),_reactDraggable=cjsExports,_reactResizable=reactResizableExports,_utils$3=utils$2,_calculateUtils$1=calculateUtils,_ReactGridLayoutPropTypes$1=ReactGridLayoutPropTypes,_clsx$2=_interopRequireDefault$3(require$$3);function _interopRequireDefault$3(i){return i&&i.__esModule?i:{default:i}}function ownKeys$3(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$2(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$3(Object(_),!0).forEach(function(j){_defineProperty$4(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$3(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$4(i,o,_){return(o=_toPropertyKey$4(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$4(i){var o=_toPrimitive$4(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$4(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}class GridItem extends _react.default.Component{constructor(){super(...arguments),_defineProperty$4(this,"state",{resizing:null,dragging:null,className:""}),_defineProperty$4(this,"elementRef",_react.default.createRef()),_defineProperty$4(this,"onDragStart",(o,_)=>{let{node:j}=_;const{onDragStart:_e,transformScale:et}=this.props;if(!_e)return;const tt={top:0,left:0},{offsetParent:rt}=j;if(!rt)return;const nt=rt.getBoundingClientRect(),st=j.getBoundingClientRect(),it=st.left/et,at=nt.left/et,ot=st.top/et,ct=nt.top/et;tt.left=it-at+rt.scrollLeft,tt.top=ot-ct+rt.scrollTop,this.setState({dragging:tt});const{x:ut,y:lt}=(0,_calculateUtils$1.calcXY)(this.getPositionParams(),tt.top,tt.left,this.props.w,this.props.h);return _e.call(this,this.props.i,ut,lt,{e:o,node:j,newPosition:tt})}),_defineProperty$4(this,"onDrag",(o,_,j)=>{let{node:_e,deltaX:et,deltaY:tt}=_;const{onDrag:rt}=this.props;if(!rt)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let nt=this.state.dragging.top+tt,st=this.state.dragging.left+et;const{isBounded:it,i:at,w:ot,h:ct,containerWidth:ut}=this.props,lt=this.getPositionParams();if(it){const{offsetParent:ft}=_e;if(ft){const{margin:mt,rowHeight:xt}=this.props,gt=ft.clientHeight-(0,_calculateUtils$1.calcGridItemWHPx)(ct,xt,mt[1]);nt=(0,_calculateUtils$1.clamp)(nt,0,gt);const yt=(0,_calculateUtils$1.calcGridColWidth)(lt),_t=ut-(0,_calculateUtils$1.calcGridItemWHPx)(ot,yt,mt[0]);st=(0,_calculateUtils$1.clamp)(st,0,_t)}}const pt={top:nt,left:st};j?this.setState({dragging:pt}):(0,_reactDom.flushSync)(()=>{this.setState({dragging:pt})});const{x:dt,y:ht}=(0,_calculateUtils$1.calcXY)(lt,nt,st,ot,ct);return rt.call(this,at,dt,ht,{e:o,node:_e,newPosition:pt})}),_defineProperty$4(this,"onDragStop",(o,_)=>{let{node:j}=_;const{onDragStop:_e}=this.props;if(!_e)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:et,h:tt,i:rt}=this.props,{left:nt,top:st}=this.state.dragging,it={top:st,left:nt};this.setState({dragging:null});const{x:at,y:ot}=(0,_calculateUtils$1.calcXY)(this.getPositionParams(),st,nt,et,tt);return _e.call(this,rt,at,ot,{e:o,node:j,newPosition:it})}),_defineProperty$4(this,"onResizeStop",(o,_,j)=>this.onResizeHandler(o,_,j,"onResizeStop")),_defineProperty$4(this,"onResizeStart",(o,_,j)=>this.onResizeHandler(o,_,j,"onResizeStart")),_defineProperty$4(this,"onResize",(o,_,j)=>this.onResizeHandler(o,_,j,"onResize"))}shouldComponentUpdate(o,_){if(this.props.children!==o.children||this.props.droppingPosition!==o.droppingPosition)return!0;const j=(0,_calculateUtils$1.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),_e=(0,_calculateUtils$1.calcGridItemPosition)(this.getPositionParams(o),o.x,o.y,o.w,o.h,_);return!(0,_utils$3.fastPositionEqual)(j,_e)||this.props.useCSSTransforms!==o.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(o){this.moveDroppingItem(o)}moveDroppingItem(o){const{droppingPosition:_}=this.props;if(!_)return;const j=this.elementRef.current;if(!j)return;const _e=o.droppingPosition||{left:0,top:0},{dragging:et}=this.state,tt=et&&_.left!==_e.left||_.top!==_e.top;if(!et)this.onDragStart(_.e,{node:j,deltaX:_.left,deltaY:_.top});else if(tt){const rt=_.left-et.left,nt=_.top-et.top;this.onDrag(_.e,{node:j,deltaX:rt,deltaY:nt},!0)}}getPositionParams(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:o.cols,containerPadding:o.containerPadding,containerWidth:o.containerWidth,margin:o.margin,maxRows:o.maxRows,rowHeight:o.rowHeight}}createStyle(o){const{usePercentages:_,containerWidth:j,useCSSTransforms:_e}=this.props;let et;return _e?et=(0,_utils$3.setTransform)(o):(et=(0,_utils$3.setTopLeft)(o),_&&(et.left=(0,_utils$3.perc)(o.left/j),et.width=(0,_utils$3.perc)(o.width/j))),et}mixinDraggable(o,_){return _react.default.createElement(_reactDraggable.DraggableCore,{disabled:!_,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},o)}curryResizeHandler(o,_){return(j,_e)=>_(j,_e,o)}mixinResizable(o,_,j){const{cols:_e,minW:et,minH:tt,maxW:rt,maxH:nt,transformScale:st,resizeHandles:it,resizeHandle:at}=this.props,ot=this.getPositionParams(),ct=(0,_calculateUtils$1.calcGridItemPosition)(ot,0,0,_e,0).width,ut=(0,_calculateUtils$1.calcGridItemPosition)(ot,0,0,et,tt),lt=(0,_calculateUtils$1.calcGridItemPosition)(ot,0,0,rt,nt),pt=[ut.width,ut.height],dt=[Math.min(lt.width,ct),Math.min(lt.height,1/0)];return _react.default.createElement(_reactResizable.Resizable,{draggableOpts:{disabled:!j},className:j?void 0:"react-resizable-hide",width:_.width,height:_.height,minConstraints:pt,maxConstraints:dt,onResizeStop:this.curryResizeHandler(_,this.onResizeStop),onResizeStart:this.curryResizeHandler(_,this.onResizeStart),onResize:this.curryResizeHandler(_,this.onResize),transformScale:st,resizeHandles:it,handle:at},o)}onResizeHandler(o,_,j,_e){let{node:et,size:tt,handle:rt}=_;const nt=this.props[_e];if(!nt)return;const{x:st,y:it,i:at,maxH:ot,minH:ct,containerWidth:ut}=this.props,{minW:lt,maxW:pt}=this.props;let dt=tt;et&&(dt=(0,_utils$3.resizeItemInDirection)(rt,j,tt,ut),(0,_reactDom.flushSync)(()=>{this.setState({resizing:_e==="onResizeStop"?null:dt})}));let{w:ht,h:ft}=(0,_calculateUtils$1.calcWH)(this.getPositionParams(),dt.width,dt.height,st,it,rt);ht=(0,_calculateUtils$1.clamp)(ht,Math.max(lt,1),pt),ft=(0,_calculateUtils$1.clamp)(ft,ct,ot),nt.call(this,at,ht,ft,{e:o,node:et,size:dt,handle:rt})}render(){const{x:o,y:_,w:j,h:_e,isDraggable:et,isResizable:tt,droppingPosition:rt,useCSSTransforms:nt}=this.props,st=(0,_calculateUtils$1.calcGridItemPosition)(this.getPositionParams(),o,_,j,_e,this.state),it=_react.default.Children.only(this.props.children);let at=_react.default.cloneElement(it,{ref:this.elementRef,className:(0,_clsx$2.default)("react-grid-item",it.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":et,"react-draggable-dragging":!!this.state.dragging,dropping:!!rt,cssTransforms:nt}),style:_objectSpread$2(_objectSpread$2(_objectSpread$2({},this.props.style),it.props.style),this.createStyle(st))});return at=this.mixinResizable(at,st,tt),at=this.mixinDraggable(at,et),at}}GridItem$1.default=GridItem;_defineProperty$4(GridItem,"propTypes",{children:_propTypes$2.default.element,cols:_propTypes$2.default.number.isRequired,containerWidth:_propTypes$2.default.number.isRequired,rowHeight:_propTypes$2.default.number.isRequired,margin:_propTypes$2.default.array.isRequired,maxRows:_propTypes$2.default.number.isRequired,containerPadding:_propTypes$2.default.array.isRequired,x:_propTypes$2.default.number.isRequired,y:_propTypes$2.default.number.isRequired,w:_propTypes$2.default.number.isRequired,h:_propTypes$2.default.number.isRequired,minW:function(i,o){const _=i[o];if(typeof _!="number")return new Error("minWidth not Number");if(_>i.w||_>i.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(i,o){const _=i[o];if(typeof _!="number")return new Error("maxWidth not Number");if(_<i.w||_<i.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(i,o){const _=i[o];if(typeof _!="number")return new Error("minHeight not Number");if(_>i.h||_>i.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(i,o){const _=i[o];if(typeof _!="number")return new Error("maxHeight not Number");if(_<i.h||_<i.minH)return new Error("maxHeight smaller than item height/minHeight")},i:_propTypes$2.default.string.isRequired,resizeHandles:_ReactGridLayoutPropTypes$1.resizeHandleAxesType,resizeHandle:_ReactGridLayoutPropTypes$1.resizeHandleType,onDragStop:_propTypes$2.default.func,onDragStart:_propTypes$2.default.func,onDrag:_propTypes$2.default.func,onResizeStop:_propTypes$2.default.func,onResizeStart:_propTypes$2.default.func,onResize:_propTypes$2.default.func,isDraggable:_propTypes$2.default.bool.isRequired,isResizable:_propTypes$2.default.bool.isRequired,isBounded:_propTypes$2.default.bool.isRequired,static:_propTypes$2.default.bool,useCSSTransforms:_propTypes$2.default.bool.isRequired,transformScale:_propTypes$2.default.number,className:_propTypes$2.default.string,handle:_propTypes$2.default.string,cancel:_propTypes$2.default.string,droppingPosition:_propTypes$2.default.shape({e:_propTypes$2.default.object.isRequired,left:_propTypes$2.default.number.isRequired,top:_propTypes$2.default.number.isRequired})});_defineProperty$4(GridItem,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(ReactGridLayout$1,"__esModule",{value:!0});ReactGridLayout$1.default=void 0;var React$2=_interopRequireWildcard$2(reactExports),_fastEquals$1=fastEqualsExports,_clsx$1=_interopRequireDefault$2(require$$3),_utils$2=utils$2,_calculateUtils=calculateUtils,_GridItem=_interopRequireDefault$2(GridItem$1),_ReactGridLayoutPropTypes=_interopRequireDefault$2(ReactGridLayoutPropTypes);function _interopRequireDefault$2(i){return i&&i.__esModule?i:{default:i}}function _interopRequireWildcard$2(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard$2=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}function ownKeys$2(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$1(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$2(Object(_),!0).forEach(function(j){_defineProperty$3(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$2(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$3(i,o,_){return(o=_toPropertyKey$3(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$3(i){var o=_toPrimitive$3(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$3(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}const layoutClassName$1="react-grid-layout";let isFirefox=!1;try{isFirefox=/firefox/i.test(navigator.userAgent)}catch{}class ReactGridLayout extends React$2.Component{constructor(){super(...arguments),_defineProperty$3(this,"state",{activeDrag:null,layout:(0,_utils$2.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,_utils$2.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),_defineProperty$3(this,"dragEnterCounter",0),_defineProperty$3(this,"onDragStart",(o,_,j,_e)=>{let{e:et,node:tt}=_e;const{layout:rt}=this.state,nt=(0,_utils$2.getLayoutItem)(rt,o);if(!nt)return;const st={w:nt.w,h:nt.h,x:nt.x,y:nt.y,placeholder:!0,i:o};return this.setState({oldDragItem:(0,_utils$2.cloneLayoutItem)(nt),oldLayout:rt,activeDrag:st}),this.props.onDragStart(rt,nt,nt,null,et,tt)}),_defineProperty$3(this,"onDrag",(o,_,j,_e)=>{let{e:et,node:tt}=_e;const{oldDragItem:rt}=this.state;let{layout:nt}=this.state;const{cols:st,allowOverlap:it,preventCollision:at}=this.props,ot=(0,_utils$2.getLayoutItem)(nt,o);if(!ot)return;const ct={w:ot.w,h:ot.h,x:ot.x,y:ot.y,placeholder:!0,i:o};nt=(0,_utils$2.moveElement)(nt,ot,_,j,!0,at,(0,_utils$2.compactType)(this.props),st,it),this.props.onDrag(nt,rt,ot,ct,et,tt),this.setState({layout:it?nt:(0,_utils$2.compact)(nt,(0,_utils$2.compactType)(this.props),st),activeDrag:ct})}),_defineProperty$3(this,"onDragStop",(o,_,j,_e)=>{let{e:et,node:tt}=_e;if(!this.state.activeDrag)return;const{oldDragItem:rt}=this.state;let{layout:nt}=this.state;const{cols:st,preventCollision:it,allowOverlap:at}=this.props,ot=(0,_utils$2.getLayoutItem)(nt,o);if(!ot)return;nt=(0,_utils$2.moveElement)(nt,ot,_,j,!0,it,(0,_utils$2.compactType)(this.props),st,at);const ut=at?nt:(0,_utils$2.compact)(nt,(0,_utils$2.compactType)(this.props),st);this.props.onDragStop(ut,rt,ot,null,et,tt);const{oldLayout:lt}=this.state;this.setState({activeDrag:null,layout:ut,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(ut,lt)}),_defineProperty$3(this,"onResizeStart",(o,_,j,_e)=>{let{e:et,node:tt}=_e;const{layout:rt}=this.state,nt=(0,_utils$2.getLayoutItem)(rt,o);nt&&(this.setState({oldResizeItem:(0,_utils$2.cloneLayoutItem)(nt),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(rt,nt,nt,null,et,tt))}),_defineProperty$3(this,"onResize",(o,_,j,_e)=>{let{e:et,node:tt,size:rt,handle:nt}=_e;const{oldResizeItem:st}=this.state,{layout:it}=this.state,{cols:at,preventCollision:ot,allowOverlap:ct}=this.props;let ut=!1,lt,pt,dt;const[ht,ft]=(0,_utils$2.withLayoutItem)(it,o,xt=>{let gt;return pt=xt.x,dt=xt.y,["sw","w","nw","n","ne"].indexOf(nt)!==-1&&(["sw","nw","w"].indexOf(nt)!==-1&&(pt=xt.x+(xt.w-_),_=xt.x!==pt&&pt<0?xt.w:_,pt=pt<0?0:pt),["ne","n","nw"].indexOf(nt)!==-1&&(dt=xt.y+(xt.h-j),j=xt.y!==dt&&dt<0?xt.h:j,dt=dt<0?0:dt),ut=!0),ot&&!ct&&(gt=(0,_utils$2.getAllCollisions)(it,_objectSpread$1(_objectSpread$1({},xt),{},{w:_,h:j,x:pt,y:dt})).filter(_t=>_t.i!==xt.i).length>0,gt&&(dt=xt.y,j=xt.h,pt=xt.x,_=xt.w,ut=!1)),xt.w=_,xt.h=j,xt});if(!ft)return;lt=ht,ut&&(lt=(0,_utils$2.moveElement)(ht,ft,pt,dt,!0,this.props.preventCollision,(0,_utils$2.compactType)(this.props),at,ct));const mt={w:ft.w,h:ft.h,x:ft.x,y:ft.y,static:!0,i:o};this.props.onResize(lt,st,ft,mt,et,tt),this.setState({layout:ct?lt:(0,_utils$2.compact)(lt,(0,_utils$2.compactType)(this.props),at),activeDrag:mt})}),_defineProperty$3(this,"onResizeStop",(o,_,j,_e)=>{let{e:et,node:tt}=_e;const{layout:rt,oldResizeItem:nt}=this.state,{cols:st,allowOverlap:it}=this.props,at=(0,_utils$2.getLayoutItem)(rt,o),ot=it?rt:(0,_utils$2.compact)(rt,(0,_utils$2.compactType)(this.props),st);this.props.onResizeStop(ot,nt,at,null,et,tt);const{oldLayout:ct}=this.state;this.setState({activeDrag:null,layout:ot,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(ot,ct)}),_defineProperty$3(this,"onDragOver",o=>{var _;if(o.preventDefault(),o.stopPropagation(),isFirefox&&!((_=o.nativeEvent.target)!==null&&_!==void 0&&_.classList.contains(layoutClassName$1)))return!1;const{droppingItem:j,onDropDragOver:_e,margin:et,cols:tt,rowHeight:rt,maxRows:nt,width:st,containerPadding:it,transformScale:at}=this.props,ot=_e==null?void 0:_e(o);if(ot===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const ct=_objectSpread$1(_objectSpread$1({},j),ot),{layout:ut}=this.state,lt=o.currentTarget.getBoundingClientRect(),pt=o.clientX-lt.left,dt=o.clientY-lt.top,ht={left:pt/at,top:dt/at,e:o};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:ft,top:mt}=this.state.droppingPosition;(ft!=pt||mt!=dt)&&this.setState({droppingPosition:ht})}}else{const ft={cols:tt,margin:et,maxRows:nt,rowHeight:rt,containerWidth:st,containerPadding:it||et},mt=(0,_calculateUtils.calcXY)(ft,dt,pt,ct.w,ct.h);this.setState({droppingDOMNode:React$2.createElement("div",{key:ct.i}),droppingPosition:ht,layout:[...ut,_objectSpread$1(_objectSpread$1({},ct),{},{x:mt.x,y:mt.y,static:!1,isDraggable:!0})]})}}),_defineProperty$3(this,"removeDroppingPlaceholder",()=>{const{droppingItem:o,cols:_}=this.props,{layout:j}=this.state,_e=(0,_utils$2.compact)(j.filter(et=>et.i!==o.i),(0,_utils$2.compactType)(this.props),_,this.props.allowOverlap);this.setState({layout:_e,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),_defineProperty$3(this,"onDragLeave",o=>{o.preventDefault(),o.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),_defineProperty$3(this,"onDragEnter",o=>{o.preventDefault(),o.stopPropagation(),this.dragEnterCounter++}),_defineProperty$3(this,"onDrop",o=>{o.preventDefault(),o.stopPropagation();const{droppingItem:_}=this.props,{layout:j}=this.state,_e=j.find(et=>et.i===_.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(j,_e,o)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(o,_){let j;return _.activeDrag?null:(!(0,_fastEquals$1.deepEqual)(o.layout,_.propsLayout)||o.compactType!==_.compactType?j=o.layout:(0,_utils$2.childrenEqual)(o.children,_.children)||(j=_.layout),j?{layout:(0,_utils$2.synchronizeLayoutWithChildren)(j,o.children,o.cols,(0,_utils$2.compactType)(o),o.allowOverlap),compactType:o.compactType,children:o.children,propsLayout:o.layout}:null)}shouldComponentUpdate(o,_){return this.props.children!==o.children||!(0,_utils$2.fastRGLPropsEqual)(this.props,o,_fastEquals$1.deepEqual)||this.state.activeDrag!==_.activeDrag||this.state.mounted!==_.mounted||this.state.droppingPosition!==_.droppingPosition}componentDidUpdate(o,_){if(!this.state.activeDrag){const j=this.state.layout,_e=_.layout;this.onLayoutMaybeChanged(j,_e)}}containerHeight(){if(!this.props.autoSize)return;const o=(0,_utils$2.bottom)(this.state.layout),_=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return o*this.props.rowHeight+(o-1)*this.props.margin[1]+_*2+"px"}onLayoutMaybeChanged(o,_){_||(_=this.state.layout),(0,_fastEquals$1.deepEqual)(_,o)||this.props.onLayoutChange(o)}placeholder(){const{activeDrag:o}=this.state;if(!o)return null;const{width:_,cols:j,margin:_e,containerPadding:et,rowHeight:tt,maxRows:rt,useCSSTransforms:nt,transformScale:st}=this.props;return React$2.createElement(_GridItem.default,{w:o.w,h:o.h,x:o.x,y:o.y,i:o.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:_,cols:j,margin:_e,containerPadding:et||_e,maxRows:rt,rowHeight:tt,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:nt,transformScale:st},React$2.createElement("div",null))}processGridItem(o,_){if(!o||!o.key)return;const j=(0,_utils$2.getLayoutItem)(this.state.layout,String(o.key));if(!j)return null;const{width:_e,cols:et,margin:tt,containerPadding:rt,rowHeight:nt,maxRows:st,isDraggable:it,isResizable:at,isBounded:ot,useCSSTransforms:ct,transformScale:ut,draggableCancel:lt,draggableHandle:pt,resizeHandles:dt,resizeHandle:ht}=this.props,{mounted:ft,droppingPosition:mt}=this.state,xt=typeof j.isDraggable=="boolean"?j.isDraggable:!j.static&&it,gt=typeof j.isResizable=="boolean"?j.isResizable:!j.static&&at,yt=j.resizeHandles||dt,_t=xt&&ot&&j.isBounded!==!1;return React$2.createElement(_GridItem.default,{containerWidth:_e,cols:et,margin:tt,containerPadding:rt||tt,maxRows:st,rowHeight:nt,cancel:lt,handle:pt,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:xt,isResizable:gt,isBounded:_t,useCSSTransforms:ct&&ft,usePercentages:!ft,transformScale:ut,w:j.w,h:j.h,x:j.x,y:j.y,i:j.i,minH:j.minH,minW:j.minW,maxH:j.maxH,maxW:j.maxW,static:j.static,droppingPosition:_?mt:void 0,resizeHandles:yt,resizeHandle:ht},o)}render(){const{className:o,style:_,isDroppable:j,innerRef:_e}=this.props,et=(0,_clsx$1.default)(layoutClassName$1,o),tt=_objectSpread$1({height:this.containerHeight()},_);return React$2.createElement("div",{ref:_e,className:et,style:tt,onDrop:j?this.onDrop:_utils$2.noop,onDragLeave:j?this.onDragLeave:_utils$2.noop,onDragEnter:j?this.onDragEnter:_utils$2.noop,onDragOver:j?this.onDragOver:_utils$2.noop},React$2.Children.map(this.props.children,rt=>this.processGridItem(rt)),j&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}ReactGridLayout$1.default=ReactGridLayout;_defineProperty$3(ReactGridLayout,"displayName","ReactGridLayout");_defineProperty$3(ReactGridLayout,"propTypes",_ReactGridLayoutPropTypes.default);_defineProperty$3(ReactGridLayout,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:_utils$2.noop,onDragStart:_utils$2.noop,onDrag:_utils$2.noop,onDragStop:_utils$2.noop,onResizeStart:_utils$2.noop,onResize:_utils$2.noop,onResizeStop:_utils$2.noop,onDrop:_utils$2.noop,onDropDragOver:_utils$2.noop});var ResponsiveReactGridLayout$1={},responsiveUtils={};Object.defineProperty(responsiveUtils,"__esModule",{value:!0});responsiveUtils.findOrGenerateResponsiveLayout=findOrGenerateResponsiveLayout;responsiveUtils.getBreakpointFromWidth=getBreakpointFromWidth;responsiveUtils.getColsFromBreakpoint=getColsFromBreakpoint;responsiveUtils.sortBreakpoints=sortBreakpoints;var _utils$1=utils$2;function getBreakpointFromWidth(i,o){const _=sortBreakpoints(i);let j=_[0];for(let _e=1,et=_.length;_e<et;_e++){const tt=_[_e];o>i[tt]&&(j=tt)}return j}function getColsFromBreakpoint(i,o){if(!o[i])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+i+" is missing!");return o[i]}function findOrGenerateResponsiveLayout(i,o,_,j,_e,et){if(i[_])return(0,_utils$1.cloneLayout)(i[_]);let tt=i[j];const rt=sortBreakpoints(o),nt=rt.slice(rt.indexOf(_));for(let st=0,it=nt.length;st<it;st++){const at=nt[st];if(i[at]){tt=i[at];break}}return tt=(0,_utils$1.cloneLayout)(tt||[]),(0,_utils$1.compact)((0,_utils$1.correctBounds)(tt,{cols:_e}),et,_e)}function sortBreakpoints(i){return Object.keys(i).sort(function(_,j){return i[_]-i[j]})}Object.defineProperty(ResponsiveReactGridLayout$1,"__esModule",{value:!0});ResponsiveReactGridLayout$1.default=void 0;var React$1=_interopRequireWildcard$1(reactExports),_propTypes$1=_interopRequireDefault$1(propTypesExports),_fastEquals=fastEqualsExports,_utils=utils$2,_responsiveUtils=responsiveUtils,_ReactGridLayout=_interopRequireDefault$1(ReactGridLayout$1);const _excluded$3=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function _interopRequireDefault$1(i){return i&&i.__esModule?i:{default:i}}function _interopRequireWildcard$1(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard$1=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)({}).hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends$1.apply(null,arguments)}function _objectWithoutProperties$2(i,o){if(i==null)return{};var _,j,_e=_objectWithoutPropertiesLoose$2(i,o);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(j=0;j<et.length;j++)_=et[j],o.indexOf(_)===-1&&{}.propertyIsEnumerable.call(i,_)&&(_e[_]=i[_])}return _e}function _objectWithoutPropertiesLoose$2(i,o){if(i==null)return{};var _={};for(var j in i)if({}.hasOwnProperty.call(i,j)){if(o.indexOf(j)!==-1)continue;_[j]=i[j]}return _}function ownKeys$1(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys$1(Object(_),!0).forEach(function(j){_defineProperty$2(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys$1(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _defineProperty$2(i,o,_){return(o=_toPropertyKey$2(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$2(i){var o=_toPrimitive$2(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$2(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}const type=i=>Object.prototype.toString.call(i);function getIndentationValue(i,o){return i==null?null:Array.isArray(i)?i:i[o]}class ResponsiveReactGridLayout extends React$1.Component{constructor(){super(...arguments),_defineProperty$2(this,"state",this.generateInitialState()),_defineProperty$2(this,"onLayoutChange",o=>{this.props.onLayoutChange(o,_objectSpread(_objectSpread({},this.props.layouts),{},{[this.state.breakpoint]:o}))})}generateInitialState(){const{width:o,breakpoints:_,layouts:j,cols:_e}=this.props,et=(0,_responsiveUtils.getBreakpointFromWidth)(_,o),tt=(0,_responsiveUtils.getColsFromBreakpoint)(et,_e),rt=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,_responsiveUtils.findOrGenerateResponsiveLayout)(j,_,et,et,tt,rt),breakpoint:et,cols:tt}}static getDerivedStateFromProps(o,_){if(!(0,_fastEquals.deepEqual)(o.layouts,_.layouts)){const{breakpoint:j,cols:_e}=_;return{layout:(0,_responsiveUtils.findOrGenerateResponsiveLayout)(o.layouts,o.breakpoints,j,j,_e,o.compactType),layouts:o.layouts}}return null}componentDidUpdate(o){(this.props.width!=o.width||this.props.breakpoint!==o.breakpoint||!(0,_fastEquals.deepEqual)(this.props.breakpoints,o.breakpoints)||!(0,_fastEquals.deepEqual)(this.props.cols,o.cols))&&this.onWidthChange(o)}onWidthChange(o){const{breakpoints:_,cols:j,layouts:_e,compactType:et}=this.props,tt=this.props.breakpoint||(0,_responsiveUtils.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),rt=this.state.breakpoint,nt=(0,_responsiveUtils.getColsFromBreakpoint)(tt,j),st=_objectSpread({},_e);if(rt!==tt||o.breakpoints!==_||o.cols!==j){rt in st||(st[rt]=(0,_utils.cloneLayout)(this.state.layout));let ot=(0,_responsiveUtils.findOrGenerateResponsiveLayout)(st,_,tt,rt,nt,et);ot=(0,_utils.synchronizeLayoutWithChildren)(ot,this.props.children,nt,et,this.props.allowOverlap),st[tt]=ot,this.props.onBreakpointChange(tt,nt),this.props.onLayoutChange(ot,st),this.setState({breakpoint:tt,layout:ot,cols:nt})}const it=getIndentationValue(this.props.margin,tt),at=getIndentationValue(this.props.containerPadding,tt);this.props.onWidthChange(this.props.width,it,nt,at)}render(){const o=this.props,{breakpoint:_,breakpoints:j,cols:_e,layouts:et,margin:tt,containerPadding:rt,onBreakpointChange:nt,onLayoutChange:st,onWidthChange:it}=o,at=_objectWithoutProperties$2(o,_excluded$3);return React$1.createElement(_ReactGridLayout.default,_extends$1({},at,{margin:getIndentationValue(tt,this.state.breakpoint),containerPadding:getIndentationValue(rt,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}ResponsiveReactGridLayout$1.default=ResponsiveReactGridLayout;_defineProperty$2(ResponsiveReactGridLayout,"propTypes",{breakpoint:_propTypes$1.default.string,breakpoints:_propTypes$1.default.object,allowOverlap:_propTypes$1.default.bool,cols:_propTypes$1.default.object,margin:_propTypes$1.default.oneOfType([_propTypes$1.default.array,_propTypes$1.default.object]),containerPadding:_propTypes$1.default.oneOfType([_propTypes$1.default.array,_propTypes$1.default.object]),layouts(i,o){if(type(i[o])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+type(i[o]));Object.keys(i[o]).forEach(_=>{if(!(_ in i.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,_utils.validateLayout)(i.layouts[_],"layouts."+_)})},width:_propTypes$1.default.number.isRequired,onBreakpointChange:_propTypes$1.default.func,onLayoutChange:_propTypes$1.default.func,onWidthChange:_propTypes$1.default.func});_defineProperty$2(ResponsiveReactGridLayout,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:_utils.noop,onLayoutChange:_utils.noop,onWidthChange:_utils.noop});var WidthProvider={},MapShim=function(){if(typeof Map<"u")return Map;function i(o,_){var j=-1;return o.some(function(_e,et){return _e[0]===_?(j=et,!0):!1}),j}return function(){function o(){this.__entries__=[]}return Object.defineProperty(o.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),o.prototype.get=function(_){var j=i(this.__entries__,_),_e=this.__entries__[j];return _e&&_e[1]},o.prototype.set=function(_,j){var _e=i(this.__entries__,_);~_e?this.__entries__[_e][1]=j:this.__entries__.push([_,j])},o.prototype.delete=function(_){var j=this.__entries__,_e=i(j,_);~_e&&j.splice(_e,1)},o.prototype.has=function(_){return!!~i(this.__entries__,_)},o.prototype.clear=function(){this.__entries__.splice(0)},o.prototype.forEach=function(_,j){j===void 0&&(j=null);for(var _e=0,et=this.__entries__;_e<et.length;_e++){var tt=et[_e];_.call(j,tt[1],tt[0])}},o}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(i,o){var _=!1,j=!1,_e=0;function et(){_&&(_=!1,i()),j&&rt()}function tt(){requestAnimationFrame$1(et)}function rt(){var nt=Date.now();if(_){if(nt-_e<trailingTimeout)return;j=!0}else _=!0,j=!1,setTimeout(tt,o);_e=nt}return rt}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return i.prototype.addObserver=function(o){~this.observers_.indexOf(o)||this.observers_.push(o),this.connected_||this.connect_()},i.prototype.removeObserver=function(o){var _=this.observers_,j=_.indexOf(o);~j&&_.splice(j,1),!_.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var o=this.updateObservers_();o&&this.refresh()},i.prototype.updateObservers_=function(){var o=this.observers_.filter(function(_){return _.gatherActive(),_.hasActive()});return o.forEach(function(_){return _.broadcastActive()}),o.length>0},i.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(o){var _=o.propertyName,j=_===void 0?"":_,_e=transitionKeys.some(function(et){return!!~j.indexOf(et)});_e&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),defineConfigurable=function(i,o){for(var _=0,j=Object.keys(o);_<j.length;_++){var _e=j[_];Object.defineProperty(i,_e,{value:o[_e],enumerable:!1,writable:!1,configurable:!0})}return i},getWindowOf=function(i){var o=i&&i.ownerDocument&&i.ownerDocument.defaultView;return o||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(i){return parseFloat(i)||0}function getBordersSize(i){for(var o=[],_=1;_<arguments.length;_++)o[_-1]=arguments[_];return o.reduce(function(j,_e){var et=i["border-"+_e+"-width"];return j+toFloat(et)},0)}function getPaddings(i){for(var o=["top","right","bottom","left"],_={},j=0,_e=o;j<_e.length;j++){var et=_e[j],tt=i["padding-"+et];_[et]=toFloat(tt)}return _}function getSVGContentRect(i){var o=i.getBBox();return createRectInit(0,0,o.width,o.height)}function getHTMLElementContentRect(i){var o=i.clientWidth,_=i.clientHeight;if(!o&&!_)return emptyRect;var j=getWindowOf(i).getComputedStyle(i),_e=getPaddings(j),et=_e.left+_e.right,tt=_e.top+_e.bottom,rt=toFloat(j.width),nt=toFloat(j.height);if(j.boxSizing==="border-box"&&(Math.round(rt+et)!==o&&(rt-=getBordersSize(j,"left","right")+et),Math.round(nt+tt)!==_&&(nt-=getBordersSize(j,"top","bottom")+tt)),!isDocumentElement(i)){var st=Math.round(rt+et)-o,it=Math.round(nt+tt)-_;Math.abs(st)!==1&&(rt-=st),Math.abs(it)!==1&&(nt-=it)}return createRectInit(_e.left,_e.top,rt,nt)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof getWindowOf(i).SVGGraphicsElement}:function(i){return i instanceof getWindowOf(i).SVGElement&&typeof i.getBBox=="function"}}();function isDocumentElement(i){return i===getWindowOf(i).document.documentElement}function getContentRect(i){return isBrowser?isSVGGraphicsElement(i)?getSVGContentRect(i):getHTMLElementContentRect(i):emptyRect}function createReadOnlyRect(i){var o=i.x,_=i.y,j=i.width,_e=i.height,et=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,tt=Object.create(et.prototype);return defineConfigurable(tt,{x:o,y:_,width:j,height:_e,top:_,right:o+j,bottom:_e+_,left:o}),tt}function createRectInit(i,o,_,j){return{x:i,y:o,width:_,height:j}}var ResizeObservation=function(){function i(o){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=o}return i.prototype.isActive=function(){var o=getContentRect(this.target);return this.contentRect_=o,o.width!==this.broadcastWidth||o.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var o=this.contentRect_;return this.broadcastWidth=o.width,this.broadcastHeight=o.height,o},i}(),ResizeObserverEntry=function(){function i(o,_){var j=createReadOnlyRect(_);defineConfigurable(this,{target:o,contentRect:j})}return i}(),ResizeObserverSPI=function(){function i(o,_,j){if(this.activeObservations_=[],this.observations_=new MapShim,typeof o!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=o,this.controller_=_,this.callbackCtx_=j}return i.prototype.observe=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(o instanceof getWindowOf(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var _=this.observations_;_.has(o)||(_.set(o,new ResizeObservation(o)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(o instanceof getWindowOf(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var _=this.observations_;_.has(o)&&(_.delete(o),_.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var o=this;this.clearActive(),this.observations_.forEach(function(_){_.isActive()&&o.activeObservations_.push(_)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var o=this.callbackCtx_,_=this.activeObservations_.map(function(j){return new ResizeObserverEntry(j.target,j.broadcastRect())});this.callback_.call(o,_,o),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function i(o){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var _=ResizeObserverController.getInstance(),j=new ResizeObserverSPI(o,_,this);observers.set(this,j)}return i}();["observe","unobserve","disconnect"].forEach(function(i){ResizeObserver$1.prototype[i]=function(){var o;return(o=observers.get(this))[i].apply(o,arguments)}});var index=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1}();const ResizeObserver_es=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(ResizeObserver_es);Object.defineProperty(WidthProvider,"__esModule",{value:!0});WidthProvider.default=WidthProvideRGL;var React=_interopRequireWildcard(reactExports),_propTypes=_interopRequireDefault(propTypesExports),_resizeObserverPolyfill=_interopRequireDefault(require$$2),_clsx=_interopRequireDefault(require$$3);const _excluded$2=["measureBeforeMount"];function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function _interopRequireWildcard(i,o){if(typeof WeakMap=="function")var _=new WeakMap,j=new WeakMap;return(_interopRequireWildcard=function(_e,et){if(!et&&_e&&_e.__esModule)return _e;var tt,rt,nt={__proto__:null,default:_e};if(_e===null||typeof _e!="object"&&typeof _e!="function")return nt;if(tt=et?j:_){if(tt.has(_e))return tt.get(_e);tt.set(_e,nt)}for(const st in _e)st!=="default"&&{}.hasOwnProperty.call(_e,st)&&((rt=(tt=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_e,st))&&(rt.get||rt.set)?tt(nt,st,rt):nt[st]=_e[st]);return nt})(i,o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var _=arguments[o];for(var j in _)({}).hasOwnProperty.call(_,j)&&(i[j]=_[j])}return i},_extends.apply(null,arguments)}function _objectWithoutProperties$1(i,o){if(i==null)return{};var _,j,_e=_objectWithoutPropertiesLoose$1(i,o);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(j=0;j<et.length;j++)_=et[j],o.indexOf(_)===-1&&{}.propertyIsEnumerable.call(i,_)&&(_e[_]=i[_])}return _e}function _objectWithoutPropertiesLoose$1(i,o){if(i==null)return{};var _={};for(var j in i)if({}.hasOwnProperty.call(i,j)){if(o.indexOf(j)!==-1)continue;_[j]=i[j]}return _}function _defineProperty$1(i,o,_){return(o=_toPropertyKey$1(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _toPropertyKey$1(i){var o=_toPrimitive$1(i,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive$1(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}const layoutClassName="react-grid-layout";function WidthProvideRGL(i){var o;return o=class extends React.Component{constructor(){super(...arguments),_defineProperty$1(this,"state",{width:1280}),_defineProperty$1(this,"elementRef",React.createRef()),_defineProperty$1(this,"mounted",!1),_defineProperty$1(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new _resizeObserverPolyfill.default(_e=>{if(this.elementRef.current instanceof HTMLElement){const tt=_e[0].contentRect.width;this.setState({width:tt})}});const j=this.elementRef.current;j instanceof HTMLElement&&this.resizeObserver.observe(j)}componentWillUnmount(){this.mounted=!1;const j=this.elementRef.current;j instanceof HTMLElement&&this.resizeObserver.unobserve(j),this.resizeObserver.disconnect()}render(){const j=this.props,{measureBeforeMount:_e}=j,et=_objectWithoutProperties$1(j,_excluded$2);return _e&&!this.mounted?React.createElement("div",{className:(0,_clsx.default)(this.props.className,layoutClassName),style:this.props.style,ref:this.elementRef}):React.createElement(i,_extends({innerRef:this.elementRef},et,this.state))}},_defineProperty$1(o,"defaultProps",{measureBeforeMount:!1}),_defineProperty$1(o,"propTypes",{measureBeforeMount:_propTypes.default.bool}),o}(function(i){i.exports=ReactGridLayout$1.default,i.exports.utils=utils$2,i.exports.calculateUtils=calculateUtils,i.exports.Responsive=ResponsiveReactGridLayout$1.default,i.exports.Responsive.utils=responsiveUtils,i.exports.WidthProvider=WidthProvider.default})(reactGridLayout);var reactGridLayoutExports=reactGridLayout.exports;class AnalyticsDataService{async getAnalytics(o="30_days"){return api.get("/v1/analytics",{date_range:o})}async getTimeSeriesData(o="30_days",_="revenue"){return api.get("/v1/analytics/timeseries",{date_range:o})}async getRecentActivities(o=10){return api.get("/v1/analytics/activities",{limit:o})}async getTopCustomers(o=10){return api.get("/v1/analytics/top-customers",{limit:o})}async getSalesPerformance(){return[]}}const analyticsDataService=new AnalyticsDataService,analyticsDataService$1=Object.freeze(Object.defineProperty({__proto__:null,analyticsDataService},Symbol.toStringTag,{value:"Module"})),DashboardWidget=({widget:i,variant:o="variant1",onVariantChange:_,isEditMode:j=!1,dashboardData:_e=null,loading:et=!1,dateRange:tt="30_days"})=>{const[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(!0),[at,ot]=reactExports.useState(null),[ct,ut]=reactExports.useState(o),lt={primary:"#79d5e9"},pt=()=>i.config.color||lt.primary;reactExports.useEffect(()=>{if(dt(),i.config.refreshInterval){const ft=setInterval(dt,i.config.refreshInterval*1e3);return()=>clearInterval(ft)}},[i,_e,et,tt]),reactExports.useEffect(()=>{ut(o)},[o]),reactExports.useEffect(()=>{},[i.config]);const dt=async()=>{it(et||!0);try{const ft=await analyticsDataService.getAnalytics(tt),mt=await analyticsDataService.getTimeSeriesData(tt,"revenue"),xt=ft[i.config.metric]||0,gt={value:Math.random()*20-10,isPositive:Math.random()>.5};switch(i.dataSource){case"orders":let yt=mt.map(Tt=>({name:Tt.name,value:i.config.chartType==="bar"?Tt.orders:Tt.value}));(i.config.chartType==="pie"||i.config.chartType==="donut"||i.config.chartType==="doughnut")&&(yt=[{name:"Pending",value:ft.pendingOrders},{name:"Confirmed",value:ft.confirmedOrders},{name:"Shipped",value:ft.shippedOrders},{name:"Delivered",value:ft.deliveredOrders}].filter(Tt=>Tt.value>0)),nt({value:ft[i.config.metric]||xt,chartData:yt,trend:gt});break;case"customers":const _t=await analyticsDataService.getTopCustomers(10);let Et=mt.map(Tt=>({name:Tt.name,value:Tt.customers}));(i.config.chartType==="pie"||i.config.chartType==="donut"||i.config.chartType==="doughnut")&&(Et=_t.slice(0,8).map(Tt=>({name:Tt.name,value:Tt.revenue}))),nt({value:ft[i.config.metric]||ft.totalCustomers,chartData:Et,trend:gt,salesTeam:_t,items:_t});break;case"inventory":nt({items:[{id:1,name:"Product A",stock:150,reorder:50,value:2500},{id:2,name:"Product B",stock:89,reorder:25,value:1800},{id:3,name:"Product C",stock:234,reorder:100,value:4200}],total:3});break;case"sales_team":const wt=await analyticsDataService.getSalesPerformance();let $t=mt;(i.config.chartType==="pie"||i.config.chartType==="donut"||i.config.chartType==="doughnut")&&($t=wt.map(Tt=>({name:Tt.name,value:Tt.revenue,orders:Tt.orders}))),nt({salesTeam:wt,items:wt,value:ft[i.config.metric]||ft.teamPerformance,chartData:$t,trend:gt});break;case"activities":const jt=await analyticsDataService.getRecentActivities(10);nt({activities:jt});break;default:nt({value:ft[i.config.metric]||0,chartData:mt,trend:gt})}}catch(ft){ot("Failed to load widget data"),console.error("Widget data error:",ft),nt({value:0,chartData:[],trend:{value:0,isPositive:!0},activities:[],salesTeam:[],items:[]})}finally{it(!1)}},ht=()=>{var ft,mt,xt,gt,yt,_t,Et,wt;if(st)return jsxRuntimeExports.jsx("div",{className:"widget-loading",children:"Loading..."});if(at)return jsxRuntimeExports.jsx("div",{className:"widget-error",children:at});if(!rt)return jsxRuntimeExports.jsx("div",{className:"widget-empty",children:"No data available"});switch(i.displayFormat){case"MetricCard":const $t=i.config.displayMode||"medium",jt={id:i.id,title:i.title,subtitle:i.subtitle,value:rt.value,format:(ft=i.config.metric)!=null&&ft.includes("Revenue")||(mt=i.config.metric)!=null&&mt.includes("Value")?"currency":"number",trend:i.config.showTrend?rt.trend:void 0,chartData:rt.chartData,design:ct,color:pt(),isEditMode:j,onVariantChange:_};switch($t){case"compact":return jsxRuntimeExports.jsx(CompactCard,{title:jt.title,value:jt.value,format:jt.format,trend:jt.trend,color:jt.color});case"large":return jsxRuntimeExports.jsx(LargeMetricCard,{...jt});case"medium":default:return jsxRuntimeExports.jsx(MediumMetricCard,{...jt})}case"MetricCardSquare":return jsxRuntimeExports.jsx(MetricCardSquare,{id:i.id,title:i.title,value:rt.value,subtitle:i.subtitle,format:(xt=i.config.metric)!=null&&xt.includes("Revenue")||(gt=i.config.metric)!=null&&gt.includes("Value")?"currency":"number",trend:i.config.showTrend?rt.trend:void 0,chartData:rt.chartData,design:ct,color:pt(),isEditMode:j,onVariantChange:_});case"ColorfulMetricCard":return jsxRuntimeExports.jsx(ColorfulMetricCard,{title:i.title,subtitle:i.subtitle,value:rt.value,format:(yt=i.config.metric)!=null&&yt.includes("Revenue")||(_t=i.config.metric)!=null&&_t.includes("Value")?"currency":"number",trend:i.config.showTrend?rt.trend:void 0,chartData:rt.chartData,color:pt()});case"FullGraph":return jsxRuntimeExports.jsx(FullGraph,{id:i.id,title:i.title,subtitle:j?void 0:i.subtitle,data:rt.chartData||[],lines:[{dataKey:"value",color:i.config.color||"#79d5e9",name:i.title,format:(Et=i.config.metric)!=null&&Et.includes("Revenue")||(wt=i.config.metric)!=null&&wt.includes("Value")?"currency":"number"}],type:i.config.chartType||"area",height:300});case"DataTable":const Tt=i.config.columns||(i.dataSource==="sales_team"?[{key:"name",header:"Name",width:"40%",format:"text"},{key:"orders",header:"Orders",width:"30%",format:"number"},{key:"revenue",header:"Revenue",width:"30%",format:"currency"}]:i.dataSource==="customers"?[{key:"name",header:"Customer",width:"40%",format:"text"},{key:"orders",header:"Orders",width:"20%",format:"number"},{key:"revenue",header:"Revenue",width:"25%",format:"currency"},{key:"status",header:"Status",width:"15%",format:"text"}]:[{key:"name",header:"Name",width:"50%",format:"text"},{key:"value",header:"Value",width:"50%",format:"number"}]);return jsxRuntimeExports.jsx(CleanTableCard,{columns:Tt,data:rt.salesTeam||rt.items||[],backgroundColor:i.config.backgroundColor||"#1a1f2a",textColor:i.config.textColor||"#ffffff",headerColor:i.config.headerColor||pt(),borderColor:i.config.borderColor||"rgba(255, 255, 255, 0.1)",maxRows:i.config.maxRows||10});case"TableCard":const kt=i.config.columns||(i.dataSource==="sales_team"?[{key:"name",header:"Name",width:"40%",format:"text"},{key:"orders",header:"Orders",width:"30%",format:"number"},{key:"revenue",header:"Revenue",width:"30%",format:"currency"}]:[{key:"name",header:"Name",width:"50%",format:"text"},{key:"value",header:"Value",width:"50%",format:"number"}]);return jsxRuntimeExports.jsx(CleanTableCard,{columns:kt,data:rt.salesTeam||rt.items||[],backgroundColor:i.config.backgroundColor||"#1a1f2a",textColor:i.config.textColor||"#ffffff",headerColor:i.config.headerColor||pt(),borderColor:i.config.borderColor||"rgba(255, 255, 255, 0.1)",maxRows:i.config.maxRows||10});case"ActivityFeed":return jsxRuntimeExports.jsx(ActivityFeed,{activities:rt.activities||[],loading:st,color:pt(),title:i.title,subtitle:i.subtitle,maxActivities:i.config.maxActivities||6,filters:i.config.filters||[{id:"orders",label:"Orders",value:"order",active:!1},{id:"invoices",label:"Invoices",value:"invoice",active:!1},{id:"deliveries",label:"Deliveries",value:"delivered",active:!1}],showFilters:i.config.showFilters!==!1});default:return jsxRuntimeExports.jsx("div",{className:"widget-unknown",children:"Unknown widget type"})}};return jsxRuntimeExports.jsx("div",{className:`dashboard-widget widget-${i.type} widget-${i.displayFormat.toLowerCase()}`,children:ht()})},WidgetConfigModal=({widget:i,onClose:o,onSave:_})=>{var ct;const[j,_e]=reactExports.useState({...i}),et={orders:[{value:"totalRevenue",label:"Total Revenue"},{value:"totalOrders",label:"Total Orders"},{value:"averageOrderValue",label:"Average Order Value"},{value:"orderConversion",label:"Order Conversion Rate"}],customers:[{value:"totalCustomers",label:"Total Customers"},{value:"newCustomers",label:"New Customers"},{value:"activeCustomers",label:"Active Customers"},{value:"customerChurn",label:"Customer Churn Rate"}],inventory:[{value:"totalItems",label:"Total Items"},{value:"lowStock",label:"Low Stock Items"},{value:"outOfStock",label:"Out of Stock"},{value:"inventoryValue",label:"Inventory Value"}],sales_team:[{value:"topPerformers",label:"Top Performers"},{value:"salesByAgent",label:"Sales by Agent"},{value:"commissions",label:"Commissions"},{value:"targets",label:"Sales Targets"}]},tt={metric:[{value:"MetricCard",label:"Metric Card"},{value:"MetricCardSquare",label:"Square Metric Card"},{value:"ColorfulMetricCard",label:"Colorful Metric Card"}],chart:[{value:"FullGraph",label:"Full Graph"}],table:[{value:"DataTable",label:"Data Table"}],activity:[{value:"ActivityFeed",label:"Activity Feed"}]},rt=[{value:"line",label:"Line Chart"},{value:"bar",label:"Bar Chart"},{value:"area",label:"Area Chart"},{value:"pie",label:"Pie Chart"},{value:"donut",label:"Donut Chart"}],nt=["#79d5e9","#6bc7db","#5ab3c5","#4a9faf","#22c55e","#3b82f6","#8b5cf6","#ec4899","#f59e0b","#ef4444","#06b6d4","#10b981"],st=ut=>{ut.preventDefault(),_(j)},it=ut=>{_e(lt=>({...lt,...ut}))},at=(ut,lt)=>{_e(pt=>{const dt={...pt,config:{...pt.config,[ut]:lt}};if(ut==="metric"||ut==="chartType"||ut==="pieDataType"){const ht=ot(pt.dataSource,ut==="metric"?lt:pt.config.metric,ut==="chartType"?lt:pt.config.chartType,ut==="pieDataType"?lt:pt.config.pieDataType);ht&&(dt.title=ht.title,dt.subtitle=ht.subtitle)}return dt})},ot=(ut,lt,pt,dt)=>{if((pt==="pie"||pt==="donut")&&dt&&dt!=="automatic")return{orderStatus:{title:"Orders by Status",subtitle:"Current order status breakdown"},ordersByDay:{title:"Orders by Day",subtitle:"Daily order distribution"},topCustomers:{title:"Top Customers",subtitle:"Revenue by customer"},customersByRegion:{title:"Customers by Region",subtitle:"Geographic distribution"},salesByPerson:{title:"Sales Team Performance",subtitle:"Revenue by team member"},performanceByTarget:{title:"Target Achievement",subtitle:"Performance vs targets"}}[dt]||null;const ht={totalRevenue:{title:"Total Revenue",subtitle:"Total sales revenue"},totalOrders:{title:"Total Orders",subtitle:"Number of orders placed"},averageOrderValue:{title:"Average Order Value",subtitle:"Mean value per order"},orderConversion:{title:"Order Conversion Rate",subtitle:"Order completion percentage"},totalCustomers:{title:"Total Customers",subtitle:"All registered customers"},newCustomers:{title:"New Customers",subtitle:"Recently joined customers"},activeCustomers:{title:"Active Customers",subtitle:"Customers with recent orders"},customerChurn:{title:"Customer Churn Rate",subtitle:"Customer attrition percentage"},totalItems:{title:"Total Items",subtitle:"Items in inventory"},lowStock:{title:"Low Stock Items",subtitle:"Items below reorder level"},outOfStock:{title:"Out of Stock",subtitle:"Unavailable items"},inventoryValue:{title:"Inventory Value",subtitle:"Total stock value"},topPerformers:{title:"Top Performers",subtitle:"Highest revenue generators"},salesByAgent:{title:"Sales by Agent",subtitle:"Individual performance"},commissions:{title:"Commissions",subtitle:"Commission calculations"},targets:{title:"Sales Targets",subtitle:"Target vs achievement"}};return lt&&ht[lt]?ht[lt]:{orders:{title:"Orders Overview",subtitle:"Order analytics"},customers:{title:"Customer Analytics",subtitle:"Customer insights"},inventory:{title:"Inventory Status",subtitle:"Stock levels"},sales_team:{title:"Sales Performance",subtitle:"Team analytics"},activities:{title:"Recent Activity",subtitle:"Latest system events"}}[ut]||null};return jsxRuntimeExports.jsx("div",{className:"widget-config-modal-overlay",onClick:o,children:jsxRuntimeExports.jsxs("div",{className:"widget-config-modal",onClick:ut=>ut.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:"Configure Widget"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:o,children:jsxRuntimeExports.jsx(FaTimes,{})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:st,className:"modal-body",children:[jsxRuntimeExports.jsxs("div",{className:"config-section",children:[jsxRuntimeExports.jsx("h3",{children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"title",children:"Widget Title"}),jsxRuntimeExports.jsx("input",{id:"title",type:"text",value:j.title,onChange:ut=>it({title:ut.target.value}),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"subtitle",children:"Subtitle (Optional)"}),jsxRuntimeExports.jsx("input",{id:"subtitle",type:"text",value:j.subtitle||"",onChange:ut=>it({subtitle:ut.target.value})})]})]}),jsxRuntimeExports.jsxs("div",{className:"config-section",children:[jsxRuntimeExports.jsx("h3",{children:"Data Configuration"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"dataSource",children:"Data Source"}),jsxRuntimeExports.jsxs("select",{id:"dataSource",value:j.dataSource,onChange:ut=>{const lt=ut.target.value,pt=ot(lt,j.config.metric,j.config.chartType,j.config.pieDataType);it({dataSource:lt,...pt||{}})},children:[jsxRuntimeExports.jsx("option",{value:"orders",children:"Orders"}),jsxRuntimeExports.jsx("option",{value:"customers",children:"Customers"}),jsxRuntimeExports.jsx("option",{value:"inventory",children:"Inventory"}),jsxRuntimeExports.jsx("option",{value:"sales_team",children:"Sales Team"}),jsxRuntimeExports.jsx("option",{value:"activities",children:"Activities"})]})]}),et[j.dataSource]&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"metric",children:"Metric"}),jsxRuntimeExports.jsxs("select",{id:"metric",value:j.config.metric||"",onChange:ut=>at("metric",ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a metric"}),et[j.dataSource].map(ut=>jsxRuntimeExports.jsx("option",{value:ut.value,children:ut.label},ut.value))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"config-section",children:[jsxRuntimeExports.jsx("h3",{children:"Display Configuration"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"displayFormat",children:"Display Format"}),jsxRuntimeExports.jsx("select",{id:"displayFormat",value:j.displayFormat,onChange:ut=>it({displayFormat:ut.target.value}),children:(ct=tt[j.type])==null?void 0:ct.map(ut=>jsxRuntimeExports.jsx("option",{value:ut.value,children:ut.label},ut.value))})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"size",children:"Widget Size"}),jsxRuntimeExports.jsxs("select",{id:"size",value:j.config.size||"auto",onChange:ut=>at("size",ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"auto",children:"Auto (Based on type)"}),jsxRuntimeExports.jsx("option",{value:"full",children:"Full Width (100%)"}),jsxRuntimeExports.jsx("option",{value:"square",children:"Half Width (50%)"})]}),jsxRuntimeExports.jsx("small",{className:"field-helper",children:"Charts, tables, and activity feeds default to full width. Metric cards default to 1/3 width."})]}),j.displayFormat==="FullGraph"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"chartType",children:"Chart Type"}),jsxRuntimeExports.jsx("select",{id:"chartType",value:j.config.chartType||"area",onChange:ut=>at("chartType",ut.target.value),children:rt.map(ut=>jsxRuntimeExports.jsx("option",{value:ut.value,children:ut.label},ut.value))})]}),(j.config.chartType==="pie"||j.config.chartType==="donut")&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"pieDataType",children:"Pie Chart Data"}),jsxRuntimeExports.jsxs("select",{id:"pieDataType",value:j.config.pieDataType||"automatic",onChange:ut=>at("pieDataType",ut.target.value),children:[jsxRuntimeExports.jsx("option",{value:"automatic",children:"Automatic (Based on Data Source)"}),j.dataSource==="orders"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("option",{value:"orderStatus",children:"Order Status Breakdown"}),jsxRuntimeExports.jsx("option",{value:"ordersByDay",children:"Orders by Day"})]}),j.dataSource==="customers"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("option",{value:"topCustomers",children:"Top Customers by Revenue"}),jsxRuntimeExports.jsx("option",{value:"customersByRegion",children:"Customers by Region"})]}),j.dataSource==="sales_team"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("option",{value:"salesByPerson",children:"Sales by Team Member"}),jsxRuntimeExports.jsx("option",{value:"performanceByTarget",children:"Performance vs Target"})]})]})]})]}),(j.displayFormat==="MetricCard"&&j.config.displayMode!=="compact"||j.displayFormat==="MetricCardSquare")&&jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Card Variant"}),jsxRuntimeExports.jsxs("div",{className:"variant-buttons",children:[jsxRuntimeExports.jsxs("button",{type:"button",className:`variant-btn ${j.config.variant==="variant1"?"active":""}`,onClick:()=>at("variant","variant1"),children:[jsxRuntimeExports.jsxs("div",{className:"variant-preview variant1",children:[jsxRuntimeExports.jsx("div",{className:"variant-preview-title",children:"REVENUE"}),jsxRuntimeExports.jsx("div",{className:"variant-preview-value",children:"2.4K"}),jsxRuntimeExports.jsxs("div",{className:"variant-preview-chart",children:[jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"40%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"60%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"50%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"80%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"65%"}})]})]}),jsxRuntimeExports.jsx("span",{children:"Glassmorphism"})]}),jsxRuntimeExports.jsxs("button",{type:"button",className:`variant-btn ${j.config.variant==="variant2"?"active":""}`,onClick:()=>at("variant","variant2"),children:[jsxRuntimeExports.jsxs("div",{className:"variant-preview variant2",children:[jsxRuntimeExports.jsx("div",{className:"variant-preview-title",children:"REVENUE"}),jsxRuntimeExports.jsx("div",{className:"variant-preview-value",children:"2.4K"}),jsxRuntimeExports.jsxs("div",{className:"variant-preview-chart",children:[jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"40%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"60%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"50%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"80%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"65%"}})]})]}),jsxRuntimeExports.jsx("span",{children:"Side Accent"})]}),jsxRuntimeExports.jsxs("button",{type:"button",className:`variant-btn ${j.config.variant==="variant3"?"active":""}`,onClick:()=>at("variant","variant3"),children:[jsxRuntimeExports.jsxs("div",{className:"variant-preview variant3",children:[jsxRuntimeExports.jsx("div",{className:"variant-preview-title",children:"REVENUE"}),jsxRuntimeExports.jsx("div",{className:"variant-preview-value",children:"2.4K"}),jsxRuntimeExports.jsxs("div",{className:"variant-preview-chart",children:[jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"40%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"60%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"50%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"80%"}}),jsxRuntimeExports.jsx("div",{className:"variant-preview-bar",style:{height:"65%"}})]})]}),jsxRuntimeExports.jsx("span",{children:"Top Accent"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"color",children:"Color Theme"}),jsxRuntimeExports.jsxs("div",{className:"color-picker",children:[nt.map(ut=>jsxRuntimeExports.jsx("button",{type:"button",className:`color-preset ${j.config.color===ut?"selected":""}`,style:{backgroundColor:ut},onClick:()=>at("color",ut)},ut)),jsxRuntimeExports.jsx("input",{type:"color",value:j.config.color||"#79d5e9",onChange:ut=>at("color",ut.target.value),className:"color-input"})]})]}),jsxRuntimeExports.jsx("div",{className:"form-group checkbox-group",children:jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:j.config.showTrend||!1,onChange:ut=>at("showTrend",ut.target.checked)}),"Show Trend Indicator"]})})]}),jsxRuntimeExports.jsxs("div",{className:"config-section",children:[jsxRuntimeExports.jsx("h3",{children:"Advanced Options"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"refreshInterval",children:"Auto Refresh (seconds)"}),jsxRuntimeExports.jsx("input",{id:"refreshInterval",type:"number",min:"0",step:"10",value:j.config.refreshInterval||"",onChange:ut=>at("refreshInterval",parseInt(ut.target.value)||0),placeholder:"0 = No auto refresh"})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"cancel-btn",onClick:o,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"save-btn",children:[jsxRuntimeExports.jsx(FaSave,{})," Save Configuration"]})]})]})]})})},expandedWidgetTemplates=[{id:"gross-margin-metric",name:"Gross Margin",description:"Display gross margin percentage",type:"metric",displayFormat:"MetricCard",dataSource:"financial_metrics_aggregated",icon:jsxRuntimeExports.jsx(Coins,{}),config:{metric:"gross_margin_percent",showTrend:!0,dateRange:"30_days",displayMode:"medium",format:"percentage"}},{id:"cash-flow-metric",name:"Cash Collected",description:"Total cash collected this period",type:"metric",displayFormat:"MetricCard",dataSource:"financial_metrics_aggregated",icon:jsxRuntimeExports.jsx(Coins,{}),config:{metric:"cash_collected",showTrend:!0,dateRange:"30_days",displayMode:"medium",format:"currency"}},{id:"overdue-receivables",name:"Overdue Receivables",description:"Amount of overdue receivables",type:"metric",displayFormat:"MetricCard",dataSource:"financial_metrics_aggregated",icon:jsxRuntimeExports.jsx(AlertTriangle,{}),config:{metric:"overdue_receivables",showTrend:!1,dateRange:"current",displayMode:"compact",format:"currency",alertThreshold:1e4}},{id:"days-sales-outstanding",name:"Days Sales Outstanding",description:"Average collection period",type:"metric",displayFormat:"MetricCardSquare",dataSource:"financial_metrics_aggregated",icon:jsxRuntimeExports.jsx(Clock,{}),config:{metric:"days_sales_outstanding",showTrend:!0,dateRange:"30_days",format:"days"}},{id:"stock-value-metric",name:"Total Stock Value",description:"Current inventory value",type:"metric",displayFormat:"MetricCard",dataSource:"inventory_metrics_aggregated",icon:jsxRuntimeExports.jsx(Box,{}),config:{metric:"total_stock_value",showTrend:!0,dateRange:"current",displayMode:"large",format:"currency"}},{id:"low-stock-alert",name:"Low Stock Items",description:"Items below reorder level",type:"metric",displayFormat:"MetricCard",dataSource:"inventory_metrics_aggregated",icon:jsxRuntimeExports.jsx(AlertTriangle,{}),config:{metric:"items_below_reorder",showTrend:!1,dateRange:"current",displayMode:"compact",alertThreshold:1,alertColor:"#ef4444"}},{id:"inventory-turnover",name:"Inventory Turnover",description:"Inventory turnover ratio",type:"metric",displayFormat:"MetricCardSquare",dataSource:"inventory_metrics_aggregated",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{metric:"inventory_turnover_ratio",showTrend:!0,dateRange:"30_days",format:"ratio"}},{id:"stock-accuracy",name:"Stock Accuracy",description:"Inventory accuracy percentage",type:"metric",displayFormat:"MetricCard",dataSource:"inventory_metrics_aggregated",icon:jsxRuntimeExports.jsx(Warehouse$2,{}),config:{metric:"stock_accuracy_percent",showTrend:!1,dateRange:"current",displayMode:"compact",format:"percentage",targetValue:99}},{id:"customer-lifetime-value",name:"Average Customer LTV",description:"Average lifetime value per customer",type:"metric",displayFormat:"MetricCard",dataSource:"customer_analytics_aggregated",icon:jsxRuntimeExports.jsx(Clock,{}),config:{metric:"lifetime_value",aggregation:"average",showTrend:!0,dateRange:"90_days",displayMode:"medium",format:"currency"}},{id:"payment-performance",name:"Payment Performance Score",description:"Customer payment reliability",type:"metric",displayFormat:"MetricCardSquare",dataSource:"customer_analytics_aggregated",icon:jsxRuntimeExports.jsx(FilePlus2,{}),config:{metric:"payment_performance_score",aggregation:"average",showTrend:!0,dateRange:"30_days",format:"score"}},{id:"customer-segments-chart",name:"Customer Segments",description:"Distribution by customer segment",type:"chart",displayFormat:"FullGraph",dataSource:"customer_analytics_aggregated",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{groupBy:"customer_segment",metric:"total_spent",chartType:"pie",dateRange:"90_days"}},{id:"revenue-growth-rate",name:"Revenue Growth",description:"Revenue growth percentage",type:"metric",displayFormat:"MetricCard",dataSource:"sales_performance_aggregated",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{metric:"revenue_growth_percent",showTrend:!0,dateRange:"30_days",displayMode:"medium",format:"percentage",trendInverted:!1}},{id:"new-vs-repeat-customers",name:"New vs Repeat Customers",description:"Customer acquisition breakdown",type:"chart",displayFormat:"FullGraph",dataSource:"sales_performance_aggregated",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{metrics:["new_customers","repeat_customers"],chartType:"stacked-bar",dateRange:"30_days"}},{id:"order-status-breakdown",name:"Order Status Distribution",description:"Orders by current status",type:"chart",displayFormat:"FullGraph",dataSource:"sales_performance_aggregated",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{metrics:["pending_orders","confirmed_orders","shipped_orders","delivered_orders","cancelled_orders"],chartType:"donut",dateRange:"current"}},{id:"top-products-by-revenue",name:"Top Products by Revenue",description:"Best performing products",type:"table",displayFormat:"DataTable",dataSource:"product_performance_aggregated",icon:jsxRuntimeExports.jsx(Box,{}),config:{columns:[{key:"item_name",header:"Product",width:"40%"},{key:"quantity_sold",header:"Units Sold",width:"20%"},{key:"revenue_generated",header:"Revenue",width:"25%",format:"currency"},{key:"sell_through_rate",header:"Sell-Through",width:"15%",format:"percentage"}],sortBy:"revenue_generated",limit:10}},{id:"brand-performance-chart",name:"Brand Performance",description:"Sales by brand",type:"chart",displayFormat:"FullGraph",dataSource:"brand_trends_aggregated",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{groupBy:"brand_name",metric:"total_quantity",chartType:"bar",dateRange:"30_days"}},{id:"shipment-status-overview",name:"Shipment Status",description:"Current shipment statuses",type:"chart",displayFormat:"FullGraph",dataSource:"shipments",icon:jsxRuntimeExports.jsx(Truck,{}),config:{groupBy:"shipment_status",chartType:"pie",dateRange:"7_days"}},{id:"delivery-performance",name:"On-Time Delivery Rate",description:"Percentage of on-time deliveries",type:"metric",displayFormat:"MetricCard",dataSource:"shipments",icon:jsxRuntimeExports.jsx(Truck,{}),config:{metric:"on_time_delivery_rate",calculated:!0,showTrend:!0,dateRange:"30_days",displayMode:"medium",format:"percentage",targetValue:95}},{id:"backorder-value",name:"Total Backorder Value",description:"Value of items on backorder",type:"metric",displayFormat:"MetricCard",dataSource:"backorders",icon:jsxRuntimeExports.jsx(AlertTriangle,{}),config:{metric:"backorder_value",aggregation:"sum",showTrend:!1,dateRange:"current",displayMode:"compact",format:"currency",alertThreshold:1}},{id:"backorder-items-table",name:"Active Backorders",description:"Items currently on backorder",type:"table",displayFormat:"TableCard",dataSource:"backorders",icon:jsxRuntimeExports.jsx(Box,{}),config:{columns:[{key:"brand_name",header:"Brand",width:"25%"},{key:"items_on_backorder",header:"Items",width:"20%"},{key:"items_outstanding",header:"Outstanding",width:"20%"},{key:"expected_arrival_date",header:"Expected",width:"20%",format:"date"},{key:"backorder_value",header:"Value",width:"15%",format:"currency"}],filter:{backorder_status:"pending"}}},{id:"lead-conversion-rate",name:"Lead Conversion Rate",description:"Percentage of leads converted",type:"metric",displayFormat:"MetricCard",dataSource:"enquiries",icon:jsxRuntimeExports.jsx(Clock,{}),config:{metric:"conversion_rate",calculated:!0,showTrend:!0,dateRange:"30_days",displayMode:"medium",format:"percentage"}},{id:"enquiry-pipeline",name:"Enquiry Pipeline",description:"Enquiries by status",type:"chart",displayFormat:"FullGraph",dataSource:"enquiries",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{groupBy:"status",metric:"estimated_value",chartType:"funnel",dateRange:"current"}},{id:"lead-sources-breakdown",name:"Lead Sources",description:"Enquiries by source",type:"chart",displayFormat:"FullGraph",dataSource:"enquiries",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{groupBy:"lead_source",chartType:"donut",dateRange:"90_days"}},{id:"order-activity-feed",name:"Recent Order Activity",description:"Live feed of order updates",type:"activity",displayFormat:"ActivityFeed",dataSource:"orders",icon:jsxRuntimeExports.jsx(BarChart$1,{}),config:{refreshInterval:30,limit:10,showTimestamp:!0}},{id:"stock-movement-feed",name:"Stock Movements",description:"Recent inventory changes",type:"activity",displayFormat:"ActivityFeed",dataSource:"inventory_metrics_aggregated",icon:jsxRuntimeExports.jsx(Box,{}),config:{refreshInterval:60,limit:10,metrics:["items_received","items_sold","items_returned"]}}],WidgetLibraryModal=({onClose:i,onAddWidget:o,existingWidgets:_})=>{const[j,_e]=reactExports.useState("all"),et=[{id:"blank-metric-compact",name:"Blank Metric Card (Compact)",description:"Create a custom compact metric display",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalRevenue",showTrend:!1,dateRange:"30_days",displayMode:"compact"}},{id:"blank-metric-medium",name:"Blank Metric Card (Medium)",description:"Create a custom metric display",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalRevenue",showTrend:!1,dateRange:"30_days",displayMode:"medium"}},{id:"blank-metric-large",name:"Blank Metric Card (Large)",description:"Create a custom large metric display",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalRevenue",showTrend:!1,dateRange:"30_days",displayMode:"large"}},{id:"blank-chart",name:"Blank Chart",description:"Create a custom chart visualization",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaChartLine,{}),config:{chartType:"line",dateRange:"30_days"}},{id:"blank-table",name:"Blank Table",description:"Create a custom data table",type:"table",displayFormat:"DataTable",dataSource:"sales_team",icon:jsxRuntimeExports.jsx(FaTable,{}),config:{columns:[{key:"name",header:"Name",width:"50%"},{key:"value",header:"Value",width:"50%"}]}}],tt=[{id:"revenue-metric-compact",name:"Revenue Metric (Compact)",description:"Compact horizontal revenue display",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalRevenue",showTrend:!0,dateRange:"30_days",displayMode:"compact"}},{id:"orders-metric-compact",name:"Orders Metric (Compact)",description:"Compact horizontal order count",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalOrders",showTrend:!0,dateRange:"30_days",displayMode:"compact"}},{id:"customers-metric-compact",name:"Customers Metric (Compact)",description:"Compact horizontal customer count",type:"metric",displayFormat:"MetricCard",dataSource:"customers",icon:jsxRuntimeExports.jsx(FaUsers,{}),config:{metric:"totalCustomers",showTrend:!0,dateRange:"30_days",displayMode:"compact"}},{id:"revenue-metric",name:"Revenue Metric",description:"Display total revenue with trend indicator",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalRevenue",showTrend:!0,dateRange:"30_days",displayMode:"medium"}},{id:"orders-metric",name:"Orders Metric",description:"Show total order count",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalOrders",showTrend:!0,dateRange:"30_days",displayMode:"medium"}},{id:"customers-metric",name:"Customers Metric",description:"Display active customer count",type:"metric",displayFormat:"MetricCard",dataSource:"customers",icon:jsxRuntimeExports.jsx(FaUsers,{}),config:{metric:"totalCustomers",showTrend:!0,dateRange:"30_days",displayMode:"medium"}},{id:"revenue-metric-large",name:"Revenue Metric (Large)",description:"Large revenue display with full chart",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalRevenue",showTrend:!0,dateRange:"30_days",displayMode:"large"}},{id:"orders-metric-large",name:"Orders Metric (Large)",description:"Large order display with full chart",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"totalOrders",showTrend:!0,dateRange:"30_days",displayMode:"large"}},{id:"customers-metric-large",name:"Customers Metric (Large)",description:"Large customer display with full chart",type:"metric",displayFormat:"MetricCard",dataSource:"customers",icon:jsxRuntimeExports.jsx(FaUsers,{}),config:{metric:"totalCustomers",showTrend:!0,dateRange:"30_days",displayMode:"large"}},{id:"aov-metric-square",name:"Average Order Value (Square)",description:"Compact square display of AOV",type:"metric",displayFormat:"MetricCardSquare",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaShoppingCart,{}),config:{metric:"averageOrderValue",showTrend:!0,dateRange:"30_days"}},{id:"revenue-trend-chart",name:"Revenue Trend Chart",description:"Line chart showing revenue over time",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaChartLine,{}),config:{metric:"revenue",chartType:"area",dateRange:"90_days"}},{id:"orders-trend-chart",name:"Orders Trend Chart",description:"Bar chart of order volume",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(FaChartLine,{}),config:{metric:"orders",chartType:"bar",dateRange:"30_days"}},{id:"sales-team-table",name:"Sales Team Performance",description:"Table showing sales agent performance",type:"table",displayFormat:"DataTable",dataSource:"sales_team",icon:jsxRuntimeExports.jsx(FaTable,{}),config:{columns:[{key:"name",header:"Agent Name",width:"50%"},{key:"orders",header:"Orders",width:"25%"},{key:"revenue",header:"Revenue",width:"25%"}]}},{id:"top-products-table",name:"Top Products",description:"Best selling products table",type:"table",displayFormat:"TableCard",dataSource:"inventory",icon:jsxRuntimeExports.jsx(FaTable,{}),config:{columns:[{key:"name",header:"Product",width:"60%"},{key:"sales",header:"Sales",width:"40%"}]}},{id:"recent-activities",name:"Recent Activities",description:"Live feed of recent system activities",type:"activity",displayFormat:"ActivityFeed",dataSource:"activities",icon:jsxRuntimeExports.jsx(FaBolt,{}),config:{refreshInterval:30}},...expandedWidgetTemplates],rt=[{id:"all",name:"All Widgets",icon:jsxRuntimeExports.jsx(FaPlus,{})},{id:"blank",name:"Create Blank",icon:jsxRuntimeExports.jsx(FaPlus,{})},{id:"metric",name:"Metrics",icon:jsxRuntimeExports.jsx(FaShoppingCart,{})},{id:"chart",name:"Charts",icon:jsxRuntimeExports.jsx(FaChartLine,{})},{id:"table",name:"Tables",icon:jsxRuntimeExports.jsx(FaTable,{})},{id:"activity",name:"Activities",icon:jsxRuntimeExports.jsx(FaBolt,{})},{id:"financial",name:"Financial",icon:jsxRuntimeExports.jsx(FaMoneyBillWave,{})},{id:"inventory",name:"Inventory",icon:jsxRuntimeExports.jsx(FaBox,{})},{id:"shipping",name:"Shipping",icon:jsxRuntimeExports.jsx(FaTruck,{})},{id:"customers",name:"Customers",icon:jsxRuntimeExports.jsx(FaUsers,{})}],nt=j==="all"?tt:j==="blank"?et:j==="financial"?tt.filter(at=>at.dataSource.includes("financial")||at.dataSource.includes("invoices")):j==="inventory"?tt.filter(at=>at.dataSource.includes("inventory")||at.dataSource.includes("product")||at.dataSource.includes("backorder")):j==="shipping"?tt.filter(at=>at.dataSource.includes("shipment")):j==="customers"?tt.filter(at=>at.dataSource.includes("customer")||at.dataSource.includes("enquiries")):tt.filter(at=>at.type===j),st=at=>_.some(ot=>ot.id.includes(at)),it=at=>{const ot=`${at.id}-${Date.now()}`,ct=at.id.startsWith("blank-"),ut={id:ot,type:at.type,displayFormat:at.displayFormat,dataSource:at.dataSource,title:ct?"New Widget":at.name,subtitle:ct?"Configure this widget":at.description,config:{...at.config}};o(ut)};return jsxRuntimeExports.jsx("div",{className:"widget-library-modal-overlay",onClick:i,children:jsxRuntimeExports.jsxs("div",{className:"widget-library-modal",onClick:at=>at.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsxs("div",{className:"header-content",children:[jsxRuntimeExports.jsx("h2",{children:"Widget Library"}),jsxRuntimeExports.jsx("p",{children:"Choose widgets to add to your dashboard"})]}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:i,children:jsxRuntimeExports.jsx(FaTimes,{})})]}),jsxRuntimeExports.jsxs("div",{className:"modal-content",children:[jsxRuntimeExports.jsxs("div",{className:"category-sidebar",children:[jsxRuntimeExports.jsx("h3",{children:"Categories"}),jsxRuntimeExports.jsx("div",{className:"category-list",children:rt.map(at=>jsxRuntimeExports.jsxs("button",{className:`category-btn ${j===at.id?"active":""}`,onClick:()=>_e(at.id),children:[at.icon,jsxRuntimeExports.jsx("span",{children:at.name})]},at.id))})]}),jsxRuntimeExports.jsxs("div",{className:"widget-grid",children:[nt.map(at=>jsxRuntimeExports.jsxs("div",{className:"widget-card",children:[jsxRuntimeExports.jsxs("div",{className:"widget-card-header",children:[jsxRuntimeExports.jsx("div",{className:"widget-icon",children:at.icon}),jsxRuntimeExports.jsxs("div",{className:"widget-info",children:[jsxRuntimeExports.jsx("h4",{children:at.name}),jsxRuntimeExports.jsx("p",{children:at.description})]})]}),jsxRuntimeExports.jsxs("div",{className:"widget-card-meta",children:[jsxRuntimeExports.jsx("span",{className:"widget-type",children:at.type}),jsxRuntimeExports.jsx("span",{className:"widget-format",children:at.displayFormat})]}),jsxRuntimeExports.jsx("div",{className:"widget-card-actions",children:jsxRuntimeExports.jsxs("button",{className:"add-widget-btn",onClick:()=>it(at),disabled:st(at.id),children:[jsxRuntimeExports.jsx(FaPlus,{}),st(at.id)?"Added":"Add Widget"]})})]},at.id)),nt.length===0&&jsxRuntimeExports.jsx("div",{className:"empty-state",children:jsxRuntimeExports.jsx("p",{children:"No widgets found in this category"})})]})]})]})})},WidgetPalette=({isVisible:i,onDragStart:o,onClose:_})=>{const[j,_e]=reactExports.useState("all"),et=[{id:"metric-card-compact",name:"Compact Metric",description:"Horizontal compact metric display",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(BarChart3,{size:16}),category:"metrics",config:{metric:"totalRevenue",displayMode:"compact",showTrend:!0,color:"#79d5e9",size:"auto"},preview:jsxRuntimeExports.jsxs("div",{className:"metric-preview compact",children:[jsxRuntimeExports.jsx("div",{className:"preview-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"preview-content",children:[jsxRuntimeExports.jsx("div",{className:"preview-value",children:"0.00"}),jsxRuntimeExports.jsx("div",{className:"preview-title",children:"METRIC"})]})]})},{id:"metric-card-medium",name:"Standard Metric",description:"Medium metric card with chart",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(BarChart3,{size:16}),category:"metrics",config:{metric:"totalRevenue",displayMode:"medium",showTrend:!0,color:"#79d5e9",size:"auto"},preview:jsxRuntimeExports.jsxs("div",{className:"metric-preview medium",children:[jsxRuntimeExports.jsxs("div",{className:"preview-header",children:[jsxRuntimeExports.jsx("span",{className:"preview-title",children:"METRIC"}),jsxRuntimeExports.jsx("span",{className:"trend",children:"+12%"})]}),jsxRuntimeExports.jsx("div",{className:"preview-value",children:"0.00"}),jsxRuntimeExports.jsx("div",{className:"preview-chart",children:jsxRuntimeExports.jsxs("div",{className:"preview-bars",children:[jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"40%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"60%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"80%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"50%"}})]})})]})},{id:"metric-card-large",name:"Large Metric",description:"Large metric card with detailed chart",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(BarChart3,{size:16}),category:"metrics",config:{metric:"totalRevenue",displayMode:"large",showTrend:!0,color:"#79d5e9",variant:"variant1",size:"auto"},preview:jsxRuntimeExports.jsxs("div",{className:"metric-preview large",children:[jsxRuntimeExports.jsxs("div",{className:"preview-header",children:[jsxRuntimeExports.jsx("span",{className:"preview-title",children:"LARGE METRIC"}),jsxRuntimeExports.jsx("span",{className:"trend",children:"+25%"})]}),jsxRuntimeExports.jsx("div",{className:"preview-value",children:"0.00"}),jsxRuntimeExports.jsx("div",{className:"preview-subtitle",children:"vs last period"}),jsxRuntimeExports.jsx("div",{className:"preview-chart large",children:jsxRuntimeExports.jsxs("div",{className:"preview-bars",children:[jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"30%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"50%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"70%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"60%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"90%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"40%"}})]})})]})},{id:"kpi-grid",name:"KPI Grid",description:"Multiple mini metrics in grid layout",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(Grid3x3,{size:16}),category:"metrics",config:{metric:"kpiGrid",displayMode:"grid",showTrend:!0,color:"#79d5e9",size:"square"},preview:jsxRuntimeExports.jsxs("div",{className:"kpi-grid-preview",children:[jsxRuntimeExports.jsxs("div",{className:"kpi-item",children:[jsxRuntimeExports.jsx("span",{className:"kpi-value",children:"125"}),jsxRuntimeExports.jsx("span",{className:"kpi-label",children:"Orders"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-item",children:[jsxRuntimeExports.jsx("span",{className:"kpi-value",children:"45K"}),jsxRuntimeExports.jsx("span",{className:"kpi-label",children:"Revenue"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-item",children:[jsxRuntimeExports.jsx("span",{className:"kpi-value",children:"89%"}),jsxRuntimeExports.jsx("span",{className:"kpi-label",children:"Target"})]}),jsxRuntimeExports.jsxs("div",{className:"kpi-item",children:[jsxRuntimeExports.jsx("span",{className:"kpi-value",children:"+12%"}),jsxRuntimeExports.jsx("span",{className:"kpi-label",children:"Growth"})]})]})},{id:"line-chart",name:"Line Chart",description:"Time series line chart",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(LineChart$1,{size:16}),category:"charts",config:{chartType:"line",size:"full",metric:"revenue",showLegend:!0},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Line Chart"})}),jsxRuntimeExports.jsx("div",{className:"preview-chart-area",children:jsxRuntimeExports.jsx("svg",{viewBox:"0 0 100 40",className:"preview-svg",children:jsxRuntimeExports.jsx("polyline",{fill:"none",stroke:"#79d5e9",strokeWidth:"2",points:"10,30 25,20 40,25 55,15 70,18 85,10"})})})]})},{id:"area-chart",name:"Area Chart",description:"Filled area time series chart",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(Activity,{size:16}),category:"charts",config:{chartType:"area",size:"full",metric:"revenue",color:"#79d5e9"},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Area Chart"})}),jsxRuntimeExports.jsx("div",{className:"preview-chart-area",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 40",className:"preview-svg",children:[jsxRuntimeExports.jsx("path",{d:"M 10,30 L 25,20 L 40,25 L 55,15 L 70,18 L 85,10 L 85,40 L 10,40 Z",fill:"#79d5e9",opacity:"0.3"}),jsxRuntimeExports.jsx("polyline",{fill:"none",stroke:"#79d5e9",strokeWidth:"2",points:"10,30 25,20 40,25 55,15 70,18 85,10"})]})})]})},{id:"bar-chart",name:"Bar Chart",description:"Vertical bar chart",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(BarChart3,{size:16}),category:"charts",config:{chartType:"bar",size:"full",metric:"orders"},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Bar Chart"})}),jsxRuntimeExports.jsx("div",{className:"preview-chart-area bars",children:jsxRuntimeExports.jsxs("div",{className:"preview-bars",children:[jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"60%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"80%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"45%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"90%"}}),jsxRuntimeExports.jsx("div",{className:"bar",style:{height:"70%"}})]})})]})},{id:"pie-chart",name:"Pie Chart",description:"Pie chart for distribution",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(PieChart$1,{size:16}),category:"charts",config:{chartType:"pie",size:"square",metric:"revenue"},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Pie Chart"})}),jsxRuntimeExports.jsx("div",{className:"preview-chart-area",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 40",className:"preview-svg",children:[jsxRuntimeExports.jsx("circle",{cx:"50",cy:"20",r:"15",fill:"none",stroke:"#79d5e9",strokeWidth:"8",strokeDasharray:"47 47",transform:"rotate(-90 50 20)"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"20",r:"15",fill:"none",stroke:"#799de9",strokeWidth:"8",strokeDasharray:"31 63",strokeDashoffset:"-47",transform:"rotate(-90 50 20)"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"20",r:"15",fill:"none",stroke:"#79e9c5",strokeWidth:"8",strokeDasharray:"16 78",strokeDashoffset:"-78",transform:"rotate(-90 50 20)"})]})})]})},{id:"donut-chart",name:"Donut Chart",description:"Donut chart with center value",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(PieChart$1,{size:16}),category:"charts",config:{chartType:"donut",size:"square",metric:"revenue"},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Donut Chart"})}),jsxRuntimeExports.jsx("div",{className:"preview-chart-area",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 40",className:"preview-svg",children:[jsxRuntimeExports.jsx("circle",{cx:"50",cy:"20",r:"15",fill:"none",stroke:"#79d5e9",strokeWidth:"5",strokeDasharray:"47 47",transform:"rotate(-90 50 20)"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"20",r:"15",fill:"none",stroke:"#799de9",strokeWidth:"5",strokeDasharray:"31 63",strokeDashoffset:"-47",transform:"rotate(-90 50 20)"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"20",r:"15",fill:"none",stroke:"#79e9c5",strokeWidth:"5",strokeDasharray:"16 78",strokeDashoffset:"-78",transform:"rotate(-90 50 20)"}),jsxRuntimeExports.jsx("text",{x:"50",y:"23",textAnchor:"middle",fontSize:"8",fill:"#fff",children:"100%"})]})})]})},{id:"comparison-chart",name:"Comparison Chart",description:"Period over period comparison",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(TrendingUp,{size:16}),category:"charts",config:{chartType:"comparison",size:"full",metric:"revenue",compareWith:"lastPeriod"},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Comparison"})}),jsxRuntimeExports.jsx("div",{className:"preview-chart-area",children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 40",className:"preview-svg",children:[jsxRuntimeExports.jsx("polyline",{fill:"none",stroke:"#79d5e9",strokeWidth:"2",points:"10,30 25,20 40,25 55,15 70,18 85,10"}),jsxRuntimeExports.jsx("polyline",{fill:"none",stroke:"#799de9",strokeWidth:"2",strokeDasharray:"3,3",points:"10,35 25,28 40,30 55,22 70,25 85,18"})]})})]})},{id:"data-table",name:"Data Table",description:"Customizable data table",type:"table",displayFormat:"DataTable",dataSource:"sales_team",icon:jsxRuntimeExports.jsx(Table,{size:16}),category:"tables",config:{columns:[],filters:[],size:"full"},preview:jsxRuntimeExports.jsxs("div",{className:"table-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Data Table"})}),jsxRuntimeExports.jsxs("div",{className:"preview-table",children:[jsxRuntimeExports.jsxs("div",{className:"table-header",children:[jsxRuntimeExports.jsx("div",{className:"th",children:"Name"}),jsxRuntimeExports.jsx("div",{className:"th",children:"Value"}),jsxRuntimeExports.jsx("div",{className:"th",children:"Status"})]}),jsxRuntimeExports.jsxs("div",{className:"table-row",children:[jsxRuntimeExports.jsx("div",{className:"td",children:"Item 1"}),jsxRuntimeExports.jsx("div",{className:"td",children:"100"}),jsxRuntimeExports.jsx("div",{className:"td",children:"Active"})]}),jsxRuntimeExports.jsxs("div",{className:"table-row",children:[jsxRuntimeExports.jsx("div",{className:"td",children:"Item 2"}),jsxRuntimeExports.jsx("div",{className:"td",children:"200"}),jsxRuntimeExports.jsx("div",{className:"td",children:"Pending"})]})]})]})},{id:"top-customers",name:"Top Customers",description:"Table showing top customers",type:"table",displayFormat:"TableCard",dataSource:"customers",icon:jsxRuntimeExports.jsx(Users$1,{size:16}),category:"tables",config:{metric:"topCustomers",maxRows:10,size:"square"},preview:jsxRuntimeExports.jsxs("div",{className:"table-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Top Customers"})}),jsxRuntimeExports.jsxs("div",{className:"preview-table compact",children:[jsxRuntimeExports.jsxs("div",{className:"table-row",children:[jsxRuntimeExports.jsx("div",{className:"td",children:"Customer A"}),jsxRuntimeExports.jsx("div",{className:"td",children:"5.2K"})]}),jsxRuntimeExports.jsxs("div",{className:"table-row",children:[jsxRuntimeExports.jsx("div",{className:"td",children:"Customer B"}),jsxRuntimeExports.jsx("div",{className:"td",children:"3.8K"})]})]})]})},{id:"inventory-status",name:"Inventory Status",description:"Stock levels table",type:"table",displayFormat:"TableCard",dataSource:"inventory",icon:jsxRuntimeExports.jsx(Package,{size:16}),category:"tables",config:{metric:"stockLevels",showWarnings:!0,size:"square"},preview:jsxRuntimeExports.jsxs("div",{className:"table-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Stock Levels"})}),jsxRuntimeExports.jsxs("div",{className:"preview-table compact",children:[jsxRuntimeExports.jsxs("div",{className:"table-row",children:[jsxRuntimeExports.jsx("div",{className:"td",children:"Product A"}),jsxRuntimeExports.jsx("div",{className:"td warning",children:"Low"})]}),jsxRuntimeExports.jsxs("div",{className:"table-row",children:[jsxRuntimeExports.jsx("div",{className:"td",children:"Product B"}),jsxRuntimeExports.jsx("div",{className:"td success",children:"OK"})]})]})]})},{id:"activity-feed",name:"Activity Feed",description:"Recent system activities",type:"activity",displayFormat:"ActivityFeed",dataSource:"activities",icon:jsxRuntimeExports.jsx(Zap,{size:16}),category:"special",config:{refreshInterval:30,filters:[],size:"full",maxActivities:8},preview:jsxRuntimeExports.jsxs("div",{className:"activity-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Activities"})}),jsxRuntimeExports.jsxs("div",{className:"preview-activities",children:[jsxRuntimeExports.jsxs("div",{className:"activity-item",children:[jsxRuntimeExports.jsx("div",{className:"activity-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"activity-content",children:[jsxRuntimeExports.jsx("div",{className:"activity-text",children:"New Order"}),jsxRuntimeExports.jsx("div",{className:"activity-meta",children:"2 mins ago"})]})]}),jsxRuntimeExports.jsxs("div",{className:"activity-item",children:[jsxRuntimeExports.jsx("div",{className:"activity-icon",children:""}),jsxRuntimeExports.jsxs("div",{className:"activity-content",children:[jsxRuntimeExports.jsx("div",{className:"activity-text",children:"Customer Added"}),jsxRuntimeExports.jsx("div",{className:"activity-meta",children:"5 mins ago"})]})]})]})]})},{id:"map-deliveries",name:"Delivery Map",description:"Live delivery tracking map",type:"map",displayFormat:"MapCard",dataSource:"deliveries",icon:jsxRuntimeExports.jsx(Map$5,{size:16}),category:"special",config:{size:"full",showDeliveries:!0,refreshInterval:300,mapType:"roadmap"},preview:jsxRuntimeExports.jsxs("div",{className:"map-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Delivery Map"})}),jsxRuntimeExports.jsx("div",{className:"preview-map-area",children:jsxRuntimeExports.jsxs("div",{className:"map-placeholder",children:[jsxRuntimeExports.jsx(Map$5,{size:24}),jsxRuntimeExports.jsx("span",{children:"Live Tracking"})]})})]})},{id:"progress-tracker",name:"Progress Tracker",description:"Goal progress visualization",type:"metric",displayFormat:"MetricCard",dataSource:"orders",icon:jsxRuntimeExports.jsx(Target,{size:16}),category:"special",config:{metric:"goalProgress",displayMode:"progress",showTarget:!0,color:"#79d5e9",size:"square"},preview:jsxRuntimeExports.jsxs("div",{className:"progress-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Monthly Target"})}),jsxRuntimeExports.jsx("div",{className:"progress-bar-container",children:jsxRuntimeExports.jsx("div",{className:"progress-bar",style:{width:"75%"}})}),jsxRuntimeExports.jsx("div",{className:"progress-text",children:"75% Complete"})]})},{id:"revenue-breakdown",name:"Revenue Breakdown",description:"Detailed revenue analysis",type:"chart",displayFormat:"FullGraph",dataSource:"orders",icon:jsxRuntimeExports.jsx(DollarSign,{size:16}),category:"special",config:{chartType:"breakdown",metric:"revenueBreakdown",size:"full",showDetails:!0},preview:jsxRuntimeExports.jsxs("div",{className:"chart-preview",children:[jsxRuntimeExports.jsx("div",{className:"preview-header",children:jsxRuntimeExports.jsx("span",{className:"preview-title",children:"Revenue Analysis"})}),jsxRuntimeExports.jsxs("div",{className:"preview-breakdown",children:[jsxRuntimeExports.jsxs("div",{className:"breakdown-item",children:[jsxRuntimeExports.jsx("span",{className:"breakdown-label",children:"Online"}),jsxRuntimeExports.jsx("div",{className:"breakdown-bar",style:{width:"60%"}}),jsxRuntimeExports.jsx("span",{className:"breakdown-value",children:"60%"})]}),jsxRuntimeExports.jsxs("div",{className:"breakdown-item",children:[jsxRuntimeExports.jsx("span",{className:"breakdown-label",children:"Retail"}),jsxRuntimeExports.jsx("div",{className:"breakdown-bar",style:{width:"40%"}}),jsxRuntimeExports.jsx("span",{className:"breakdown-value",children:"40%"})]})]})]})}],tt=[{id:"all",name:"All Widgets",icon:""},{id:"metrics",name:"Metrics",icon:""},{id:"charts",name:"Charts",icon:""},{id:"tables",name:"Tables",icon:""},{id:"special",name:"Special",icon:""}],rt=j==="all"?et:et.filter(ot=>ot.category===j),[nt,st]=reactExports.useState(null),it=(ot,ct)=>{const ut={id:ct.id,name:ct.name,description:ct.description,type:ct.type,displayFormat:ct.displayFormat,dataSource:ct.dataSource,config:ct.config};ot.dataTransfer.setData("application/json",JSON.stringify(ut)),st(ct.id),o(ct),setTimeout(()=>{_()},100)},at=()=>{st(null)};return reactExports.useEffect(()=>{const ot=ct=>{ct.key==="Escape"&&i&&_()};return i&&document.addEventListener("keydown",ot),()=>{document.removeEventListener("keydown",ot)}},[i,_]),i?jsxRuntimeExports.jsxs("div",{className:`widget-palette ${i?"visible":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"palette-header",children:[jsxRuntimeExports.jsx("h3",{children:"Widget Library"}),jsxRuntimeExports.jsx("span",{className:"palette-subtitle",children:"Drag widgets to dashboard"}),jsxRuntimeExports.jsx("button",{className:"close-button",onClick:_,children:""})]}),jsxRuntimeExports.jsxs("div",{className:"palette-content",children:[jsxRuntimeExports.jsx("div",{className:"category-tabs",children:tt.map(ot=>jsxRuntimeExports.jsxs("button",{className:`category-tab ${j===ot.id?"active":""}`,onClick:()=>_e(ot.id),children:[jsxRuntimeExports.jsx("span",{className:"category-emoji",children:ot.icon}),jsxRuntimeExports.jsx("span",{className:"category-name",children:ot.name})]},ot.id))}),jsxRuntimeExports.jsx("div",{className:"widgets-grid",children:rt.map(ot=>jsxRuntimeExports.jsxs("div",{className:`widget-card ${nt===ot.id?"dragging":""}`,draggable:!0,onDragStart:ct=>it(ct,ot),onDragEnd:at,children:[jsxRuntimeExports.jsx("div",{className:"widget-preview",children:ot.preview}),jsxRuntimeExports.jsxs("div",{className:"widget-info",children:[jsxRuntimeExports.jsx("div",{className:"widget-name",children:ot.name}),jsxRuntimeExports.jsx("div",{className:"widget-description",children:ot.description})]}),jsxRuntimeExports.jsx("div",{className:"drag-handle",children:jsxRuntimeExports.jsx(GripVertical,{size:12})})]},ot.id))})]})]}):null},scriptRel="modulepreload",assetsURL=function(i){return"/"+i},seen={},__vitePreload=function(o,_,j){let _e=Promise.resolve();if(_&&_.length>0){document.getElementsByTagName("link");const tt=document.querySelector("meta[property=csp-nonce]"),rt=(tt==null?void 0:tt.nonce)||(tt==null?void 0:tt.getAttribute("nonce"));_e=Promise.allSettled(_.map(nt=>{if(nt=assetsURL(nt),nt in seen)return;seen[nt]=!0;const st=nt.endsWith(".css"),it=st?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${nt}"]${it}`))return;const at=document.createElement("link");if(at.rel=st?"stylesheet":scriptRel,st||(at.as="script"),at.crossOrigin="",at.href=nt,rt&&at.setAttribute("nonce",rt),document.head.appendChild(at),st)return new Promise((ot,ct)=>{at.addEventListener("load",ot),at.addEventListener("error",()=>ct(new Error(`Unable to preload CSS for ${nt}`)))})}))}function et(tt){const rt=new Event("vite:preloadError",{cancelable:!0});if(rt.payload=tt,window.dispatchEvent(rt),!rt.defaultPrevented)throw tt}return _e.then(tt=>{for(const rt of tt||[])rt.status==="rejected"&&et(rt.reason);return o().catch(et)})};function useDashboard(i={}){const[o,_]=reactExports.useState(null),[j,_e]=reactExports.useState(!0),[et,tt]=reactExports.useState(null),rt=async()=>{try{_e(!0),tt(null);const{analyticsDataService:nt}=await __vitePreload(async()=>{const{analyticsDataService:ot}=await Promise.resolve().then(()=>analyticsDataService$1);return{analyticsDataService:ot}},void 0),st=await nt.getAnalytics(i.dateRange||"30_days"),it=await nt.getTimeSeriesData(i.dateRange||"30_days","revenue"),at={metrics:{totalRevenue:st.totalRevenue,totalOrders:st.totalOrders,totalCustomers:st.totalCustomers,averageOrderValue:st.averageOrderValue,outstandingInvoices:st.outstandingInvoices,marketplaceOrders:Math.floor(st.totalOrders*.3)},orders:[],customers:[],chartData:it.map(ot=>({name:ot.name,value:ot.value,orders:ot.orders||0,customers:ot.customers||0}))};_(at)}catch(nt){tt(nt instanceof Error?nt.message:"Failed to load dashboard data")}finally{_e(!1)}};return reactExports.useEffect(()=>{rt()},[i.userId,i.dateRange]),{data:o,loading:j,error:et,refresh:rt,isStale:!1,isCached:!1,lastUpdated:new Date}}const ResponsiveGridLayout=reactGridLayoutExports.WidthProvider(reactGridLayoutExports.Responsive),CustomizableDashboard=({dashboardId:i,onSave:o,barChartColors:_="primary",customPageData:j})=>{const[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState([]),[nt,st]=reactExports.useState({}),[it,at]=reactExports.useState(_),[ot,ct]=reactExports.useState(!1),[ut,lt]=reactExports.useState(!1),[pt,dt]=reactExports.useState(!1),[ht,ft]=reactExports.useState(null),[mt,xt]=reactExports.useState(!1),[gt,yt]=reactExports.useState(!1),[_t,Et]=reactExports.useState({}),[wt,$t]=reactExports.useState("30_days"),{data:jt,loading:Tt,refresh:kt}=useDashboard({dateRange:wt,enableCaching:!0});reactExports.useEffect(()=>{(async()=>{if(j){rt(j.widgets||[]),st(j.layouts||{});return}try{if(!authService.getCachedAgent()){Pt();return}console.log("TODO: Load user dashboard layout from backend API"),Pt()}catch(Kt){console.error("Error loading dashboard:",Kt),Pt()}})()},[i,j]);const Pt=()=>{const Ft=[{id:"revenue-widget",type:"metric",displayFormat:"MetricCard",dataSource:"orders",title:"Total Revenue",subtitle:"All channels combined",config:{metric:"totalRevenue",showTrend:!0,color:"#79d5e9",variant:"variant1"}},{id:"orders-widget",type:"metric",displayFormat:"MetricCard",dataSource:"orders",title:"Total Orders",subtitle:"Processed orders",config:{metric:"totalOrders",showTrend:!0,color:"#6bc7db",variant:"variant2"}},{id:"customers-widget",type:"metric",displayFormat:"MetricCard",dataSource:"customers",title:"Active Customers",subtitle:"Unique buyers",config:{metric:"totalCustomers",showTrend:!0,color:"#5ab3c5",variant:"variant3"}},{id:"revenue-chart",type:"chart",displayFormat:"FullGraph",dataSource:"orders",title:"Revenue Trend",subtitle:"Daily revenue over time",config:{chartType:"area",metric:"revenue",dateRange:"30_days"}}],Kt={lg:[{i:"revenue-widget",x:0,y:0,w:3,h:3},{i:"orders-widget",x:3,y:0,w:3,h:3},{i:"customers-widget",x:6,y:0,w:3,h:3},{i:"revenue-chart",x:0,y:3,w:9,h:5}],md:[{i:"revenue-widget",x:0,y:0,w:4,h:3},{i:"orders-widget",x:4,y:0,w:4,h:3},{i:"customers-widget",x:0,y:3,w:4,h:3},{i:"revenue-chart",x:0,y:6,w:8,h:5}],sm:[{i:"revenue-widget",x:0,y:0,w:6,h:3},{i:"orders-widget",x:0,y:3,w:6,h:3},{i:"customers-widget",x:0,y:6,w:6,h:3},{i:"revenue-chart",x:0,y:9,w:6,h:5}]};rt(Ft),st(Kt)},St=async()=>{try{if(!authService.getCachedAgent())return;console.log("TODO: Save user dashboard layout to backend API"),yt(!1),o&&o({id:i,name:"Custom Dashboard",widgets:tt,layouts:nt,createdAt:new Date,updatedAt:new Date})}catch(Ft){console.error("Error saving dashboard:",Ft)}},Rt=(Ft,Kt)=>{st(Kt),yt(!0)},bt=Ft=>({id:`${Ft.id}-${Date.now()}`,type:Ft.type,displayFormat:Ft.displayFormat,dataSource:Ft.dataSource,title:Ft.name,subtitle:Ft.description,config:{...Ft.config}}),vt=Ft=>{Ft.preventDefault(),dt(!1);const Kt=Ft.dataTransfer.getData("application/json");if(Kt)try{const er=JSON.parse(Kt),Nt=bt(er);Lt(Nt)}catch(er){console.error("Error parsing dropped widget:",er)}},At=Ft=>{Ft.preventDefault(),dt(!0)},Ot=Ft=>{Ft.preventDefault(),dt(!0)},Ct=Ft=>{Ft.preventDefault(),Ft.currentTarget.contains(Ft.relatedTarget)||dt(!1)},Lt=Ft=>{const Kt=(Bt,tr)=>{var ar;if(Bt==="MetricCard"&&((ar=tr==null?void 0:tr.config)==null?void 0:ar.displayMode)==="compact")return 2;switch(Bt){case"FullGraph":return 6;case"DataTable":case"TableCard":return 5;case"ActivityFeed":return 6;case"MapCard":return 6;default:return 4}},er=()=>{const Bt=nt.lg||[];let tr=4;Ft.config.size==="square"||Ft.config.size==="50%"?tr=6:Ft.config.size==="full"||Ft.config.size==="100%"?tr=12:Ft.displayFormat==="FullGraph"||Ft.displayFormat==="DataTable"||Ft.displayFormat==="TableCard"||Ft.displayFormat==="ActivityFeed"||Ft.displayFormat==="MapCard"?tr=Ft.config.size==="square"?6:12:(Ft.displayFormat==="MetricCard"&&Ft.config.displayMode,tr=4);const ar=Kt(Ft.displayFormat,Ft);for(let pr=0;pr<20;pr+=ar)for(let yr=0;yr<=12-tr;yr+=tr)if(!Bt.some(vr=>yr<vr.x+vr.w&&yr+tr>vr.x&&pr<vr.y+vr.h&&pr+ar>vr.y))return{x:yr,y:pr};return{x:0,y:Bt.reduce((pr,yr)=>Math.max(pr,yr.y+yr.h),0)}},{x:Nt,y:lr}=er();let Wt=4;Ft.config.size==="square"||Ft.config.size==="50%"?Wt=6:Ft.config.size==="full"||Ft.config.size==="100%"?Wt=12:Ft.displayFormat==="FullGraph"||Ft.displayFormat==="DataTable"||Ft.displayFormat==="TableCard"||Ft.displayFormat==="ActivityFeed"||Ft.displayFormat==="MapCard"?Wt=Ft.config.size==="square"?6:12:(Ft.displayFormat==="MetricCard"&&Ft.config.displayMode,Wt=4);const Ut={i:Ft.id,x:Nt,y:lr,w:Wt,h:Kt(Ft.displayFormat,Ft)},Jt={lg:[...nt.lg||[],Ut],md:[...nt.md||[],{...Ut,w:Wt===12?8:4}],sm:[...nt.sm||[],{...Ut,w:6}],xs:[...nt.xs||[],{...Ut,w:4}],xxs:[...nt.xxs||[],{...Ut,w:2}]};rt([...tt,Ft]),st(Jt),yt(!0),ct(!1)},It=Ft=>{const Kt=tt.find(er=>er.id===Ft.id);if(rt(tt.map(er=>er.id===Ft.id?Ft:er)),Kt&&Kt.config.size!==Ft.config.size){const er={...nt};let Nt=4;if(Ft.config.size==="square"||Ft.config.size==="50%"?Nt=6:Ft.config.size==="full"||Ft.config.size==="100%"?Nt=12:Ft.displayFormat==="FullGraph"||Ft.displayFormat==="DataTable"||Ft.displayFormat==="TableCard"||Ft.displayFormat==="ActivityFeed"||Ft.displayFormat==="MapCard"?Nt=Ft.config.size==="square"?6:12:(Ft.displayFormat==="MetricCard"&&Ft.config.displayMode,Nt=4),er.lg){const lr=er.lg.findIndex(Wt=>Wt.i===Ft.id);lr!==-1&&(er.lg[lr]={...er.lg[lr],w:Nt})}if(er.md){const lr=er.md.findIndex(Wt=>Wt.i===Ft.id);lr!==-1&&(er.md[lr]={...er.md[lr],w:Nt===12?8:4})}if(er.sm){const lr=er.sm.findIndex(Wt=>Wt.i===Ft.id);lr!==-1&&(er.sm[lr]={...er.sm[lr],w:6})}st(er)}yt(!0),ft(null),xt(!1)},Dt=Ft=>{rt(tt.filter(er=>er.id!==Ft));const Kt={lg:(nt.lg||[]).filter(er=>er.i!==Ft),md:(nt.md||[]).filter(er=>er.i!==Ft),sm:(nt.sm||[]).filter(er=>er.i!==Ft)};st(Kt),yt(!0)},Zt=Ft=>{ft(Ft),xt(!0)},Qt=(Ft,Kt)=>{Et(er=>({...er,[Ft]:Kt})),yt(!0)},Yt=Ft=>{$t(Ft)};return jsxRuntimeExports.jsxs("div",{className:"customizable-dashboard",children:[jsxRuntimeExports.jsx(DashboardHeader,{title:(j==null?void 0:j.name)||"Analytics Dashboard",dateRange:wt,onDateRangeChange:Yt,onRefresh:kt,isEditMode:_e,onEditModeToggle:()=>{et(!_e),lt(!_e)},onTitleChange:j?async Ft=>{try{await analyticsPageService.updatePage(j.id,{name:Ft}),console.log("Page title updated to:",Ft)}catch(Kt){console.error("Failed to update page title:",Kt)}}:void 0}),_e&&jsxRuntimeExports.jsxs("div",{className:"dashboard-actions",children:[jsxRuntimeExports.jsx("div",{className:"actions-left",children:gt&&jsxRuntimeExports.jsx("span",{className:"unsaved-indicator",children:"Unsaved changes"})}),jsxRuntimeExports.jsxs("div",{className:"actions-right",children:[jsxRuntimeExports.jsxs("button",{className:"action-btn add-widget-btn",onClick:()=>lt(!ut),children:[jsxRuntimeExports.jsx(FaPlus,{})," Add Widget"]}),jsxRuntimeExports.jsxs("button",{className:"action-btn save-btn",onClick:St,disabled:!gt,children:[jsxRuntimeExports.jsx(FaSave,{})," Save Layout"]})]})]}),jsxRuntimeExports.jsx("div",{className:`dashboard-grid-container ${pt?"drag-over":""}`,onDrop:vt,onDragOver:At,onDragEnter:Ot,onDragLeave:Ct,children:jsxRuntimeExports.jsx(ResponsiveGridLayout,{className:"dashboard-grid",layouts:nt,onLayoutChange:Rt,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:8,sm:6,xs:4,xxs:2},rowHeight:64,isDraggable:_e,isResizable:_e,draggableHandle:".widget-drag-handle",compactType:"vertical",preventCollision:!1,children:tt.map(Ft=>jsxRuntimeExports.jsxs("div",{className:"dashboard-widget-wrapper",children:[_e&&jsxRuntimeExports.jsxs("div",{className:"widget-edit-overlay",children:[jsxRuntimeExports.jsx("div",{className:"widget-drag-handle",children:jsxRuntimeExports.jsx(FaGripVertical,{})}),jsxRuntimeExports.jsx("button",{className:"widget-config-btn",onClick:()=>Zt(Ft),children:jsxRuntimeExports.jsx(FaCog,{})}),jsxRuntimeExports.jsx("button",{className:"widget-remove-btn",onClick:()=>Dt(Ft.id),children:jsxRuntimeExports.jsx(FaTimes,{})})]}),jsxRuntimeExports.jsx(DashboardWidget,{widget:Ft,variant:_t[Ft.id]||Ft.config.variant||"variant1",onVariantChange:Kt=>Qt(Ft.id,Kt),isEditMode:_e,dashboardData:jt,loading:Tt,dateRange:wt})]},Ft.id))})}),ot&&jsxRuntimeExports.jsx(WidgetLibraryModal,{onClose:()=>ct(!1),onAddWidget:Lt,existingWidgets:tt}),mt&&ht&&jsxRuntimeExports.jsx(WidgetConfigModal,{widget:ht,onClose:()=>{xt(!1),ft(null)},onSave:It}),jsxRuntimeExports.jsx(WidgetPalette,{isVisible:ut,onDragStart:()=>{},onClose:()=>lt(!1)})]})},CustomAnalyticsPage=({barChartColors:i})=>{const{pageId:o}=useParams(),[_,j]=reactExports.useState(null),[_e,et]=reactExports.useState(!0),[tt,rt]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{if(!o){rt("Page ID is required"),et(!1);return}try{et(!0);let st=null;if(o==="customers"){console.log("Handling special customers page...");try{st=(await analyticsPageService.getUserPages()).find(at=>at.template==="customers"&&at.name==="Customer Analytics"),st?console.log("Found existing customer analytics page:",st):(console.log("Creating customer analytics page from template..."),st=await analyticsPageService.createPage({name:"Customer Analytics",icon:"FaChartLine",template:"customers"}),console.log("Customer analytics page created successfully:",st))}catch(it){console.error("Failed to handle customer analytics page:",it),rt("Failed to create customer analytics page");return}}else st=await analyticsPageService.getPage(o);if(!st){rt("Page not found");return}j(st),rt(null)}catch(st){console.error("Failed to load custom analytics page:",st),rt("Failed to load analytics page")}finally{et(!1)}})()},[o]),_e?jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",color:"var(--text-primary)"},children:"Loading analytics page..."}):tt?jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",color:"var(--color-error)",flexDirection:"column",gap:"1rem"},children:[jsxRuntimeExports.jsx("h3",{children:"Error Loading Page"}),jsxRuntimeExports.jsx("p",{children:tt})]}):_?jsxRuntimeExports.jsx(CustomizableDashboard,{dashboardId:`custom-${_.id}`,barChartColors:i,customPageData:_}):jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",color:"var(--text-primary)"},children:"Page not found"})},LoaderContext=reactExports.createContext(void 0);function useLoader(){const i=reactExports.useContext(LoaderContext);return i||{isLoading:!1,message:"",showLoader:()=>{},hideLoader:()=>{}}}function useComponentLoader(){const{showLoader:i,hideLoader:o,isLoading:_}=useLoader(),[j,_e]=reactExports.useState(0),et=reactExports.useCallback(nt=>{_e(0),i(nt)},[i]),tt=reactExports.useCallback(()=>{_e(100),o()},[o]),rt=reactExports.useCallback(nt=>{_e(Math.min(100,Math.max(0,nt)))},[]);return{showLoader:et,hideLoader:tt,setProgress:rt,isLoading:_,progress:j}}function withLoader(i,o){const _=j=>{const{showLoader:_e,hideLoader:et}=useLoader(),tt={...j,showLoader:rt=>_e(rt||o),hideLoader:et};return jsxRuntimeExports.jsx(i,{...tt})};return _.displayName=`withLoader(${i.displayName||i.name||"Component"})`,_}function Analytics(){const i=useNavigate(),o=useLocation(),[_,j]=reactExports.useState("primary");return reactExports.useEffect(()=>{o.pathname==="/analytics"&&i("/analytics/overview")},[o.pathname,i]),jsxRuntimeExports.jsx(ColorProvider,{barChartColors:_,graphColors:{primary:"#79d5e9",secondary:"#4daeac",tertiary:"#f77d11"},children:jsxRuntimeExports.jsx("div",{className:"analytics-container",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route$1,{path:"overview",element:jsxRuntimeExports.jsx(CustomizableDashboard,{dashboardId:"main",barChartColors:_})}),jsxRuntimeExports.jsx(Route$1,{path:"custom",element:jsxRuntimeExports.jsx(CustomizableDashboard,{dashboardId:"main",barChartColors:_})}),jsxRuntimeExports.jsx(Route$1,{path:"custom/:pageId",element:jsxRuntimeExports.jsx(CustomAnalyticsPage,{barChartColors:_})})]})})})}const Analytics$1=withLoader(Analytics),availableIcons=[{icon:jsxRuntimeExports.jsx(Users$1,{}),name:"users",label:"Users"},{icon:jsxRuntimeExports.jsx(ClipboardList,{}),name:"orders",label:"Orders"},{icon:jsxRuntimeExports.jsx(FileText,{}),name:"invoices",label:"Invoices"},{icon:jsxRuntimeExports.jsx(UserCheck,{}),name:"sales",label:"Sales Team"},{icon:jsxRuntimeExports.jsx(Database,{}),name:"admin",label:"Admin"},{icon:jsxRuntimeExports.jsx(DollarSign,{}),name:"finance",label:"Finance"},{icon:jsxRuntimeExports.jsx(Home,{}),name:"overview",label:"Overview"},{icon:jsxRuntimeExports.jsx(BarChart3,{}),name:"analytics",label:"Analytics"},{icon:jsxRuntimeExports.jsx(Settings$1,{}),name:"settings",label:"Settings"},{icon:jsxRuntimeExports.jsx(ShoppingCart,{}),name:"cart",label:"Cart"},{icon:jsxRuntimeExports.jsx(Warehouse$2,{}),name:"inventory",label:"Inventory"},{icon:jsxRuntimeExports.jsx(Calendar,{}),name:"calendar",label:"Calendar"},{icon:jsxRuntimeExports.jsx(Mail,{}),name:"mail",label:"Mail"},{icon:jsxRuntimeExports.jsx(Bell,{}),name:"notifications",label:"Notifications"}],pageTemplates=[{id:"customers",name:"Customers",description:"Customer analytics, demographics, and behavior tracking",widgets:[{type:"metric",title:"Total Customers",metric:"totalCustomers"},{type:"metric",title:"New Customers",metric:"newCustomers"},{type:"metric",title:"Active Customers",metric:"activeCustomers"},{type:"chart",title:"Customer Growth",chartType:"line"},{type:"table",title:"Top Customers"}]},{id:"orders",name:"Orders",description:"Order tracking, fulfillment status, and order analytics",widgets:[{type:"metric",title:"Total Orders",metric:"totalOrders"},{type:"metric",title:"Pending Orders",metric:"pendingOrders"},{type:"metric",title:"Order Conversion",metric:"orderConversion"},{type:"chart",title:"Orders Over Time",chartType:"bar"},{type:"table",title:"Recent Orders"}]},{id:"invoices",name:"Invoices",description:"Invoice status, payment tracking, and revenue analytics",widgets:[{type:"metric",title:"Total Revenue",metric:"totalRevenue"},{type:"metric",title:"Outstanding Invoices",metric:"outstandingInvoices"},{type:"metric",title:"Paid Invoices",metric:"paidInvoices"},{type:"chart",title:"Revenue Trend",chartType:"area"},{type:"table",title:"Invoice Status"}]},{id:"sales-team",name:"Sales Team",description:"Sales performance, team metrics, and individual tracking",widgets:[{type:"metric",title:"Team Performance",metric:"teamPerformance"},{type:"metric",title:"Monthly Targets",metric:"monthlyTargets"},{type:"metric",title:"Conversion Rate",metric:"conversionRate"},{type:"chart",title:"Sales Performance",chartType:"bar"},{type:"table",title:"Sales Team Leaderboard"}]},{id:"admin",name:"Admin",description:"System administration, user management, and system metrics",widgets:[{type:"metric",title:"System Health",metric:"systemHealth"},{type:"metric",title:"Active Users",metric:"activeUsers"},{type:"metric",title:"Storage Usage",metric:"storageUsage"},{type:"chart",title:"System Activity",chartType:"line"},{type:"table",title:"Recent Admin Actions"}]},{id:"finance",name:"Finance",description:"Financial overview, budgeting, and expense tracking",widgets:[{type:"metric",title:"Total Revenue",metric:"totalRevenue"},{type:"metric",title:"Monthly Expenses",metric:"monthlyExpenses"},{type:"metric",title:"Profit Margin",metric:"profitMargin"},{type:"chart",title:"Financial Trend",chartType:"area"},{type:"table",title:"Budget vs Actual"}]},{id:"overview",name:"Overview",description:"High-level dashboard with key business metrics",widgets:[{type:"metric",title:"Total Revenue",metric:"totalRevenue"},{type:"metric",title:"Total Orders",metric:"totalOrders"},{type:"metric",title:"Active Customers",metric:"activeCustomers"},{type:"chart",title:"Business Overview",chartType:"area"},{type:"activity",title:"Recent Activity"}]}],NewPageModal=({isVisible:i,onClose:o,onSave:_})=>{const[j,_e]=reactExports.useState(""),[et,tt]=reactExports.useState("analytics"),[rt,nt]=reactExports.useState("overview"),st=ot=>{ot.preventDefault(),j.trim()&&(_(j.trim(),et,rt),_e(""),tt("analytics"),nt("overview"),o())},it=()=>{_e(""),tt("analytics"),nt("overview"),o()},at=ot=>{nt(ot);const ct=pageTemplates.find(ut=>ut.id===ot);if(ct){_e(ct.name);const lt={customers:"users",orders:"orders",invoices:"invoices","sales-team":"sales",admin:"admin",finance:"finance",overview:"overview"}[ot]||"analytics";tt(lt)}};return i?jsxRuntimeExports.jsx("div",{className:"new-page-modal-overlay",onClick:it,children:jsxRuntimeExports.jsxs("div",{className:"new-page-modal",onClick:ot=>ot.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h2",{children:"Create New Analytics Page"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:it,children:jsxRuntimeExports.jsx(X,{})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:st,className:"modal-body",children:[jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsx("h3",{children:"Page Details"}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"pageName",children:"Page Name"}),jsxRuntimeExports.jsx("input",{id:"pageName",type:"text",value:j,onChange:ot=>_e(ot.target.value),placeholder:"Enter page name...",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsx("h3",{children:"Choose Icon"}),jsxRuntimeExports.jsx("div",{className:"icon-grid",children:availableIcons.map(ot=>jsxRuntimeExports.jsx("button",{type:"button",className:`icon-option ${et===ot.name?"selected":""}`,onClick:()=>tt(ot.name),title:ot.label,children:ot.icon},ot.name))})]}),jsxRuntimeExports.jsxs("div",{className:"form-section",children:[jsxRuntimeExports.jsx("h3",{children:"Choose Template"}),jsxRuntimeExports.jsx("div",{className:"template-grid",children:pageTemplates.map(ot=>jsxRuntimeExports.jsxs("div",{className:`template-option template-${ot.id} ${rt===ot.id?"selected":""}`,onClick:()=>at(ot.id),children:[jsxRuntimeExports.jsx("div",{className:"template-header",children:jsxRuntimeExports.jsx("h4",{children:ot.name})}),jsxRuntimeExports.jsx("div",{className:"template-description",children:ot.description}),jsxRuntimeExports.jsxs("div",{className:"template-widgets",children:[jsxRuntimeExports.jsxs("div",{className:"widget-count",children:[ot.widgets.length," widgets included"]}),jsxRuntimeExports.jsxs("div",{className:"widget-types",children:[ot.widgets.slice(0,3).map((ct,ut)=>jsxRuntimeExports.jsx("span",{className:"widget-type",children:ct.title},ut)),ot.widgets.length>3&&jsxRuntimeExports.jsxs("span",{className:"widget-type",children:["+",ot.widgets.length-3," more"]})]})]})]},ot.id))})]}),jsxRuntimeExports.jsxs("div",{className:"modal-actions",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"cancel-btn",onClick:it,children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:"create-btn",children:[jsxRuntimeExports.jsx(Save,{})," Create Page"]})]})]})]})}):null},customersContainer="_customersContainer_17ech_3",pageHeader="_pageHeader_17ech_64",headerActions$7="_headerActions_17ech_97",viewToggle$1="_viewToggle_17ech_104",viewToggleBtn="_viewToggleBtn_17ech_112",active$9="_active_17ech_129",metricsGrid$1="_metricsGrid_17ech_135",customersControls="_customersControls_17ech_194",searchContainer$3="_searchContainer_17ech_213",searchIcon$5="_searchIcon_17ech_228",searchInput$6="_searchInput_17ech_238",filterControls$1="_filterControls_17ech_259",sortFilter$2="_sortFilter_17ech_269",customersTable="_customersTable_17ech_297",tableContainer="_tableContainer_17ech_308",tableHeader$5="_tableHeader_17ech_314",tableHeaderRow$1="_tableHeaderRow_17ech_320",tableBody$4="_tableBody_17ech_357",tableRow$5="_tableRow_17ech_361",tableCell$2="_tableCell_17ech_387",customerLogoName="_customerLogoName_17ech_457",customerLogoPlaceholder="_customerLogoPlaceholder_17ech_471",customerName$1="_customerName_17ech_484",customerEmail="_customerEmail_17ech_498",customerPhone="_customerPhone_17ech_503",customersGrid="_customersGrid_17ech_525",customerCard="_customerCard_17ech_546",customerCardHeader="_customerCardHeader_17ech_577",customerCardLogoPlaceholder="_customerCardLogoPlaceholder_17ech_592",customerCardInfo="_customerCardInfo_17ech_605",customerCardName="_customerCardName_17ech_609",customerCardStats="_customerCardStats_17ech_622",statItem="_statItem_17ech_633",statLabel$3="_statLabel_17ech_640",statValue$4="_statValue_17ech_646",customerCardActions="_customerCardActions_17ech_652",cardActionBtn="_cardActionBtn_17ech_657",actionButtons$1="_actionButtons_17ech_698",actionBtn$2="_actionBtn_17ech_715",newOrderBtn="_newOrderBtn_17ech_738",viewCustomerBtn="_viewCustomerBtn_17ech_745",viewOrdersBtn="_viewOrdersBtn_17ech_752",btn$1="_btn_17ech_760",btnPrimary$3="_btnPrimary_17ech_774",pagination$3="_pagination_17ech_804",paginationControls$1="_paginationControls_17ech_824",paginationInfo$2="_paginationInfo_17ech_829",paginationBtn$1="_paginationBtn_17ech_840",pageInfo$2="_pageInfo_17ech_862",emptyState$9="_emptyState_17ech_869",emptyIcon$3="_emptyIcon_17ech_879",styles$n={customersContainer,pageHeader,headerActions:headerActions$7,viewToggle:viewToggle$1,viewToggleBtn,active:active$9,metricsGrid:metricsGrid$1,customersControls,searchContainer:searchContainer$3,searchIcon:searchIcon$5,searchInput:searchInput$6,filterControls:filterControls$1,sortFilter:sortFilter$2,customersTable,tableContainer,tableHeader:tableHeader$5,tableHeaderRow:tableHeaderRow$1,tableBody:tableBody$4,tableRow:tableRow$5,tableCell:tableCell$2,customerLogoName,customerLogoPlaceholder,customerName:customerName$1,customerEmail,customerPhone,customersGrid,customerCard,customerCardHeader,customerCardLogoPlaceholder,customerCardInfo,customerCardName,customerCardStats,statItem,statLabel:statLabel$3,statValue:statValue$4,customerCardActions,cardActionBtn,actionButtons:actionButtons$1,actionBtn:actionBtn$2,newOrderBtn,viewCustomerBtn,viewOrdersBtn,btn:btn$1,btnPrimary:btnPrimary$3,pagination:pagination$3,paginationControls:paginationControls$1,paginationInfo:paginationInfo$2,paginationBtn:paginationBtn$1,pageInfo:pageInfo$2,emptyState:emptyState$9,emptyIcon:emptyIcon$3};function CustomersManagement(){const[i,o]=reactExports.useState([]),[_,j]=reactExports.useState(!0),[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState("name"),[it,at]=reactExports.useState("list"),[ot,ct]=reactExports.useState(1),[ut,lt]=reactExports.useState({totalCustomers:0,newCustomers:0,activeCustomers:0,totalSpent:0,averageOrderValue:0,outstandingReceivables:0}),pt=25,dt=useNavigate(),{showLoader:ht,hideLoader:ft,setProgress:mt}=useComponentLoader();reactExports.useEffect(()=>{xt()},[]);const xt=async()=>{try{j(!0),et(!0),ht("Fetching Customer Data..."),mt(10),mt(20);const vt=(await customerService.list({status:"active",limit:5e3})).data||[];console.log("Fetched customers:",vt.length),vt.length>0&&console.log("Sample customer data:",vt[0]),mt(90),o(vt),gt(vt),mt(100),await new Promise(At=>setTimeout(At,300))}catch(bt){console.error("Error in fetchCustomers:",bt)}finally{et(!1),j(!1),ft()}},gt=bt=>{const vt=new Date,At=new Date(vt.getTime()-90*24*60*60*1e3),Ot=bt.length,Ct=bt.filter(Qt=>new Date(Qt.created_at||"")>=At).length,Lt=bt.filter(Qt=>Qt.status==="active").length,It=bt.reduce((Qt,Yt)=>Qt+(Yt.total_spent||0),0),Dt=bt.reduce((Qt,Yt)=>Qt+(Yt.average_order_value||0),0)/(Ot||1),Zt=bt.reduce((Qt,Yt)=>Qt+(Yt.outstanding_receivable||0),0);lt({totalCustomers:Ot,newCustomers:Ct,activeCustomers:Lt,totalSpent:It,averageOrderValue:Dt,outstandingReceivables:Zt})},yt=reactExports.useMemo(()=>{let bt=i.filter(vt=>{var At;return(At=vt.company_name)==null?void 0:At.toLowerCase().includes(tt.toLowerCase())});return bt.sort((vt,At)=>{switch(nt){case"name":return(vt.company_name||"").localeCompare(At.company_name||"");case"date":const Ot=new Date(vt.created_at||0);return new Date(At.created_at||0).getTime()-Ot.getTime();case"value":return(At.total_spent||0)-(vt.total_spent||0);case"orders":return 0;default:return 0}}),bt},[i,tt,nt]),_t=Math.ceil(yt.length/pt),Et=yt.slice((ot-1)*pt,ot*pt),wt=bt=>{var vt,At,Ot,Ct,Lt,It,Dt;dt(`/select-brand/${bt.id}`,{state:{selectedCustomer:{id:bt.id,display_name:bt.company_name,trading_name:bt.company_name,email:((At=(vt=bt.contact_persons)==null?void 0:vt[0])==null?void 0:At.email)||bt.email,phone:bt.phone,billing_address_1:(Ot=bt.billing_address)==null?void 0:Ot.address,billing_address_2:(Ct=bt.billing_address)==null?void 0:Ct.street2,billing_city_town:(Lt=bt.billing_address)==null?void 0:Lt.city,billing_county:(It=bt.billing_address)==null?void 0:It.state,billing_postcode:(Dt=bt.billing_address)==null?void 0:Dt.zip,is_active:bt.status==="active"}}})},$t=bt=>{dt(`/customers/${bt.id}`)},jt=bt=>{dt("/orders",{state:{customerId:bt.id,customerName:bt.company_name}})},Tt=()=>{dt("/customers/new")},kt=bt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(bt),Pt=bt=>{if(!bt)return"Never";try{return new Date(bt).toLocaleDateString("en-GB")}catch{return"Invalid Date"}},St=()=>jsxRuntimeExports.jsx("div",{className:styles$n.customersTable,children:jsxRuntimeExports.jsxs("div",{className:styles$n.tableContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$n.tableHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$n.tableHeaderRow,children:[jsxRuntimeExports.jsx("div",{children:"Customer"}),jsxRuntimeExports.jsx("div",{children:"Contact"}),jsxRuntimeExports.jsx("div",{children:"Actions"})]})}),jsxRuntimeExports.jsx("div",{className:styles$n.tableBody,children:Et.length===0?jsxRuntimeExports.jsxs("div",{className:styles$n.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$n.emptyIcon,children:""}),jsxRuntimeExports.jsx("h3",{children:"No customers found"}),jsxRuntimeExports.jsx("p",{children:"Try adjusting your search criteria or add a new customer."})]}):Et.map(bt=>{var vt,At;return jsxRuntimeExports.jsxs("div",{className:styles$n.tableRow,children:[jsxRuntimeExports.jsx("div",{className:styles$n.tableCell,"data-label":"Customer",children:jsxRuntimeExports.jsxs("div",{className:styles$n.customerLogoName,children:[jsxRuntimeExports.jsx("div",{className:styles$n.customerLogoPlaceholder,children:bt.company_name.charAt(0).toUpperCase()}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:styles$n.customerName,children:bt.company_name})})]})}),jsxRuntimeExports.jsxs("div",{className:styles$n.tableCell,"data-label":"Contact",children:[jsxRuntimeExports.jsx("div",{className:styles$n.customerEmail,children:((At=(vt=bt.contact_persons)==null?void 0:vt[0])==null?void 0:At.email)||bt.email||"No email"}),bt.phone&&jsxRuntimeExports.jsx("div",{className:styles$n.customerPhone,children:bt.phone})]}),jsxRuntimeExports.jsx("div",{className:styles$n.tableCell,"data-label":"Actions",children:jsxRuntimeExports.jsxs("div",{className:styles$n.actionButtons,children:[jsxRuntimeExports.jsxs("button",{onClick:Ot=>{Ot.stopPropagation(),wt(bt)},className:`${styles$n.actionBtn} ${styles$n.newOrderBtn}`,title:"New Order",children:[jsxRuntimeExports.jsx(ShoppingCart,{size:12}),"New Order"]}),jsxRuntimeExports.jsxs("button",{onClick:Ot=>{Ot.stopPropagation(),$t(bt)},className:`${styles$n.actionBtn} ${styles$n.viewCustomerBtn}`,title:"View Customer",children:[jsxRuntimeExports.jsx(User,{size:12}),"View"]}),jsxRuntimeExports.jsxs("button",{onClick:Ot=>{Ot.stopPropagation(),jt(bt)},className:`${styles$n.actionBtn} ${styles$n.viewOrdersBtn}`,title:"View Orders",children:[jsxRuntimeExports.jsx(Eye,{size:12}),"Orders"]})]})})]},bt.id)})})]})}),Rt=()=>jsxRuntimeExports.jsx("div",{className:styles$n.customersGrid,children:Et.length===0?jsxRuntimeExports.jsxs("div",{className:styles$n.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$n.emptyIcon,children:""}),jsxRuntimeExports.jsx("h3",{children:"No customers found"}),jsxRuntimeExports.jsx("p",{children:"Try adjusting your search criteria or add a new customer."})]}):Et.map(bt=>jsxRuntimeExports.jsxs("div",{className:styles$n.customerCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.customerCardHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$n.customerCardLogoPlaceholder,children:bt.company_name.charAt(0).toUpperCase()}),jsxRuntimeExports.jsx("div",{className:styles$n.customerCardInfo,children:jsxRuntimeExports.jsx("h3",{className:styles$n.customerCardName,children:bt.company_name})})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.customerCardStats,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.statItem,children:[jsxRuntimeExports.jsx("span",{className:styles$n.statLabel,children:"Total Spent"}),jsxRuntimeExports.jsx("span",{className:styles$n.statValue,children:kt(bt.total_spent||0)})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.statItem,children:[jsxRuntimeExports.jsx("span",{className:styles$n.statLabel,children:"Status"}),jsxRuntimeExports.jsx("span",{className:styles$n.statValue,children:bt.status==="active"?"Active":"Inactive"})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.statItem,children:[jsxRuntimeExports.jsx("span",{className:styles$n.statLabel,children:"Created"}),jsxRuntimeExports.jsx("span",{className:styles$n.statValue,children:Pt(bt.created_at)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.customerCardActions,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>wt(bt),className:`${styles$n.cardActionBtn} ${styles$n.newOrderBtn}`,children:[jsxRuntimeExports.jsx(ShoppingCart,{size:14}),"New Order"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$t(bt),className:`${styles$n.cardActionBtn} ${styles$n.viewCustomerBtn}`,children:[jsxRuntimeExports.jsx(User,{size:14}),"View"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>jt(bt),className:`${styles$n.cardActionBtn} ${styles$n.viewOrdersBtn}`,children:[jsxRuntimeExports.jsx(Eye,{size:14}),"Orders"]})]})]},bt.id))});return jsxRuntimeExports.jsx(ColorProvider,{barChartColors:"multicolored",graphColors:{primary:"#79d5e9",secondary:"#4daeac",tertiary:"#f77d11"},children:jsxRuntimeExports.jsxs("div",{className:styles$n.customersContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.pageHeader,children:[jsxRuntimeExports.jsx("h1",{children:"Customer Management"}),jsxRuntimeExports.jsxs("div",{className:styles$n.headerActions,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.viewToggle,children:[jsxRuntimeExports.jsx("button",{className:`${styles$n.viewToggleBtn} ${it==="list"?styles$n.active:""}`,onClick:()=>at("list"),title:"List View",children:jsxRuntimeExports.jsx(List,{size:20})}),jsxRuntimeExports.jsx("button",{className:`${styles$n.viewToggleBtn} ${it==="grid"?styles$n.active:""}`,onClick:()=>at("grid"),title:"Grid View",children:jsxRuntimeExports.jsx(Grid3x3,{size:20})})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$n.btn} ${styles$n.btnPrimary}`,onClick:Tt,children:[jsxRuntimeExports.jsx(Plus,{size:20})," New Customer"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.metricsGrid,children:[jsxRuntimeExports.jsx(MetricCard,{id:"total-customers",title:"Total Customers",value:ut.totalCustomers,subtitle:"Active customers",format:"number",color:"#79d5e9",displayMode:"compact",icon:jsxRuntimeExports.jsx(Users$1,{})}),jsxRuntimeExports.jsx(MetricCard,{id:"new-customers",title:"New Customers",value:ut.newCustomers,subtitle:"Last 3 months",format:"number",color:"#f77d11",displayMode:"compact",icon:jsxRuntimeExports.jsx(UserPlus,{}),trend:{value:ut.totalCustomers>0?Math.round(ut.newCustomers/ut.totalCustomers*100):0,isPositive:ut.newCustomers>0}}),jsxRuntimeExports.jsx(MetricCard,{id:"active-customers",title:"Active Customers",value:ut.activeCustomers,subtitle:"With recent orders",format:"number",color:"#61bc8e",displayMode:"compact",icon:jsxRuntimeExports.jsx(UserCheck,{}),trend:{value:ut.totalCustomers>0?Math.round(ut.activeCustomers/ut.totalCustomers*100):0,isPositive:ut.activeCustomers>0}}),jsxRuntimeExports.jsx(MetricCard,{id:"avg-order-value",title:"Avg Order Value",value:ut.averageOrderValue,subtitle:"Per customer",format:"currency",color:"#06d6a0",displayMode:"compact",icon:jsxRuntimeExports.jsx(TrendingUp,{})})]}),jsxRuntimeExports.jsxs("div",{className:styles$n.customersControls,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.searchContainer,children:[jsxRuntimeExports.jsx(Search,{className:styles$n.searchIcon}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search customers by name...",value:tt,onChange:bt=>rt(bt.target.value),className:styles$n.searchInput})]}),jsxRuntimeExports.jsx("div",{className:styles$n.filterControls,children:jsxRuntimeExports.jsxs("select",{value:nt,onChange:bt=>st(bt.target.value),className:styles$n.sortFilter,children:[jsxRuntimeExports.jsx("option",{value:"name",children:"Sort by Name"}),jsxRuntimeExports.jsx("option",{value:"date",children:"Sort by Date Created"}),jsxRuntimeExports.jsx("option",{value:"value",children:"Sort by Total Value"}),jsxRuntimeExports.jsx("option",{value:"orders",children:"Sort by Order Count"})]})})]}),it==="list"?St():Rt(),_t>1&&jsxRuntimeExports.jsxs("div",{className:styles$n.pagination,children:[jsxRuntimeExports.jsxs("div",{className:styles$n.paginationInfo,children:["Showing ",(ot-1)*pt+1," to ",Math.min(ot*pt,yt.length)," of ",yt.length," customers"]}),jsxRuntimeExports.jsxs("div",{className:styles$n.paginationControls,children:[jsxRuntimeExports.jsx("button",{onClick:()=>ct(Math.max(1,ot-1)),disabled:ot===1,className:styles$n.paginationBtn,children:"Previous"}),jsxRuntimeExports.jsxs("span",{className:styles$n.pageInfo,children:["Page ",ot," of ",_t]}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(Math.min(_t,ot+1)),disabled:ot===_t,className:styles$n.paginationBtn,children:"Next"})]})]})]})})}const orderService={async list(i={}){return api.get("/api/v1/orders",i)},async getById(i){return(await api.get(`/api/v1/orders/${i}`)).data},async count(i={}){return(await api.get("/api/v1/orders/count",i)).count},async create(i){return(await api.post("/api/v1/orders",i)).data},async update(i,o){return(await api.put(`/api/v1/orders/${i}`,o)).data}},customerDetailContainer="_customerDetailContainer_1scyr_3",detailHeader="_detailHeader_1scyr_13",backButton$4="_backButton_1scyr_22",headerInfo="_headerInfo_1scyr_41",customerNameSection="_customerNameSection_1scyr_46",headerBadges="_headerBadges_1scyr_62",customerStatusBadge="_customerStatusBadge_1scyr_67",customerTypeBadge="_customerTypeBadge_1scyr_68",active$8="_active_1scyr_75",inactive$1="_inactive_1scyr_80",headerActions$6="_headerActions_1scyr_90",financialHealthSummary="_financialHealthSummary_1scyr_96",customerDetailTabs="_customerDetailTabs_1scyr_104",tab="_tab_1scyr_113",customerTabContent="_customerTabContent_1scyr_136",fadeIn$1="_fadeIn_1scyr_1",infoGrid$1="_infoGrid_1scyr_152",infoSection="_infoSection_1scyr_159",customerInfoSection="_customerInfoSection_1scyr_167",infoItem$1="_infoItem_1scyr_176",label$1="_label_1scyr_187",value$2="_value_1scyr_192",addressesSection="_addressesSection_1scyr_198",addressGrid="_addressGrid_1scyr_208",addressCard="_addressCard_1scyr_214",addressWithMap="_addressWithMap_1scyr_235",addressText="_addressText_1scyr_247",addressMap="_addressMap_1scyr_265",financialGrid="_financialGrid_1scyr_272",financialCard="_financialCard_1scyr_279",financialItem="_financialItem_1scyr_293",contactsGrid="_contactsGrid_1scyr_314",contactCard="_contactCard_1scyr_320",contactHeader="_contactHeader_1scyr_334",primaryBadge="_primaryBadge_1scyr_347",contactInfo$2="_contactInfo_1scyr_356",contactActions="_contactActions_1scyr_365",ordersList="_ordersList_1scyr_372",orderItem="_orderItem_1scyr_379",orderInfo$1="_orderInfo_1scyr_396",orderAmount="_orderAmount_1scyr_408",status$2="_status_1scyr_415",green="_green_1scyr_423",delivered="_delivered_1scyr_424",confirmed="_confirmed_1scyr_425",yellow="_yellow_1scyr_431",processing$1="_processing_1scyr_432",shipped$1="_shipped_1scyr_433",red="_red_1scyr_439",cancelled="_cancelled_1scyr_440",returned="_returned_1scyr_441",pending="_pending_1scyr_447",btn="_btn_1scyr_454",btnPrimary$2="_btnPrimary_1scyr_469",btnSecondary$3="_btnSecondary_1scyr_478",btnSmall="_btnSmall_1scyr_487",fullWidth$1="_fullWidth_1scyr_492",customerDetailLoading="_customerDetailLoading_1scyr_498",customerDetailError="_customerDetailError_1scyr_508",orderCard$1="_orderCard_1scyr_548",styles$m={customerDetailContainer,detailHeader,backButton:backButton$4,headerInfo,customerNameSection,headerBadges,customerStatusBadge,customerTypeBadge,active:active$8,inactive:inactive$1,headerActions:headerActions$6,financialHealthSummary,customerDetailTabs,tab,customerTabContent,fadeIn:fadeIn$1,infoGrid:infoGrid$1,infoSection,customerInfoSection,infoItem:infoItem$1,label:label$1,value:value$2,addressesSection,addressGrid,addressCard,addressWithMap,addressText,addressMap,financialGrid,financialCard,financialItem,contactsGrid,contactCard,contactHeader,primaryBadge,contactInfo:contactInfo$2,contactActions,ordersList,orderItem,orderInfo:orderInfo$1,orderAmount,status:status$2,green,delivered,confirmed,yellow,processing:processing$1,shipped:shipped$1,red,cancelled,returned,pending,btn,btnPrimary:btnPrimary$2,btnSecondary:btnSecondary$3,btnSmall,fullWidth:fullWidth$1,customerDetailLoading,customerDetailError,orderCard:orderCard$1};function CustomerDetail(){var wt,$t,jt,Tt,kt,Pt,St,Rt,bt,vt,At,Ot;const{customerId:i}=useParams(),o=useNavigate(),[_,j]=reactExports.useState(null),[_e,et]=reactExports.useState([]),[tt,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState("overview"),[it,at]=reactExports.useState(!1),[ot,ct]=reactExports.useState(""),[ut,lt]=reactExports.useState("idle");reactExports.useEffect(()=>{i&&(pt(),dt())},[i]);const pt=async()=>{try{rt(!0);const Ct=await customerService.getById(i);j(Ct)}catch(Ct){console.error("Error in fetchCustomerData:",Ct)}finally{rt(!1)}},dt=async()=>{try{const{data:Ct}=await orderService.list({customer_id:i,limit:10});et(Ct||[])}catch(Ct){console.error("Error in fetchRecentOrders:",Ct)}},ht=async()=>{var Lt,It,Dt,Zt,Qt,Yt,Ft,Kt,er,Nt,lr,Wt;if(!_)return;at(!0),lt("sending");const Ct=!!_.zoho_contact_id;ct(Ct?"Updating customer in Zoho...":"Syncing customer to Zoho...");try{const Jt=(_.contact_persons||[]).find(xr=>xr.is_primary_contact),Bt=_.email||(Jt==null?void 0:Jt.email);if(!Bt)throw new Error("Customer email is required for Zoho integration");const tr={action:"sync_customer",customer_type:Ct?"existing":"new",customer_id:_.id,zoho_contact_id:_.zoho_contact_id||null,customer_data:{company_name:_.company_name,contact_name:_.contact_name,email:Bt,phone:_.phone,billing_address:(Lt=_.billing_address)==null?void 0:Lt.address,billing_street2:(It=_.billing_address)==null?void 0:It.street2,billing_city:(Dt=_.billing_address)==null?void 0:Dt.city,billing_state:(Zt=_.billing_address)==null?void 0:Zt.state,billing_zip:(Qt=_.billing_address)==null?void 0:Qt.zip,billing_country:(Yt=_.billing_address)==null?void 0:Yt.country,shipping_address:(Ft=_.shipping_address)==null?void 0:Ft.address,shipping_street2:(Kt=_.shipping_address)==null?void 0:Kt.street2,shipping_city:(er=_.shipping_address)==null?void 0:er.city,shipping_state:(Nt=_.shipping_address)==null?void 0:Nt.state,shipping_zip:(lr=_.shipping_address)==null?void 0:lr.zip,shipping_country:(Wt=_.shipping_address)==null?void 0:Wt.country,payment_terms:_.payment_terms,currency_code:_.currency_code},timestamp:new Date().toISOString(),source:"customer_detail_page"};console.log("Sending customer to Make.com webhook:",tr);const hr=await fetch("https://hook.eu2.make.com/ussc9u8m3bamb3epfx4u0o0ef8hy8b4n",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(tr)});if(!hr.ok)throw new Error(`Webhook failed with status: ${hr.status}`);let pr;const yr=hr.headers.get("content-type");if(yr&&yr.includes("application/json"))pr=await hr.json();else{const xr=await hr.text();console.log("Webhook returned plain text:",xr),pr={success:!0,message:xr}}if(console.log("Webhook response:",pr),pr.zoho_contact_id&&pr.zoho_contact_id!==_.zoho_contact_id){console.log("Updating customer with Zoho contact ID:",pr.zoho_contact_id);try{await customerService.update(_.id,{zoho_contact_id:pr.zoho_contact_id}),console.log("Successfully updated zoho_contact_id"),pt()}catch(xr){throw console.error("Failed to update zoho_contact_id:",xr),new Error("Failed to update customer with Zoho ID")}}lt("success"),ct(Ct?"Customer successfully updated in Zoho!":"Customer successfully synced to Zoho!"),setTimeout(()=>{lt("idle"),ct("")},5e3)}catch(Ut){console.error("Error syncing to Zoho:",Ut),lt("error"),ct(Ut instanceof Error?Ut.message:"Failed to sync to Zoho"),setTimeout(()=>{lt("idle"),ct("")},5e3)}finally{at(!1)}},ft=Ct=>Ct==null||isNaN(Ct)?"0":new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(Ct),mt=Ct=>Ct||0,xt=Ct=>{if(!Ct)return"N/A";try{return new Date(Ct).toLocaleDateString("en-GB")}catch{return"Invalid Date"}};if(tt)return jsxRuntimeExports.jsx("div",{className:styles$m.customerDetailLoading,children:jsxRuntimeExports.jsx("div",{children:"Loading customer details..."})});if(!_)return jsxRuntimeExports.jsxs("div",{className:styles$m.customerDetailError,children:[jsxRuntimeExports.jsx("h2",{children:"Customer not found"}),jsxRuntimeExports.jsx("button",{onClick:()=>o("/customers"),className:`${styles$m.btn} ${styles$m.btnPrimary}`,children:"Back to Customers"})]});const gt=mt(_.outstanding_receivable),yt=_.contact_persons||[],_t=yt.find(Ct=>Ct.is_primary_contact),Et=_e.length>0?(wt=_e[0])==null?void 0:wt.date:void 0;return jsxRuntimeExports.jsx(ColorProvider,{barChartColors:"multicolored",graphColors:{primary:"#79d5e9",secondary:"#4daeac",tertiary:"#f77d11"},children:jsxRuntimeExports.jsxs("div",{className:styles$m.customerDetailContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.detailHeader,children:[jsxRuntimeExports.jsxs("button",{className:styles$m.backButton,onClick:()=>o("/customers"),children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," Back to Customers"]}),jsxRuntimeExports.jsx("div",{className:styles$m.headerInfo,children:jsxRuntimeExports.jsxs("div",{className:styles$m.customerNameSection,children:[jsxRuntimeExports.jsx("h1",{children:_.company_name}),jsxRuntimeExports.jsx("span",{className:`${styles$m.customerStatusBadge} ${_.status==="active"?styles$m.active:styles$m.inactive}`,children:_.status==="active"?"Active":"Inactive"})]})}),jsxRuntimeExports.jsxs("div",{className:styles$m.headerActions,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$m.btn} ${styles$m.btnSecondary}`,onClick:ht,disabled:it,title:_.zoho_contact_id?"Update customer in Zoho Inventory":"Sync customer to Zoho Inventory",children:[jsxRuntimeExports.jsx(Send,{size:16}),it?"Syncing...":_.zoho_contact_id?"Update in Zoho":"Push to Zoho"]}),jsxRuntimeExports.jsx("button",{className:`${styles$m.btn} ${styles$m.btnPrimary}`,onClick:()=>{var Ct,Lt,It,Dt,Zt;return o("/orders/new",{state:{fromCustomerDetail:!0,customer:{id:_.id,display_name:_.company_name,trading_name:_.company_name,email:_.email||(_t==null?void 0:_t.email),phone:_.phone,billing_address_1:(Ct=_.billing_address)==null?void 0:Ct.address,billing_address_2:(Lt=_.billing_address)==null?void 0:Lt.street2,billing_city_town:(It=_.billing_address)==null?void 0:It.city,billing_county:(Dt=_.billing_address)==null?void 0:Dt.state,billing_postcode:(Zt=_.billing_address)==null?void 0:Zt.zip,is_active:_.status==="active",primary_contact_name:_t?`${_t.first_name||""} ${_t.last_name||""}`.trim():void 0,primary_contact_email:(_t==null?void 0:_t.email)||_.email}}})},children:"Create Order"})]})]}),ot&&jsxRuntimeExports.jsxs("div",{className:`${styles$m.notification} ${styles$m[ut]}`,children:[ut==="sending"&&jsxRuntimeExports.jsx("div",{className:styles$m.spinner}),ut==="success"&&jsxRuntimeExports.jsx(CheckCircle,{size:20}),ut==="error"&&jsxRuntimeExports.jsx(AlertTriangle,{size:20}),jsxRuntimeExports.jsx("span",{children:ot})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialHealthSummary,children:[jsxRuntimeExports.jsx(MetricCard,{id:"payment-performance",title:"Payment Performance",value:0,subtitle:"Historical reliability",format:"percentage",color:"#79d5e9",displayMode:"compact",icon:jsxRuntimeExports.jsx(TrendingUp,{})}),jsxRuntimeExports.jsx(MetricCard,{id:"total-spent",title:"Total Spent",value:_.total_spent,subtitle:"Customer lifetime value",format:"currency",color:"#8b5cf6",displayMode:"compact",icon:jsxRuntimeExports.jsx(CreditCard,{})}),jsxRuntimeExports.jsx(MetricCard,{id:"outstanding-amount",title:"Outstanding",value:gt,subtitle:"Total receivables",format:"currency",color:"#f72585",displayMode:"compact",icon:jsxRuntimeExports.jsx(AlertTriangle,{})}),jsxRuntimeExports.jsx(MetricCard,{id:"payment-terms",title:"Payment Terms",value:_.payment_terms||"N/A",subtitle:"Terms",format:"number",color:"#8b5cf6",displayMode:"compact",icon:jsxRuntimeExports.jsx(CheckCircle,{})})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.customerDetailTabs,children:[jsxRuntimeExports.jsx("button",{className:`${styles$m.tab} ${nt==="overview"?styles$m.active:""}`,onClick:()=>st("overview"),children:"Overview"}),jsxRuntimeExports.jsx("button",{className:`${styles$m.tab} ${nt==="financial"?styles$m.active:""}`,onClick:()=>st("financial"),children:"Financial Details"}),jsxRuntimeExports.jsx("button",{className:`${styles$m.tab} ${nt==="contacts"?styles$m.active:""}`,onClick:()=>st("contacts"),children:"Contacts"}),jsxRuntimeExports.jsx("button",{className:`${styles$m.tab} ${nt==="orders"?styles$m.active:""}`,onClick:()=>st("orders"),children:"Recent Orders"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.customerTabContent,children:[nt==="overview"&&jsxRuntimeExports.jsxs("div",{className:styles$m.overviewTab,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.infoGrid,children:[jsxRuntimeExports.jsxs("div",{className:`${styles$m.customerInfoSection} ${styles$m.infoSection}`,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(Building,{size:20})," Company Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Company Name"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.company_name})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Contact Name"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.contact_name||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Email"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.email||(_t==null?void 0:_t.email)||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Phone"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.phone||"N/A"})]})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$m.customerInfoSection} ${styles$m.infoSection}`,children:[jsxRuntimeExports.jsx("h3",{children:"Business Metrics"}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Total Spent"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:ft(_.total_spent)})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Order Count"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_e.length})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Avg Order Value"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:ft(_.average_order_value)})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.infoItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Customer Since"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:xt(_.created_at)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.addressesSection,children:[jsxRuntimeExports.jsx("h3",{children:"Addresses"}),jsxRuntimeExports.jsxs("div",{className:styles$m.addressWithMap,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.addressText,children:[jsxRuntimeExports.jsx("h4",{children:"Billing Address"}),jsxRuntimeExports.jsx("p",{children:($t=_.billing_address)==null?void 0:$t.address}),((jt=_.billing_address)==null?void 0:jt.street2)&&jsxRuntimeExports.jsx("p",{children:_.billing_address.street2}),jsxRuntimeExports.jsxs("p",{children:[(Tt=_.billing_address)==null?void 0:Tt.city,(kt=_.billing_address)!=null&&kt.state?`, ${_.billing_address.state}`:""]}),jsxRuntimeExports.jsx("p",{children:(Pt=_.billing_address)==null?void 0:Pt.zip})]}),jsxRuntimeExports.jsx("div",{className:styles$m.addressMap,children:jsxRuntimeExports.jsx("iframe",{width:"100%",height:"200",style:{border:0,borderRadius:"8px"},src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyCtvRdpXyzAg2YTTf398JHSxGA1dmD4Doc&q=${encodeURIComponent(`${((St=_.billing_address)==null?void 0:St.address)||""}, ${((Rt=_.billing_address)==null?void 0:Rt.city)||""}, ${((bt=_.billing_address)==null?void 0:bt.zip)||""}`)}`,allowFullScreen:!0})})]}),((vt=_.shipping_address)==null?void 0:vt.address)&&((At=_.shipping_address)==null?void 0:At.city)&&((Ot=_.shipping_address)==null?void 0:Ot.zip)&&jsxRuntimeExports.jsxs("div",{className:styles$m.addressWithMap,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.addressText,children:[jsxRuntimeExports.jsx("h4",{children:"Shipping Address"}),jsxRuntimeExports.jsx("p",{children:_.shipping_address.address}),_.shipping_address.street2&&jsxRuntimeExports.jsx("p",{children:_.shipping_address.street2}),jsxRuntimeExports.jsxs("p",{children:[_.shipping_address.city,_.shipping_address.state?`, ${_.shipping_address.state}`:""]}),jsxRuntimeExports.jsx("p",{children:_.shipping_address.zip})]}),jsxRuntimeExports.jsx("div",{className:styles$m.addressMap,children:jsxRuntimeExports.jsx("iframe",{width:"100%",height:"200",style:{border:0,borderRadius:"8px"},src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyCtvRdpXyzAg2YTTf398JHSxGA1dmD4Doc&q=${encodeURIComponent(`${_.shipping_address.address}, ${_.shipping_address.city}, ${_.shipping_address.zip}`)}`,allowFullScreen:!0})})]})]})]}),nt==="financial"&&jsxRuntimeExports.jsx("div",{className:styles$m.financialTab,children:jsxRuntimeExports.jsxs("div",{className:styles$m.financialGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.financialCard,children:[jsxRuntimeExports.jsx("h3",{children:"Payment Information"}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Payment Terms"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.payment_terms||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Payment Terms Label"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.payment_terms_label||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Currency"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_.currency_code})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialCard,children:[jsxRuntimeExports.jsx("h3",{children:"Financial Summary"}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Total Spent"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:ft(_.total_spent)})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Outstanding Amount"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:ft(gt)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialCard,children:[jsxRuntimeExports.jsx("h3",{children:"Order & Invoice Summary"}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Total Orders"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:_e.length})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Total Invoices"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:"0"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Average Order Value"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:ft(_.average_order_value)})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Unused Credits"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:ft(_.unused_credits)})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Customer Lifetime"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:"0 days"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.financialItem,children:[jsxRuntimeExports.jsx("span",{className:styles$m.label,children:"Last Order Date"}),jsxRuntimeExports.jsx("span",{className:styles$m.value,children:xt(Et)})]})]})]})}),nt==="contacts"&&jsxRuntimeExports.jsx("div",{className:styles$m.contactsTab,children:jsxRuntimeExports.jsx("div",{className:styles$m.contactsGrid,children:yt.length>0?yt.map((Ct,Lt)=>jsxRuntimeExports.jsxs("div",{className:styles$m.contactCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.contactHeader,children:[jsxRuntimeExports.jsx("h4",{children:`${Ct.first_name||""} ${Ct.last_name||""}`.trim()||"N/A"}),Ct.is_primary_contact&&jsxRuntimeExports.jsx("span",{className:styles$m.primaryBadge,children:"Primary"})]}),jsxRuntimeExports.jsxs("div",{className:styles$m.contactInfo,children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx(Mail,{size:14})," ",Ct.email||"N/A"]}),Ct.phone&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx(Phone,{size:14})," ",Ct.phone]}),Ct.mobile&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx(Phone,{size:14})," ",Ct.mobile]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx(UserCheck,{size:14})," Contact"]})]}),jsxRuntimeExports.jsx("div",{className:styles$m.contactActions,children:Ct.email&&jsxRuntimeExports.jsxs("button",{className:`${styles$m.btn} ${styles$m.btnSmall}`,onClick:()=>window.location.href=`mailto:${Ct.email}`,children:[jsxRuntimeExports.jsx(Mail,{size:14})," Email"]})})]},Ct.contact_person_id||Lt)):jsxRuntimeExports.jsx("p",{children:"No contacts available"})})}),nt==="orders"&&jsxRuntimeExports.jsxs("div",{className:styles$m.ordersTab,children:[jsxRuntimeExports.jsx("div",{className:styles$m.ordersList,children:_e.length>0?_e.map(Ct=>jsxRuntimeExports.jsxs("div",{className:styles$m.orderItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$m.orderInfo,children:[jsxRuntimeExports.jsxs("h4",{children:["Order #",Ct.salesorder_number||Ct.id]}),jsxRuntimeExports.jsx("p",{children:xt(Ct.date)})]}),jsxRuntimeExports.jsx("div",{className:styles$m.orderStatus,children:jsxRuntimeExports.jsx("span",{className:`${styles$m.status} ${styles$m[Ct.status]}`,children:Ct.status})}),jsxRuntimeExports.jsx("div",{className:styles$m.orderAmount,children:ft(Ct.total)}),jsxRuntimeExports.jsx("div",{className:styles$m.orderActions,children:jsxRuntimeExports.jsx("button",{className:`${styles$m.btn} ${styles$m.btnPrimary} ${styles$m.btnSmall}`,onClick:()=>o(`/orders/${Ct.id}`),children:"View Details"})})]},Ct.id)):jsxRuntimeExports.jsx("p",{children:"No recent orders"})}),jsxRuntimeExports.jsxs("button",{className:`${styles$m.btn} ${styles$m.btnSecondary} ${styles$m.fullWidth}`,onClick:()=>o("/orders",{state:{customerId:_.id,customerName:_.company_name}}),children:[jsxRuntimeExports.jsx(ClipboardList,{size:16})," View All Orders"]})]})]})]})})}const GOOGLE_MAPS_API_KEY$1="AIzaSyCtvRdpXyzAg2YTTf398JHSxGA1dmD4Doc",UK_REGIONS={Scotland:{center:{lat:56.4907,lng:-4.2026},color:"#1f77b4"},"North East":{center:{lat:54.9783,lng:-1.6178},color:"#ff7f0e"},"North West":{center:{lat:53.7632,lng:-2.7044},color:"#2ca02c"},Wales:{center:{lat:52.1307,lng:-3.7837},color:"#d62728"},Midlands:{center:{lat:52.4862,lng:-1.8904},color:"#9467bd"},London:{center:{lat:51.5074,lng:-.1278},color:"#8c564b"},"South East":{center:{lat:51.2787,lng:.5217},color:"#e377c2"},"South West":{center:{lat:50.7772,lng:-3.9997},color:"#7f7f7f"},Ireland:{center:{lat:53.4129,lng:-8.2439},color:"#ff6b6b"}},mapContainerStyle={width:"100%",height:"100%"},defaultCenter={lat:54.5,lng:-4},options={disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#1a2332"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#2c3e50"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#34495e"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#34495e"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#34495e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a1f2a"}]},{elementType:"labels.text.fill",stylers:[{color:"#95a5a6"}]}]};function CustomerMap(){const[i,o]=reactExports.useState([]),[_,j]=reactExports.useState(!0),[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState(null),[it,at]=reactExports.useState(null),[ot,ct]=reactExports.useState(null),[ut,lt]=reactExports.useState(!1),[pt,dt]=reactExports.useState([]),[ht,ft]=reactExports.useState(null),[mt,xt]=reactExports.useState(null),gt=reactExports.useRef(null),yt=useNavigate();reactExports.useEffect(()=>{(async()=>{try{if(window.google&&window.google.maps){console.log("Google Maps API already loaded"),requestAnimationFrame(()=>{setTimeout(()=>jt(),10)});return}const vt=document.querySelector('script[src*="maps.googleapis.com"]');if(vt){console.log("Google Maps script already exists, waiting for load"),vt.addEventListener("load",()=>{console.log("Existing Google Maps script loaded"),requestAnimationFrame(()=>{setTimeout(()=>jt(),10)})});return}console.log("Loading Google Maps API..."),await new Promise((At,Ot)=>{const Ct=document.createElement("script");Ct.src=`https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY$1}&libraries=geometry`,Ct.async=!0,Ct.defer=!0,Ct.onload=()=>{console.log("Google Maps API loaded successfully"),At()},Ct.onerror=()=>{console.error("Failed to load Google Maps API"),Ot(new Error("Failed to load Google Maps API"))},document.head.appendChild(Ct)}),console.log("Initializing map after API load"),requestAnimationFrame(()=>{setTimeout(()=>jt(),10)})}catch(vt){console.error("Error loading Google Maps:",vt),j(!1)}})()},[]),reactExports.useEffect(()=>{_t()},[]),reactExports.useEffect(()=>{window.google&&window.google.maps&&gt.current&&!_e&&(console.log("DOM ready, trying to initialize map"),jt())},[tt,_e]),reactExports.useEffect(()=>{if(_e&&tt&&i.length>0&&nt){console.log("Map, data, and region selected - initializing markers for region:",nt),console.log("Total customers available:",i.length);const bt={};i.forEach(At=>{const Ot=At.location_region||"NO_REGION";bt[Ot]=(bt[Ot]||0)+1}),console.log("Available regions in customers array:",bt);const vt=i.filter(At=>At.location_region===nt);if(console.log(`Found ${vt.length} customers for region "${nt}"`),vt.length>0)console.log("Sample customers:",vt.slice(0,3).map(At=>({name:At.company_name,region:At.location_region,county:At.billing_county,postcode:At.billing_postcode})));else{console.log("No customers found for region. Checking for similar region names...");const At=new Set(i.map(Ct=>Ct.location_region).filter(Boolean)),Ot=Array.from(At);console.log("All unique regions in data:",Ot)}Tt(vt)}else _e&&!nt&&(console.log("No region selected - clearing all markers"),pt.forEach(bt=>bt.setMap(null)),dt([]))},[_e,tt,i,ot,nt]);const _t=async()=>{try{if(console.log("Fetching customers..."),!authService.getCachedAgent()){console.error("No authenticated agent found"),j(!1);return}const vt=await customerService.list({limit:1e3});if(vt.error){console.error("Error fetching customers:",vt.error),o([]),rt(!0),j(!1);return}const At=vt.data||[];if(console.log("Fetched",At.length,"customers"),At.length>0){const It=At[0];console.log("Sample customer fields:",Object.keys(It))}const Ot=At.filter(It=>{const Dt=It.billing_address||{},Zt=It.shipping_address||{};return Dt.coordinates||Zt.coordinates||It.coordinates}).map(It=>{var Nt,lr,Wt;const Dt=It.billing_address||{},Zt=It.shipping_address||{},Qt=Dt.coordinates||Zt.coordinates||It.coordinates,Yt=Et(Qt),Ft=Dt.postal_code||Zt.postal_code||It.billing_postcode,Kt=Dt.state||Dt.county||Zt.state||It.billing_county,er=wt(Kt)||$t(Ft);return{id:((Nt=It.id)==null?void 0:Nt.toString())||"",fb_customer_id:It.zoho_contact_id||((lr=It.id)==null?void 0:lr.toString())||"",customer_id:It.zoho_contact_id||((Wt=It.id)==null?void 0:Wt.toString())||"",customer_name:It.company_name||"",company_name:It.company_name||"",email:It.email||"",postcode:Ft||"",billing_postcode:Ft,coordinates:Yt?{latitude:Yt.lat,longitude:Yt.lng}:void 0,location_region:er,billing_county:Kt,total_spent:It.total_spent||0,order_count:It.order_count||0,last_order_date:It.last_order_date}}).filter(It=>It.coordinates),Ct={};Ot.forEach(It=>{const Dt=It.location_region||"NO_REGION";Ct[Dt]=(Ct[Dt]||0)+1}),console.log("Region distribution:",Ct);const Lt=Ot.filter(It=>!It.location_region);console.log(`${Lt.length} customers without region assignment`),Lt.length>0&&console.log("Sample customers without region:",Lt.slice(0,5).map(It=>({name:It.company_name,county:It.billing_county,postcode:It.billing_postcode}))),console.log("Processed",Ot.length,"customers with valid coordinates"),o(Ot),rt(!0)}catch(bt){console.error("Error fetching customers:",bt),o([]),rt(!0)}finally{j(!1)}},Et=bt=>{if(!bt)return null;try{const vt=bt.replace(/[()]/g,""),[At,Ot]=vt.split(",").map(Ct=>parseFloat(Ct.trim()));if(!isNaN(Ot)&&!isNaN(At))return{lat:Ot,lng:At}}catch{console.warn("Invalid coordinates:",bt)}return null},wt=bt=>{if(!bt)return"";const vt=bt.toLowerCase().trim();return vt.includes("scotland")||vt.includes("edinburgh")||vt.includes("glasgow")||vt.includes("aberdeenshire")||vt.includes("highland")||vt.includes("fife")||vt.includes("stirling")||vt.includes("perth")||vt.includes("dundee")||vt.includes("borders")||vt.includes("dumfries")||vt.includes("ayrshire")?"Scotland":vt.includes("northumberland")||vt.includes("durham")||vt.includes("tyne")||vt.includes("sunderland")||vt.includes("newcastle")||vt.includes("gateshead")||vt.includes("middlesbrough")||vt.includes("teesside")||vt.includes("north east")||vt.includes("hartlepool")||vt.includes("darlington")||vt.includes("stockton")||vt.includes("redcar")||vt.includes("cleveland")||vt.includes("tees valley")?"North East":vt.includes("manchester")||vt.includes("liverpool")||vt.includes("lancashire")||vt.includes("cumbria")||vt.includes("preston")||vt.includes("blackpool")||vt.includes("bolton")||vt.includes("oldham")||vt.includes("stockport")||vt.includes("wigan")||vt.includes("salford")||vt.includes("rochdale")||vt.includes("warrington")||vt.includes("chester")||vt.includes("crewe")||vt.includes("north west")||vt.includes("greater manchester")||vt.includes("merseyside")||vt.includes("cheshire")||vt.includes("carlisle")||vt.includes("kendal")||vt.includes("burnley")||vt.includes("bury")||vt.includes("tameside")||vt.includes("trafford")||vt.includes("st helens")||vt.includes("wirral")||vt.includes("sefton")||vt.includes("knowsley")?"North West":vt.includes("wales")||vt.includes("cardiff")||vt.includes("swansea")||vt.includes("newport")||vt.includes("wrexham")||vt.includes("bangor")||vt.includes("aberystwyth")||vt.includes("carmarthen")||vt.includes("conwy")||vt.includes("flintshire")||vt.includes("gwynedd")||vt.includes("powys")||vt.includes("ceredigion")||vt.includes("pembrokeshire")||vt.includes("monmouthshire")?"Wales":vt.includes("birmingham")||vt.includes("nottingham")||vt.includes("leicester")||vt.includes("derby")||vt.includes("coventry")||vt.includes("wolverhampton")||vt.includes("stoke")||vt.includes("west midlands")||vt.includes("east midlands")||vt.includes("warwickshire")||vt.includes("staffordshire")||vt.includes("shropshire")||vt.includes("worcestershire")||vt.includes("herefordshire")||vt.includes("northamptonshire")||vt.includes("lincolnshire")||vt.includes("rutland")||vt.includes("derbyshire")||vt.includes("midlands")||vt.includes("leicestershire")||vt.includes("nottinghamshire")||vt.includes("dudley")||vt.includes("walsall")||vt.includes("solihull")||vt.includes("sandwell")||vt.includes("telford")||vt.includes("shrewsbury")||vt.includes("worcester")||vt.includes("hereford")||vt.includes("northampton")||vt.includes("lincoln")||vt.includes("mansfield")||vt.includes("chesterfield")||vt.includes("burton")||vt.includes("stafford")||vt.includes("cannock")||vt.includes("tamworth")||vt.includes("nuneaton")||vt.includes("rugby")?"Midlands":vt.includes("london")||vt.includes("greater london")||vt.includes("westminster")||vt.includes("camden")||vt.includes("islington")||vt.includes("hackney")||vt.includes("tower hamlets")||vt.includes("greenwich")||vt.includes("lewisham")||vt.includes("southwark")||vt.includes("lambeth")||vt.includes("wandsworth")||vt.includes("hammersmith")||vt.includes("kensington")||vt.includes("chelsea")||vt.includes("ealing")||vt.includes("hounslow")||vt.includes("richmond")||vt.includes("kingston")||vt.includes("merton")||vt.includes("sutton")||vt.includes("croydon")||vt.includes("bromley")||vt.includes("bexley")||vt.includes("havering")||vt.includes("barking")||vt.includes("redbridge")||vt.includes("waltham")||vt.includes("haringey")||vt.includes("enfield")||vt.includes("barnet")||vt.includes("harrow")||vt.includes("brent")||vt.includes("hillingdon")?"London":vt.includes("devon")||vt.includes("cornwall")||vt.includes("somerset")||vt.includes("dorset")||vt.includes("bristol")||vt.includes("bath")||vt.includes("gloucestershire")||vt.includes("wiltshire")||vt.includes("plymouth")||vt.includes("exeter")||vt.includes("torbay")||vt.includes("bournemouth")||vt.includes("poole")||vt.includes("swindon")||vt.includes("south gloucestershire")?"South West":vt.includes("ireland")||vt.includes("dublin")||vt.includes("cork")||vt.includes("galway")||vt.includes("waterford")||vt.includes("limerick")||vt.includes("belfast")||vt.includes("northern ireland")||vt.includes("antrim")||vt.includes("armagh")||vt.includes("down")||vt.includes("fermanagh")||vt.includes("londonderry")||vt.includes("tyrone")||vt.includes("kerry")||vt.includes("mayo")||vt.includes("donegal")||vt.includes("wicklow")||vt.includes("meath")||vt.includes("kildare")||vt.includes("tipperary")||vt.includes("clare")||vt.includes("kilkenny")||vt.includes("laois")||vt.includes("offaly")||vt.includes("westmeath")||vt.includes("longford")||vt.includes("roscommon")||vt.includes("sligo")||vt.includes("leitrim")||vt.includes("cavan")||vt.includes("monaghan")||vt.includes("louth")||vt.includes("carlow")||vt.includes("wexford")?"Ireland":vt.includes("kent")||vt.includes("essex")||vt.includes("surrey")||vt.includes("sussex")||vt.includes("berkshire")||vt.includes("hampshire")||vt.includes("oxfordshire")||vt.includes("buckinghamshire")||vt.includes("hertfordshire")||vt.includes("bedfordshire")||vt.includes("cambridgeshire")||vt.includes("norfolk")||vt.includes("suffolk")||vt.includes("east of england")?"South East":vt.includes("isle of man")?"Ireland":vt.includes("avon")?"South West":vt.includes("england")||vt===""?"":(console.log("Unmapped county defaulting to South East:",bt),"South East")},$t=bt=>{if(!bt)return"";const At=bt.toUpperCase().trim().substring(0,2);return["AB","DD","DG","EH","FK","G","HS","IV","KA","KW","KY","ML","PA","PH","TD","ZE"].includes(At)||At==="DG"||At==="KA"||At==="ML"?"Scotland":["DH","DL","NE","SR","TS"].includes(At)||At==="DH"||At==="DL"?"North East":["BB","BL","CA","CH","CW","FY","L","LA","M","OL","PR","SK","WA","WN"].includes(At)?"North West":["CF","LD","LL","NP","SA","SY"].includes(At)?"Wales":["B","CV","DE","HR","LE","LN","NG","NN","PE","S","ST","SY","TF","WR","WS","WV","DN"].includes(At)?"Midlands":["BR","CR","DA","E","EC","EN","HA","IG","KT","N","NW","RM","SE","SM","SW","TW","UB","W","WC","WD"].includes(At)?"London":["BA","BS","DT","EX","GL","PL","SN","SP","TA","TQ","TR"].includes(At)?"South West":["AL","BN","CB","CM","CO","CT","GU","HP","IP","LU","ME","MK","NR","OX","PO","RG","RH","SG","SL","SO","SS","TN"].includes(At)?"South East":["BT"].includes(At)?"Ireland":""},jt=()=>{if(!gt.current||!window.google||!window.google.maps){console.log("Map initialization failed - missing requirements:",{mapRef:!!gt.current,google:!!window.google,googleMaps:!!(window.google&&window.google.maps)});return}try{console.log("Initializing Google Map...");const bt=new window.google.maps.Map(gt.current,{center:defaultCenter,zoom:6,...options}),vt=new window.google.maps.InfoWindow;ct(bt),xt(vt),et(!0),console.log("Map initialized successfully")}catch(bt){console.error("Error initializing map:",bt),j(!1)}},Tt=bt=>{if(!ot||!window.google||!window.google.maps){console.log("Cannot initialize markers - map or Google Maps API not ready");return}console.log("Initializing markers for",bt.length,"customers"),pt.forEach(At=>At.setMap(null)),ht&&ht.clearMarkers();const vt=[];bt.forEach(At=>{if(At.coordinates){const Ot=new window.google.maps.Marker({position:{lat:At.coordinates.latitude,lng:At.coordinates.longitude},map:ot,title:At.customer_name,icon:kt(At)});Ot.addListener("click",()=>{at(At),Pt(At,Ot)}),vt.push(Ot)}}),console.log("Created",vt.length,"markers for selected region"),dt(vt)},kt=bt=>{const vt=bt.total_spent?Math.min(Math.max(bt.total_spent/1e3,10),20):10,At=bt.total_spent&&bt.total_spent>1e4?"#ff4444":bt.total_spent&&bt.total_spent>5e3?"#ff8800":"#4CAF50";return{path:window.google.maps.SymbolPath.CIRCLE,scale:vt,fillColor:At,fillOpacity:.8,strokeColor:"white",strokeWeight:2}},Pt=(bt,vt)=>{if(!mt)return;const At=`
      <div class="customer-popup-enhanced">
        <div class="popup-header">
          <h4>${bt.customer_name}</h4>
          <p class="customer-email">${bt.email}</p>
        </div>

        <div class="popup-info">
          <div class="info-item">
            <span class="info-label">Location:</span>
            <span class="info-value">${bt.postcode}</span>
          </div>
          <div class="popup-stats">
            <div class="stat-item">
              <span class="stat-label">Orders</span>
              <span class="stat-value">${bt.order_count||0}</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Last Order</span>
              <span class="stat-value">
                ${bt.last_order_date?new Date(bt.last_order_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"No orders"}
              </span>
            </div>
          </div>
        </div>

        <div class="popup-actions">
          <button
            class="popup-btn btn-view"
            onclick="window.viewCustomer('${bt.id}')"
          >
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
            </svg>
            View Customer
          </button>
          <button
            class="popup-btn btn-directions"
            onclick="window.getDirections('${bt.coordinates.latitude}', '${bt.coordinates.longitude}')"
          >
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M21.71 11.29l-9-9c-.39-.39-1.02-.39-1.41 0l-9 9c-.39.39-.39 1.02 0 1.41l9 9c.39.39 1.02.39 1.41 0l9-9c.39-.38.39-1.01 0-1.41zM14 14.5V12h-4v3H8v-4c0-.55.45-1 1-1h5V7.5l3.5 3.5-3.5 3.5z"/>
            </svg>
            Get Directions
          </button>
        </div>
      </div>
    `;mt.setContent(At),mt.open(ot,vt),window.viewCustomer=Ot=>{yt(`/customers/${Ot}`)},window.getDirections=(Ot,Ct)=>{const Lt=`${Ot},${Ct}`;window.open(`https://www.google.com/maps/dir/?api=1&destination=${Lt}`,"_blank")}};reactExports.useMemo(()=>nt?i.filter(bt=>bt.location_region===nt):i,[i,nt]);const St=reactExports.useMemo(()=>{const bt={};return Object.keys(UK_REGIONS).forEach(vt=>{bt[vt]={count:0,revenue:0}}),i.forEach(vt=>{const At=vt.location_region;At&&bt[At]&&(bt[At].count++,bt[At].revenue+=vt.total_spent||0)}),bt},[i]),Rt=bt=>{if(st(bt===nt?null:bt),window.innerWidth<=768&&lt(!1),ot&&_e&&bt!==nt&&UK_REGIONS[bt]){const vt=UK_REGIONS[bt];ot.panTo(vt.center),ot.setZoom(7);const At=i.filter(Ot=>Ot.location_region===bt);Tt(At)}else ot&&_e&&(ot.panTo(defaultCenter),ot.setZoom(6),Tt(i))};return jsxRuntimeExports.jsxs("div",{className:"customer-map-container",children:[jsxRuntimeExports.jsx("button",{className:"mobile-menu-toggle",onClick:()=>lt(!ut),"aria-label":"Toggle menu",children:jsxRuntimeExports.jsx(Menu,{size:24})}),jsxRuntimeExports.jsx("div",{className:`sidebar-overlay ${ut?"active":""}`,onClick:()=>lt(!1)}),jsxRuntimeExports.jsxs("div",{className:`map-sidebar ${ut?"open":""}`,children:[jsxRuntimeExports.jsx("h2",{children:"UK Regions"}),jsxRuntimeExports.jsx("div",{className:"region-list",children:Object.entries(UK_REGIONS).map(([bt,vt])=>{var At,Ot;return jsxRuntimeExports.jsxs("div",{className:`region-item ${nt===bt?"active":""}`,onClick:()=>Rt(bt),style:{borderLeftColor:vt.color},children:[jsxRuntimeExports.jsx("h3",{children:bt}),jsxRuntimeExports.jsxs("div",{className:"region-stats",children:[jsxRuntimeExports.jsxs("span",{children:[((At=St[bt])==null?void 0:At.count)||0," customers"]}),jsxRuntimeExports.jsx("span",{children:(((Ot=St[bt])==null?void 0:Ot.revenue)||0).toLocaleString("en-GB",{style:"currency",currency:"GBP"})})]})]},bt)})})]}),jsxRuntimeExports.jsx("div",{className:"map-content",children:jsxRuntimeExports.jsx("div",{ref:gt,style:mapContainerStyle})})]})}const CustomerMap$1=withLoader(CustomerMap),container$9="_container_1cjzv_1",header$b="_header_1cjzv_7",backButton$3="_backButton_1cjzv_18",error$6="_error_1cjzv_34",form$1="_form_1cjzv_42",section="_section_1cjzv_48",formGroup$5="_formGroup_1cjzv_67",formRow$1="_formRow_1cjzv_98",actions$2="_actions_1cjzv_104",cancelButton$3="_cancelButton_1cjzv_111",submitButton="_submitButton_1cjzv_127",styles$l={container:container$9,header:header$b,backButton:backButton$3,error:error$6,form:form$1,section,formGroup:formGroup$5,formRow:formRow$1,actions:actions$2,cancelButton:cancelButton$3,submitButton},CreateCustomer=()=>{const i=useNavigate(),[o,_]=reactExports.useState(!1),[j,_e]=reactExports.useState(null),[et,tt]=reactExports.useState({company_name:"",contact_name:"",email:"",phone:"",mobile:"",billing_address:{street:"",city:"",state:"",zip:"",country:"United Kingdom"}}),rt=st=>{const{name:it,value:at}=st.target;if(it.startsWith("billing_")){const ot=it.replace("billing_","");tt(ct=>({...ct,billing_address:{...ct.billing_address,[ot]:at}}))}else tt(ot=>({...ot,[it]:at}))},nt=async st=>{st.preventDefault(),_(!0),_e(null);try{await customerService.create({company_name:et.company_name,contact_name:et.contact_name,email:et.email,phone:et.phone,mobile:et.mobile,billing_address:et.billing_address}),i("/customers")}catch(it){_e(it instanceof Error?it.message:"Failed to create customer")}finally{_(!1)}};return jsxRuntimeExports.jsxs("div",{className:styles$l.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$l.header,children:[jsxRuntimeExports.jsxs("button",{className:styles$l.backButton,onClick:()=>i("/customers"),children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),"Back to Customers"]}),jsxRuntimeExports.jsx("h1",{children:"Create New Customer"})]}),j&&jsxRuntimeExports.jsx("div",{className:styles$l.error,children:j}),jsxRuntimeExports.jsxs("form",{onSubmit:nt,className:styles$l.form,children:[jsxRuntimeExports.jsxs("div",{className:styles$l.section,children:[jsxRuntimeExports.jsxs("h2",{children:[jsxRuntimeExports.jsx(Building,{size:18})," Company Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"company_name",children:"Company Name *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"company_name",name:"company_name",value:et.company_name,onChange:rt,required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.section,children:[jsxRuntimeExports.jsxs("h2",{children:[jsxRuntimeExports.jsx(User,{size:18})," Contact Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"contact_name",children:"Contact Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"contact_name",name:"contact_name",value:et.contact_name,onChange:rt})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:et.email,onChange:rt})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",id:"phone",name:"phone",value:et.phone,onChange:rt})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"mobile",children:"Mobile"}),jsxRuntimeExports.jsx("input",{type:"tel",id:"mobile",name:"mobile",value:et.mobile,onChange:rt})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.section,children:[jsxRuntimeExports.jsxs("h2",{children:[jsxRuntimeExports.jsx(MapPin,{size:18})," Billing Address"]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"billing_street",children:"Street Address"}),jsxRuntimeExports.jsx("input",{type:"text",id:"billing_street",name:"billing_street",value:et.billing_address.street,onChange:rt})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"billing_city",children:"City"}),jsxRuntimeExports.jsx("input",{type:"text",id:"billing_city",name:"billing_city",value:et.billing_address.city,onChange:rt})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"billing_state",children:"State/County"}),jsxRuntimeExports.jsx("input",{type:"text",id:"billing_state",name:"billing_state",value:et.billing_address.state,onChange:rt})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"billing_zip",children:"Postal Code"}),jsxRuntimeExports.jsx("input",{type:"text",id:"billing_zip",name:"billing_zip",value:et.billing_address.zip,onChange:rt})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"billing_country",children:"Country"}),jsxRuntimeExports.jsx("input",{type:"text",id:"billing_country",name:"billing_country",value:et.billing_address.country,onChange:rt})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$l.actions,children:[jsxRuntimeExports.jsx("button",{type:"button",className:styles$l.cancelButton,onClick:()=>i("/customers"),children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",className:styles$l.submitButton,disabled:o,children:[jsxRuntimeExports.jsx(Save,{size:18}),o?"Creating...":"Create Customer"]})]})]})]})},container$8="_container_1jhv7_2",header$a="_header_1jhv7_12",headerLeft$4="_headerLeft_1jhv7_21",titleSection$5="_titleSection_1jhv7_25",pageTitle$1="_pageTitle_1jhv7_31",titleIcon$1="_titleIcon_1jhv7_41",pageSubtitle="_pageSubtitle_1jhv7_47",headerActions$5="_headerActions_1jhv7_53",createButton="_createButton_1jhv7_60",exportButton="_exportButton_1jhv7_81",buttonText="_buttonText_1jhv7_102",controls$1="_controls_1jhv7_124",searchSection="_searchSection_1jhv7_131",searchBox$2="_searchBox_1jhv7_136",searchIcon$4="_searchIcon_1jhv7_141",searchInput$5="_searchInput_1jhv7_152",filterSection="_filterSection_1jhv7_174",filterGroup$2="_filterGroup_1jhv7_181",filterIcon="_filterIcon_1jhv7_188",filterSelect$1="_filterSelect_1jhv7_192",viewToggle="_viewToggle_1jhv7_221",viewButton$2="_viewButton_1jhv7_230",active$7="_active_1jhv7_248",enquiriesGrid="_enquiriesGrid_1jhv7_254",enquiryCard="_enquiryCard_1jhv7_261",cardHeader="_cardHeader_1jhv7_281",cardHeaderLeft="_cardHeaderLeft_1jhv7_288",enquiryNumber="_enquiryNumber_1jhv7_295",badges$1="_badges_1jhv7_303",statusBadge$5="_statusBadge_1jhv7_309",priorityBadge$1="_priorityBadge_1jhv7_310",moreButton="_moreButton_1jhv7_322",cardBody="_cardBody_1jhv7_343",enquirySubject="_enquirySubject_1jhv7_350",contactInfo$1="_contactInfo_1jhv7_358",contactName$1="_contactName_1jhv7_364",companyName$1="_companyName_1jhv7_365",description="_description_1jhv7_377",valueInfo="_valueInfo_1jhv7_388",quantity$1="_quantity_1jhv7_398",cardFooter="_cardFooter_1jhv7_404",footerInfo="_footerInfo_1jhv7_412",dateInfo$1="_dateInfo_1jhv7_418",followUpInfo="_followUpInfo_1jhv7_419",urgent$1="_urgent_1jhv7_431",overdue$1="_overdue_1jhv7_435",arrowIcon="_arrowIcon_1jhv7_439",listContainer="_listContainer_1jhv7_450",listHeader="_listHeader_1jhv7_458",listBody="_listBody_1jhv7_470",listRow="_listRow_1jhv7_475",listCol="_listCol_1jhv7_494",contactCell="_contactCell_1jhv7_500",contactMain="_contactMain_1jhv7_506",contactDetails="_contactDetails_1jhv7_512",subjectCell="_subjectCell_1jhv7_525",subjectText="_subjectText_1jhv7_531",valueText="_valueText_1jhv7_537",emptyValue="_emptyValue_1jhv7_542",dateText="_dateText_1jhv7_546",listActions="_listActions_1jhv7_552",actionButton$6="_actionButton_1jhv7_558",loadingContainer$1="_loadingContainer_1jhv7_579",loadingSpinner$1="_loadingSpinner_1jhv7_588",emptyState$8="_emptyState_1jhv7_609",emptyIcon$2="_emptyIcon_1jhv7_618",emptyTitle="_emptyTitle_1jhv7_625",emptyDescription="_emptyDescription_1jhv7_632",pagination$2="_pagination_1jhv7_639",paginationButton$1="_paginationButton_1jhv7_647",paginationInfo$1="_paginationInfo_1jhv7_669",paginationCurrent="_paginationCurrent_1jhv7_677",paginationTotal="_paginationTotal_1jhv7_682",modalOverlay$7="_modalOverlay_1jhv7_843",modal$5="_modal_1jhv7_843",modalHeader$7="_modalHeader_1jhv7_868",modalCloseButton$1="_modalCloseButton_1jhv7_883",modalBody$5="_modalBody_1jhv7_905",assigneeList$1="_assigneeList_1jhv7_915",assigneeButton$1="_assigneeButton_1jhv7_921",currentAssignee$1="_currentAssignee_1jhv7_948",currentBadge$1="_currentBadge_1jhv7_954",modalFooter$5="_modalFooter_1jhv7_965",assignButton$1="_assignButton_1jhv7_974",styles$k={container:container$8,header:header$a,headerLeft:headerLeft$4,titleSection:titleSection$5,pageTitle:pageTitle$1,titleIcon:titleIcon$1,pageSubtitle,headerActions:headerActions$5,createButton,exportButton,buttonText,controls:controls$1,searchSection,searchBox:searchBox$2,searchIcon:searchIcon$4,searchInput:searchInput$5,filterSection,filterGroup:filterGroup$2,filterIcon,filterSelect:filterSelect$1,viewToggle,viewButton:viewButton$2,active:active$7,enquiriesGrid,enquiryCard,cardHeader,cardHeaderLeft,enquiryNumber,badges:badges$1,statusBadge:statusBadge$5,priorityBadge:priorityBadge$1,moreButton,cardBody,enquirySubject,contactInfo:contactInfo$1,contactName:contactName$1,companyName:companyName$1,description,valueInfo,quantity:quantity$1,cardFooter,footerInfo,dateInfo:dateInfo$1,followUpInfo,urgent:urgent$1,overdue:overdue$1,arrowIcon,listContainer,listHeader,listBody,listRow,listCol,contactCell,contactMain,contactDetails,subjectCell,subjectText,valueText,emptyValue,dateText,listActions,actionButton:actionButton$6,loadingContainer:loadingContainer$1,loadingSpinner:loadingSpinner$1,emptyState:emptyState$8,emptyIcon:emptyIcon$2,emptyTitle,emptyDescription,pagination:pagination$2,paginationButton:paginationButton$1,paginationInfo:paginationInfo$1,paginationCurrent,paginationTotal,modalOverlay:modalOverlay$7,modal:modal$5,modalHeader:modalHeader$7,modalCloseButton:modalCloseButton$1,modalBody:modalBody$5,assigneeList:assigneeList$1,assigneeButton:assigneeButton$1,currentAssignee:currentAssignee$1,currentBadge:currentBadge$1,modalFooter:modalFooter$5,assignButton:assignButton$1},statusConfig$1={new:{color:"#3b82f6",icon:Plus,label:"New"},contacted:{color:"#8b5cf6",icon:Phone,label:"Contacted"},quoted:{color:"#f59e0b",icon:DollarSign,label:"Quoted"},negotiating:{color:"#10b981",icon:Target,label:"Negotiating"},won:{color:"#22c55e",icon:CheckCircle,label:"Won"},lost:{color:"#ef4444",icon:AlertCircle,label:"Lost"},cancelled:{color:"#6b7280",icon:AlertCircle,label:"Cancelled"}},priorityConfig$1={urgent:{color:"#ef4444",icon:AlertCircle},high:{color:"#f59e0b",icon:AlertCircle},medium:{color:"#3b82f6",icon:Clock},low:{color:"#6b7280",icon:Clock}};function EnquiryList(){const[i,o]=reactExports.useState([]),[_,j]=reactExports.useState(!0),[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState("date"),[it,at]=reactExports.useState("grid"),[ot,ct]=reactExports.useState("all"),[ut,lt]=reactExports.useState("all"),[pt,dt]=reactExports.useState(1),[ht,ft]=reactExports.useState(""),[mt,xt]=reactExports.useState([]),[gt,yt]=reactExports.useState(!1),[_t,Et]=reactExports.useState(null),[wt,$t]=reactExports.useState(!1),[jt,Tt]=reactExports.useState({totalEnquiries:0,newEnquiries:0,activeEnquiries:0,totalEstimatedValue:0,conversionRate:0,averageResponseTime:0}),kt=it==="grid"?12:20,Pt=useNavigate(),{showLoader:St,hideLoader:Rt,setProgress:bt}=useComponentLoader();reactExports.useEffect(()=>{vt(),Ot()},[]);const vt=async()=>{try{j(!0),et(!0),St("Fetching Enquiry Data..."),bt(10);const Wt=authService.getCachedAgent();if(!Wt){console.error("No authenticated user found"),et(!1),j(!1),Rt();return}ft(Wt.is_admin?"admin":"user"),bt(30),console.warn("TODO: Implement GET /api/v1/enquiries backend endpoint"),o([]),At([]),bt(100),await new Promise(Ut=>setTimeout(Ut,300))}catch(Wt){console.error("Error in fetchEnquiries:",Wt)}finally{et(!1),j(!1),Rt()}},At=Wt=>{const Ut=new Date,Jt=new Date(Ut.getTime()-7*24*60*60*1e3),Bt=Wt.length,tr=Wt.filter(vr=>new Date(vr.created_at)>=Jt).length,ar=Wt.filter(vr=>["new","contacted","quoted","negotiating"].includes(vr.status)).length,hr=Wt.reduce((vr,Er)=>vr+(Er.estimated_value||0),0),pr=Wt.filter(vr=>vr.converted_to_customer).length,yr=Bt>0?pr/Bt*100:0;Tt({totalEnquiries:Bt,newEnquiries:tr,activeEnquiries:ar,totalEstimatedValue:hr,conversionRate:yr,averageResponseTime:2.5})},Ot=async()=>{try{if(!authService.getCachedAgent())return;console.warn("TODO: Implement GET /api/v1/agents backend endpoint for user listing"),xt([])}catch(Wt){console.error("Error loading users:",Wt)}},Ct=()=>ht==="admin"||ht==="manager",Lt=Wt=>{Et(Wt),yt(!0)},It=async Wt=>{if(_t){$t(!0);try{console.warn("TODO: Implement PUT /api/v1/enquiries/:id backend endpoint"),await vt(),yt(!1),Et(null)}catch(Ut){console.error("Error in handleAssignSubmit:",Ut)}finally{$t(!1)}}},Dt=reactExports.useMemo(()=>{let Wt=i.filter(Ut=>{const Jt=tt.toLowerCase(),Bt=!tt||Ut.contact_name.toLowerCase().includes(Jt)||Ut.company_name&&Ut.company_name.toLowerCase().includes(Jt)||Ut.email.toLowerCase().includes(Jt)||Ut.subject.toLowerCase().includes(Jt)||Ut.enquiry_number.toLowerCase().includes(Jt),tr=ot==="all"||Ut.status===ot,ar=ut==="all"||Ut.priority===ut;return Bt&&tr&&ar});return Wt.sort((Ut,Jt)=>{switch(nt){case"date":return new Date(Jt.created_at).getTime()-new Date(Ut.created_at).getTime();case"priority":const Bt={urgent:4,high:3,medium:2,low:1};return Bt[Jt.priority]-Bt[Ut.priority];case"value":return(Jt.estimated_value||0)-(Ut.estimated_value||0);case"status":return Ut.status.localeCompare(Jt.status);case"followup":return Ut.next_follow_up_date?Jt.next_follow_up_date?new Date(Ut.next_follow_up_date).getTime()-new Date(Jt.next_follow_up_date).getTime():-1:1;default:return 0}}),Wt},[i,tt,nt,ot,ut]),Zt=Math.ceil(Dt.length/kt),Qt=Dt.slice((pt-1)*kt,pt*kt),Yt=Wt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Wt),Ft=Wt=>new Date(Wt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),Kt=Wt=>{const Ut=new Date,Bt=new Date(Wt).getTime()-Ut.getTime();return Math.ceil(Bt/(1e3*60*60*24))},er=Wt=>statusConfig$1[Wt]||statusConfig$1.new,Nt=Wt=>priorityConfig$1[Wt]||priorityConfig$1.low,lr=()=>{try{const Ut=[["Enquiry Number","Status","Priority","Contact Name","Company Name","Email","Phone","Subject","Description","Estimated Value","Estimated Quantity","Lead Source","Assigned To","Created By","Created Date","Next Follow Up","Last Contacted"].join(",")];Dt.forEach(ar=>{const hr=[`"${ar.enquiry_number}"`,`"${ar.status}"`,`"${ar.priority}"`,`"${ar.contact_name}"`,`"${ar.company_name||""}"`,`"${ar.email}"`,`"${ar.phone||""}"`,`"${ar.subject.replace(/"/g,'""')}"`,`"${ar.description.replace(/"/g,'""')}"`,`"${ar.estimated_value||""}"`,`"${ar.estimated_quantity||""}"`,`"${ar.lead_source}"`,`"${ar.assigned_to_name||""}"`,`"${ar.created_by_name||""}"`,`"${Ft(ar.created_at)}"`,`"${ar.next_follow_up_date?Ft(ar.next_follow_up_date):""}"`,`"${ar.last_contacted_at?Ft(ar.last_contacted_at):""}"`];Ut.push(hr.join(","))});const Jt=Ut.join(`
`),Bt=new Blob([Jt],{type:"text/csv;charset=utf-8;"}),tr=document.createElement("a");if(tr.download!==void 0){const ar=URL.createObjectURL(Bt);tr.setAttribute("href",ar);const hr=new Date().toISOString().split("T")[0];tr.setAttribute("download",`enquiries_export_${hr}.csv`),tr.style.visibility="hidden",document.body.appendChild(tr),tr.click(),document.body.removeChild(tr)}}catch(Wt){console.error("Error exporting enquiries:",Wt)}};return jsxRuntimeExports.jsx(ColorProvider,{barChartColors:"multicolored",graphColors:{primary:"#79d5e9",secondary:"#4daeac",tertiary:"#f77d11"},children:jsxRuntimeExports.jsxs("div",{className:styles$k.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.header,children:[jsxRuntimeExports.jsx("div",{className:styles$k.headerLeft,children:jsxRuntimeExports.jsxs("div",{className:styles$k.titleSection,children:[jsxRuntimeExports.jsxs("h1",{className:styles$k.pageTitle,children:[jsxRuntimeExports.jsx(MessageSquare,{className:styles$k.titleIcon}),"Enquiries"]}),jsxRuntimeExports.jsx("p",{className:styles$k.pageSubtitle,children:"Manage and track your sales pipeline"})]})}),jsxRuntimeExports.jsxs("div",{className:styles$k.headerActions,children:[jsxRuntimeExports.jsxs("button",{className:styles$k.exportButton,onClick:lr,title:"Export enquiries",children:[jsxRuntimeExports.jsx(Download,{size:18}),jsxRuntimeExports.jsx("span",{className:styles$k.buttonText,children:"Export"})]}),jsxRuntimeExports.jsxs("button",{className:styles$k.createButton,onClick:()=>Pt("/enquiries/new"),children:[jsxRuntimeExports.jsx(Plus,{size:18}),jsxRuntimeExports.jsx("span",{className:styles$k.buttonText,children:"New Enquiry"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.controls,children:[jsxRuntimeExports.jsx("div",{className:styles$k.searchSection,children:jsxRuntimeExports.jsxs("div",{className:styles$k.searchBox,children:[jsxRuntimeExports.jsx(Search,{className:styles$k.searchIcon,size:20}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, company, email, or enquiry number...",value:tt,onChange:Wt=>{rt(Wt.target.value),dt(1)},className:styles$k.searchInput})]})}),jsxRuntimeExports.jsxs("div",{className:styles$k.filterSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.filterGroup,children:[jsxRuntimeExports.jsx(Filter,{size:16,className:styles$k.filterIcon}),jsxRuntimeExports.jsxs("select",{value:ot,onChange:Wt=>{ct(Wt.target.value),dt(1)},className:styles$k.filterSelect,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"new",children:"New"}),jsxRuntimeExports.jsx("option",{value:"contacted",children:"Contacted"}),jsxRuntimeExports.jsx("option",{value:"quoted",children:"Quoted"}),jsxRuntimeExports.jsx("option",{value:"negotiating",children:"Negotiating"}),jsxRuntimeExports.jsx("option",{value:"won",children:"Won"}),jsxRuntimeExports.jsx("option",{value:"lost",children:"Lost"})]}),jsxRuntimeExports.jsxs("select",{value:ut,onChange:Wt=>{lt(Wt.target.value),dt(1)},className:styles$k.filterSelect,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Priority"}),jsxRuntimeExports.jsx("option",{value:"urgent",children:"Urgent"}),jsxRuntimeExports.jsx("option",{value:"high",children:"High"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"low",children:"Low"})]}),jsxRuntimeExports.jsxs("select",{value:nt,onChange:Wt=>st(Wt.target.value),className:styles$k.filterSelect,children:[jsxRuntimeExports.jsx("option",{value:"date",children:"Sort by Date"}),jsxRuntimeExports.jsx("option",{value:"priority",children:"Sort by Priority"}),jsxRuntimeExports.jsx("option",{value:"value",children:"Sort by Value"}),jsxRuntimeExports.jsx("option",{value:"status",children:"Sort by Status"}),jsxRuntimeExports.jsx("option",{value:"followup",children:"Sort by Follow-up"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.viewToggle,children:[jsxRuntimeExports.jsx("button",{className:`${styles$k.viewButton} ${it==="grid"?styles$k.active:""}`,onClick:()=>{at("grid"),dt(1)},title:"Grid view",children:jsxRuntimeExports.jsx(Grid3x3,{size:18})}),jsxRuntimeExports.jsx("button",{className:`${styles$k.viewButton} ${it==="list"?styles$k.active:""}`,onClick:()=>{at("list"),dt(1)},title:"List view",children:jsxRuntimeExports.jsx(List,{size:18})})]})]})]}),_?jsxRuntimeExports.jsxs("div",{className:styles$k.loadingContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$k.loadingSpinner}),jsxRuntimeExports.jsx("p",{children:"Loading enquiries..."})]}):Dt.length===0?jsxRuntimeExports.jsxs("div",{className:styles$k.emptyState,children:[jsxRuntimeExports.jsx(MessageSquare,{size:48,className:styles$k.emptyIcon}),jsxRuntimeExports.jsx("h3",{className:styles$k.emptyTitle,children:"No enquiries found"}),jsxRuntimeExports.jsx("p",{className:styles$k.emptyDescription,children:tt||ot!=="all"||ut!=="all"?"Try adjusting your filters or search criteria":"The enquiries feature is being migrated. Please check back later."}),!tt&&ot==="all"&&ut==="all"&&jsxRuntimeExports.jsxs("button",{className:styles$k.createButton,onClick:()=>Pt("/enquiries/new"),children:[jsxRuntimeExports.jsx(Plus,{size:18}),"Create First Enquiry"]})]}):it==="grid"?jsxRuntimeExports.jsx("div",{className:styles$k.enquiriesGrid,children:Qt.map(Wt=>{const Ut=er(Wt.status),Jt=Nt(Wt.priority),Bt=Ut.icon,tr=Jt.icon,ar=Wt.next_follow_up_date?Kt(Wt.next_follow_up_date):null;return jsxRuntimeExports.jsxs("div",{className:styles$k.enquiryCard,onClick:()=>Pt(`/enquiries/${Wt.id}`),children:[jsxRuntimeExports.jsxs("div",{className:styles$k.cardHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.cardHeaderLeft,children:[jsxRuntimeExports.jsxs("span",{className:styles$k.enquiryNumber,children:["#",Wt.enquiry_number]}),jsxRuntimeExports.jsxs("div",{className:styles$k.badges,children:[jsxRuntimeExports.jsxs("span",{className:styles$k.statusBadge,style:{backgroundColor:`${Ut.color}20`,color:Ut.color,border:`1px solid ${Ut.color}40`},children:[jsxRuntimeExports.jsx(Bt,{size:12}),Ut.label]}),jsxRuntimeExports.jsxs("span",{className:styles$k.priorityBadge,style:{backgroundColor:`${Jt.color}20`,color:Jt.color,border:`1px solid ${Jt.color}40`},children:[jsxRuntimeExports.jsx(tr,{size:12}),Wt.priority]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.cardActions,children:[Ct()&&jsxRuntimeExports.jsx("button",{className:styles$k.assignButton,onClick:hr=>{hr.stopPropagation(),Lt(Wt)},title:"Assign to salesperson",children:jsxRuntimeExports.jsx(User,{size:16})}),jsxRuntimeExports.jsx("button",{className:styles$k.moreButton,onClick:hr=>{hr.stopPropagation()},children:jsxRuntimeExports.jsx(MoreVertical,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.cardBody,children:[jsxRuntimeExports.jsx("h3",{className:styles$k.enquirySubject,children:Wt.subject}),jsxRuntimeExports.jsxs("div",{className:styles$k.contactInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.contactName,children:[jsxRuntimeExports.jsx(User,{size:14}),jsxRuntimeExports.jsx("span",{children:Wt.contact_name})]}),Wt.company_name&&jsxRuntimeExports.jsxs("div",{className:styles$k.companyName,children:[jsxRuntimeExports.jsx(Building,{size:14}),jsxRuntimeExports.jsx("span",{children:Wt.company_name})]})]}),jsxRuntimeExports.jsx("p",{className:styles$k.description,children:Wt.description.length>120?Wt.description.substring(0,120)+"...":Wt.description}),Wt.estimated_value&&jsxRuntimeExports.jsxs("div",{className:styles$k.valueInfo,children:[jsxRuntimeExports.jsx(DollarSign,{size:14}),jsxRuntimeExports.jsx("span",{children:Yt(Wt.estimated_value)}),Wt.estimated_quantity&&jsxRuntimeExports.jsxs("span",{className:styles$k.quantity,children:[" ",Wt.estimated_quantity," units"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.cardFooter,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.footerInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.dateInfo,children:[jsxRuntimeExports.jsx(Calendar,{size:12}),jsxRuntimeExports.jsx("span",{children:Ft(Wt.created_at)})]}),ar!==null&&jsxRuntimeExports.jsxs("div",{className:`${styles$k.followUpInfo} ${ar<0?styles$k.overdue:ar<=2?styles$k.urgent:""}`,children:[jsxRuntimeExports.jsx(Clock,{size:12}),jsxRuntimeExports.jsx("span",{children:ar<0?`${Math.abs(ar)} days overdue`:ar===0?"Follow up today":`Follow up in ${ar} days`})]})]}),jsxRuntimeExports.jsx(ChevronRight,{size:16,className:styles$k.arrowIcon})]})]},Wt.id)})}):jsxRuntimeExports.jsxs("div",{className:styles$k.listContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.listHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Contact"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Subject"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Status"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Priority"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Value"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Follow-up"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Created"}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:"Actions"})]}),jsxRuntimeExports.jsx("div",{className:styles$k.listBody,children:Qt.map(Wt=>{const Ut=er(Wt.status),Jt=Nt(Wt.priority),Bt=Ut.icon,tr=Jt.icon,ar=Wt.next_follow_up_date?Kt(Wt.next_follow_up_date):null;return jsxRuntimeExports.jsxs("div",{className:styles$k.listRow,onClick:()=>Pt(`/enquiries/${Wt.id}`),children:[jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:jsxRuntimeExports.jsxs("div",{className:styles$k.contactCell,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.contactMain,children:[jsxRuntimeExports.jsx("span",{className:styles$k.contactName,children:Wt.contact_name}),Wt.company_name&&jsxRuntimeExports.jsx("span",{className:styles$k.companyName,children:Wt.company_name})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.contactDetails,children:[jsxRuntimeExports.jsx(Mail,{size:12}),jsxRuntimeExports.jsx("span",{children:Wt.email}),Wt.phone&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Phone,{size:12}),jsxRuntimeExports.jsx("span",{children:Wt.phone})]})]})]})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:jsxRuntimeExports.jsxs("div",{className:styles$k.subjectCell,children:[jsxRuntimeExports.jsxs("span",{className:styles$k.enquiryNumber,children:["#",Wt.enquiry_number]}),jsxRuntimeExports.jsx("span",{className:styles$k.subjectText,children:Wt.subject})]})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:jsxRuntimeExports.jsxs("span",{className:styles$k.statusBadge,style:{backgroundColor:`${Ut.color}20`,color:Ut.color,border:`1px solid ${Ut.color}40`},children:[jsxRuntimeExports.jsx(Bt,{size:12}),Ut.label]})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:jsxRuntimeExports.jsxs("span",{className:styles$k.priorityBadge,style:{backgroundColor:`${Jt.color}20`,color:Jt.color,border:`1px solid ${Jt.color}40`},children:[jsxRuntimeExports.jsx(tr,{size:12}),Wt.priority]})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:Wt.estimated_value?jsxRuntimeExports.jsx("span",{className:styles$k.valueText,children:Yt(Wt.estimated_value)}):jsxRuntimeExports.jsx("span",{className:styles$k.emptyValue,children:"-"})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:ar!==null?jsxRuntimeExports.jsxs("div",{className:`${styles$k.followUpInfo} ${ar<0?styles$k.overdue:ar<=2?styles$k.urgent:""}`,children:[jsxRuntimeExports.jsx(Clock,{size:12}),jsxRuntimeExports.jsx("span",{children:ar<0?`${Math.abs(ar)}d overdue`:ar===0?"Today":`${ar}d`})]}):jsxRuntimeExports.jsx("span",{className:styles$k.emptyValue,children:"-"})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:jsxRuntimeExports.jsx("span",{className:styles$k.dateText,children:Ft(Wt.created_at)})}),jsxRuntimeExports.jsx("div",{className:styles$k.listCol,children:jsxRuntimeExports.jsxs("div",{className:styles$k.listActions,children:[jsxRuntimeExports.jsx("button",{className:styles$k.actionButton,onClick:hr=>{hr.stopPropagation(),Pt(`/enquiries/${Wt.id}`)},title:"View details",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{className:styles$k.actionButton,onClick:hr=>{hr.stopPropagation(),Pt(`/enquiries/${Wt.id}/edit`)},title:"Edit enquiry",children:jsxRuntimeExports.jsx(PenSquare,{size:16})})]})})]},Wt.id)})})]}),Zt>1&&jsxRuntimeExports.jsxs("div",{className:styles$k.pagination,children:[jsxRuntimeExports.jsx("button",{onClick:()=>dt(Math.max(1,pt-1)),disabled:pt===1,className:styles$k.paginationButton,children:"Previous"}),jsxRuntimeExports.jsxs("div",{className:styles$k.paginationInfo,children:[jsxRuntimeExports.jsxs("span",{className:styles$k.paginationCurrent,children:["Page ",pt," of ",Zt]}),jsxRuntimeExports.jsxs("span",{className:styles$k.paginationTotal,children:["(",Dt.length," enquiries)"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(Math.min(Zt,pt+1)),disabled:pt===Zt,className:styles$k.paginationButton,children:"Next"})]}),gt&&_t&&jsxRuntimeExports.jsx("div",{className:styles$k.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$k.modal,children:[jsxRuntimeExports.jsxs("div",{className:styles$k.modalHeader,children:[jsxRuntimeExports.jsx("h3",{children:"Assign Enquiry"}),jsxRuntimeExports.jsx("button",{onClick:()=>{yt(!1),Et(null)},className:styles$k.modalCloseButton,children:"x"})]}),jsxRuntimeExports.jsxs("div",{className:styles$k.modalBody,children:[jsxRuntimeExports.jsxs("p",{children:["Assign enquiry ",jsxRuntimeExports.jsxs("strong",{children:["#",_t.enquiry_number]})," to:"]}),jsxRuntimeExports.jsx("div",{className:styles$k.assigneeList,children:mt.length===0?jsxRuntimeExports.jsx("p",{children:"No users available. User list is being migrated."}):mt.map(Wt=>jsxRuntimeExports.jsxs("button",{onClick:()=>It(Wt.id),disabled:wt,className:`${styles$k.assigneeButton} ${_t.assigned_to===Wt.id?styles$k.currentAssignee:""}`,children:[jsxRuntimeExports.jsx(User,{size:16}),jsxRuntimeExports.jsxs("span",{children:[Wt.first_name," ",Wt.last_name]}),_t.assigned_to===Wt.id&&jsxRuntimeExports.jsx("span",{className:styles$k.currentBadge,children:"Current"})]},Wt.id))})]}),jsxRuntimeExports.jsx("div",{className:styles$k.modalFooter,children:jsxRuntimeExports.jsx("button",{onClick:()=>{yt(!1),Et(null)},className:styles$k.cancelButton,disabled:wt,children:"Cancel"})})]})})]})})}const NewEnquiry=()=>{const i=useNavigate();return jsxRuntimeExports.jsxs("div",{style:{padding:"24px"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>i("/enquiries"),style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",cursor:"pointer",marginBottom:"16px"},children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20})," Back to Enquiries"]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[jsxRuntimeExports.jsx(FileText,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Create New Enquiry"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Enquiry creation form - coming soon"})]})]})},container$7="_container_1ioif_2",header$9="_header_1ioif_11",headerLeft$3="_headerLeft_1ioif_20",backButton$2="_backButton_1ioif_26",titleSection$4="_titleSection_1ioif_47",badges="_badges_1ioif_61",statusBadge$4="_statusBadge_1ioif_67",priorityBadge="_priorityBadge_1ioif_68",headerActions$4="_headerActions_1ioif_79",primaryButton$1="_primaryButton_1ioif_85",deleteButton$1="_deleteButton_1ioif_87",progressContainer$2="_progressContainer_1ioif_137",progressSteps$1="_progressSteps_1ioif_145",progressStep$1="_progressStep_1ioif_145",stepCircle$1="_stepCircle_1ioif_163",completed$1="_completed_1ioif_178",current$1="_current_1ioif_184",stepLabel$1="_stepLabel_1ioif_191",progressBarContainer$1="_progressBarContainer_1ioif_198",progressBarFill$1="_progressBarFill_1ioif_202",contentGrid$1="_contentGrid_1ioif_212",card$2="_card_1ioif_220",detailsGrid$1="_detailsGrid_1ioif_243",detailItem$2="_detailItem_1ioif_250",detailLabel$3="_detailLabel_1ioif_256",detailValue$3="_detailValue_1ioif_263",descriptionSection$1="_descriptionSection_1ioif_268",contactGrid="_contactGrid_1ioif_281",contactItem$1="_contactItem_1ioif_287",contactIcon="_contactIcon_1ioif_293",contactName="_contactName_1ioif_313",companyName="_companyName_1ioif_319",opportunityGrid="_opportunityGrid_1ioif_325",opportunityItem="_opportunityItem_1ioif_331",opportunityIcon="_opportunityIcon_1ioif_337",opportunityLabel="_opportunityLabel_1ioif_347",opportunityValue="_opportunityValue_1ioif_355",followUpAlert="_followUpAlert_1ioif_362",upcoming="_upcoming_1ioif_371",urgent="_urgent_1ioif_377",overdue="_overdue_1ioif_383",followUpDate="_followUpDate_1ioif_389",followUpDateText="_followUpDateText_1ioif_394",followUpNotes="_followUpNotes_1ioif_399",quickActions="_quickActions_1ioif_407",statusSelect="_statusSelect_1ioif_413",actionButton$5="_actionButton_1ioif_436",activityHeader="_activityHeader_1ioif_457",addNote="_addNote_1ioif_464",noteInput="_noteInput_1ioif_472",sendButton$1="_sendButton_1ioif_494",activitiesList="_activitiesList_1ioif_519",activityItem="_activityItem_1ioif_528",activityIcon="_activityIcon_1ioif_533",activityContent="_activityContent_1ioif_545",activityTitle="_activityTitle_1ioif_552",activityDescription="_activityDescription_1ioif_558",activityMeta="_activityMeta_1ioif_564",metaInfo="_metaInfo_1ioif_570",metaItem$2="_metaItem_1ioif_576",metaLabel="_metaLabel_1ioif_589",metaValue="_metaValue_1ioif_594",errorContainer$2="_errorContainer_1ioif_601",errorContent$1="_errorContent_1ioif_609",errorActions$1="_errorActions_1ioif_630",retryButton$2="_retryButton_1ioif_636",rightColumn$1="_rightColumn_1ioif_674",editForm="_editForm_1ioif_722",formGroup$4="_formGroup_1ioif_728",formInput$1="_formInput_1ioif_740",formTextarea$1="_formTextarea_1ioif_741",modalOverlay$6="_modalOverlay_1ioif_765",modal$4="_modal_1ioif_765",modalHeader$6="_modalHeader_1ioif_790",modalCloseButton="_modalCloseButton_1ioif_805",modalBody$4="_modalBody_1ioif_827",assigneeList="_assigneeList_1ioif_837",assigneeButton="_assigneeButton_1ioif_843",currentAssignee="_currentAssignee_1ioif_870",currentBadge="_currentBadge_1ioif_876",modalFooter$4="_modalFooter_1ioif_887",assignButton="_assignButton_1ioif_896",cancelButton$2="_cancelButton_1ioif_918",styles$j={container:container$7,header:header$9,headerLeft:headerLeft$3,backButton:backButton$2,titleSection:titleSection$4,badges,statusBadge:statusBadge$4,priorityBadge,headerActions:headerActions$4,primaryButton:primaryButton$1,deleteButton:deleteButton$1,progressContainer:progressContainer$2,progressSteps:progressSteps$1,progressStep:progressStep$1,stepCircle:stepCircle$1,completed:completed$1,current:current$1,stepLabel:stepLabel$1,progressBarContainer:progressBarContainer$1,progressBarFill:progressBarFill$1,contentGrid:contentGrid$1,card:card$2,detailsGrid:detailsGrid$1,detailItem:detailItem$2,detailLabel:detailLabel$3,detailValue:detailValue$3,descriptionSection:descriptionSection$1,contactGrid,contactItem:contactItem$1,contactIcon,contactName,companyName,opportunityGrid,opportunityItem,opportunityIcon,opportunityLabel,opportunityValue,followUpAlert,upcoming,urgent,overdue,followUpDate,followUpDateText,followUpNotes,quickActions,statusSelect,actionButton:actionButton$5,activityHeader,addNote,noteInput,sendButton:sendButton$1,activitiesList,activityItem,activityIcon,activityContent,activityTitle,activityDescription,activityMeta,metaInfo,metaItem:metaItem$2,metaLabel,metaValue,errorContainer:errorContainer$2,errorContent:errorContent$1,errorActions:errorActions$1,retryButton:retryButton$2,rightColumn:rightColumn$1,editForm,formGroup:formGroup$4,formInput:formInput$1,formTextarea:formTextarea$1,modalOverlay:modalOverlay$6,modal:modal$4,modalHeader:modalHeader$6,modalCloseButton,modalBody:modalBody$4,assigneeList,assigneeButton,currentAssignee,currentBadge,modalFooter:modalFooter$4,assignButton,cancelButton:cancelButton$2},statusConfig={new:{color:"#3b82f6",icon:Plus,label:"New"},contacted:{color:"#8b5cf6",icon:Phone,label:"Contacted"},quoted:{color:"#f59e0b",icon:DollarSign,label:"Quoted"},negotiating:{color:"#10b981",icon:Target,label:"Negotiating"},won:{color:"#22c55e",icon:CheckCircle,label:"Won"},lost:{color:"#ef4444",icon:AlertCircle,label:"Lost"},cancelled:{color:"#6b7280",icon:AlertCircle,label:"Cancelled"}},priorityConfig={urgent:{color:"#ef4444",label:"Urgent"},high:{color:"#f59e0b",label:"High"},medium:{color:"#3b82f6",label:"Medium"},low:{color:"#6b7280",label:"Low"}},enquiryStages=[{key:"new",label:"New Enquiry",icon:MessageSquare},{key:"contacted",label:"Contacted",icon:Phone},{key:"quoted",label:"Quoted",icon:FileText},{key:"negotiating",label:"Negotiating",icon:Target},{key:"won",label:"Closed Won",icon:CheckCircle}];function ViewEnquiry(){const{enquiryId:i}=useParams(),o=useNavigate(),[_,j]=reactExports.useState(null),[_e,et]=reactExports.useState([]),[tt,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState(null),[it,at]=reactExports.useState(""),[ot,ct]=reactExports.useState(!1),[ut,lt]=reactExports.useState(!1),[pt,dt]=reactExports.useState(null),[ht,ft]=reactExports.useState([]),[mt,xt]=reactExports.useState(""),[gt,yt]=reactExports.useState(!1),[_t,Et]=reactExports.useState(!1),wt=reactExports.useCallback(async()=>{if(i){rt(!0);try{if(!authService.getCachedAgent())throw new Error("User not authenticated");console.warn("TODO: Implement /api/v1/enquiries/:id backend endpoint"),j(null),et([]),st("Enquiries feature is being migrated. Please check back later.")}catch(Bt){console.error("Error fetching enquiry details:",Bt),st(Bt instanceof Error?Bt.message:"Failed to fetch enquiry details")}finally{rt(!1)}}},[i]);reactExports.useEffect(()=>{wt(),$t()},[wt]);const $t=async()=>{try{const Bt=authService.getCachedAgent();if(!Bt)return;xt(Bt.is_admin?"admin":"user"),console.warn("TODO: Implement /api/v1/agents backend endpoint for user listing"),ft([])}catch(Bt){console.error("Error loading users:",Bt)}},jt=()=>mt==="admin"||mt==="manager",Tt=()=>{yt(!0)},kt=async Bt=>{if(_){Et(!0);try{console.warn("TODO: Implement PUT /api/v1/enquiries/:id backend endpoint"),await wt(),yt(!1)}catch(tr){console.error("Error in handleAssignSubmit:",tr)}finally{Et(!1)}}},Pt=Bt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Bt),St=Bt=>Bt?new Date(Bt).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}):"N/A",Rt=Bt=>Bt?new Date(Bt).toLocaleString("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",bt=Bt=>{const tr=new Date,hr=new Date(Bt).getTime()-tr.getTime();return Math.ceil(hr/(1e3*60*60*24))},vt=Bt=>statusConfig[Bt]||statusConfig.new,At=Bt=>priorityConfig[Bt]||priorityConfig.low,Ot=()=>{if(!_)return 0;const Bt=enquiryStages.findIndex(tr=>tr.key===_.status);return Bt>=0?Bt:0},Ct=()=>{_&&(dt({contact_name:_.contact_name,company_name:_.company_name||"",email:_.email,phone:_.phone||"",subject:_.subject,description:_.description,priority:_.priority,lead_source:_.lead_source,referral_source:_.referral_source||"",product_interest:_.product_interest||"",estimated_value:_.estimated_value||"",estimated_quantity:_.estimated_quantity||"",expected_decision_date:_.expected_decision_date?_.expected_decision_date.split("T")[0]:"",next_follow_up_date:_.next_follow_up_date?_.next_follow_up_date.split("T")[0]:"",follow_up_notes:_.follow_up_notes||""}),lt(!0))},Lt=async()=>{if(!(!pt||!_))try{console.warn("TODO: Implement PUT /api/v1/enquiries/:id backend endpoint"),lt(!1),dt(null),await wt()}catch(Bt){console.error("Error updating enquiry:",Bt),alert("Failed to update enquiry")}},It=()=>{lt(!1),dt(null)},Dt=Bt=>{const{name:tr,value:ar}=Bt.target;dt(hr=>({...hr,[tr]:ar}))},Zt=async()=>{if(window.confirm("Are you sure you want to delete this enquiry?"))try{console.warn("TODO: Implement DELETE /api/v1/enquiries/:id backend endpoint"),o("/enquiries")}catch(Bt){console.error("Error deleting enquiry:",Bt),alert("Failed to delete enquiry")}},Qt=async()=>{if(!(!it.trim()||ot||!_)){ct(!0);try{const Bt=authService.getCachedAgent();if(!Bt)throw new Error("User not authenticated");const tr={id:Date.now().toString(),enquiry_id:_.id,activity_type:"Note",description:it.trim(),created_by:Bt.id,created_at:new Date().toISOString(),user:{first_name:Bt.name.split(" ")[0]||Bt.name,last_name:Bt.name.split(" ").slice(1).join(" ")||""}};et(ar=>[tr,...ar]),at(""),console.warn("TODO: Implement POST /api/v1/enquiry-activities backend endpoint")}catch(Bt){console.error("Error adding note:",Bt),alert("Failed to add note")}finally{ct(!1)}}},Yt=async Bt=>{try{console.warn("TODO: Implement PATCH /api/v1/enquiries/:id/status backend endpoint"),await wt()}catch(tr){console.error("Error updating status:",tr),alert("Failed to update status")}},Ft=()=>{alert("Create Quote functionality - to be implemented")},Kt=()=>{_!=null&&_.email&&(window.location.href=`mailto:${_.email}?subject=Re: ${_.subject}`)},er=()=>{alert("Log Call functionality - to be implemented")};if(tt)return null;if(nt)return jsxRuntimeExports.jsx("div",{className:styles$j.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$j.errorContent,children:[jsxRuntimeExports.jsx(AlertCircle,{size:48,color:"#ef4444"}),jsxRuntimeExports.jsx("h2",{children:"Error Loading Enquiry"}),jsxRuntimeExports.jsx("p",{children:nt}),jsxRuntimeExports.jsxs("div",{className:styles$j.errorActions,children:[jsxRuntimeExports.jsx("button",{onClick:wt,className:styles$j.retryButton,children:"Retry"}),jsxRuntimeExports.jsx("button",{onClick:()=>o("/enquiries"),className:styles$j.backButton,children:"Back to Enquiries"})]})]})});if(!_)return jsxRuntimeExports.jsx("div",{className:styles$j.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$j.errorContent,children:[jsxRuntimeExports.jsx(MessageSquare,{size:48,color:"#9ca3af"}),jsxRuntimeExports.jsx("h2",{children:"Enquiry Not Found"}),jsxRuntimeExports.jsx("p",{children:"The requested enquiry could not be found or the enquiries feature is being migrated."}),jsxRuntimeExports.jsx("button",{onClick:()=>o("/enquiries"),className:styles$j.backButton,children:"Back to Enquiries"})]})});const Nt=vt(_.status),lr=At(_.priority),Wt=Nt.icon,Ut=Ot(),Jt=_.next_follow_up_date?bt(_.next_follow_up_date):null;return jsxRuntimeExports.jsxs("div",{className:styles$j.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.header,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.headerLeft,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o("/enquiries"),className:styles$j.backButton,children:[jsxRuntimeExports.jsx(ChevronDown,{size:16})," Back to Enquiries"]}),jsxRuntimeExports.jsxs("div",{className:styles$j.titleSection,children:[jsxRuntimeExports.jsx("h1",{children:_.company_name||_.contact_name}),jsxRuntimeExports.jsxs("div",{className:styles$j.badges,children:[jsxRuntimeExports.jsxs("span",{className:styles$j.statusBadge,style:{background:`${Nt.color}20`,color:Nt.color,border:`1px solid ${Nt.color}40`},children:[jsxRuntimeExports.jsx(Wt,{size:14}),Nt.label]}),jsxRuntimeExports.jsx("span",{className:styles$j.priorityBadge,style:{background:`${lr.color}20`,color:lr.color,border:`1px solid ${lr.color}40`},children:lr.label})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.headerActions,children:[jt()&&jsxRuntimeExports.jsxs("button",{onClick:Tt,className:styles$j.assignButton,children:[jsxRuntimeExports.jsx(User,{size:16})," Assign"]}),jsxRuntimeExports.jsx("button",{onClick:ut?Lt:Ct,className:styles$j.primaryButton,children:ut?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckCircle,{size:16})," Save"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(PenSquare,{size:16})," Edit"]})}),ut&&jsxRuntimeExports.jsx("button",{onClick:It,className:styles$j.cancelButton,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Zt,className:styles$j.deleteButton,children:jsxRuntimeExports.jsx(Trash,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.progressContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$j.progressSteps,children:enquiryStages.map((Bt,tr)=>{const ar=tr<Ut,hr=tr===Ut,pr=Bt.icon;return jsxRuntimeExports.jsxs("div",{className:styles$j.progressStep,children:[jsxRuntimeExports.jsx("div",{className:`${styles$j.stepCircle} ${ar?styles$j.completed:""} ${hr?styles$j.current:""}`,children:jsxRuntimeExports.jsx(pr,{size:20})}),jsxRuntimeExports.jsx("div",{className:styles$j.stepLabel,children:Bt.label})]},Bt.key)})}),jsxRuntimeExports.jsx("div",{className:styles$j.progressBarContainer,children:jsxRuntimeExports.jsx("div",{className:styles$j.progressBarFill,style:{width:`${Ut/(enquiryStages.length-1)*100}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.contentGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.leftColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("h3",{children:"Enquiry Details"}),ut&&pt?jsxRuntimeExports.jsxs("div",{className:styles$j.editForm,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Subject"}),jsxRuntimeExports.jsx("input",{type:"text",name:"subject",value:pt.subject,onChange:Dt,className:styles$j.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Lead Source"}),jsxRuntimeExports.jsxs("select",{name:"lead_source",value:pt.lead_source,onChange:Dt,className:styles$j.formInput,children:[jsxRuntimeExports.jsx("option",{value:"Website",children:"Website"}),jsxRuntimeExports.jsx("option",{value:"Email",children:"Email"}),jsxRuntimeExports.jsx("option",{value:"Phone",children:"Phone"}),jsxRuntimeExports.jsx("option",{value:"Social Media",children:"Social Media"}),jsxRuntimeExports.jsx("option",{value:"Referral",children:"Referral"}),jsxRuntimeExports.jsx("option",{value:"Trade Show",children:"Trade Show"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Product Interest"}),jsxRuntimeExports.jsx("input",{type:"text",name:"product_interest",value:pt.product_interest,onChange:Dt,className:styles$j.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Referral Source"}),jsxRuntimeExports.jsx("input",{type:"text",name:"referral_source",value:pt.referral_source,onChange:Dt,className:styles$j.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Priority"}),jsxRuntimeExports.jsxs("select",{name:"priority",value:pt.priority,onChange:Dt,className:styles$j.formInput,children:[jsxRuntimeExports.jsx("option",{value:"low",children:"Low"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"high",children:"High"}),jsxRuntimeExports.jsx("option",{value:"urgent",children:"Urgent"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:pt.description,onChange:Dt,className:styles$j.formTextarea,rows:4})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$j.detailsGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.detailLabel,children:"Subject"}),jsxRuntimeExports.jsx("span",{className:styles$j.detailValue,children:_.subject})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.detailLabel,children:"Lead Source"}),jsxRuntimeExports.jsx("span",{className:styles$j.detailValue,children:_.lead_source})]}),_.product_interest&&jsxRuntimeExports.jsxs("div",{className:styles$j.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.detailLabel,children:"Product Interest"}),jsxRuntimeExports.jsx("span",{className:styles$j.detailValue,children:_.product_interest})]}),_.referral_source&&jsxRuntimeExports.jsxs("div",{className:styles$j.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.detailLabel,children:"Referral Source"}),jsxRuntimeExports.jsx("span",{className:styles$j.detailValue,children:_.referral_source})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.descriptionSection,children:[jsxRuntimeExports.jsx("h4",{children:"Description"}),jsxRuntimeExports.jsx("p",{children:_.description})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("h3",{children:"Contact Information"}),ut&&pt?jsxRuntimeExports.jsxs("div",{className:styles$j.editForm,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Contact Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"contact_name",value:pt.contact_name,onChange:Dt,className:styles$j.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Company Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"company_name",value:pt.company_name,onChange:Dt,className:styles$j.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:pt.email,onChange:Dt,className:styles$j.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",value:pt.phone,onChange:Dt,className:styles$j.formInput})]})]}):jsxRuntimeExports.jsxs("div",{className:styles$j.contactGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.contactItem,children:[jsxRuntimeExports.jsx(User,{size:20,className:styles$j.contactIcon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:styles$j.contactName,children:_.contact_name}),_.company_name&&jsxRuntimeExports.jsx("div",{className:styles$j.companyName,children:_.company_name})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.contactItem,children:[jsxRuntimeExports.jsx(Mail,{size:20,className:styles$j.contactIcon}),jsxRuntimeExports.jsx("a",{href:`mailto:${_.email}`,children:_.email})]}),_.phone&&jsxRuntimeExports.jsxs("div",{className:styles$j.contactItem,children:[jsxRuntimeExports.jsx(Phone,{size:20,className:styles$j.contactIcon}),jsxRuntimeExports.jsx("a",{href:`tel:${_.phone}`,children:_.phone})]})]})]}),(_.estimated_value||_.estimated_quantity||_.expected_decision_date)&&jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("h3",{children:"Opportunity Details"}),jsxRuntimeExports.jsxs("div",{className:styles$j.opportunityGrid,children:[_.estimated_value&&jsxRuntimeExports.jsxs("div",{className:styles$j.opportunityItem,children:[jsxRuntimeExports.jsx(DollarSign,{size:20,className:styles$j.opportunityIcon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:styles$j.opportunityLabel,children:"Estimated Value"}),jsxRuntimeExports.jsx("div",{className:styles$j.opportunityValue,children:Pt(_.estimated_value)})]})]}),_.estimated_quantity&&jsxRuntimeExports.jsxs("div",{className:styles$j.opportunityItem,children:[jsxRuntimeExports.jsx(Package,{size:20,className:styles$j.opportunityIcon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:styles$j.opportunityLabel,children:"Quantity"}),jsxRuntimeExports.jsxs("div",{className:styles$j.opportunityValue,children:[_.estimated_quantity," units"]})]})]}),_.expected_decision_date&&jsxRuntimeExports.jsxs("div",{className:styles$j.opportunityItem,children:[jsxRuntimeExports.jsx(Target,{size:20,className:styles$j.opportunityIcon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:styles$j.opportunityLabel,children:"Expected Decision"}),jsxRuntimeExports.jsx("div",{className:styles$j.opportunityValue,children:St(_.expected_decision_date)})]})]})]})]}),(_.next_follow_up_date||_.follow_up_notes)&&jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("h3",{children:"Follow-up Information"}),_.next_follow_up_date&&Jt!==null&&jsxRuntimeExports.jsxs("div",{className:`${styles$j.followUpAlert} ${Jt<0?styles$j.overdue:Jt<=2?styles$j.urgent:styles$j.upcoming}`,children:[jsxRuntimeExports.jsx(Clock,{size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:styles$j.followUpDate,children:Jt<0?`Overdue by ${Math.abs(Jt)} days`:Jt===0?"Follow up today":`Follow up in ${Jt} days`}),jsxRuntimeExports.jsx("div",{className:styles$j.followUpDateText,children:St(_.next_follow_up_date)})]})]}),_.follow_up_notes&&jsxRuntimeExports.jsxs("div",{className:styles$j.followUpNotes,children:[jsxRuntimeExports.jsx("h4",{children:"Notes"}),jsxRuntimeExports.jsx("p",{children:_.follow_up_notes})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.rightColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("h3",{children:"Quick Actions"}),jsxRuntimeExports.jsxs("div",{className:styles$j.quickActions,children:[jsxRuntimeExports.jsx("select",{value:_.status,onChange:Bt=>Yt(Bt.target.value),className:styles$j.statusSelect,children:Object.entries(statusConfig).map(([Bt,tr])=>jsxRuntimeExports.jsx("option",{value:Bt,children:tr.label},Bt))}),jsxRuntimeExports.jsxs("button",{onClick:Ft,className:styles$j.actionButton,children:[jsxRuntimeExports.jsx(FileText,{size:16})," Create Quote"]}),jsxRuntimeExports.jsxs("button",{onClick:Kt,className:styles$j.actionButton,children:[jsxRuntimeExports.jsx(Send,{size:16})," Send Email"]}),jsxRuntimeExports.jsxs("button",{onClick:er,className:styles$j.actionButton,children:[jsxRuntimeExports.jsx(Phone,{size:16})," Log Call"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("div",{className:styles$j.activityHeader,children:jsxRuntimeExports.jsx("h3",{children:"Enquiry Activity"})}),jsxRuntimeExports.jsxs("div",{className:styles$j.addNote,children:[jsxRuntimeExports.jsx("textarea",{placeholder:"Add a note...",value:it,onChange:Bt=>at(Bt.target.value),className:styles$j.noteInput,rows:3}),jsxRuntimeExports.jsx("button",{onClick:Qt,disabled:!it.trim()||ot,className:styles$j.sendButton,children:jsxRuntimeExports.jsx(Send,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.activitiesList,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.activityItem,children:[jsxRuntimeExports.jsx("div",{className:styles$j.activityIcon,children:jsxRuntimeExports.jsx(Plus,{size:16})}),jsxRuntimeExports.jsxs("div",{className:styles$j.activityContent,children:[jsxRuntimeExports.jsx("div",{className:styles$j.activityTitle,children:"Enquiry Created"}),jsxRuntimeExports.jsxs("div",{className:styles$j.activityMeta,children:["by ",_.created_by_user?`${_.created_by_user.first_name} ${_.created_by_user.last_name}`:"Unknown"," ",Rt(_.created_at)]})]})]}),_e.map(Bt=>jsxRuntimeExports.jsxs("div",{className:styles$j.activityItem,children:[jsxRuntimeExports.jsx("div",{className:styles$j.activityIcon,children:jsxRuntimeExports.jsx(MessageSquare,{size:16})}),jsxRuntimeExports.jsxs("div",{className:styles$j.activityContent,children:[jsxRuntimeExports.jsx("div",{className:styles$j.activityTitle,children:Bt.activity_type}),jsxRuntimeExports.jsx("div",{className:styles$j.activityDescription,children:Bt.description}),jsxRuntimeExports.jsxs("div",{className:styles$j.activityMeta,children:["by ",Bt.user?`${Bt.user.first_name} ${Bt.user.last_name}`:"Unknown"," ",Rt(Bt.created_at)]})]})]},Bt.id))]})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.card,children:[jsxRuntimeExports.jsx("h3",{children:"Information"}),jsxRuntimeExports.jsxs("div",{className:styles$j.metaInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.metaItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.metaLabel,children:"Created"}),jsxRuntimeExports.jsx("span",{className:styles$j.metaValue,children:Rt(_.created_at)})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.metaItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.metaLabel,children:"Last Updated"}),jsxRuntimeExports.jsx("span",{className:styles$j.metaValue,children:Rt(_.updated_at)})]}),_.assigned_to_user&&jsxRuntimeExports.jsxs("div",{className:styles$j.metaItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.metaLabel,children:"Assigned To"}),jsxRuntimeExports.jsxs("span",{className:styles$j.metaValue,children:[_.assigned_to_user.first_name," ",_.assigned_to_user.last_name]})]}),_.last_contacted_at&&jsxRuntimeExports.jsxs("div",{className:styles$j.metaItem,children:[jsxRuntimeExports.jsx("span",{className:styles$j.metaLabel,children:"Last Contacted"}),jsxRuntimeExports.jsx("span",{className:styles$j.metaValue,children:Rt(_.last_contacted_at)})]})]})]})]})]}),gt&&_&&jsxRuntimeExports.jsx("div",{className:styles$j.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$j.modal,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.modalHeader,children:[jsxRuntimeExports.jsx("h3",{children:"Assign Enquiry"}),jsxRuntimeExports.jsx("button",{onClick:()=>yt(!1),className:styles$j.modalCloseButton,children:"x"})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.modalBody,children:[jsxRuntimeExports.jsxs("p",{children:["Assign enquiry ",jsxRuntimeExports.jsxs("strong",{children:["#",_.enquiry_number]})," to:"]}),jsxRuntimeExports.jsx("div",{className:styles$j.assigneeList,children:ht.map(Bt=>jsxRuntimeExports.jsxs("button",{onClick:()=>kt(Bt.id),disabled:_t,className:`${styles$j.assigneeButton} ${_.assigned_to===Bt.id?styles$j.currentAssignee:""}`,children:[jsxRuntimeExports.jsx(User,{size:16}),jsxRuntimeExports.jsxs("span",{children:[Bt.first_name," ",Bt.last_name]}),_.assigned_to===Bt.id&&jsxRuntimeExports.jsx("span",{className:styles$j.currentBadge,children:"Current"})]},Bt.id))})]}),jsxRuntimeExports.jsx("div",{className:styles$j.modalFooter,children:jsxRuntimeExports.jsx("button",{onClick:()=>yt(!1),className:styles$j.cancelButton,disabled:_t,children:"Cancel"})})]})})]})}const ViewEnquiry$1=withLoader(ViewEnquiry,"Loading enquiry details..."),OfflineStatus=()=>{const[i,o]=React$7.useState(navigator.onLine);return React$7.useEffect(()=>{const _=()=>o(!0),j=()=>o(!1);return window.addEventListener("online",_),window.addEventListener("offline",j),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",j)}},[]),i?null:jsxRuntimeExports.jsxs("div",{style:{position:"fixed",bottom:20,left:20,background:"#ef4444",color:"white",padding:"12px 20px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"8px",zIndex:9999,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[jsxRuntimeExports.jsx(WifiOff,{size:18}),"You are offline"]})},NewAllProducts=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(Package,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"All Products"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Product catalog view - coming soon"})]}),BrandSelector=({selectedBrand:i,onBrandSelect:o})=>jsxRuntimeExports.jsxs("div",{style:{padding:"20px"},children:[jsxRuntimeExports.jsx("h3",{children:"Select Brand"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Brand selection - coming soon"})]}),OrderSummary=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(FileText,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Order Summary"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Order summary view - coming soon"})]}),OrderConfirmation=()=>{const i=useNavigate();return jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(CheckCircle,{size:64,style:{color:"#22c55e",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Order Confirmed!"}),jsxRuntimeExports.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"Your order has been successfully placed."}),jsxRuntimeExports.jsx("button",{onClick:()=>i("/orders"),style:{background:"linear-gradient(135deg, #79d5e9 0%, #4daeac 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer"},children:"View Orders"})]})},OrderDetail=()=>{const{orderId:i}=useParams(),o=useNavigate();return jsxRuntimeExports.jsxs("div",{style:{padding:"24px"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o("/orders"),style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",cursor:"pointer",marginBottom:"16px"},children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20})," Back to Orders"]}),jsxRuntimeExports.jsx("h2",{children:"Order Details"}),jsxRuntimeExports.jsxs("p",{style:{color:"#666"},children:["Order #",i]})]})},NewOrder=()=>{const i=useNavigate();return jsxRuntimeExports.jsxs("div",{style:{padding:"24px"},children:[jsxRuntimeExports.jsxs("button",{onClick:()=>i("/orders"),style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",cursor:"pointer",marginBottom:"16px"},children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20})," Back to Orders"]}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[jsxRuntimeExports.jsx(ShoppingCart,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Create New Order"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Order creation form - coming soon"})]})]})},ordersContainer="_ordersContainer_drixa_4",patternFloat="_patternFloat_drixa_1",ordersHeader="_ordersHeader_drixa_48",ordersControls="_ordersControls_drixa_75",searchContainer$2="_searchContainer_drixa_83",searchIcon$3="_searchIcon_drixa_89",searchInput$4="_searchInput_drixa_99",filterControls="_filterControls_drixa_124",statusFilter$1="_statusFilter_drixa_130",sortFilter$1="_sortFilter_drixa_131",ordersWrapper="_ordersWrapper_drixa_159",ordersTableContainer="_ordersTableContainer_drixa_167",ordersTable="_ordersTable_drixa_167",tableHeader$4="_tableHeader_drixa_190",tableRow$4="_tableRow_drixa_199",expanded="_expanded_drixa_211",tableBody$3="_tableBody_drixa_228",tableCell$1="_tableCell_drixa_263",customerInfo$3="_customerInfo_drixa_275",customerDetails="_customerDetails_drixa_281",companyInfo="_companyInfo_drixa_296",statusBadge$3="_statusBadge_drixa_308",statusDraft="_statusDraft_drixa_325",statusSent="_statusSent_drixa_332",statusFulfilled="_statusFulfilled_drixa_339",statusClosed="_statusClosed_drixa_346",statusOpen="_statusOpen_drixa_353",statusShipped$1="_statusShipped_drixa_360",statusPaid="_statusPaid_drixa_376",statusOverdue="_statusOverdue_drixa_383",statusVoid="_statusVoid_drixa_390",endRowSection="_endRowSection_drixa_398",companyLogo="_companyLogo_drixa_405",expandButton="_expandButton_drixa_411",expandedContent="_expandedContent_drixa_432",expandDown="_expandDown_drixa_1",expandedRow="_expandedRow_drixa_450",statusIconContainer="_statusIconContainer_drixa_458",statusIcon="_statusIcon_drixa_458",completedIcon="_completedIcon_drixa_472",pendingIcon$1="_pendingIcon_drixa_478",expandedDetails="_expandedDetails_drixa_485",detailItem$1="_detailItem_drixa_492",detailLabel$2="_detailLabel_drixa_498",detailValue$2="_detailValue_drixa_505",statusBadges="_statusBadges_drixa_512",statusBadgeButton="_statusBadgeButton_drixa_518",shippingShipped="_shippingShipped_drixa_530",shippingPartial="_shippingPartial_drixa_537",shippingNotShipped="_shippingNotShipped_drixa_544",invoicePaid="_invoicePaid_drixa_553",invoiceSent="_invoiceSent_drixa_554",invoiceDraft="_invoiceDraft_drixa_555",invoiceOverdue="_invoiceOverdue_drixa_562",invoiceVoid="_invoiceVoid_drixa_569",invoiceNotInvoiced="_invoiceNotInvoiced_drixa_576",expandedActions="_expandedActions_drixa_597",expandedActionBtn="_expandedActionBtn_drixa_604",editOrderBtn="_editOrderBtn_drixa_618",viewOrderBtn="_viewOrderBtn_drixa_630",cancelOrderBtn="_cancelOrderBtn_drixa_642",actionButtons="_actionButtons_drixa_655",actionBtn$1="_actionBtn_drixa_662",viewBtn="_viewBtn_drixa_703",invoiceBtn="_invoiceBtn_drixa_711",generateInvoiceBtn="_generateInvoiceBtn_drixa_712",viewInvoiceBtn="_viewInvoiceBtn_drixa_720",editInvoiceBtn="_editInvoiceBtn_drixa_728",additionalInvoiceBtn="_additionalInvoiceBtn_drixa_736",paginationContainer="_paginationContainer_drixa_745",paginationInfo="_paginationInfo_drixa_757",paginationControls="_paginationControls_drixa_762",paginationButton="_paginationButton_drixa_768",pageNumbers="_pageNumbers_drixa_791",pageNumber="_pageNumber_drixa_791",active$6="_active_drixa_819",pageDots="_pageDots_drixa_826",allOrdersLoading="_allOrdersLoading_drixa_833",emptyState$7="_emptyState_drixa_848",emptyIcon$1="_emptyIcon_drixa_858",headerActions$3="_headerActions_drixa_878",refreshButton$2="_refreshButton_drixa_883",retryButton$1="_retryButton_drixa_918",loadingMore="_loadingMore_drixa_933",spinner$2="_spinner_drixa_941",spin$1="_spin_drixa_941",endOfList="_endOfList_drixa_954",searchIndicator="_searchIndicator_drixa_961",searchInfo="_searchInfo_drixa_971",skeletonRow="_skeletonRow_drixa_1010",customerAvatar="_customerAvatar_drixa_1138",fadeIn="_fadeIn_drixa_1",orderNumber$2="_orderNumber_drixa_1265",dateCell="_dateCell_drixa_1289",dateMain="_dateMain_drixa_1295",dateTime="_dateTime_drixa_1301",totalAmount="_totalAmount_drixa_1307",itemsCount="_itemsCount_drixa_1317",itemsIcon="_itemsIcon_drixa_1325",fadeInUp="_fadeInUp_drixa_1",loadingSkeleton="_loadingSkeleton_drixa_1353",shimmer="_shimmer_drixa_1",skeleton="_skeleton_drixa_1010",tableHeaderRow="_tableHeaderRow_drixa_1398",customerFilterIndicator="_customerFilterIndicator_drixa_1417",clearFilterButton="_clearFilterButton_drixa_1433",styles$i={ordersContainer,patternFloat,ordersHeader,"metricsGrid-4":"_metricsGrid-4_drixa_67",ordersControls,searchContainer:searchContainer$2,searchIcon:searchIcon$3,searchInput:searchInput$4,filterControls,statusFilter:statusFilter$1,sortFilter:sortFilter$1,ordersWrapper,ordersTableContainer,ordersTable,tableHeader:tableHeader$4,tableRow:tableRow$4,expanded,tableBody:tableBody$3,tableCell:tableCell$1,customerInfo:customerInfo$3,customerDetails,companyInfo,statusBadge:statusBadge$3,statusDraft,statusSent,statusFulfilled,statusClosed,statusOpen,statusShipped:statusShipped$1,statusPaid,statusOverdue,statusVoid,endRowSection,companyLogo,expandButton,expandedContent,expandDown,expandedRow,statusIconContainer,statusIcon,completedIcon,pendingIcon:pendingIcon$1,expandedDetails,detailItem:detailItem$1,detailLabel:detailLabel$2,detailValue:detailValue$2,statusBadges,statusBadgeButton,shippingShipped,shippingPartial,shippingNotShipped,invoicePaid,invoiceSent,invoiceDraft,invoiceOverdue,invoiceVoid,invoiceNotInvoiced,expandedActions,expandedActionBtn,editOrderBtn,viewOrderBtn,cancelOrderBtn,actionButtons,actionBtn:actionBtn$1,viewBtn,invoiceBtn,generateInvoiceBtn,viewInvoiceBtn,editInvoiceBtn,additionalInvoiceBtn,paginationContainer,paginationInfo,paginationControls,paginationButton,pageNumbers,pageNumber,active:active$6,pageDots,allOrdersLoading,emptyState:emptyState$7,emptyIcon:emptyIcon$1,headerActions:headerActions$3,refreshButton:refreshButton$2,retryButton:retryButton$1,loadingMore,spinner:spinner$2,spin:spin$1,endOfList,searchIndicator,searchInfo,skeletonRow,customerAvatar,fadeIn,orderNumber:orderNumber$2,dateCell,dateMain,dateTime,totalAmount,itemsCount,itemsIcon,fadeInUp,loadingSkeleton,shimmer,skeleton,tableHeaderRow,customerFilterIndicator,clearFilterButton},PAGE_SIZE=50,CACHE_DURATION=5*60*1e3,SEARCH_DEBOUNCE_MS=500;function ViewOrders(){const[i,o]=reactExports.useState([]),[_,j]=reactExports.useState(!0),[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState(""),[it,at]=reactExports.useState("all"),[ot,ct]=reactExports.useState(new Set),[ut,lt]=reactExports.useState({totalOrders:0,totalValue:0,avgOrderValue:0,pendingOrders:0,shippedOrders:0,thisMonthOrders:0}),[pt,dt]=reactExports.useState(!0),[ht,ft]=reactExports.useState(!1),[mt,xt]=reactExports.useState(1),[gt,yt]=reactExports.useState(1),Et=useLocation().state,[wt,$t]=reactExports.useState(""),[jt,Tt]=reactExports.useState(""),kt=reactExports.useRef(null),Pt=reactExports.useRef(new Set),St=useNavigate(),{showLoader:Rt,hideLoader:bt}=useLoader();reactExports.useEffect(()=>{Et!=null&&Et.customerId&&($t(Et.customerId),Tt(Et.customerName||"Selected Customer"))},[Et]),reactExports.useEffect(()=>{const Bt=setTimeout(()=>{st(tt)},SEARCH_DEBOUNCE_MS);return()=>clearTimeout(Bt)},[tt]),reactExports.useEffect(()=>{(async()=>{try{const[tr,ar,hr]=await Promise.all([orderService.count(),orderService.count({status:"pending"}),orderService.count({status:"shipped"})]),pr=i.reduce((vr,Er)=>vr+(Er.total||0),0),yr=i.length>0?pr/i.length:0;lt({totalOrders:tr||0,totalValue:pr,avgOrderValue:yr,pendingOrders:ar||0,shippedOrders:hr||0,thisMonthOrders:0}),tr&&tr>0&&yt(Math.ceil(tr/PAGE_SIZE))}catch(tr){console.error("Error loading metrics:",tr)}})()},[i]),reactExports.useEffect(()=>{if(mt===1&&kt.current&&Date.now()-kt.current.timestamp<CACHE_DURATION&&kt.current.search===nt&&kt.current.statusFilter===it&&!wt){console.log("Using cached data"),o(kt.current.data),lt(kt.current.metrics),j(!1);return}mt===1&&o([]),vt(mt===1)},[nt,it,mt,wt]);const vt=async(Bt=!1)=>{j(!0);try{et(null),nt&&ft(!0);const tr={limit:PAGE_SIZE,offset:(mt-1)*PAGE_SIZE};nt&&(tr.search=nt),it!=="all"&&(tr.status=it),wt&&(tr.customer_id=wt);const ar=await orderService.list(tr),hr=ar.data;console.log(`Fetched ${hr.length} orders`),o(hr),dt(hr.length===PAGE_SIZE),ar.count>0&&yt(Math.ceil(ar.count/PAGE_SIZE)),Bt&&(kt.current={data:hr,timestamp:Date.now(),metrics:ut,search:nt,statusFilter:it})}catch(tr){console.error("Error fetching orders:",tr),et(tr instanceof Error?tr.message:"Failed to fetch orders")}finally{j(!1),ft(!1)}},At=()=>{$t(""),Tt(""),window.history.replaceState({},"","/orders"),xt(1),o([]),kt.current=null,Pt.current.clear()},Ot=Bt=>{Bt<1||Bt>gt&&gt>0||(xt(Bt),window.scrollTo({top:0,behavior:"smooth"}))},Ct=reactExports.useCallback(async Bt=>{if(!Pt.current.has(Bt))try{const ar=(await orderService.getById(Bt)).line_items||[];o(hr=>hr.map(pr=>pr.id===Bt?{...pr,line_items:ar}:pr)),Pt.current.add(Bt)}catch(tr){console.error(`Error loading line items for order ${Bt}:`,tr)}},[]),Lt=()=>{const Bt=[];for(let tr=6;tr>=0;tr--){const ar=new Date;ar.setDate(ar.getDate()-tr);const hr=i.filter(pr=>new Date(pr.date||pr.created_at).toDateString()===ar.toDateString());Bt.push({date:ar.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),value:hr.length,revenue:hr.reduce((pr,yr)=>pr+(yr.total||0),0)})}return Bt},It=async Bt=>{await Ct(Bt.id),St(`/order/${Bt.id}`)},Dt=Bt=>{St(`/order/${Bt.id}?edit=true`)},Zt=Bt=>{console.log("Cancel order:",Bt.id)},Qt=async Bt=>{const tr=i.find(ar=>ar.id===Bt);tr&&(!tr.line_items||tr.line_items.length===0)&&await Ct(Bt),ct(ar=>{const hr=new Set(ar);return hr.has(Bt)?hr.delete(Bt):hr.add(Bt),hr})},Yt=Bt=>Bt.status==="shipped"||Bt.status==="delivered"?"shipped":"not_shipped",Ft=Bt=>(!Bt.line_items||Bt.line_items.length===0,0),Kt=Bt=>{var hr;if(!Bt.line_items||Bt.line_items.length===0)return Bt.status==="shipped"||Bt.status==="delivered"?0:((hr=Bt.line_items)==null?void 0:hr.length)||0;const tr=Bt.line_items.reduce((pr,yr)=>pr+yr.quantity,0),ar=Ft(Bt);return tr-ar},er=Bt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(Bt),Nt=Bt=>{if(!Bt)return"N/A";try{return new Date(Bt).toLocaleDateString("en-GB")}catch{return"Invalid Date"}},lr=Bt=>Bt?new Date(Bt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}):"",Wt=Bt=>{const tr=Bt.split(" ");return tr.length>=2?`${tr[0][0]}${tr[1][0]}`.toUpperCase():Bt.slice(0,2).toUpperCase()},Ut=async()=>{console.log("Refreshing orders list..."),kt.current=null,o([]),xt(1),dt(!0),Pt.current.clear(),await vt(!0)};if(reactExports.useEffect(()=>{xt(1)},[nt,it]),_&&i.length===0&&!_e)return null;const Jt=()=>jsxRuntimeExports.jsx("div",{className:styles$i.loadingSkeleton,children:[...Array(5)].map((Bt,tr)=>jsxRuntimeExports.jsxs("div",{className:styles$i.skeletonRow,children:[jsxRuntimeExports.jsx("div",{className:styles$i.skeleton}),jsxRuntimeExports.jsx("div",{className:styles$i.skeleton}),jsxRuntimeExports.jsx("div",{className:styles$i.skeleton}),jsxRuntimeExports.jsx("div",{className:styles$i.skeleton}),jsxRuntimeExports.jsx("div",{className:styles$i.skeleton}),jsxRuntimeExports.jsx("div",{className:styles$i.skeleton}),jsxRuntimeExports.jsx("div",{className:styles$i.skeleton})]},tr))});return _e&&i.length===0?jsxRuntimeExports.jsxs("div",{className:styles$i.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$i.emptyIcon,children:""}),jsxRuntimeExports.jsx("h3",{children:"Error loading orders"}),jsxRuntimeExports.jsx("p",{children:_e}),jsxRuntimeExports.jsx("button",{onClick:Ut,className:styles$i.retryButton,children:"Retry"})]}):jsxRuntimeExports.jsxs("div",{className:styles$i.ordersContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.ordersHeader,children:[jsxRuntimeExports.jsx("h1",{children:"Orders"}),jsxRuntimeExports.jsxs("div",{className:styles$i.headerActions,children:[wt&&jsxRuntimeExports.jsxs("div",{className:styles$i.customerFilterIndicator,children:[jsxRuntimeExports.jsxs("span",{children:["Showing orders for: ",jsxRuntimeExports.jsx("strong",{children:jt})]}),jsxRuntimeExports.jsx("button",{onClick:At,className:styles$i.clearFilterButton,title:"Show all orders",children:""})]}),jsxRuntimeExports.jsx("button",{onClick:Ut,className:styles$i.refreshButton,title:"Refresh orders",children:jsxRuntimeExports.jsx(RefreshCw,{})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$i["metricsGrid-4"],children:[jsxRuntimeExports.jsx(MetricCard,{id:"orders-this-month",title:"Orders This Month",value:ut.thisMonthOrders,subtitle:"Current month",icon:jsxRuntimeExports.jsx(Package,{}),color:"#79d5e9",displayMode:"compact",chartData:Lt().map(Bt=>({name:Bt.date,value:Bt.value}))}),jsxRuntimeExports.jsx(MetricCard,{id:"total-value",title:"Total Value",value:ut.totalValue,subtitle:`From ${i.length} loaded orders`,icon:jsxRuntimeExports.jsx(DollarSign,{}),color:"#4daeac",displayMode:"compact",format:"currency",chartData:Lt().map(Bt=>({name:Bt.date,value:Bt.revenue}))}),jsxRuntimeExports.jsx(MetricCard,{id:"average-order",title:"Average Order",value:ut.avgOrderValue,subtitle:"Per transaction",icon:jsxRuntimeExports.jsx(BarChart3,{}),color:"#61bc8e",displayMode:"compact",format:"currency"}),jsxRuntimeExports.jsx(MetricCard,{id:"pending-orders",title:"Pending Orders",value:ut.pendingOrders,subtitle:"Awaiting fulfillment",icon:jsxRuntimeExports.jsx(Clock,{}),color:"#fbbf24",displayMode:"compact",onClick:()=>at("pending")})]}),jsxRuntimeExports.jsxs("div",{className:styles$i.ordersControls,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.searchContainer,children:[jsxRuntimeExports.jsx("span",{className:styles$i.searchIcon,children:""}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by order #, customer, or company...",value:tt,onChange:Bt=>rt(Bt.target.value),className:styles$i.searchInput}),ht&&jsxRuntimeExports.jsx("span",{className:styles$i.searchIndicator,children:"Searching..."})]}),jsxRuntimeExports.jsx("div",{className:styles$i.filterControls,children:jsxRuntimeExports.jsxs("select",{value:it,onChange:Bt=>at(Bt.target.value),className:styles$i.statusFilter,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"shipped",children:"Shipped"}),jsxRuntimeExports.jsx("option",{value:"closed",children:"Closed"})]})})]}),nt&&jsxRuntimeExports.jsxs("div",{className:styles$i.searchInfo,children:['Showing results for "',nt,'" (',i.length," found)"]}),jsxRuntimeExports.jsxs("div",{className:styles$i.ordersWrapper,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.ordersTableContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.ordersTable,children:[jsxRuntimeExports.jsx("div",{className:styles$i.tableHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$i.tableRow,children:[jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,children:"Order #"}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,children:"Customer"}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,children:"Date"}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,children:"Total"}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell})]})}),jsxRuntimeExports.jsx("div",{className:styles$i.tableBody,children:i.length===0&&!_?jsxRuntimeExports.jsxs("div",{className:styles$i.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$i.emptyIcon,children:""}),jsxRuntimeExports.jsx("h3",{children:"No orders found"}),jsxRuntimeExports.jsx("p",{children:nt||it!=="all"?"Try adjusting your search or filter criteria.":mt>1?"No more orders to display.":"No orders to display."})]}):i.length>0?i.map((Bt,tr)=>{var yr;const ar=ot.has(Bt.id),hr=((yr=Bt.status)==null?void 0:yr.toLowerCase())==="delivered",pr=Yt(Bt);return jsxRuntimeExports.jsxs(React$7.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`${styles$i.tableRow} ${ar?styles$i.expanded:""}`,style:{animationDelay:`${Math.min(tr*.05,.25)}s`},onClick:()=>Qt(Bt.id),children:[jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,"data-label":"Order #",children:jsxRuntimeExports.jsx("strong",{className:styles$i.orderNumber,children:Bt.salesorder_number||"N/A"})}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,"data-label":"Customer",children:jsxRuntimeExports.jsxs("div",{className:styles$i.customerInfo,children:[jsxRuntimeExports.jsx("div",{className:styles$i.customerAvatar,children:Wt(Bt.customer_name||"Unknown")}),jsxRuntimeExports.jsx("div",{className:styles$i.customerDetails,children:jsxRuntimeExports.jsx("strong",{children:Bt.customer_name})})]})}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,"data-label":"Date",children:jsxRuntimeExports.jsxs("div",{className:styles$i.dateCell,children:[jsxRuntimeExports.jsx("span",{className:styles$i.dateMain,children:Nt(Bt.date||Bt.created_at)}),jsxRuntimeExports.jsx("span",{className:styles$i.dateTime,children:lr(Bt.date||Bt.created_at)})]})}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,"data-label":"Total",children:jsxRuntimeExports.jsx("strong",{className:styles$i.totalAmount,children:er(Bt.total||0)})}),jsxRuntimeExports.jsx("div",{className:styles$i.tableCell,"data-label":"",children:jsxRuntimeExports.jsx("div",{className:styles$i.endRowSection,children:jsxRuntimeExports.jsx("button",{className:styles$i.expandButton,onClick:xr=>{xr.stopPropagation(),Qt(Bt.id)},children:ar?"":""})})})]}),ar&&jsxRuntimeExports.jsx("div",{className:styles$i.expandedContent,children:jsxRuntimeExports.jsxs("div",{className:styles$i.expandedRow,children:[jsxRuntimeExports.jsx("div",{className:styles$i.statusIconContainer,children:hr?jsxRuntimeExports.jsx("div",{className:`${styles$i.statusIcon} ${styles$i.completedIcon}`,children:""}):jsxRuntimeExports.jsx("div",{className:`${styles$i.statusIcon} ${styles$i.pendingIcon}`,children:""})}),jsxRuntimeExports.jsxs("div",{className:styles$i.expandedDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$i.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$i.detailLabel,children:"Status"}),jsxRuntimeExports.jsx("span",{className:styles$i.detailValue,children:Bt.status})]}),jsxRuntimeExports.jsxs("div",{className:styles$i.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$i.detailLabel,children:"Awaiting Ship"}),jsxRuntimeExports.jsx("span",{className:styles$i.detailValue,children:Kt(Bt)})]}),jsxRuntimeExports.jsxs("div",{className:styles$i.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$i.detailLabel,children:"Items Shipped"}),jsxRuntimeExports.jsx("span",{className:styles$i.detailValue,children:Ft(Bt)})]}),jsxRuntimeExports.jsxs("div",{className:styles$i.detailItem,children:[jsxRuntimeExports.jsx("span",{className:styles$i.detailLabel,children:"Total"}),jsxRuntimeExports.jsx("span",{className:styles$i.detailValue,children:er(Bt.total||0)})]})]}),jsxRuntimeExports.jsx("div",{className:styles$i.statusBadges,children:jsxRuntimeExports.jsx("button",{className:`${styles$i.statusBadgeButton} ${styles$i[`shipping${pr.charAt(0).toUpperCase()+pr.slice(1).replace(/_/g,"")}`]}`,onClick:xr=>{xr.stopPropagation()},children:pr==="shipped"?"Shipped":pr==="partial"?"Partial Ship":"Not Shipped"})}),jsxRuntimeExports.jsxs("div",{className:styles$i.expandedActions,children:[jsxRuntimeExports.jsxs("button",{onClick:xr=>{xr.stopPropagation(),Dt(Bt)},className:`${styles$i.expandedActionBtn} ${styles$i.editOrderBtn}`,title:"Edit Order",children:[jsxRuntimeExports.jsx(Pencil,{})," Edit Order"]}),jsxRuntimeExports.jsxs("button",{onClick:xr=>{xr.stopPropagation(),It(Bt)},className:`${styles$i.expandedActionBtn} ${styles$i.viewOrderBtn}`,title:"View Order",children:[jsxRuntimeExports.jsx(Eye,{})," View Order"]}),jsxRuntimeExports.jsx("button",{onClick:xr=>{xr.stopPropagation(),Zt(Bt)},className:`${styles$i.expandedActionBtn} ${styles$i.cancelOrderBtn}`,title:"Cancel Order",children:" Cancel Order"})]})]})})]},Bt.id)}):null})]}),_&&i.length===0&&jsxRuntimeExports.jsx(Jt,{})]}),(i.length>0||_&&mt===1)&&jsxRuntimeExports.jsxs("div",{className:styles$i.paginationContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$i.paginationInfo,children:_?"Loading...":jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Showing ",(mt-1)*PAGE_SIZE+1," - ",Math.min(mt*PAGE_SIZE,(mt-1)*PAGE_SIZE+i.length),ut.totalOrders>0&&` of ${ut.totalOrders} orders`]})}),jsxRuntimeExports.jsxs("div",{className:styles$i.paginationControls,children:[jsxRuntimeExports.jsx("button",{className:styles$i.paginationButton,onClick:()=>Ot(mt-1),disabled:mt===1||_,children:"Previous"}),jsxRuntimeExports.jsxs("div",{className:styles$i.pageNumbers,children:[mt>2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:styles$i.pageNumber,onClick:()=>Ot(1),children:"1"}),mt>3&&jsxRuntimeExports.jsx("span",{className:styles$i.pageDots,children:"..."})]}),mt>1&&jsxRuntimeExports.jsx("button",{className:styles$i.pageNumber,onClick:()=>Ot(mt-1),children:mt-1}),jsxRuntimeExports.jsx("button",{className:`${styles$i.pageNumber} ${styles$i.active}`,disabled:!0,children:mt}),pt&&jsxRuntimeExports.jsx("button",{className:styles$i.pageNumber,onClick:()=>Ot(mt+1),children:mt+1}),pt&&gt>0&&mt<gt-1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[mt<gt-2&&jsxRuntimeExports.jsx("span",{className:styles$i.pageDots,children:"..."}),jsxRuntimeExports.jsx("button",{className:styles$i.pageNumber,onClick:()=>Ot(gt),children:gt})]})]}),jsxRuntimeExports.jsx("button",{className:styles$i.paginationButton,onClick:()=>Ot(mt+1),disabled:!pt||_,children:"Next"})]})]})]})]})}const ViewOrders$1=withLoader(ViewOrders),OrderManagement=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(ClipboardList,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Order Management"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Manage orders - coming soon"})]}),invoiceService={async list(i={}){return api.get("/api/v1/invoices",i)},async getById(i){return(await api.get(`/api/v1/invoices/${i}`)).data}},productService={async list(i={}){return api.get("/api/v1/products",i)},async getById(i){return(await api.get(`/api/v1/products/${i}`)).data},async count(i={}){return(await api.get("/api/v1/products/count",i)).count},async getBrands(){return(await api.get("/api/v1/products/brands")).data},async update(i,o){return(await api.put(`/api/v1/products/${i}`,o)).data}},shippingService={async sendOrderToPacking(i){try{return await authService.getCachedAgent()?(await orderService.update(Number(i),{status:"sent_to_packing"}),{success:!0,message:"Order sent to packing successfully"}):{success:!1,message:"User not authenticated"}}catch(o){return console.error("Error sending order to packing:",o),{success:!1,message:"Failed to send order to packing"}}},async markOrderAsPacked(i){try{return await authService.getCachedAgent()?(await orderService.update(Number(i),{status:"packed"}),{success:!0,message:"Order marked as packed successfully"}):{success:!1,message:"User not authenticated"}}catch(o){return console.error("Error marking order as packed:",o),{success:!1,message:"Failed to mark order as packed"}}},async bookDelivery(i){try{return await authService.getCachedAgent()?(await orderService.update(Number(i),{status:"delivery_booked"}),{success:!0,message:"Delivery booked successfully"}):{success:!1,message:"User not authenticated"}}catch(o){return console.error("Error booking delivery:",o),{success:!1,message:"Failed to book delivery"}}},async markAsDelivered(i){try{return await orderService.update(Number(i),{status:"delivered"}),{success:!0,message:"Order marked as delivered successfully"}}catch(o){return console.error("Error marking order as delivered:",o),{success:!1,message:"Failed to mark order as delivered"}}},async getOrdersByWarehouseStatus(i){try{return{pending:[],sentToPacking:[],packed:[],deliveryBooked:[],delivered:[]}}catch(o){return console.error("Error fetching orders by warehouse status:",o),{pending:[],sentToPacking:[],packed:[],deliveryBooked:[],delivered:[]}}},async getWarehouseNotifications(i,o=20){return[]},async markNotificationAsRead(i){return!1},async getWarehouseActivityLog(i){return[]},async getUnreadNotificationCount(i){return 0}},container$6="_container_1hitb_4",header$8="_header_1hitb_15",headerLeft$2="_headerLeft_1hitb_24",orderTitle="_orderTitle_1hitb_30",headerActions$2="_headerActions_1hitb_43",backButton$1="_backButton_1hitb_48",actionButton$4="_actionButton_1hitb_69",primaryButton="_primaryButton_1hitb_89",statusBadge$2="_statusBadge_1hitb_109",progressSection="_progressSection_1hitb_119",progressSteps="_progressSteps_1hitb_135",progressStep="_progressStep_1hitb_135",stepIcon="_stepIcon_1hitb_154",active$5="_active_1hitb_168",current="_current_1hitb_174",stepLabel="_stepLabel_1hitb_181",stepConnector="_stepConnector_1hitb_194",progressStepsCompact="_progressStepsCompact_1hitb_210",progressStepCompact="_progressStepCompact_1hitb_220",stepIconCompact="_stepIconCompact_1hitb_230",stepLabelCompact="_stepLabelCompact_1hitb_258",stepConnectorCompact="_stepConnectorCompact_1hitb_275",progressContainer$1="_progressContainer_1hitb_290",progressStepsNew="_progressStepsNew_1hitb_300",progressStepNew="_progressStepNew_1hitb_308",stepCircle="_stepCircle_1hitb_316",completed="_completed_1hitb_329",stepNumber="_stepNumber_1hitb_342",stepLabelNew="_stepLabelNew_1hitb_348",progressBarContainer="_progressBarContainer_1hitb_356",progressBarFill="_progressBarFill_1hitb_365",contentGrid="_contentGrid_1hitb_374",leftColumn="_leftColumn_1hitb_381",rightColumn="_rightColumn_1hitb_387",card$1="_card_1hitb_392",infoGrid="_infoGrid_1hitb_415",infoItem="_infoItem_1hitb_421",infoIcon$1="_infoIcon_1hitb_427",customerInfo$2="_customerInfo_1hitb_453",customerHeader="_customerHeader_1hitb_459",tradingName="_tradingName_1hitb_465",contactInfo="_contactInfo_1hitb_471",contactItem="_contactItem_1hitb_477",addressSection$1="_addressSection_1hitb_490",address$1="_address_1hitb_490",shipmentInfo="_shipmentInfo_1hitb_519",packageInfo="_packageInfo_1hitb_526",packageHeader="_packageHeader_1hitb_530",courierLogo$1="_courierLogo_1hitb_537",packageDetails="_packageDetails_1hitb_543",mapContainer="_mapContainer_1hitb_552",trackingInfo="_trackingInfo_1hitb_562",label="_label_1hitb_569",value$1="_value_1hitb_577",invoicesList="_invoicesList_1hitb_584",invoiceItem="_invoiceItem_1hitb_590",invoiceInfo="_invoiceInfo_1hitb_607",invoiceHeader="_invoiceHeader_1hitb_611",invoiceDate="_invoiceDate_1hitb_619",invoiceDetails="_invoiceDetails_1hitb_625",viewButton$1="_viewButton_1hitb_633",lineItemsHeader="_lineItemsHeader_1hitb_654",totalSummary="_totalSummary_1hitb_661",tabFilters="_tabFilters_1hitb_667",tabButton="_tabButton_1hitb_675",lineItemsTable="_lineItemsTable_1hitb_698",tableHeader$3="_tableHeader_1hitb_702",tableBody$2="_tableBody_1hitb_715",tableRow$3="_tableRow_1hitb_720",itemInfo="_itemInfo_1hitb_734",itemName="_itemName_1hitb_740",brandName$1="_brandName_1hitb_746",sku$1="_sku_1hitb_751",quantity="_quantity_1hitb_760",unitPrice="_unitPrice_1hitb_760",totalPrice="_totalPrice_1hitb_760",shipped="_shipped_1hitb_760",itemStatus="_itemStatus_1hitb_766",statusShipped="_statusShipped_1hitb_772",statusPartial="_statusPartial_1hitb_780",statusPending="_statusPending_1hitb_788",emptyState$6="_emptyState_1hitb_796",orderSummary="_orderSummary_1hitb_811",summaryRow="_summaryRow_1hitb_818",summaryTotal="_summaryTotal_1hitb_827",notes="_notes_1hitb_840",errorContainer$1="_errorContainer_1hitb_854",errorContent="_errorContent_1hitb_862",errorActions="_errorActions_1hitb_877",retryButton="_retryButton_1hitb_883",modalOverlay$5="_modalOverlay_1hitb_992",modalContent$4="_modalContent_1hitb_1006",modalHeader$5="_modalHeader_1hitb_1017",closeButton$3="_closeButton_1hitb_1032",modalBody$3="_modalBody_1hitb_1047",modalFooter$3="_modalFooter_1hitb_1051",modalActions="_modalActions_1hitb_1060",formGroup$3="_formGroup_1hitb_1066",formInput="_formInput_1hitb_1077",formSelect="_formSelect_1hitb_1078",formTextarea="_formTextarea_1hitb_1079",lineItemsEdit="_lineItemsEdit_1hitb_1105",lineItemRow="_lineItemRow_1hitb_1112",quantityEdit="_quantityEdit_1hitb_1130",priceEdit="_priceEdit_1hitb_1131",secondaryButton="_secondaryButton_1hitb_1181",cancelButton$1="_cancelButton_1hitb_1205",dangerButton="_dangerButton_1hitb_1224",warningMessage="_warningMessage_1hitb_1250",formRow="_formRow_1hitb_1268",formCheckbox="_formCheckbox_1hitb_1274",checkboxLabel="_checkboxLabel_1hitb_1279",addressRow="_addressRow_1hitb_1305",addressColumn="_addressColumn_1hitb_1311",addressHeader="_addressHeader_1hitb_1317",copyAddressBtn="_copyAddressBtn_1hitb_1324",itemsSection="_itemsSection_1hitb_1344",itemsHeader="_itemsHeader_1hitb_1352",addItemBtn="_addItemBtn_1hitb_1365",itemSearch="_itemSearch_1hitb_1385",searchInput$3="_searchInput_1hitb_1393",closeSearchBtn="_closeSearchBtn_1hitb_1412",searchResults="_searchResults_1hitb_1429",searchResultItem="_searchResultItem_1hitb_1438",itemDetails="_itemDetails_1hitb_1459",brand="_brand_1hitb_746",price="_price_1hitb_1131",newBadge="_newBadge_1hitb_1498",itemActions="_itemActions_1hitb_1509",removeItemBtn="_removeItemBtn_1hitb_1514",emptyItems="_emptyItems_1hitb_1529",orderTotal$1="_orderTotal_1hitb_1535",styles$h={container:container$6,header:header$8,headerLeft:headerLeft$2,orderTitle,headerActions:headerActions$2,backButton:backButton$1,actionButton:actionButton$4,primaryButton,statusBadge:statusBadge$2,progressSection,progressSteps,progressStep,stepIcon,active:active$5,current,stepLabel,stepConnector,progressStepsCompact,progressStepCompact,stepIconCompact,stepLabelCompact,stepConnectorCompact,progressContainer:progressContainer$1,progressStepsNew,progressStepNew,stepCircle,completed,stepNumber,stepLabelNew,progressBarContainer,progressBarFill,contentGrid,leftColumn,rightColumn,card:card$1,infoGrid,infoItem,infoIcon:infoIcon$1,customerInfo:customerInfo$2,customerHeader,tradingName,contactInfo,contactItem,addressSection:addressSection$1,address:address$1,shipmentInfo,packageInfo,packageHeader,courierLogo:courierLogo$1,packageDetails,mapContainer,trackingInfo,label,value:value$1,invoicesList,invoiceItem,invoiceInfo,invoiceHeader,invoiceDate,invoiceDetails,viewButton:viewButton$1,lineItemsHeader,totalSummary,tabFilters,tabButton,lineItemsTable,tableHeader:tableHeader$3,tableBody:tableBody$2,tableRow:tableRow$3,itemInfo,itemName,brandName:brandName$1,sku:sku$1,quantity,unitPrice,totalPrice,shipped,itemStatus,statusShipped,statusPartial,statusPending,emptyState:emptyState$6,orderSummary,summaryRow,summaryTotal,notes,errorContainer:errorContainer$1,errorContent,errorActions,retryButton,modalOverlay:modalOverlay$5,modalContent:modalContent$4,modalHeader:modalHeader$5,closeButton:closeButton$3,modalBody:modalBody$3,modalFooter:modalFooter$3,modalActions,formGroup:formGroup$3,formInput,formSelect,formTextarea,lineItemsEdit,lineItemRow,quantityEdit,priceEdit,secondaryButton,cancelButton:cancelButton$1,dangerButton,warningMessage,formRow,formCheckbox,checkboxLabel,addressRow,addressColumn,addressHeader,copyAddressBtn,itemsSection,itemsHeader,addItemBtn,itemSearch,searchInput:searchInput$3,closeSearchBtn,searchResults,searchResultItem,itemDetails,brand,price,newBadge,itemActions,removeItemBtn,emptyItems,orderTotal:orderTotal$1},GOOGLE_MAPS_API_KEY="AIzaSyCtvRdpXyzAg2YTTf398JHSxGA1dmD4Doc",orderStatusSteps=[{key:"pending",label:"Order Received",icon:ClipboardList},{key:"confirmed",label:"Order Confirmed",icon:CheckCircle},{key:"processing",label:"Processing",icon:Warehouse$2},{key:"shipped",label:"Order Shipped",icon:ShoppingCart},{key:"delivered",label:"Delivered",icon:CheckCircle}];function ViewOrder(){var Zr,Jr,Vr,Qr,en,tn,rn,nn,sn,an,on,qr,cn,un,dn,Mt,Gt,zt,Ht,qt,Xt,sr,cr,nr,ir;const{orderId:i}=useParams(),o=useNavigate(),[_,j]=reactExports.useState(null),[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState([]),[nt,st]=reactExports.useState(!0),[it,at]=reactExports.useState(null),[ot,ct]=reactExports.useState("all"),[ut,lt]=reactExports.useState(null),[pt,dt]=reactExports.useState(null),[ht,ft]=reactExports.useState(!1),[mt,xt]=reactExports.useState("idle"),[gt,yt]=reactExports.useState(""),[_t,Et]=reactExports.useState(!1),[wt,$t]=reactExports.useState(null),[jt,Tt]=reactExports.useState(!1),[kt,Pt]=reactExports.useState(!1),[St,Rt]=reactExports.useState(""),[bt,vt]=reactExports.useState(!1),[At,Ot]=reactExports.useState([]),[Ct,Lt]=reactExports.useState(""),[It,Dt]=reactExports.useState(!1),[Zt,Qt]=reactExports.useState(!1),[Yt,Ft]=reactExports.useState("idle"),[Kt,er]=reactExports.useState(""),Nt=reactExports.useCallback(async()=>{var Vt,rr;if(i){st(!0);try{console.log("Attempting to fetch order with ID:",i);const or=await orderService.getById(Number(i));if(!or)throw new Error("Order not found");if(console.log("Order data from service:",or),console.log("Order line items:",or.line_items),console.log("Order total:",or.total),console.log("Order sub_total:",or.sub_total),console.log("Order status:",or.status),console.log("Packages:",or.packages_json),j(or),or.zoho_customer_id)try{const dr=await customerService.getById(or.zoho_customer_id);if(console.log("Customer data:",dr),et(dr),dr.latitude&&dr.longitude)console.log("Setting map center from customer coordinates:",{lat:dr.latitude,lng:dr.longitude}),dt({lat:dr.latitude,lng:dr.longitude});else{console.log("No coordinates found for customer, attempting geocoding");const ur=((Vt=dr.shipping_address)==null?void 0:Vt.zip)||((rr=dr.billing_address)==null?void 0:rr.zip);ur?lr(ur):(console.log("No postcode available, using default UK location"),dt({lat:51.5074,lng:-.1278}))}}catch(dr){console.error("Error fetching customer:",dr),dt({lat:51.5074,lng:-.1278})}else console.log("No customer data found, using default UK location"),dt({lat:51.5074,lng:-.1278});try{const dr=await invoiceService.list({customer_id:or.zoho_customer_id});if(dr&&dr.data){const ur=dr.data.filter(mr=>mr.zoho_salesorder_id===or.zoho_salesorder_id);rt(ur.length>0?ur:[]),console.log("Found invoices:",ur)}}catch(dr){console.log("Error fetching invoices:",dr)}if(or.packages_json&&Array.isArray(or.packages_json)&&or.packages_json.length>0){const dr=or.packages_json[0];dr&&lt({courier_name:dr.delivery_method||dr.carrier||null,courier_logo_url:null})}}catch(or){console.error("Error fetching order details:",or),at(or instanceof Error?or.message:"Failed to fetch order details")}finally{st(!1)}}},[i]),lr=async Vt=>{if(!Vt){console.log("No postcode provided to geocodePostcode");return}try{console.log("Making geocoding request for:",Vt),console.log("Using API key:",GOOGLE_MAPS_API_KEY?"Key exists":"No key");const rr=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(Vt)},UK&key=${GOOGLE_MAPS_API_KEY}`);if(!rr.ok)throw new Error(`HTTP error! status: ${rr.status}`);const or=await rr.json();if(console.log("Geocoding API response:",or),or.status==="OK"&&or.results&&or.results.length>0){const dr=or.results[0].geometry.location;console.log("Setting map center to:",dr),dt({lat:dr.lat,lng:dr.lng})}else console.warn("Geocoding failed. Status:",or.status),console.warn("Error message:",or.error_message),console.warn("No results for postcode:",Vt),console.log("Using fallback location (London)"),dt({lat:51.5074,lng:-.1278})}catch(rr){console.error("Error geocoding postcode:",rr),console.log("Using fallback location due to error"),dt({lat:51.5074,lng:-.1278})}},Wt=Vt=>{const rr=(Vt==null?void 0:Vt.toLowerCase())||"";return rr.includes("ups")?"/logos/ups.png":rr.includes("royal mail")?"/logos/royalmail.png":rr.includes("dpd")?"/logos/dpd.png":rr.includes("dhl")?"/logos/dhl.png":rr.includes("fedex")?"/logos/fedex.png":rr.includes("tnt")?"/logos/tnt.png":"/logos/courier.png"};reactExports.useEffect(()=>{Nt()},[Nt]);const Ut=Vt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(Vt),Jt=Vt=>{if(!Vt)return"N/A";try{return new Date(Vt).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}},Bt=Vt=>{if(!Vt)return"N/A";try{return new Date(Vt).toLocaleString("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},tr=Vt=>{switch(Vt==null?void 0:Vt.toLowerCase()){case"pending":return{bg:"rgba(251, 191, 36, 0.2)",color:"#fbbf24",border:"rgba(251, 191, 36, 0.3)"};case"confirmed":return{bg:"rgba(34, 197, 94, 0.2)",color:"#22c55e",border:"rgba(34, 197, 94, 0.3)"};case"processing":return{bg:"rgba(59, 130, 246, 0.2)",color:"#3b82f6",border:"rgba(59, 130, 246, 0.3)"};case"shipped":return{bg:"rgba(168, 85, 247, 0.2)",color:"#a855f7",border:"rgba(168, 85, 247, 0.3)"};case"delivered":return{bg:"rgba(34, 197, 94, 0.2)",color:"#22c55e",border:"rgba(34, 197, 94, 0.3)"};case"cancelled":return{bg:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"rgba(239, 68, 68, 0.3)"};default:return{bg:"rgba(156, 163, 175, 0.2)",color:"#9ca3af",border:"rgba(156, 163, 175, 0.3)"}}},ar=()=>{const Vt=orderStatusSteps.findIndex(rr=>{var or;return rr.key===((or=_==null?void 0:_.status)==null?void 0:or.toLowerCase())});return Vt>=0?Vt:0},hr=()=>{if(!(_!=null&&_.line_items))return[];const Vt=_.line_items;switch(ot){case"shipped":return Vt.filter(rr=>(rr.quantity_shipped||0)>=rr.quantity);case"partial":return Vt.filter(rr=>{const or=rr.quantity_shipped||0;return or>0&&or<rr.quantity});case"awaiting":return Vt.filter(rr=>(rr.quantity_shipped||0)===0);default:return Vt}},pr=()=>{if(!(_!=null&&_.line_items))return{all:0,shipped:0,partial:0,awaiting:0};const Vt=_.line_items;return{all:Vt.length,shipped:Vt.filter(rr=>(rr.quantity_shipped||0)>=rr.quantity).length,partial:Vt.filter(rr=>{const or=rr.quantity_shipped||0;return or>0&&or<rr.quantity}).length,awaiting:Vt.filter(rr=>(rr.quantity_shipped||0)===0).length}},yr=()=>{window.print()},xr=()=>{console.log("Create invoice for order:",i)},vr=()=>{var Vt,rr,or,dr,ur,mr,_r,wr,Sr,Pr,Lr,Dr,Br,Mr,Xr,Or;_&&_e&&($t({notes:_.notes||"",order_status:_.status,order_date:_.date?_.date.split("T")[0]:new Date().toISOString().split("T")[0],shipping_status:_.shipment_status||"pending",billing_address:{address_1:((Vt=_e.billing_address)==null?void 0:Vt.address)||"",address_2:((rr=_e.billing_address)==null?void 0:rr.street2)||"",city_town:((or=_e.billing_address)==null?void 0:or.city)||"",county:((dr=_e.billing_address)==null?void 0:dr.state)||"",postcode:((ur=_e.billing_address)==null?void 0:ur.zip)||""},shipping_address:{address_1:((mr=_e.shipping_address)==null?void 0:mr.address)||((_r=_e.billing_address)==null?void 0:_r.address)||"",address_2:((wr=_e.shipping_address)==null?void 0:wr.street2)||((Sr=_e.billing_address)==null?void 0:Sr.street2)||"",city_town:((Pr=_e.shipping_address)==null?void 0:Pr.city)||((Lr=_e.billing_address)==null?void 0:Lr.city)||"",county:((Dr=_e.shipping_address)==null?void 0:Dr.state)||((Br=_e.billing_address)==null?void 0:Br.state)||"",postcode:((Mr=_e.shipping_address)==null?void 0:Mr.zip)||((Xr=_e.billing_address)==null?void 0:Xr.zip)||""},make_default_addresses:!1,line_items:((Or=_.line_items)==null?void 0:Or.map(Kr=>({id:Kr.id,item_id:Kr.zoho_item_id,item_name:Kr.name,quantity:Kr.quantity,unit_price:Kr.rate,total_price:Kr.amount})))||[],new_items:[]}),Et(!0))},Er=()=>{o("/orders")},jr=async Vt=>{if(!Vt||Vt.length<2){Ot([]);return}try{const rr=await productService.list({search:Vt,limit:20});Ot(rr.data||[])}catch(rr){console.error("Error searching items:",rr),Ot([])}},Ar=Vt=>{const rr={id:`new-${Date.now()}`,item_id:Vt.zoho_item_id||Vt.id,item_name:Vt.name,quantity:1,unit_price:parseFloat(Vt.rate||0),total_price:parseFloat(Vt.rate||0),is_new:!0};$t({...wt,line_items:[...wt.line_items,rr]}),Lt(""),Ot([]),Dt(!1)},Rr=Vt=>{const rr=wt.line_items.filter((or,dr)=>dr!==Vt);$t({...wt,line_items:rr})},Tr=async()=>{if(!(!wt||!_||!_e)){Tt(!0);try{await orderService.update(_.id,{notes:wt.notes,status:wt.order_status,date:wt.order_date}),wt.make_default_addresses&&await customerService.update(_e.id,{billing_address:{address:wt.billing_address.address_1,street2:wt.billing_address.address_2,city:wt.billing_address.city_town,state:wt.billing_address.county,zip:wt.billing_address.postcode},shipping_address:{address:wt.shipping_address.address_1,street2:wt.shipping_address.address_2,city:wt.shipping_address.city_town,state:wt.shipping_address.county,zip:wt.shipping_address.postcode}}),await $r("update",{...wt,addresses_updated:wt.make_default_addresses,items_added:wt.line_items.filter(Vt=>Vt.is_new).length,items_removed:0}),await Nt(),Et(!1),xt("success"),yt("Order updated successfully!"),setTimeout(()=>{xt("idle"),yt("")},5e3)}catch(Vt){console.error("Error updating order:",Vt),xt("error"),yt(Vt instanceof Error?Vt.message:"Failed to update order"),setTimeout(()=>{xt("idle"),yt("")},5e3)}finally{Tt(!1)}}},br=async()=>{if(_){vt(!0);try{await orderService.update(_.id,{status:"cancelled",notes:_.notes?`${_.notes}

CANCELLED: ${St}`:`CANCELLED: ${St}`}),await $r("cancel",{reason:St,cancelled_at:new Date().toISOString()}),await Nt(),Pt(!1),Rt(""),xt("success"),yt("Order cancelled successfully!"),setTimeout(()=>{xt("idle"),yt("")},5e3)}catch(Vt){console.error("Error cancelling order:",Vt),xt("error"),yt(Vt instanceof Error?Vt.message:"Failed to cancel order"),setTimeout(()=>{xt("idle"),yt("")},5e3)}finally{vt(!1)}}},$r=async(Vt,rr)=>{try{const or={action:"update_order",update_type:Vt,order_id:_==null?void 0:_.id,order_number:(_==null?void 0:_.salesorder_number)||(_==null?void 0:_.id),customer_data:_e,order_data:_,update_data:rr,timestamp:new Date().toISOString(),source:"view_order_page"};console.log("Sending order update to webhook:",or);const ur=await fetch("https://hook.eu2.make.com/ussc9u8m3bamb3epfx4u0o0ef8hy8b4n",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(or)});if(!ur.ok)throw new Error(`Webhook failed with status: ${ur.status}`);let mr;const _r=ur.headers.get("content-type");if(_r&&_r.includes("application/json"))mr=await ur.json();else{const wr=await ur.text();console.log("Order update webhook returned plain text:",wr),mr={success:!0,message:wr}}console.log("Order update webhook response:",mr)}catch(or){console.error("Error sending order update to webhook:",or)}},Nr=async()=>{if(!_||!_e){yt("Missing order or customer data"),xt("error");return}ft(!0),xt("sending"),yt("Preparing order for Zoho...");try{const Vt=(_.line_items||[]).map(ur=>({item_id:ur.zoho_item_id,sku:ur.sku||"N/A",name:ur.name,quantity:ur.quantity,rate:ur.rate,amount:ur.amount,brand:"Unknown"})),rr={salesorder_number:_.salesorder_number||`SO-${_.id}`,date:new Date(_.date||_.created_at).toISOString().split("T")[0],customer:{customer_id:_e.zoho_contact_id||_e.id,name:_e.company_name,email:_e.email,company:_e.company_name},line_items:Vt,subtotal:_.sub_total||0,vat_amount:Math.max(0,(_.total||0)-(_.sub_total||0)),total:_.total||0,notes:_.notes||"Order resent to Zoho via web app",created_by:"Web Order - Resend",created_at:new Date().toISOString(),original_order_date:_.date||_.created_at};yt("Sending to Zoho webhook...");const dr=await fetch("https://hook.eu2.make.com/ussc9u8m3bamb3epfx4u0o0ef8hy8b4n",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(rr)});if(!dr.ok)throw new Error(`Webhook failed with status: ${dr.status}`);xt("success"),yt("Order successfully sent to Zoho!"),setTimeout(()=>{xt("idle"),yt("")},5e3)}catch(Vt){console.error("Error sending to Zoho:",Vt),xt("error"),yt(Vt instanceof Error?Vt.message:"Failed to send to Zoho"),setTimeout(()=>{xt("idle"),yt("")},5e3)}finally{ft(!1)}},Cr=async()=>{if(_){Qt(!0),Ft("sending"),er("Sending order to packing...");try{const Vt=await shippingService.sendOrderToPacking(String(_.id));if(Vt.success)Ft("success"),er(Vt.message),await Nt(),setTimeout(()=>{Ft("idle"),er("")},5e3);else throw new Error(Vt.message)}catch(Vt){console.error("Error sending order to packing:",Vt),Ft("error"),er(Vt instanceof Error?Vt.message:"Failed to send order to packing"),setTimeout(()=>{Ft("idle"),er("")},5e3)}finally{Qt(!1)}}};if(nt)return null;if(it)return jsxRuntimeExports.jsx("div",{className:styles$h.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$h.errorContent,children:[jsxRuntimeExports.jsx(HelpCircle,{size:48,color:"#ef4444"}),jsxRuntimeExports.jsx("h2",{children:"Error Loading Order"}),jsxRuntimeExports.jsx("p",{children:it}),jsxRuntimeExports.jsxs("div",{className:styles$h.errorActions,children:[jsxRuntimeExports.jsx("button",{onClick:Nt,className:styles$h.retryButton,children:"Retry"}),jsxRuntimeExports.jsx("button",{onClick:Er,className:styles$h.backButton,children:"Back to Orders"})]})]})});if(!_)return jsxRuntimeExports.jsx("div",{className:styles$h.errorContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$h.errorContent,children:[jsxRuntimeExports.jsx(Package,{size:48,color:"#9ca3af"}),jsxRuntimeExports.jsx("h2",{children:"Order Not Found"}),jsxRuntimeExports.jsx("p",{children:"The requested order could not be found."}),jsxRuntimeExports.jsx("button",{onClick:Er,className:styles$h.backButton,children:"Back to Orders"})]})});const Fr=tr(_.status),Hr=ar(),Ur=pr(),Yr=hr(),Wr=_.packages_json||[],Gr=Wr.length>0,Ir=Gr?Wr[0]:null;return jsxRuntimeExports.jsxs("div",{className:styles$h.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.header,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.headerLeft,children:[jsxRuntimeExports.jsxs("button",{onClick:Er,className:styles$h.backButton,children:[jsxRuntimeExports.jsx(ChevronDown,{size:16})," Back to Orders"]}),jsxRuntimeExports.jsxs("div",{className:styles$h.orderTitle,children:[jsxRuntimeExports.jsxs("h1",{children:["Order ",_.salesorder_number||"N/A"]}),jsxRuntimeExports.jsx("span",{className:styles$h.statusBadge,style:{background:Fr.bg,color:Fr.color,border:`1px solid ${Fr.border}`},children:_.status})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.headerActions,children:[jsxRuntimeExports.jsxs("button",{onClick:yr,className:styles$h.actionButton,children:[jsxRuntimeExports.jsx(File$1,{size:16})," Print"]}),jsxRuntimeExports.jsxs("button",{onClick:xr,className:styles$h.actionButton,children:[jsxRuntimeExports.jsx(FileText,{size:16})," Invoice"]}),jsxRuntimeExports.jsxs("button",{onClick:Nr,className:styles$h.actionButton,disabled:ht,children:[jsxRuntimeExports.jsx(Send,{size:16}),ht?"Sending...":"Send to Zoho"]}),jsxRuntimeExports.jsxs("button",{onClick:Cr,className:styles$h.actionButton,disabled:Zt,children:[jsxRuntimeExports.jsx(Package,{size:16}),Zt?"Sending...":"Send to Packing"]}),jsxRuntimeExports.jsxs("button",{onClick:vr,className:styles$h.primaryButton,children:[jsxRuntimeExports.jsx(Settings$1,{size:16})," Edit Order"]})]})]}),gt&&jsxRuntimeExports.jsxs("div",{className:`${styles$h.notification} ${styles$h[mt]}`,children:[mt==="sending"&&jsxRuntimeExports.jsx("div",{className:styles$h.spinner}),mt==="success"&&jsxRuntimeExports.jsx(CheckCircle,{size:20}),mt==="error"&&jsxRuntimeExports.jsx(HelpCircle,{size:20}),jsxRuntimeExports.jsx("span",{children:gt})]}),Kt&&jsxRuntimeExports.jsxs("div",{className:`${styles$h.notification} ${styles$h[Yt]}`,children:[Yt==="sending"&&jsxRuntimeExports.jsx("div",{className:styles$h.spinner}),Yt==="success"&&jsxRuntimeExports.jsx(CheckCircle,{size:20}),Yt==="error"&&jsxRuntimeExports.jsx(HelpCircle,{size:20}),jsxRuntimeExports.jsx("span",{children:Kt})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.contentGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.leftColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("h3",{children:"Order Information"}),jsxRuntimeExports.jsxs("div",{className:styles$h.infoGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.infoItem,children:[jsxRuntimeExports.jsx(Calendar,{className:styles$h.infoIcon,size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Order Date"}),jsxRuntimeExports.jsx("span",{children:Jt(_.date||_.created_at)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.infoItem,children:[jsxRuntimeExports.jsx(User,{className:styles$h.infoIcon,size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Customer"}),jsxRuntimeExports.jsx("span",{children:_.customer_name||"Unknown Customer"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.infoItem,children:[jsxRuntimeExports.jsx(ShoppingCart,{className:styles$h.infoIcon,size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Shipping Status"}),jsxRuntimeExports.jsx("span",{children:_.shipment_status||_.status||"Pending"})]})]})]})]}),_e&&jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("h3",{children:"Customer Details"}),pt&&jsxRuntimeExports.jsx("div",{className:styles$h.mapContainer,style:{marginBottom:"1rem"},children:jsxRuntimeExports.jsx("iframe",{title:"Customer Location Map",width:"100%",height:"300",frameBorder:"0",style:{border:0,borderRadius:"8px"},src:`https://www.google.com/maps/embed/v1/place?key=${GOOGLE_MAPS_API_KEY}&q=${pt.lat},${pt.lng}&zoom=15`,allowFullScreen:!0})}),jsxRuntimeExports.jsxs("div",{className:styles$h.customerInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.customerHeader,children:[jsxRuntimeExports.jsx("h4",{children:_e.company_name}),_e.contact_name&&jsxRuntimeExports.jsx("p",{className:styles$h.tradingName,children:_e.contact_name})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.contactInfo,children:[_e.email&&jsxRuntimeExports.jsxs("div",{className:styles$h.contactItem,children:[jsxRuntimeExports.jsx(Mail,{size:16}),jsxRuntimeExports.jsx("span",{children:_e.email})]}),_e.phone&&jsxRuntimeExports.jsxs("div",{className:styles$h.contactItem,children:[jsxRuntimeExports.jsx(User,{size:16}),jsxRuntimeExports.jsx("span",{children:_e.phone})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.addressSection,children:[jsxRuntimeExports.jsx("h5",{children:"Billing Address"}),jsxRuntimeExports.jsxs("div",{className:styles$h.address,children:[jsxRuntimeExports.jsx(Home,{size:16}),jsxRuntimeExports.jsxs("div",{children:[(Zr=_e.billing_address)==null?void 0:Zr.address,jsxRuntimeExports.jsx("br",{}),((Jr=_e.billing_address)==null?void 0:Jr.street2)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_e.billing_address.street2,jsxRuntimeExports.jsx("br",{})]}),(Vr=_e.billing_address)==null?void 0:Vr.city," ",(Qr=_e.billing_address)==null?void 0:Qr.zip,jsxRuntimeExports.jsx("br",{}),(en=_e.billing_address)==null?void 0:en.state]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.addressSection,children:[jsxRuntimeExports.jsx("h5",{children:"Shipping Address"}),jsxRuntimeExports.jsxs("div",{className:styles$h.address,children:[jsxRuntimeExports.jsx(MapPin,{size:16}),jsxRuntimeExports.jsx("div",{children:(tn=_e.shipping_address)!=null&&tn.address?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_e.shipping_address.address,jsxRuntimeExports.jsx("br",{}),_e.shipping_address.street2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_e.shipping_address.street2,jsxRuntimeExports.jsx("br",{})]}),_e.shipping_address.city," ",_e.shipping_address.zip,jsxRuntimeExports.jsx("br",{}),_e.shipping_address.state]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("em",{children:"Same as billing address:"}),jsxRuntimeExports.jsx("br",{}),(rn=_e.billing_address)==null?void 0:rn.address,jsxRuntimeExports.jsx("br",{}),((nn=_e.billing_address)==null?void 0:nn.street2)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_e.billing_address.street2,jsxRuntimeExports.jsx("br",{})]}),(sn=_e.billing_address)==null?void 0:sn.city," ",(an=_e.billing_address)==null?void 0:an.zip,jsxRuntimeExports.jsx("br",{}),(on=_e.billing_address)==null?void 0:on.state]})})]})]})]})]}),Gr&&Ir&&jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("h3",{children:"Shipment Information"}),jsxRuntimeExports.jsx("div",{className:styles$h.shipmentInfo,children:jsxRuntimeExports.jsxs("div",{className:styles$h.infoGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.infoItem,children:[jsxRuntimeExports.jsx(Truck,{className:styles$h.infoIcon,size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Status"}),jsxRuntimeExports.jsx("span",{children:_.shipment_status||_.shipped_status||"Pending"})]})]}),Ir.tracking_number&&jsxRuntimeExports.jsxs("div",{className:styles$h.infoItem,children:[jsxRuntimeExports.jsx(Route,{className:styles$h.infoIcon,size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Tracking Number"}),jsxRuntimeExports.jsx("span",{children:Ir.tracking_number})]})]}),Ir.shipment_date&&jsxRuntimeExports.jsxs("div",{className:styles$h.infoItem,children:[jsxRuntimeExports.jsx(Clock,{className:styles$h.infoIcon,size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Date Shipped"}),jsxRuntimeExports.jsx("span",{children:Bt(Ir.shipment_date)})]})]})]})})]}),_e&&jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("h3",{children:"Package Information"}),Gr?jsxRuntimeExports.jsxs("div",{className:styles$h.packageInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.packageHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.packageDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.trackingInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$h.label,children:"Courier"}),jsxRuntimeExports.jsx("span",{className:styles$h.value,children:(ut==null?void 0:ut.courier_name)||(Ir==null?void 0:Ir.delivery_method)||"Unknown"})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.trackingInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$h.label,children:"Tracking"}),jsxRuntimeExports.jsx("span",{className:styles$h.value,children:(Ir==null?void 0:Ir.tracking_number)||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.trackingInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$h.label,children:"Packages"}),jsxRuntimeExports.jsx("span",{className:styles$h.value,children:Wr.length})]})]}),(ut==null?void 0:ut.courier_name)&&jsxRuntimeExports.jsx("div",{className:styles$h.courierLogo,children:jsxRuntimeExports.jsx("img",{src:ut.courier_logo_url||Wt(ut.courier_name),alt:ut.courier_name,style:{height:"40px",width:"auto",objectFit:"contain"},onError:Vt=>{Vt.target.src=Wt("default")}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{children:"Shipping Details"}),(qr=_.shipping_address_json)!=null&&qr.address||(cn=_e.shipping_address)!=null&&cn.address?jsxRuntimeExports.jsxs("div",{className:styles$h.address,children:[jsxRuntimeExports.jsx(MapPin,{size:16}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:_e.company_name}),jsxRuntimeExports.jsx("br",{}),((un=_.shipping_address_json)==null?void 0:un.address)||((dn=_e.shipping_address)==null?void 0:dn.address),jsxRuntimeExports.jsx("br",{}),(((Mt=_.shipping_address_json)==null?void 0:Mt.street2)||((Gt=_e.shipping_address)==null?void 0:Gt.street2))&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[((zt=_.shipping_address_json)==null?void 0:zt.street2)||((Ht=_e.shipping_address)==null?void 0:Ht.street2),jsxRuntimeExports.jsx("br",{})]}),((qt=_.shipping_address_json)==null?void 0:qt.city)||((Xt=_e.shipping_address)==null?void 0:Xt.city)," ",((sr=_.shipping_address_json)==null?void 0:sr.zip)||((cr=_e.shipping_address)==null?void 0:cr.zip),jsxRuntimeExports.jsx("br",{}),((nr=_.shipping_address_json)==null?void 0:nr.state)||((ir=_e.shipping_address)==null?void 0:ir.state)]})]}):jsxRuntimeExports.jsx("div",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:"No shipping address available. Using billing address for map."})]})]}):jsxRuntimeExports.jsx("div",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.7)",fontStyle:"italic"},children:"No shipment data available for this order."})]}),tt.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsxs("h3",{children:["Invoices (",tt.length,")"]}),jsxRuntimeExports.jsx("div",{className:styles$h.invoicesList,children:tt.map(Vt=>{const rr=tr(Vt.status);return jsxRuntimeExports.jsxs("div",{className:styles$h.invoiceItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.invoiceInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.invoiceHeader,children:[jsxRuntimeExports.jsx("span",{className:styles$h.invoiceDate,children:Jt(Vt.invoice_date)}),jsxRuntimeExports.jsx("span",{className:styles$h.statusBadge,style:{background:rr.bg,color:rr.color,border:`1px solid ${rr.border}`},children:Vt.status})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.invoiceDetails,children:[jsxRuntimeExports.jsxs("span",{children:["Total: ",Ut(Vt.total)]}),jsxRuntimeExports.jsxs("span",{children:["Balance: ",Ut(Vt.balance)]})]})]}),jsxRuntimeExports.jsxs("button",{className:styles$h.viewButton,children:[jsxRuntimeExports.jsx(Eye,{size:16})," View"]})]},Vt.id)})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.rightColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.progressContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$h.progressStepsNew,children:orderStatusSteps.map((Vt,rr)=>{const or=rr<Hr,dr=rr===Hr;return jsxRuntimeExports.jsxs("div",{className:styles$h.progressStepNew,children:[jsxRuntimeExports.jsx("div",{className:`${styles$h.stepCircle} ${or?styles$h.completed:""} ${dr?styles$h.current:""}`,children:or?jsxRuntimeExports.jsx("span",{className:styles$h.stepNumber,children:""}):jsxRuntimeExports.jsx("span",{className:styles$h.stepNumber,children:rr+1})}),jsxRuntimeExports.jsx("div",{className:styles$h.stepLabelNew,children:Vt.label})]},Vt.key)})}),jsxRuntimeExports.jsx("div",{className:styles$h.progressBarContainer,children:jsxRuntimeExports.jsx("div",{className:styles$h.progressBarFill,style:{width:`${Hr/(orderStatusSteps.length-1)*100}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.lineItemsHeader,children:[jsxRuntimeExports.jsx("h3",{children:"Order Items"}),jsxRuntimeExports.jsx("div",{className:styles$h.totalSummary,children:jsxRuntimeExports.jsxs("span",{children:["Total: ",Ut(_.total||0)]})})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.tabFilters,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$h.tabButton} ${ot==="all"?styles$h.active:""}`,onClick:()=>ct("all"),children:["All Items (",Ur.all,")"]}),jsxRuntimeExports.jsxs("button",{className:`${styles$h.tabButton} ${ot==="shipped"?styles$h.active:""}`,onClick:()=>ct("shipped"),children:["Shipped (",Ur.shipped,")"]}),jsxRuntimeExports.jsxs("button",{className:`${styles$h.tabButton} ${ot==="partial"?styles$h.active:""}`,onClick:()=>ct("partial"),children:["Partial (",Ur.partial,")"]}),jsxRuntimeExports.jsxs("button",{className:`${styles$h.tabButton} ${ot==="awaiting"?styles$h.active:""}`,onClick:()=>ct("awaiting"),children:["Awaiting (",Ur.awaiting,")"]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.lineItemsTable,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.tableHeader,children:[jsxRuntimeExports.jsx("div",{children:"Item"}),jsxRuntimeExports.jsx("div",{children:"SKU"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit Price"}),jsxRuntimeExports.jsx("div",{children:"Total"}),jsxRuntimeExports.jsx("div",{children:"Shipped"}),jsxRuntimeExports.jsx("div",{children:"Status"})]}),jsxRuntimeExports.jsx("div",{className:styles$h.tableBody,children:Yr.map(Vt=>{var ur;const rr=Vt.quantity_shipped||0,or=rr>=Vt.quantity,dr=rr>0&&rr<Vt.quantity;return jsxRuntimeExports.jsxs("div",{className:styles$h.tableRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.itemInfo,children:[jsxRuntimeExports.jsx("div",{className:styles$h.itemName,children:Vt.name}),Vt.brand_name&&jsxRuntimeExports.jsx("div",{className:styles$h.brandName,children:Vt.brand_name})]}),jsxRuntimeExports.jsx("div",{className:styles$h.sku,children:jsxRuntimeExports.jsx("code",{children:Vt.sku||((ur=Vt.zoho_item_id)==null?void 0:ur.substr(0,8))||"N/A"})}),jsxRuntimeExports.jsx("div",{className:styles$h.quantity,children:Vt.quantity}),jsxRuntimeExports.jsx("div",{className:styles$h.unitPrice,children:Ut(Vt.rate||0)}),jsxRuntimeExports.jsx("div",{className:styles$h.totalPrice,children:Ut(Vt.amount||0)}),jsxRuntimeExports.jsxs("div",{className:styles$h.shipped,children:[rr," / ",Vt.quantity]}),jsxRuntimeExports.jsx("div",{className:styles$h.itemStatus,children:or?jsxRuntimeExports.jsxs("span",{className:styles$h.statusShipped,children:[jsxRuntimeExports.jsx(CheckCircle,{size:16})," Shipped"]}):dr?jsxRuntimeExports.jsxs("span",{className:styles$h.statusPartial,children:[jsxRuntimeExports.jsx(Clock,{size:16})," Partial"]}):jsxRuntimeExports.jsxs("span",{className:styles$h.statusPending,children:[jsxRuntimeExports.jsx(Package,{size:16})," Pending"]})})]},Vt.id)})}),Yr.length===0&&jsxRuntimeExports.jsxs("div",{className:styles$h.emptyState,children:[jsxRuntimeExports.jsx(Package,{size:48}),jsxRuntimeExports.jsx("p",{children:"No items match the current filter"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.orderSummary,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.summaryRow,children:[jsxRuntimeExports.jsx("span",{children:"Subtotal:"}),jsxRuntimeExports.jsx("span",{children:Ut(_.sub_total||0)})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.summaryRow,children:[jsxRuntimeExports.jsx("span",{children:"Tax:"}),jsxRuntimeExports.jsx("span",{children:Ut(_.tax_total||Math.max(0,(_.total||0)-(_.sub_total||0)))})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.summaryTotal,children:[jsxRuntimeExports.jsx("span",{children:"Total:"}),jsxRuntimeExports.jsx("span",{children:Ut(_.total||0)})]})]})]})]})]}),_.notes&&jsxRuntimeExports.jsxs("div",{className:styles$h.card,children:[jsxRuntimeExports.jsx("h3",{children:"Order Notes"}),jsxRuntimeExports.jsx("div",{className:styles$h.notes,children:jsxRuntimeExports.jsx("p",{children:_.notes})})]}),_t&&wt&&jsxRuntimeExports.jsx("div",{className:styles$h.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$h.modalContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Edit Order"}),jsxRuntimeExports.jsx("button",{className:styles$h.closeButton,onClick:()=>Et(!1),children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.modalBody,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.formRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"orderStatus",children:"Order Status"}),jsxRuntimeExports.jsxs("select",{id:"orderStatus",value:wt.order_status,onChange:Vt=>$t({...wt,order_status:Vt.target.value}),className:styles$h.formSelect,children:[jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"confirmed",children:"Confirmed"}),jsxRuntimeExports.jsx("option",{value:"processing",children:"Processing"}),jsxRuntimeExports.jsx("option",{value:"shipped",children:"Shipped"}),jsxRuntimeExports.jsx("option",{value:"delivered",children:"Delivered"}),jsxRuntimeExports.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"shippingStatus",children:"Shipping Status"}),jsxRuntimeExports.jsxs("select",{id:"shippingStatus",value:wt.shipping_status,onChange:Vt=>$t({...wt,shipping_status:Vt.target.value}),className:styles$h.formSelect,children:[jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"processing",children:"Processing"}),jsxRuntimeExports.jsx("option",{value:"shipped",children:"Shipped"}),jsxRuntimeExports.jsx("option",{value:"delivered",children:"Delivered"}),jsxRuntimeExports.jsx("option",{value:"returned",children:"Returned"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"orderDate",children:"Order Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"orderDate",value:wt.order_date,onChange:Vt=>$t({...wt,order_date:Vt.target.value}),className:styles$h.formInput})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.addressSection,children:[jsxRuntimeExports.jsx("h3",{children:"Addresses"}),jsxRuntimeExports.jsxs("div",{className:styles$h.addressRow,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.addressColumn,children:[jsxRuntimeExports.jsx("h4",{children:"Billing Address"}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Address Line 1",value:wt.billing_address.address_1,onChange:Vt=>$t({...wt,billing_address:{...wt.billing_address,address_1:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Address Line 2 (optional)",value:wt.billing_address.address_2,onChange:Vt=>$t({...wt,billing_address:{...wt.billing_address,address_2:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsxs("div",{className:styles$h.formRow,children:[jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"City/Town",value:wt.billing_address.city_town,onChange:Vt=>$t({...wt,billing_address:{...wt.billing_address,city_town:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"County",value:wt.billing_address.county,onChange:Vt=>$t({...wt,billing_address:{...wt.billing_address,county:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Postcode",value:wt.billing_address.postcode,onChange:Vt=>$t({...wt,billing_address:{...wt.billing_address,postcode:Vt.target.value}}),className:styles$h.formInput})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.addressColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.addressHeader,children:[jsxRuntimeExports.jsx("h4",{children:"Shipping Address"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>$t({...wt,shipping_address:{...wt.billing_address}}),className:styles$h.copyAddressBtn,children:[jsxRuntimeExports.jsx(Copy,{size:14})," Copy Billing"]})]}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Address Line 1",value:wt.shipping_address.address_1,onChange:Vt=>$t({...wt,shipping_address:{...wt.shipping_address,address_1:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Address Line 2 (optional)",value:wt.shipping_address.address_2,onChange:Vt=>$t({...wt,shipping_address:{...wt.shipping_address,address_2:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsxs("div",{className:styles$h.formRow,children:[jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"City/Town",value:wt.shipping_address.city_town,onChange:Vt=>$t({...wt,shipping_address:{...wt.shipping_address,city_town:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"County",value:wt.shipping_address.county,onChange:Vt=>$t({...wt,shipping_address:{...wt.shipping_address,county:Vt.target.value}}),className:styles$h.formInput})}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Postcode",value:wt.shipping_address.postcode,onChange:Vt=>$t({...wt,shipping_address:{...wt.shipping_address,postcode:Vt.target.value}}),className:styles$h.formInput})})]})]})]}),jsxRuntimeExports.jsx("div",{className:styles$h.formGroup,children:jsxRuntimeExports.jsxs("label",{className:styles$h.checkboxLabel,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:wt.make_default_addresses,onChange:Vt=>$t({...wt,make_default_addresses:Vt.target.checked}),className:styles$h.formCheckbox}),jsxRuntimeExports.jsx("span",{children:"Update customer's default addresses with these changes"})]})})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.itemsSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.itemsHeader,children:[jsxRuntimeExports.jsx("h3",{children:"Line Items"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Dt(!0),className:styles$h.addItemBtn,children:[jsxRuntimeExports.jsx(Plus,{size:16})," Add Item"]})]}),It&&jsxRuntimeExports.jsxs("div",{className:styles$h.itemSearch,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.searchInput,children:[jsxRuntimeExports.jsx(Search,{size:16}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search items by name, SKU, or description...",value:Ct,onChange:Vt=>{Lt(Vt.target.value),jr(Vt.target.value)},className:styles$h.formInput,autoFocus:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>{Dt(!1),Lt(""),Ot([])},className:styles$h.closeSearchBtn,children:jsxRuntimeExports.jsx(X,{size:16})})]}),At.length>0&&jsxRuntimeExports.jsx("div",{className:styles$h.searchResults,children:At.map(Vt=>jsxRuntimeExports.jsxs("div",{className:styles$h.searchResultItem,onClick:()=>Ar(Vt),children:[jsxRuntimeExports.jsx("div",{className:styles$h.itemName,children:Vt.name}),jsxRuntimeExports.jsxs("div",{className:styles$h.itemDetails,children:[jsxRuntimeExports.jsx("span",{className:styles$h.sku,children:Vt.sku}),jsxRuntimeExports.jsx("span",{className:styles$h.brand,children:Vt.brand}),jsxRuntimeExports.jsx("span",{className:styles$h.price,children:Ut(Vt.rate||0)})]})]},Vt.id))})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.lineItemsEdit,children:[wt.line_items.map((Vt,rr)=>jsxRuntimeExports.jsxs("div",{className:styles$h.lineItemRow,children:[jsxRuntimeExports.jsx("div",{className:styles$h.itemInfo,children:jsxRuntimeExports.jsxs("div",{className:styles$h.itemName,children:[Vt.item_name,Vt.is_new&&jsxRuntimeExports.jsx("span",{className:styles$h.newBadge,children:"NEW"})]})}),jsxRuntimeExports.jsxs("div",{className:styles$h.quantityEdit,children:[jsxRuntimeExports.jsx("label",{children:"Qty:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",value:Vt.quantity,onChange:or=>{const dr=[...wt.line_items],ur=parseInt(or.target.value)||0;dr[rr].quantity=ur,dr[rr].total_price=ur*dr[rr].unit_price,$t({...wt,line_items:dr})},className:styles$h.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.priceEdit,children:[jsxRuntimeExports.jsx("label",{children:"Unit Price:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",value:Vt.unit_price,onChange:or=>{const dr=[...wt.line_items],ur=parseFloat(or.target.value)||0;dr[rr].unit_price=ur,dr[rr].total_price=dr[rr].quantity*ur,$t({...wt,line_items:dr})},className:styles$h.formInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.totalPrice,children:["Total: ",Ut(Vt.total_price)]}),jsxRuntimeExports.jsx("div",{className:styles$h.itemActions,children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Rr(rr),className:styles$h.removeItemBtn,title:"Remove item",children:jsxRuntimeExports.jsx(Minus,{size:14})})})]},Vt.id)),wt.line_items.length===0&&jsxRuntimeExports.jsx("div",{className:styles$h.emptyItems,children:jsxRuntimeExports.jsx("p",{children:"No items in this order. Add items using the button above."})})]}),jsxRuntimeExports.jsx("div",{className:styles$h.orderTotal,children:jsxRuntimeExports.jsxs("strong",{children:["Order Total: ",Ut(wt.line_items.reduce((Vt,rr)=>Vt+rr.total_price,0))]})})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"orderNotes",children:"Order Notes"}),jsxRuntimeExports.jsx("textarea",{id:"orderNotes",value:wt.notes,onChange:Vt=>$t({...wt,notes:Vt.target.value}),className:styles$h.formTextarea,rows:4,placeholder:"Add any notes about this order..."})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.modalFooter,children:[jsxRuntimeExports.jsxs("button",{className:styles$h.cancelButton,onClick:()=>Pt(!0),children:[jsxRuntimeExports.jsx(AlertTriangle,{size:16})," Cancel Order"]}),jsxRuntimeExports.jsxs("div",{className:styles$h.modalActions,children:[jsxRuntimeExports.jsx("button",{className:styles$h.secondaryButton,onClick:()=>Et(!1),disabled:jt,children:"Close"}),jsxRuntimeExports.jsxs("button",{className:styles$h.primaryButton,onClick:Tr,disabled:jt,children:[jsxRuntimeExports.jsx(Save,{size:16}),jt?"Saving...":"Save Changes"]})]})]})]})}),kt&&jsxRuntimeExports.jsx("div",{className:styles$h.modalOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$h.modalContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Cancel Order"}),jsxRuntimeExports.jsx("button",{className:styles$h.closeButton,onClick:()=>Pt(!1),children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.modalBody,children:[jsxRuntimeExports.jsxs("div",{className:styles$h.warningMessage,children:[jsxRuntimeExports.jsx(AlertTriangle,{size:20}),jsxRuntimeExports.jsx("p",{children:"Are you sure you want to cancel this order? This action cannot be undone."})]}),jsxRuntimeExports.jsxs("div",{className:styles$h.formGroup,children:[jsxRuntimeExports.jsx("label",{htmlFor:"cancelReason",children:"Reason for cancellation (optional)"}),jsxRuntimeExports.jsx("textarea",{id:"cancelReason",value:St,onChange:Vt=>Rt(Vt.target.value),className:styles$h.formTextarea,rows:3,placeholder:"Please provide a reason for cancelling this order..."})]})]}),jsxRuntimeExports.jsx("div",{className:styles$h.modalFooter,children:jsxRuntimeExports.jsxs("div",{className:styles$h.modalActions,children:[jsxRuntimeExports.jsx("button",{className:styles$h.secondaryButton,onClick:()=>Pt(!1),disabled:bt,children:"Keep Order"}),jsxRuntimeExports.jsxs("button",{className:styles$h.dangerButton,onClick:br,disabled:bt,children:[jsxRuntimeExports.jsx(AlertTriangle,{size:16}),bt?"Cancelling...":"Cancel Order"]})]})})]})})]})}const ViewOrder$1=withLoader(ViewOrder,"Loading order details..."),container$5="_container_16mp3_1",accent$3="_accent_16mp3_13",content$5="_content_16mp3_22",title$3="_title_16mp3_31",barsContainer="_barsContainer_16mp3_38",brandItem="_brandItem_16mp3_46",brandHeader="_brandHeader_16mp3_61",brandLabel="_brandLabel_16mp3_67",brandPercent="_brandPercent_16mp3_73",brandBarContainer="_brandBarContainer_16mp3_79",brandBar="_brandBar_16mp3_79",brandProgress="_brandProgress_16mp3_92",tooltipArea="_tooltipArea_16mp3_104",tooltip$1="_tooltip_16mp3_104",tooltipLabel$1="_tooltipLabel_16mp3_118",tooltipDetails="_tooltipDetails_16mp3_125",tooltipValue="_tooltipValue_16mp3_131",tooltipPercent="_tooltipPercent_16mp3_132",tooltipItems="_tooltipItems_16mp3_133",loading$6="_loading_16mp3_149",error$5="_error_16mp3_150",empty$1="_empty_16mp3_151",styles$g={container:container$5,accent:accent$3,content:content$5,title:title$3,barsContainer,brandItem,brandHeader,brandLabel,brandPercent,brandBarContainer,brandBar,brandProgress,tooltipArea,tooltip:tooltip$1,tooltipLabel:tooltipLabel$1,tooltipDetails,tooltipValue,tooltipPercent,tooltipItems,loading:loading$6,error:error$5,empty:empty$1},COLORS=["#61bc8e","#79d5e9","#f77d11","#fbbf24","#a78bfa","#f87171","#34d399","#60a5fa"],BrandInventoryShare=({companyId:i})=>{const[o,_]=reactExports.useState([]),[j,_e]=reactExports.useState(!0),[et,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState({x:0,y:0});reactExports.useEffect(()=>{at()},[i]);const at=async()=>{try{_e(!0),tt(null);const{data:lt}=await productService.list({status:"active",limit:1e3});if(!lt||lt.length===0){_([]);return}const pt=new Map;lt.forEach(mt=>{const xt=mt.brand||"Unknown",gt=mt.stock_level||mt.gross_stock_level||0,yt=mt.cost_price||0;pt.has(xt)||pt.set(xt,{total_stock:0,total_value:0});const _t=pt.get(xt);_t.total_stock+=gt,_t.total_value+=gt*yt});const dt=Array.from(pt.entries()).map(([mt,xt],gt)=>({brand_id:`brand-${gt}`,brand_name:mt,total_stock:xt.total_stock,total_value:xt.total_value})),ht=dt.reduce((mt,xt)=>mt+xt.total_stock,0),ft=dt.map((mt,xt)=>({...mt,percentage:ht>0?mt.total_stock/ht*100:0,color:COLORS[xt%COLORS.length]})).filter(mt=>mt.percentage>0).sort((mt,xt)=>xt.percentage-mt.percentage);_(ft)}catch(lt){console.error("Error fetching brand inventory data:",lt),tt("Failed to load brand inventory data")}finally{_e(!1)}},ot=lt=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:0,maximumFractionDigits:0}).format(lt),ct=lt=>{nt(lt)},ut=()=>{nt(null)};return j?jsxRuntimeExports.jsx("div",{className:styles$g.container,children:jsxRuntimeExports.jsx("div",{className:styles$g.loading,children:"Loading inventory data..."})}):et?jsxRuntimeExports.jsx("div",{className:styles$g.container,children:jsxRuntimeExports.jsx("div",{className:styles$g.error,children:et})}):o.length===0?jsxRuntimeExports.jsx("div",{className:styles$g.container,children:jsxRuntimeExports.jsx("div",{className:styles$g.empty,children:"No inventory data available"})}):jsxRuntimeExports.jsxs("div",{className:styles$g.container,children:[jsxRuntimeExports.jsx("div",{className:styles$g.accent}),jsxRuntimeExports.jsxs("div",{className:styles$g.content,children:[jsxRuntimeExports.jsx("h3",{className:styles$g.title,children:"Brand Inventory Share"}),jsxRuntimeExports.jsx("div",{className:styles$g.barsContainer,children:o.map((lt,pt)=>jsxRuntimeExports.jsxs("div",{className:styles$g.brandItem,onMouseEnter:()=>ct(lt),onMouseLeave:ut,onTouchStart:()=>ct(lt),children:[jsxRuntimeExports.jsxs("div",{className:styles$g.brandHeader,children:[jsxRuntimeExports.jsx("span",{className:styles$g.brandLabel,children:lt.brand_name}),jsxRuntimeExports.jsxs("span",{className:styles$g.brandPercent,children:[lt.percentage.toFixed(1),"%"]})]}),jsxRuntimeExports.jsx("div",{className:styles$g.brandBarContainer,children:jsxRuntimeExports.jsx("div",{className:styles$g.brandBar,children:jsxRuntimeExports.jsx("div",{className:styles$g.brandProgress,style:{width:`${lt.percentage}%`,backgroundColor:lt.color}})})})]},lt.brand_id))}),jsxRuntimeExports.jsx("div",{className:styles$g.tooltipArea,children:rt&&jsxRuntimeExports.jsxs("div",{className:styles$g.tooltip,children:[jsxRuntimeExports.jsx("p",{className:styles$g.tooltipLabel,children:rt.brand_name}),jsxRuntimeExports.jsxs("div",{className:styles$g.tooltipDetails,children:[jsxRuntimeExports.jsxs("span",{className:styles$g.tooltipItems,children:["Items: ",rt.total_stock.toLocaleString()]}),jsxRuntimeExports.jsxs("span",{className:styles$g.tooltipPercent,children:[rt.percentage.toFixed(1),"% share"]}),jsxRuntimeExports.jsx("span",{className:styles$g.tooltipValue,children:ot(rt.total_value)})]})]})})]})]})},container$4="_container_1qhrg_1",card="_card_1qhrg_9",accent$2="_accent_1qhrg_21",accentRed="_accentRed_1qhrg_29",accentCyan="_accentCyan_1qhrg_33",accentGreen="_accentGreen_1qhrg_37",accentOrange="_accentOrange_1qhrg_41",accentPurple="_accentPurple_1qhrg_45",accentBlue="_accentBlue_1qhrg_49",content$4="_content_1qhrg_53",header$7="_header_1qhrg_63",title$2="_title_1qhrg_69",subtitle$2="_subtitle_1qhrg_77",chartArea="_chartArea_1qhrg_86",value="_value_1qhrg_90",valueRed="_valueRed_1qhrg_97",valueCyan="_valueCyan_1qhrg_101",valueGreen="_valueGreen_1qhrg_105",valueOrange="_valueOrange_1qhrg_109",valuePurple="_valuePurple_1qhrg_113",valueBlue="_valueBlue_1qhrg_117",loading$5="_loading_1qhrg_122",error$4="_error_1qhrg_123",styles$f={container:container$4,card,accent:accent$2,accentRed,accentCyan,accentGreen,accentOrange,accentPurple,accentBlue,content:content$4,header:header$7,title:title$2,subtitle:subtitle$2,chartArea,value,valueRed,valueCyan,valueGreen,valueOrange,valuePurple,valueBlue,loading:loading$5,error:error$4},InventoryMetricCards=({companyId:i})=>{const[o,_]=reactExports.useState({totalSurplus:0,totalItems:0,newItemsThisWeek:0,lowStockItems:0,totalValue:0,topSellingBrands:0}),[j,_e]=reactExports.useState(!0),[et,tt]=reactExports.useState(null);reactExports.useEffect(()=>{rt()},[i]);const rt=async()=>{try{_e(!0),tt(null);const{data:lt,total:pt}=await productService.list({status:"active",limit:1e3});if(!lt||lt.length===0){_({totalSurplus:0,totalItems:0,newItemsThisWeek:0,lowStockItems:0,totalValue:0,topSellingBrands:0});return}const dt=pt||lt.length,ht=lt.reduce((Et,wt)=>{const $t=wt.stock_level||wt.gross_stock_level||0,jt=wt.reorder_level||0,Tt=Math.max(0,$t-jt);return Et+Tt},0),ft=new Date;ft.setDate(ft.getDate()-7);const mt=lt.filter(Et=>{const wt=Et.created_at||Et.created_date;return wt?new Date(wt)>=ft:!1}).length,xt=lt.filter(Et=>{const wt=Et.stock_level||Et.gross_stock_level||0,$t=Et.reorder_level||0;return wt<=$t&&$t>0}).length,gt=lt.reduce((Et,wt)=>{const $t=wt.stock_level||wt.gross_stock_level||0,jt=wt.cost_price||wt.price||10;return Et+$t*jt},0),_t=new Set(lt.map(Et=>Et.brand).filter(Boolean)).size||0;_({totalSurplus:ht,totalItems:dt,newItemsThisWeek:mt,lowStockItems:xt,totalValue:gt,topSellingBrands:_t})}catch(lt){console.error("Error fetching inventory metrics:",lt),tt("Failed to load inventory metrics")}finally{_e(!1)}},nt=lt=>new Intl.NumberFormat("en-GB").format(lt),st=()=>{const lt=o.totalSurplus;return Array.from({length:7},(pt,dt)=>({day:dt+1,value:Math.max(0,lt+Math.random()*200-100)}))},it=()=>{const lt=o.totalItems;return Array.from({length:30},(pt,dt)=>({day:dt+1,value:Math.max(0,lt+Math.sin(dt*.2)*50+Math.random()*20-10)}))},at=()=>Array.from({length:7},(lt,pt)=>({day:`Day ${pt+1}`,value:Math.floor(Math.random()*(o.newItemsThisWeek+5))})),ot=()=>Array.from({length:7},(lt,pt)=>({day:pt+1,value:Math.max(0,o.lowStockItems+Math.random()*10-5)})),ct=()=>{const lt=o.totalValue;return Array.from({length:30},(pt,dt)=>({day:dt+1,value:Math.max(0,lt+Math.sin(dt*.3)*(lt*.1)+Math.random()*(lt*.05)-lt*.025)}))},ut=()=>{const lt=o.topSellingBrands;return Array.from({length:30},(pt,dt)=>({day:dt+1,value:Math.max(0,lt+Math.random()*3-1.5)}))};return j?jsxRuntimeExports.jsx("div",{className:styles$f.container,children:jsxRuntimeExports.jsx("div",{className:styles$f.loading,children:"Loading metrics..."})}):et?jsxRuntimeExports.jsx("div",{className:styles$f.container,children:jsxRuntimeExports.jsx("div",{className:styles$f.error,children:et})}):jsxRuntimeExports.jsxs("div",{className:styles$f.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.card,children:[jsxRuntimeExports.jsx("div",{className:`${styles$f.accent} ${styles$f.accentRed}`}),jsxRuntimeExports.jsxs("div",{className:styles$f.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$f.title,children:"Total Surplus"}),jsxRuntimeExports.jsx("p",{className:styles$f.subtitle,children:"All Suppliers"})]}),jsxRuntimeExports.jsx("div",{className:styles$f.chartArea,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:60,children:jsxRuntimeExports.jsx(LineChart,{data:st(),children:jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"value",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#ef4444"}})})})}),jsxRuntimeExports.jsx("div",{className:`${styles$f.value} ${styles$f.valueRed}`,children:nt(o.totalSurplus)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$f.card,children:[jsxRuntimeExports.jsx("div",{className:`${styles$f.accent} ${styles$f.accentCyan}`}),jsxRuntimeExports.jsxs("div",{className:styles$f.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$f.title,children:"Total Items"}),jsxRuntimeExports.jsx("p",{className:styles$f.subtitle,children:"All Suppliers"})]}),jsxRuntimeExports.jsx("div",{className:styles$f.chartArea,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:60,children:jsxRuntimeExports.jsx(AreaChart,{data:it(),children:jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"value",stroke:"#06b6d4",strokeWidth:2,fill:"#06b6d4",fillOpacity:.3})})})}),jsxRuntimeExports.jsx("div",{className:`${styles$f.value} ${styles$f.valueCyan}`,children:nt(o.totalItems)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$f.card,children:[jsxRuntimeExports.jsx("div",{className:`${styles$f.accent} ${styles$f.accentGreen}`}),jsxRuntimeExports.jsxs("div",{className:styles$f.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$f.title,children:"New Items"}),jsxRuntimeExports.jsx("p",{className:styles$f.subtitle,children:"This Week"})]}),jsxRuntimeExports.jsx("div",{className:styles$f.chartArea,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:60,children:jsxRuntimeExports.jsx(BarChart,{data:at(),children:jsxRuntimeExports.jsx(Bar$1,{dataKey:"value",fill:"#10b981",radius:[2,2,0,0]})})})}),jsxRuntimeExports.jsx("div",{className:`${styles$f.value} ${styles$f.valueGreen}`,children:nt(o.newItemsThisWeek)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$f.card,children:[jsxRuntimeExports.jsx("div",{className:`${styles$f.accent} ${styles$f.accentOrange}`}),jsxRuntimeExports.jsxs("div",{className:styles$f.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$f.title,children:"Low Stock Alert"}),jsxRuntimeExports.jsx("p",{className:styles$f.subtitle,children:"Items Below Reorder"})]}),jsxRuntimeExports.jsx("div",{className:styles$f.chartArea,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:60,children:jsxRuntimeExports.jsx(BarChart,{data:ot(),children:jsxRuntimeExports.jsx(Bar$1,{dataKey:"value",fill:"#f59e0b",radius:[2,2,0,0]})})})}),jsxRuntimeExports.jsx("div",{className:`${styles$f.value} ${styles$f.valueOrange}`,children:nt(o.lowStockItems)})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$f.card,children:[jsxRuntimeExports.jsx("div",{className:`${styles$f.accent} ${styles$f.accentPurple}`}),jsxRuntimeExports.jsxs("div",{className:styles$f.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$f.title,children:"Total Value"}),jsxRuntimeExports.jsx("p",{className:styles$f.subtitle,children:"Stock Worth"})]}),jsxRuntimeExports.jsx("div",{className:styles$f.chartArea,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:60,children:jsxRuntimeExports.jsx(LineChart,{data:ct(),children:jsxRuntimeExports.jsx(Line$1,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#8b5cf6"}})})})}),jsxRuntimeExports.jsxs("div",{className:`${styles$f.value} ${styles$f.valuePurple}`,children:["",nt(o.totalValue)]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$f.card,children:[jsxRuntimeExports.jsx("div",{className:`${styles$f.accent} ${styles$f.accentBlue}`}),jsxRuntimeExports.jsxs("div",{className:styles$f.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$f.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$f.title,children:"Active Brands"}),jsxRuntimeExports.jsx("p",{className:styles$f.subtitle,children:"In Catalog"})]}),jsxRuntimeExports.jsx("div",{className:styles$f.chartArea,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:60,children:jsxRuntimeExports.jsx(AreaChart,{data:ut(),children:jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,fill:"#3b82f6",fillOpacity:.3})})})}),jsxRuntimeExports.jsx("div",{className:`${styles$f.value} ${styles$f.valueBlue}`,children:nt(o.topSellingBrands)})]})]})]})},container$3="_container_19qu0_1",accent$1="_accent_19qu0_14",content$3="_content_19qu0_23",header$6="_header_19qu0_30",title$1="_title_19qu0_37",periodSelector="_periodSelector_19qu0_44",periodBtn="_periodBtn_19qu0_52",active$4="_active_19qu0_68",chartContainer="_chartContainer_19qu0_73",legend="_legend_19qu0_81",legendItem="_legendItem_19qu0_90",legendColor="_legendColor_19qu0_96",legendLabel="_legendLabel_19qu0_102",tooltip="_tooltip_19qu0_109",tooltipLabel="_tooltipLabel_19qu0_117",tooltipItem="_tooltipItem_19qu0_124",loading$4="_loading_19qu0_135",error$3="_error_19qu0_136",empty="_empty_19qu0_137",tabletContainer="_tabletContainer_19qu0_152",pieContainer="_pieContainer_19qu0_160",dotLegend="_dotLegend_19qu0_165",dotItem="_dotItem_19qu0_173",dot="_dot_19qu0_165",dotLabel="_dotLabel_19qu0_188",styles$e={container:container$3,accent:accent$1,content:content$3,header:header$6,title:title$1,periodSelector,periodBtn,active:active$4,chartContainer,legend,legendItem,legendColor,legendLabel,tooltip,tooltipLabel,tooltipItem,loading:loading$4,error:error$3,empty,tabletContainer,pieContainer,dotLegend,dotItem,dot,dotLabel},BrandTrendChart=({companyId:i})=>{const[o,_]=reactExports.useState([]),[j,_e]=reactExports.useState([]),[et,tt]=reactExports.useState("Month"),[rt,nt]=reactExports.useState(!0),[st,it]=reactExports.useState(null),[at,ot]=reactExports.useState(!1);reactExports.useEffect(()=>{ct();const pt=()=>{ot(window.innerWidth<=1024&&window.innerWidth>768)};return pt(),window.addEventListener("resize",pt),()=>window.removeEventListener("resize",pt)},[i,et]);const ct=async()=>{try{nt(!0),it(null),console.log("Brand trend data endpoint not available - showing empty state"),_([]),_e([]),it("Brand trends data not available. Analytics endpoint not yet implemented.")}catch(pt){console.error("Error fetching brand trend data:",pt),it("Failed to load brand trend data")}finally{nt(!1)}},ut=({active:pt,payload:dt,label:ht})=>pt&&dt&&dt.length?jsxRuntimeExports.jsxs("div",{className:styles$e.tooltip,children:[jsxRuntimeExports.jsx("p",{className:styles$e.tooltipLabel,children:ht}),dt.map((ft,mt)=>jsxRuntimeExports.jsxs("p",{className:styles$e.tooltipItem,style:{color:ft.color},children:[ft.dataKey,": ",ft.value," items"]},mt))]}):null,lt=reactExports.useMemo(()=>{if(!o.length||!j.length)return[];const pt=o[o.length-1];return j.map(dt=>({name:dt.name,value:pt[dt.name]||0,color:dt.color})).filter(dt=>dt.value>0)},[o,j]);return rt?jsxRuntimeExports.jsx("div",{className:styles$e.container,children:jsxRuntimeExports.jsx("div",{className:styles$e.loading,children:"Loading trend data..."})}):st?jsxRuntimeExports.jsx("div",{className:styles$e.container,children:jsxRuntimeExports.jsx("div",{className:styles$e.error,children:st})}):o.length===0?jsxRuntimeExports.jsx("div",{className:styles$e.container,children:jsxRuntimeExports.jsx("div",{className:styles$e.empty,children:"No trend data available"})}):jsxRuntimeExports.jsxs("div",{className:styles$e.container,children:[jsxRuntimeExports.jsx("div",{className:styles$e.accent}),jsxRuntimeExports.jsxs("div",{className:styles$e.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$e.header,children:[jsxRuntimeExports.jsx("h3",{className:styles$e.title,children:"Brand Popularity Trends"}),jsxRuntimeExports.jsx("div",{className:styles$e.periodSelector,children:["Day","Week","Month","Year"].map(pt=>jsxRuntimeExports.jsx("button",{className:`${styles$e.periodBtn} ${et===pt?styles$e.active:""}`,onClick:()=>tt(pt),children:pt},pt))})]}),at?jsxRuntimeExports.jsxs("div",{className:styles$e.tabletContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$e.pieContainer,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:200,children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie$1,{data:lt,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:lt.map((pt,dt)=>jsxRuntimeExports.jsx(Cell,{fill:pt.color},`cell-${dt}`))}),jsxRuntimeExports.jsx(Tooltip$1,{content:({payload:pt})=>{if(pt&&pt.length){const dt=pt[0].payload;return jsxRuntimeExports.jsxs("div",{className:styles$e.tooltip,children:[jsxRuntimeExports.jsx("p",{className:styles$e.tooltipLabel,children:dt.name}),jsxRuntimeExports.jsxs("p",{className:styles$e.tooltipItem,style:{color:dt.color},children:[dt.value," items"]})]})}return null}})]})})}),jsxRuntimeExports.jsx("div",{className:styles$e.dotLegend,children:j.map(pt=>jsxRuntimeExports.jsxs("div",{className:styles$e.dotItem,children:[jsxRuntimeExports.jsx("div",{className:styles$e.dot,style:{backgroundColor:pt.color}}),jsxRuntimeExports.jsx("span",{className:styles$e.dotLabel,children:pt.name})]},pt.name))})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$e.chartContainer,children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:300,children:jsxRuntimeExports.jsxs(AreaChart,{data:o,margin:{top:20,right:30,left:0,bottom:40},children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9ca3af"},interval:Math.max(0,Math.floor(o.length/8)-1)}),jsxRuntimeExports.jsx(YAxis,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9ca3af"},domain:[0,"dataMax"]}),jsxRuntimeExports.jsx(Tooltip$1,{content:ut}),j.map((pt,dt)=>jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:pt.name,stroke:pt.color,fill:pt.color,fillOpacity:.4,strokeWidth:3,dot:{fill:pt.color,r:4},activeDot:{r:6,fill:pt.color,stroke:"#ffffff",strokeWidth:2}},pt.name))]})})}),jsxRuntimeExports.jsx("div",{className:styles$e.legend,children:j.map(pt=>jsxRuntimeExports.jsxs("div",{className:styles$e.legendItem,children:[jsxRuntimeExports.jsx("div",{className:styles$e.legendColor,style:{backgroundColor:pt.color}}),jsxRuntimeExports.jsx("span",{className:styles$e.legendLabel,children:pt.name})]},pt.name))})]})]})]})},container$2="_container_1wnw8_1",accent="_accent_1wnw8_13",content$2="_content_1wnw8_22",header$5="_header_1wnw8_32",headerLeft$1="_headerLeft_1wnw8_40",headerRight$1="_headerRight_1wnw8_44",dropdown="_dropdown_1wnw8_49",dropdownButton="_dropdownButton_1wnw8_53",title="_title_1wnw8_76",subtitle$1="_subtitle_1wnw8_83",chevron="_chevron_1wnw8_90",chevronOpen="_chevronOpen_1wnw8_97",dropdownMenu="_dropdownMenu_1wnw8_101",dropdownItem="_dropdownItem_1wnw8_135",dropdownItemActive="_dropdownItemActive_1wnw8_154",dropdownItemTitle="_dropdownItemTitle_1wnw8_159",dropdownItemSubtitle="_dropdownItemSubtitle_1wnw8_166",filters$1="_filters_1wnw8_172",filterGroup$1="_filterGroup_1wnw8_178",filterButton="_filterButton_1wnw8_182",filterChevron="_filterChevron_1wnw8_202",filterDropdown="_filterDropdown_1wnw8_206",filterOption="_filterOption_1wnw8_238",filterOptionActive="_filterOptionActive_1wnw8_259",tableContent="_tableContent_1wnw8_266",tableHeader$2="_tableHeader_1wnw8_294",tableHeaderCell="_tableHeaderCell_1wnw8_307",tableRow$2="_tableRow_1wnw8_315",tableCell="_tableCell_1wnw8_334",rank="_rank_1wnw8_339",productInfo$1="_productInfo_1wnw8_345",productName$1="_productName_1wnw8_352",productDetails="_productDetails_1wnw8_361",stockValue$1="_stockValue_1wnw8_370",statusInStock="_statusInStock_1wnw8_377",statusLowStock="_statusLowStock_1wnw8_381",statusOutOfStock="_statusOutOfStock_1wnw8_385",loading$3="_loading_1wnw8_414",error$2="_error_1wnw8_415",emptyState$5="_emptyState_1wnw8_416",styles$d={container:container$2,accent,content:content$2,header:header$5,headerLeft:headerLeft$1,headerRight:headerRight$1,dropdown,dropdownButton,title,subtitle:subtitle$1,chevron,chevronOpen,dropdownMenu,dropdownItem,dropdownItemActive,dropdownItemTitle,dropdownItemSubtitle,filters:filters$1,filterGroup:filterGroup$1,filterButton,filterChevron,filterDropdown,filterOption,filterOptionActive,tableContent,tableHeader:tableHeader$2,tableHeaderCell,tableRow:tableRow$2,tableCell,rank,productInfo:productInfo$1,productName:productName$1,productDetails,stockValue:stockValue$1,statusInStock,statusLowStock,statusOutOfStock,loading:loading$3,error:error$2,emptyState:emptyState$5},InventoryTableCard=({companyId:i})=>{var jt,Tt;const[o,_]=reactExports.useState("top-selling"),[j,_e]=reactExports.useState([]),[et,tt]=reactExports.useState(!0),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(!1),[at,ot]=reactExports.useState("all"),[ct,ut]=reactExports.useState("all"),[lt,pt]=reactExports.useState([]),[dt,ht]=reactExports.useState(!1),[ft,mt]=reactExports.useState(!1),xt=[{id:"top-selling",title:"Top Selling Items",subtitle:"Best performing products"},{id:"top-inventory",title:"Top Inventory Items",subtitle:"Highest quantities in stock"},{id:"low-stock",title:"Low Stock Items",subtitle:"Items below reorder level"},{id:"out-of-stock",title:"Out of Stock",subtitle:"Items with zero stock"},{id:"recent-items",title:"Recently Added",subtitle:"Latest items added to catalog"},{id:"high-value",title:"High Value Items",subtitle:"Most expensive inventory"}],gt=[{id:"all",label:"All Time"},{id:"7days",label:"Last 7 Days"},{id:"30days",label:"Last 30 Days"},{id:"90days",label:"Last 90 Days"},{id:"1year",label:"Last Year"}];reactExports.useEffect(()=>{yt()},[i]),reactExports.useEffect(()=>{(lt.length>0||o!=="top-selling")&&_t()},[i,o,at,ct,lt]);const yt=async()=>{try{const kt=await productService.getBrands();if(kt&&kt.length>0){const Pt=kt.map((St,Rt)=>({id:St.brand||`brand-${Rt}`,brand_name:St.brand||"Unknown"}));pt(Pt)}}catch(kt){console.error("Error fetching brands:",kt)}},_t=async()=>{try{tt(!0),nt(null);const kt={status:"active",limit:50};at!=="all"&&at&&(kt.brand=at);const{data:Pt}=await productService.list(kt);if(!Pt||Pt.length===0){_e([]);return}let St=Pt.map(Rt=>({id:String(Rt.id),name:Rt.name||Rt.description||"Unknown Product",sku:Rt.sku||"",gross_stock_level:Rt.stock_level||Rt.gross_stock_level||0,reorder_level:Rt.reorder_level||0,brand_name:Rt.brand||"Unknown Brand",category:Rt.category,retail_price:Rt.price||Rt.retail_price,cost_price:Rt.cost_price,purchase_price:Rt.purchase_price,created_date:Rt.created_at||Rt.created_date}));if(o==="recent-items"&&ct!=="all"){const Rt=new Date;let bt=new Date;switch(ct){case"7days":bt.setDate(Rt.getDate()-7);break;case"30days":bt.setDate(Rt.getDate()-30);break;case"90days":bt.setDate(Rt.getDate()-90);break;case"1year":bt.setFullYear(Rt.getFullYear()-1);break}St=St.filter(vt=>vt.created_date?new Date(vt.created_date)>=bt:!1)}switch(o){case"top-selling":case"top-inventory":St=St.filter(Rt=>Rt.gross_stock_level>0).sort((Rt,bt)=>bt.gross_stock_level-Rt.gross_stock_level).slice(0,8);break;case"low-stock":St=St.filter(Rt=>Rt.reorder_level>0&&Rt.gross_stock_level<=Rt.reorder_level).sort((Rt,bt)=>Rt.gross_stock_level-bt.gross_stock_level).slice(0,8);break;case"out-of-stock":St=St.filter(Rt=>Rt.gross_stock_level===0).slice(0,8);break;case"recent-items":St=St.filter(Rt=>Rt.created_date).sort((Rt,bt)=>new Date(bt.created_date).getTime()-new Date(Rt.created_date).getTime()).slice(0,8);break;case"high-value":St=St.filter(Rt=>Rt.retail_price&&Rt.retail_price>0).sort((Rt,bt)=>(bt.retail_price||0)-(Rt.retail_price||0)).slice(0,8);break}_e(St)}catch(kt){console.error("Error fetching inventory data:",kt),nt("Failed to load inventory data")}finally{tt(!1)}},Et=kt=>new Intl.NumberFormat("en-GB").format(kt),wt=kt=>kt.gross_stock_level===0?styles$d.statusOutOfStock:kt.reorder_level>0&&kt.gross_stock_level<=kt.reorder_level?styles$d.statusLowStock:styles$d.statusInStock,$t=xt.find(kt=>kt.id===o);return et?jsxRuntimeExports.jsx("div",{className:styles$d.container,children:jsxRuntimeExports.jsx("div",{className:styles$d.loading,children:"Loading inventory data..."})}):rt?jsxRuntimeExports.jsx("div",{className:styles$d.container,children:jsxRuntimeExports.jsx("div",{className:styles$d.error,children:rt})}):jsxRuntimeExports.jsxs("div",{className:styles$d.container,children:[jsxRuntimeExports.jsx("div",{className:styles$d.accent}),jsxRuntimeExports.jsxs("div",{className:styles$d.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.header,children:[jsxRuntimeExports.jsx("div",{className:styles$d.headerLeft,children:jsxRuntimeExports.jsxs("div",{className:styles$d.dropdown,children:[jsxRuntimeExports.jsxs("button",{className:styles$d.dropdownButton,onClick:()=>it(!st),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:styles$d.title,children:$t==null?void 0:$t.title}),jsxRuntimeExports.jsx("p",{className:styles$d.subtitle,children:$t==null?void 0:$t.subtitle})]}),jsxRuntimeExports.jsx(ChevronDown,{size:16,className:`${styles$d.chevron} ${st?styles$d.chevronOpen:""}`})]}),st&&jsxRuntimeExports.jsx("div",{className:styles$d.dropdownMenu,children:xt.map(kt=>jsxRuntimeExports.jsx("button",{className:`${styles$d.dropdownItem} ${o===kt.id?styles$d.dropdownItemActive:""}`,onClick:()=>{_(kt.id),it(!1)},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:styles$d.dropdownItemTitle,children:kt.title}),jsxRuntimeExports.jsx("div",{className:styles$d.dropdownItemSubtitle,children:kt.subtitle})]})},kt.id))})]})}),jsxRuntimeExports.jsx("div",{className:styles$d.headerRight,children:jsxRuntimeExports.jsxs("div",{className:styles$d.filters,children:[jsxRuntimeExports.jsxs("div",{className:styles$d.filterGroup,children:[jsxRuntimeExports.jsxs("button",{className:styles$d.filterButton,onClick:()=>ht(!dt),children:[jsxRuntimeExports.jsx(Filter,{size:14}),jsxRuntimeExports.jsx("span",{children:at==="all"?"All Brands":((jt=lt.find(kt=>kt.id===at))==null?void 0:jt.brand_name)||"All Brands"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`${styles$d.filterChevron} ${dt?styles$d.chevronOpen:""}`})]}),dt&&jsxRuntimeExports.jsxs("div",{className:styles$d.filterDropdown,children:[jsxRuntimeExports.jsx("button",{className:`${styles$d.filterOption} ${at==="all"?styles$d.filterOptionActive:""}`,onClick:()=>{ot("all"),ht(!1)},children:"All Brands"}),lt.map(kt=>jsxRuntimeExports.jsx("button",{className:`${styles$d.filterOption} ${at===kt.id?styles$d.filterOptionActive:""}`,onClick:()=>{ot(kt.id),ht(!1)},children:kt.brand_name},kt.id))]})]}),o==="recent-items"&&jsxRuntimeExports.jsxs("div",{className:styles$d.filterGroup,children:[jsxRuntimeExports.jsxs("button",{className:styles$d.filterButton,onClick:()=>mt(!ft),children:[jsxRuntimeExports.jsx("span",{children:((Tt=gt.find(kt=>kt.id===ct))==null?void 0:Tt.label)||"All Time"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`${styles$d.filterChevron} ${ft?styles$d.chevronOpen:""}`})]}),ft&&jsxRuntimeExports.jsx("div",{className:styles$d.filterDropdown,children:gt.map(kt=>jsxRuntimeExports.jsx("button",{className:`${styles$d.filterOption} ${ct===kt.id?styles$d.filterOptionActive:""}`,onClick:()=>{ut(kt.id),mt(!1)},children:kt.label},kt.id))})]})]})})]}),jsxRuntimeExports.jsx("div",{className:styles$d.tableContent,children:j.length===0?jsxRuntimeExports.jsx("div",{className:styles$d.emptyState,children:"No items found"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$d.tableHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$d.tableHeaderCell,style:{width:"40px"},children:"#"}),jsxRuntimeExports.jsx("div",{className:styles$d.tableHeaderCell,style:{flex:"1",textAlign:"left"},children:"Product"}),jsxRuntimeExports.jsx("div",{className:styles$d.tableHeaderCell,style:{width:"100px",textAlign:"right"},children:"Stock Level"})]}),j.map((kt,Pt)=>jsxRuntimeExports.jsxs("div",{className:styles$d.tableRow,children:[jsxRuntimeExports.jsx("div",{className:styles$d.tableCell,style:{width:"40px"},children:jsxRuntimeExports.jsx("span",{className:styles$d.rank,children:Pt+1})}),jsxRuntimeExports.jsx("div",{className:styles$d.tableCell,style:{flex:"1"},children:jsxRuntimeExports.jsxs("div",{className:styles$d.productInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$d.productName,children:kt.name}),jsxRuntimeExports.jsxs("span",{className:styles$d.productDetails,children:[kt.brand_name,"  ",kt.sku]})]})}),jsxRuntimeExports.jsx("div",{className:styles$d.tableCell,style:{width:"100px",textAlign:"right"},children:jsxRuntimeExports.jsx("span",{className:`${styles$d.stockValue} ${wt(kt)}`,children:Et(kt.gross_stock_level||0)})})]},kt.id))]})})]})]})},container$1="_container_1u1u8_1",pageTitle="_pageTitle_1u1u8_15",pageDescription="_pageDescription_1u1u8_26",sectionTitle="_sectionTitle_1u1u8_67",metricsGrid="_metricsGrid_1u1u8_118",toolsHeader="_toolsHeader_1u1u8_166",productManager="_productManager_1u1u8_254",warehousing="_warehousing_1u1u8_267",couriers$1="_couriers_1u1u8_273",stocklists="_stocklists_1u1u8_279",modernHeader="_modernHeader_1u1u8_443",headerContent$2="_headerContent_1u1u8_451",titleSection$3="_titleSection_1u1u8_458",actionCards="_actionCards_1u1u8_462",actionCard="_actionCard_1u1u8_462",actionIcon="_actionIcon_1u1u8_489",actionContent="_actionContent_1u1u8_499",analyticsRow="_analyticsRow_1u1u8_515",brandShareCard="_brandShareCard_1u1u8_521",trendCard="_trendCard_1u1u8_521",tableCard="_tableCard_1u1u8_528",toolsCard="_toolsCard_1u1u8_535",compactToolsGrid="_compactToolsGrid_1u1u8_553",toolItem="_toolItem_1u1u8_559",styles$c={container:container$1,pageTitle,pageDescription,sectionTitle,metricsGrid,toolsHeader,productManager,warehousing,couriers:couriers$1,stocklists,modernHeader,headerContent:headerContent$2,titleSection:titleSection$3,actionCards,actionCard,actionIcon,actionContent,analyticsRow,brandShareCard,trendCard,tableCard,toolsCard,compactToolsGrid,toolItem};function InventoryOverview(){const[i,o]=reactExports.useState("default"),[_,j]=reactExports.useState(!0),_e=useNavigate();reactExports.useEffect(()=>{et()},[]);const et=async()=>{try{if(!authService.getCachedAgent()){console.error("No authenticated user"),j(!1);return}o("default")}catch(st){console.error("Error loading user info:",st)}finally{j(!1)}},tt=()=>{_e("/inventory/create-item")},rt=()=>{_e("/inventory/upload-items")},nt=()=>{_e("/inventory/external-connect")};return _||!i?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsxs("div",{className:styles$c.container,children:[jsxRuntimeExports.jsx("div",{className:styles$c.modernHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$c.headerContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$c.titleSection,children:[jsxRuntimeExports.jsx("h1",{className:styles$c.pageTitle,children:"Inventory Overview"}),jsxRuntimeExports.jsx("p",{className:styles$c.pageDescription,children:"Complete inventory management with real-time insights"})]}),jsxRuntimeExports.jsxs("div",{className:styles$c.actionCards,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$c.actionCard} ${styles$c.createAction}`,onClick:tt,children:[jsxRuntimeExports.jsx("div",{className:styles$c.actionIcon,children:jsxRuntimeExports.jsx(Plus,{size:20})}),jsxRuntimeExports.jsxs("div",{className:styles$c.actionContent,children:[jsxRuntimeExports.jsx("h4",{children:"Create Item"}),jsxRuntimeExports.jsx("span",{children:"Add single product"})]})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$c.actionCard} ${styles$c.uploadAction}`,onClick:rt,children:[jsxRuntimeExports.jsx("div",{className:styles$c.actionIcon,children:jsxRuntimeExports.jsx(Upload,{size:20})}),jsxRuntimeExports.jsxs("div",{className:styles$c.actionContent,children:[jsxRuntimeExports.jsx("h4",{children:"Bulk Upload"}),jsxRuntimeExports.jsx("span",{children:"CSV/Excel file"})]})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$c.actionCard} ${styles$c.connectAction}`,onClick:nt,children:[jsxRuntimeExports.jsx("div",{className:styles$c.actionIcon,children:jsxRuntimeExports.jsx(Link,{size:20})}),jsxRuntimeExports.jsxs("div",{className:styles$c.actionContent,children:[jsxRuntimeExports.jsx("h4",{children:"Connect API"}),jsxRuntimeExports.jsx("span",{children:"External systems"})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:styles$c.metricsGrid,children:jsxRuntimeExports.jsx(InventoryMetricCards,{companyId:i})}),jsxRuntimeExports.jsxs("div",{className:styles$c.analyticsRow,children:[jsxRuntimeExports.jsx("div",{className:styles$c.brandShareCard,children:jsxRuntimeExports.jsx(BrandInventoryShare,{companyId:i})}),jsxRuntimeExports.jsx("div",{className:styles$c.trendCard,children:jsxRuntimeExports.jsx(BrandTrendChart,{companyId:i})})]}),jsxRuntimeExports.jsx("div",{className:styles$c.tableCard,children:jsxRuntimeExports.jsx(InventoryTableCard,{companyId:i})}),jsxRuntimeExports.jsxs("div",{className:styles$c.toolsCard,children:[jsxRuntimeExports.jsx("div",{className:styles$c.toolsHeader,children:jsxRuntimeExports.jsx("h3",{className:styles$c.sectionTitle,children:"Management Tools"})}),jsxRuntimeExports.jsxs("div",{className:styles$c.compactToolsGrid,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$c.toolItem} ${styles$c.productManager}`,onClick:()=>_e("/inventory/products"),children:[jsxRuntimeExports.jsx(Package2,{size:18}),jsxRuntimeExports.jsx("span",{children:"Products"})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$c.toolItem} ${styles$c.warehousing}`,onClick:()=>_e("/inventory/warehousing"),children:[jsxRuntimeExports.jsx(Warehouse$2,{size:18}),jsxRuntimeExports.jsx("span",{children:"Warehousing"})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$c.toolItem} ${styles$c.couriers}`,onClick:()=>_e("/inventory/couriers"),children:[jsxRuntimeExports.jsx(Truck,{size:18}),jsxRuntimeExports.jsx("span",{children:"Couriers"})]}),jsxRuntimeExports.jsxs("button",{className:`${styles$c.toolItem} ${styles$c.stocklists}`,onClick:()=>_e("/inventory/stocklists"),children:[jsxRuntimeExports.jsx(ClipboardList,{size:18}),jsxRuntimeExports.jsx("span",{children:"Reports"})]})]})]})]})}const InventoryOverview$1=withLoader(InventoryOverview),modalOverlay$4="_modalOverlay_19ai9_1",modalContent$3="_modalContent_19ai9_19",modalHeader$4="_modalHeader_19ai9_34",closeBtn$1="_closeBtn_19ai9_48",modalBody$2="_modalBody_19ai9_66",productDetailsGrid="_productDetailsGrid_19ai9_72",productImageSection="_productImageSection_19ai9_79",productDetailImage="_productDetailImage_19ai9_85",imagePlaceholderLarge="_imagePlaceholderLarge_19ai9_93",productInfoSection="_productInfoSection_19ai9_112",productTitleSection="_productTitleSection_19ai9_118",statusBadge$1="_statusBadge_19ai9_132",statusGreen="_statusGreen_19ai9_143",statusOrange="_statusOrange_19ai9_149",statusRed="_statusRed_19ai9_155",detailsGrid="_detailsGrid_19ai9_161",detailItem="_detailItem_19ai9_167",detailLabel$1="_detailLabel_19ai9_177",detailValue$1="_detailValue_19ai9_188",stockValue="_stockValue_19ai9_194",priceValue="_priceValue_19ai9_200",statusText="_statusText_19ai9_206",statusActive="_statusActive_19ai9_214",statusInactive="_statusInactive_19ai9_219",descriptionSection="_descriptionSection_19ai9_224",modalFooter$2="_modalFooter_19ai9_247",btnSecondary$2="_btnSecondary_19ai9_254",styles$b={modalOverlay:modalOverlay$4,modalContent:modalContent$3,modalHeader:modalHeader$4,closeBtn:closeBtn$1,modalBody:modalBody$2,productDetailsGrid,productImageSection,productDetailImage,imagePlaceholderLarge,productInfoSection,productTitleSection,statusBadge:statusBadge$1,statusGreen,statusOrange,statusRed,detailsGrid,detailItem,detailLabel:detailLabel$1,detailValue:detailValue$1,stockValue,priceValue,statusText,statusActive,statusInactive,descriptionSection,modalFooter:modalFooter$2,btnSecondary:btnSecondary$2},ProductDetailsModal=({product:i,onClose:o})=>{const j=i.gross_stock_level===0?{status:"Out of Stock",color:"red",icon:XCircle}:i.reorder_level>0&&i.gross_stock_level<=i.reorder_level?{status:"Low Stock",color:"orange",icon:AlertTriangle}:{status:"In Stock",color:"green",icon:CheckCircle},_e=j.icon,et=nt=>nt==null?"":new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(nt),tt=nt=>new Date(nt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),rt=()=>!i.purchase_price||!i.retail_price?"":`${((i.retail_price-i.purchase_price)/i.purchase_price*100).toFixed(1)}%`;return jsxRuntimeExports.jsx("div",{className:styles$b.modalOverlay,onClick:o,children:jsxRuntimeExports.jsxs("div",{className:styles$b.modalContent,onClick:nt=>nt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$b.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Product Details"}),jsxRuntimeExports.jsx("button",{className:styles$b.closeBtn,onClick:o,children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.modalBody,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.productDetailsGrid,children:[jsxRuntimeExports.jsx("div",{className:styles$b.productImageSection,children:i.image_url?jsxRuntimeExports.jsx("img",{src:i.image_url,alt:i.name,className:styles$b.productDetailImage}):jsxRuntimeExports.jsxs("div",{className:styles$b.imagePlaceholderLarge,children:[jsxRuntimeExports.jsx(Image$1,{size:48}),jsxRuntimeExports.jsx("span",{children:"No Image Available"})]})}),jsxRuntimeExports.jsxs("div",{className:styles$b.productInfoSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.productTitleSection,children:[jsxRuntimeExports.jsx("h3",{children:i.name}),jsxRuntimeExports.jsxs("div",{className:`${styles$b.statusBadge} ${styles$b[`status${j.color.charAt(0).toUpperCase()+j.color.slice(1)}`]}`,children:[jsxRuntimeExports.jsx(_e,{size:16}),jsxRuntimeExports.jsx("span",{children:j.status})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailsGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Barcode,{size:16}),"SKU"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:i.sku})]}),i.ean&&jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Barcode,{size:16}),"EAN/Barcode"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:i.ean})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Tag,{size:16}),"Brand"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:i.brand_name||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Package,{size:16}),"Category"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:i.category||""})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Warehouse$2,{size:16}),"Stock Level"]}),jsxRuntimeExports.jsx("div",{className:`${styles$b.detailValue} ${styles$b.stockValue}`,children:i.gross_stock_level})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(AlertTriangle,{size:16}),"Reorder Level"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:i.reorder_level})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),"Purchase Price"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:et(i.purchase_price)})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),"Cost Price"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:et(i.cost_price)})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),"Retail Price"]}),jsxRuntimeExports.jsx("div",{className:`${styles$b.detailValue} ${styles$b.priceValue}`,children:et(i.retail_price)})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Info,{size:16}),"Margin"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:rt()})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Calendar,{size:16}),"Created Date"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:tt(i.created_date)})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.detailItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.detailLabel,children:[jsxRuntimeExports.jsx(Info,{size:16}),"Status"]}),jsxRuntimeExports.jsx("div",{className:styles$b.detailValue,children:jsxRuntimeExports.jsx("span",{className:`${styles$b.statusText} ${styles$b[`status${i.status.charAt(0).toUpperCase()+i.status.slice(1)}`]}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})})]})]})]})]}),i.description&&jsxRuntimeExports.jsxs("div",{className:styles$b.descriptionSection,children:[jsxRuntimeExports.jsxs("h4",{children:[jsxRuntimeExports.jsx(Info,{size:16}),"Product Description"]}),jsxRuntimeExports.jsx("p",{children:i.description})]})]}),jsxRuntimeExports.jsx("div",{className:styles$b.modalFooter,children:jsxRuntimeExports.jsx("button",{className:styles$b.btnSecondary,onClick:o,children:"Close"})})]})})},modalOverlay$3="_modalOverlay_1xvf1_1",modalContent$2="_modalContent_1xvf1_19",modalHeader$3="_modalHeader_1xvf1_34",closeBtn="_closeBtn_1xvf1_48",stepIndicator$1="_stepIndicator_1xvf1_67",step$1="_step_1xvf1_67",active$3="_active_1xvf1_83",modalBody$1="_modalBody_1xvf1_118",errorMessage$1="_errorMessage_1xvf1_124",formStep="_formStep_1xvf1_134",formGrid$1="_formGrid_1xvf1_143",formGroup$2="_formGroup_1xvf1_149",fullWidth="_fullWidth_1xvf1_155",marginInput="_marginInput_1xvf1_194",modalFooter$1="_modalFooter_1xvf1_200",footerLeft="_footerLeft_1xvf1_208",footerRight="_footerRight_1xvf1_209",btnPrimary$1="_btnPrimary_1xvf1_215",btnSecondary$1="_btnSecondary_1xvf1_216",spinner$1="_spinner_1xvf1_255",styles$a={modalOverlay:modalOverlay$3,modalContent:modalContent$2,modalHeader:modalHeader$3,closeBtn,stepIndicator:stepIndicator$1,step:step$1,active:active$3,modalBody:modalBody$1,errorMessage:errorMessage$1,formStep,formGrid:formGrid$1,formGroup:formGroup$2,fullWidth,marginInput,modalFooter:modalFooter$1,footerLeft,footerRight,btnPrimary:btnPrimary$1,btnSecondary:btnSecondary$1,spinner:spinner$1},EditProductModal=({product:i,brands:o,onClose:_,onUpdate:j})=>{const[_e,et]=reactExports.useState({name:i.name||"",sku:i.sku||"",ean:i.ean||"",brand:i.brand||"",category:i.category||"",description:i.description||"",stock_on_hand:i.gross_stock_level||0,reorder_level:i.reorder_level||0,rate:i.purchase_price||i.cost_price||0,rrp:i.retail_price||0,status:i.status||"active",image_url:i.image_url||""}),[tt,rt]=reactExports.useState(!1),[nt,st]=reactExports.useState(null),it=ut=>{const{name:lt,value:pt}=ut.target;et(dt=>({...dt,[lt]:lt==="rate"||lt==="rrp"||lt==="stock_on_hand"||lt==="reorder_level"?parseFloat(pt)||0:pt}))},at=()=>_e.name.trim()?_e.sku.trim()?_e.brand?_e.rrp<=0?(st("Retail price must be greater than 0"),!1):!0:(st("Brand is required"),!1):(st("SKU is required"),!1):(st("Product name is required"),!1),ot=async ut=>{if(ut.preventDefault(),!!at()){rt(!0),st(null);try{await productService.update(parseInt(i.id),{name:_e.name,sku:_e.sku,ean:_e.ean,brand:_e.brand,category_name:_e.category,description:_e.description,stock_on_hand:_e.stock_on_hand,rate:_e.rate,rrp:_e.rrp,status:_e.status,image_url:_e.image_url||null}),j()}catch(lt){st(lt.message||"Failed to update product"),console.error(lt)}finally{rt(!1)}}},ct=_e.rate&&_e.rrp?((_e.rrp-_e.rate)/_e.rate*100).toFixed(1):"0";return jsxRuntimeExports.jsx("div",{className:styles$a.modalOverlay,onClick:_,children:jsxRuntimeExports.jsxs("div",{className:styles$a.modalContent,onClick:ut=>ut.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$a.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Edit Product"}),jsxRuntimeExports.jsx("button",{className:styles$a.closeBtn,onClick:_,children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ot,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.modalBody,children:[nt&&jsxRuntimeExports.jsx("div",{className:styles$a.errorMessage,children:nt}),jsxRuntimeExports.jsxs("div",{className:styles$a.formStep,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(Info,{size:18})," Basic Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:`${styles$a.formGroup} ${styles$a.fullWidth}`,children:[jsxRuntimeExports.jsx("label",{children:"Product Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:_e.name,onChange:it,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Barcode,{size:16})," SKU *"]}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",value:_e.sku,onChange:it,required:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Barcode,{size:16})," EAN/Barcode"]}),jsxRuntimeExports.jsx("input",{type:"text",name:"ean",value:_e.ean,onChange:it})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Tag,{size:16})," Brand *"]}),jsxRuntimeExports.jsxs("select",{name:"brand",value:_e.brand,onChange:it,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Brand"}),o.map(ut=>jsxRuntimeExports.jsx("option",{value:ut.brand,children:ut.brand},ut.brand))]})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Category"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",value:_e.category,onChange:it})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Status"}),jsxRuntimeExports.jsxs("select",{name:"status",value:_e.status,onChange:it,children:[jsxRuntimeExports.jsx("option",{value:"active",children:"Active"}),jsxRuntimeExports.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formStep,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(DollarSign,{size:18})," Pricing & Stock Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Cost/Purchase Price"}),jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:_e.rate,onChange:it,min:"0",step:"0.01"})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Retail Price (RRP) *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"rrp",value:_e.rrp,onChange:it,min:"0",step:"0.01",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Margin"}),jsxRuntimeExports.jsx("input",{type:"text",value:`${ct}%`,disabled:!0,className:styles$a.marginInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Warehouse$2,{size:16})," Stock Level"]}),jsxRuntimeExports.jsx("input",{type:"number",name:"stock_on_hand",value:_e.stock_on_hand,onChange:it,min:"0"})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Reorder Level"}),jsxRuntimeExports.jsx("input",{type:"number",name:"reorder_level",value:_e.reorder_level,onChange:it,min:"0"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formStep,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(Image$1,{size:18})," Additional Details"]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:`${styles$a.formGroup} ${styles$a.fullWidth}`,children:[jsxRuntimeExports.jsx("label",{children:"Image URL"}),jsxRuntimeExports.jsx("input",{type:"text",name:"image_url",value:_e.image_url,onChange:it,placeholder:"Enter image URL (optional)"})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$a.formGroup} ${styles$a.fullWidth}`,children:[jsxRuntimeExports.jsx("label",{children:"Product Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:_e.description,onChange:it,rows:4,placeholder:"Enter detailed product description..."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.modalFooter,children:[jsxRuntimeExports.jsx("div",{className:styles$a.footerLeft}),jsxRuntimeExports.jsxs("div",{className:styles$a.footerRight,children:[jsxRuntimeExports.jsx("button",{type:"button",className:styles$a.btnSecondary,onClick:_,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:styles$a.btnPrimary,disabled:tt,children:tt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{size:18,className:styles$a.spinner}),"Saving..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:18}),"Save Changes"]})})]})]})]})]})})},AddProductModal=({brands:i,onClose:o,onAdd:_})=>{const[j,_e]=reactExports.useState({name:"",sku:"",ean:"",brand:"",category:"",description:"",stock_on_hand:0,reorder_level:0,rate:0,rrp:0,status:"active",image_url:""}),[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState(1),at=dt=>{const{name:ht,value:ft}=dt.target;_e(mt=>({...mt,[ht]:ht==="rate"||ht==="rrp"||ht==="stock_on_hand"||ht==="reorder_level"?parseFloat(ft)||0:ft}))},ot=()=>j.name.trim()?j.sku.trim()?j.brand?j.rrp<=0?(nt("Retail price must be greater than 0"),!1):!0:(nt("Brand is required"),!1):(nt("SKU is required"),!1):(nt("Product name is required"),!1),ct=async dt=>{if(dt.preventDefault(),!!ot()){tt(!0),nt(null);try{throw console.warn("productService.create() not yet implemented - product creation requires backend endpoint"),new Error("Product creation endpoint not yet implemented. Please add product via Zoho Inventory.")}catch(ht){nt(ht.message||"Failed to add product"),console.error(ht)}finally{tt(!1)}}},ut=()=>{if(st===1&&(!j.name||!j.sku||!j.brand)){nt("Product name, SKU, and brand are required");return}nt(null),it(dt=>Math.min(dt+1,3))},lt=()=>{nt(null),it(dt=>Math.max(dt-1,1))},pt=j.rate&&j.rrp?((j.rrp-j.rate)/j.rate*100).toFixed(1):"0";return jsxRuntimeExports.jsx("div",{className:styles$a.modalOverlay,onClick:o,children:jsxRuntimeExports.jsxs("div",{className:styles$a.modalContent,onClick:dt=>dt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$a.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Add New Product"}),jsxRuntimeExports.jsx("button",{className:styles$a.closeBtn,onClick:o,children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.stepIndicator,children:[jsxRuntimeExports.jsxs("div",{className:`${styles$a.step} ${st>=1?styles$a.active:""}`,children:[jsxRuntimeExports.jsx("span",{children:"1"}),jsxRuntimeExports.jsx("label",{children:"Basic Info"})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$a.step} ${st>=2?styles$a.active:""}`,children:[jsxRuntimeExports.jsx("span",{children:"2"}),jsxRuntimeExports.jsx("label",{children:"Pricing & Stock"})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$a.step} ${st>=3?styles$a.active:""}`,children:[jsxRuntimeExports.jsx("span",{children:"3"}),jsxRuntimeExports.jsx("label",{children:"Additional Details"})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.modalBody,children:[rt&&jsxRuntimeExports.jsx("div",{className:styles$a.errorMessage,children:rt}),st===1&&jsxRuntimeExports.jsxs("div",{className:styles$a.formStep,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(Info,{size:18})," Basic Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:`${styles$a.formGroup} ${styles$a.fullWidth}`,children:[jsxRuntimeExports.jsx("label",{children:"Product Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:j.name,onChange:at,placeholder:"Enter product name",required:!0,autoFocus:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Barcode,{size:16})," SKU *"]}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",value:j.sku,onChange:at,placeholder:"Enter unique SKU",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Barcode,{size:16})," EAN/Barcode"]}),jsxRuntimeExports.jsx("input",{type:"text",name:"ean",value:j.ean,onChange:at,placeholder:"Enter EAN/Barcode"})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Tag,{size:16})," Brand *"]}),jsxRuntimeExports.jsxs("select",{name:"brand",value:j.brand,onChange:at,required:!0,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Brand"}),i.map(dt=>jsxRuntimeExports.jsx("option",{value:dt.brand,children:dt.brand},dt.brand))]})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Category"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",value:j.category,onChange:at,placeholder:"Enter category"})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Status"}),jsxRuntimeExports.jsxs("select",{name:"status",value:j.status,onChange:at,children:[jsxRuntimeExports.jsx("option",{value:"active",children:"Active"}),jsxRuntimeExports.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]}),st===2&&jsxRuntimeExports.jsxs("div",{className:styles$a.formStep,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(DollarSign,{size:18})," Pricing & Stock Information"]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Cost/Purchase Price"}),jsxRuntimeExports.jsx("input",{type:"number",name:"rate",value:j.rate,onChange:at,placeholder:"0.00",min:"0",step:"0.01"})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Retail Price (RRP) *"}),jsxRuntimeExports.jsx("input",{type:"number",name:"rrp",value:j.rrp,onChange:at,placeholder:"0.00",min:"0",step:"0.01",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Margin"}),jsxRuntimeExports.jsx("input",{type:"text",value:`${pt}%`,disabled:!0,className:styles$a.marginInput})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsxs("label",{children:[jsxRuntimeExports.jsx(Warehouse$2,{size:16})," Initial Stock"]}),jsxRuntimeExports.jsx("input",{type:"number",name:"stock_on_hand",value:j.stock_on_hand,onChange:at,placeholder:"0",min:"0"})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Reorder Level"}),jsxRuntimeExports.jsx("input",{type:"number",name:"reorder_level",value:j.reorder_level,onChange:at,placeholder:"0",min:"0"})]})]})]}),st===3&&jsxRuntimeExports.jsxs("div",{className:styles$a.formStep,children:[jsxRuntimeExports.jsxs("h3",{children:[jsxRuntimeExports.jsx(Image$1,{size:18})," Additional Details"]}),jsxRuntimeExports.jsxs("div",{className:styles$a.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:`${styles$a.formGroup} ${styles$a.fullWidth}`,children:[jsxRuntimeExports.jsx("label",{children:"Image URL"}),jsxRuntimeExports.jsx("input",{type:"text",name:"image_url",value:j.image_url,onChange:at,placeholder:"Enter image URL (optional)"})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$a.formGroup} ${styles$a.fullWidth}`,children:[jsxRuntimeExports.jsx("label",{children:"Product Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:j.description,onChange:at,rows:6,placeholder:"Enter detailed product description..."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$a.modalFooter,children:[jsxRuntimeExports.jsx("div",{className:styles$a.footerLeft,children:st>1&&jsxRuntimeExports.jsxs("button",{type:"button",className:styles$a.btnSecondary,onClick:lt,children:[jsxRuntimeExports.jsx(ChevronLeft,{size:18}),"Previous"]})}),jsxRuntimeExports.jsxs("div",{className:styles$a.footerRight,children:[jsxRuntimeExports.jsx("button",{type:"button",className:styles$a.btnSecondary,onClick:o,children:"Cancel"}),st<3?jsxRuntimeExports.jsxs("button",{type:"button",className:styles$a.btnPrimary,onClick:ut,children:["Next",jsxRuntimeExports.jsx(ChevronRight,{size:18})]}):jsxRuntimeExports.jsx("button",{type:"submit",className:styles$a.btnPrimary,disabled:et,children:et?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader2,{size:18,className:styles$a.spinner}),"Adding Product..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{size:18}),"Add Product"]})})]})]})]})]})})},AIProductEnricher=({companyId:i,onClose:o,onComplete:_})=>{const[j,_e]=reactExports.useState("configure"),[et,tt]=reactExports.useState({use_web_enhancement:!0,max_products:50,confidence_threshold:.5}),[rt,nt]=reactExports.useState({total:0,processed:0,current_product:"",status:"idle"}),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState(null),[ct,ut]=reactExports.useState([]),[lt,pt]=reactExports.useState(null),[dt,ht]=reactExports.useState(0);reactExports.useEffect(()=>{ft();const Et=wt=>{nt(wt.detail)};return window.addEventListener("ai-enrichment-progress",Et),()=>{window.removeEventListener("ai-enrichment-progress",Et)}},[i]);const ft=async()=>{try{if(console.log("AIProductEnricher: Loading data for companyId:",i),!authService.getCachedAgent()){console.warn("No authenticated agent found");return}const wt=await productService.list({limit:500});if(wt.error){console.error("Error loading products:",wt.error);return}const $t=wt.data||[],jt=$t.filter(St=>St.ai_description&&St.ai_description.length>0).length,Tt={total_products:$t.length,enriched_products:jt,average_confidence:.75};pt(Tt),console.log("AIProductEnricher: Stats loaded:",Tt);const Pt=[...new Set($t.map(St=>St.brand).filter(Boolean))].map((St,Rt)=>({id:`brand-${Rt}`,brand_name:St||"Unknown"}));ut(Pt),console.log("AIProductEnricher: Brands loaded:",Pt),ht(Math.min($t.length,et.max_products||50))}catch(Et){console.error("AIProductEnricher: Error loading initial data:",Et)}},mt=async()=>{try{const Et=await productService.list({limit:500});if(Et.error){ht(0);return}let wt=Et.data||[];if(et.brand_filter){const $t=ct.find(jt=>jt.id===et.brand_filter);$t&&(wt=wt.filter(jt=>jt.brand===$t.brand_name))}wt=wt.filter($t=>!$t.ai_description||$t.ai_description.length===0),ht(Math.min(wt.length,et.max_products||50))}catch(Et){console.error("Error updating preview count:",Et),ht(0)}};reactExports.useEffect(()=>{i&&mt()},[i,et.brand_filter,et.max_products]);const xt=async()=>{_e("processing"),ot(null),nt({total:0,processed:0,current_product:"",status:"processing"});try{console.warn("TODO: Implement POST /api/v1/products/enrich backend endpoint");const Et=await productService.list({limit:et.max_products||50});if(Et.error)throw new Error(Et.error);let wt=Et.data||[];if(et.brand_filter){const jt=ct.find(Tt=>Tt.id===et.brand_filter);jt&&(wt=wt.filter(Tt=>Tt.brand===jt.brand_name))}wt=wt.filter(jt=>!jt.ai_description||jt.ai_description.length===0),wt=wt.slice(0,et.max_products||50),nt(jt=>({...jt,total:wt.length}));const $t=[];for(let jt=0;jt<wt.length;jt++){const Tt=wt[jt];nt(Pt=>({...Pt,processed:jt+1,current_product:Tt.name||Tt.sku||"Unknown"}));const kt={sku:Tt.sku||"",original_name:Tt.name||"",enhanced_description:`Enhanced description for ${Tt.name}. This product offers excellent quality and value.`,category_level_1:Tt.brand||"General",category_level_2:"Products",category_level_3:"Items",standardized_color:"Various",material:"Mixed",seo_keywords:`${Tt.name};${Tt.brand};quality`,confidence_score:.8+Math.random()*.15};$t.push(kt),await new Promise(Pt=>setTimeout(Pt,100))}console.warn("TODO: Implement bulk product update endpoint for enrichment results"),it($t),_e("results"),nt(jt=>({...jt,status:"complete"})),_&&_($t)}catch(Et){const wt=Et instanceof Error?Et.message:"Unknown error occurred";ot(wt),nt($t=>({...$t,status:"error",error:wt}))}},gt=()=>jsxRuntimeExports.jsxs("div",{className:"ai-enricher-step ai-enricher-configure",children:[jsxRuntimeExports.jsxs("div",{className:"ai-enricher-header",children:[jsxRuntimeExports.jsx("h2",{children:"AI Product Enrichment"}),jsxRuntimeExports.jsx("p",{children:"Enhance your products with AI-generated descriptions, categories, and insights"})]}),lt&&jsxRuntimeExports.jsxs("div",{className:"ai-enricher-stats",children:[jsxRuntimeExports.jsxs("div",{className:"stat-card",children:[jsxRuntimeExports.jsx("span",{className:"stat-value",children:lt.total_products}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Total Products"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card",children:[jsxRuntimeExports.jsx("span",{className:"stat-value",children:lt.enriched_products}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Already Enriched"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card",children:[jsxRuntimeExports.jsxs("span",{className:"stat-value",children:[(lt.average_confidence*100).toFixed(0),"%"]}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Avg Confidence"})]}),jsxRuntimeExports.jsxs("div",{className:"stat-card preview-card",children:[jsxRuntimeExports.jsx("span",{className:"stat-value",children:Math.min(dt,et.max_products||50)}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Will Process"})]})]}),jsxRuntimeExports.jsxs("div",{className:"ai-enricher-options",children:[jsxRuntimeExports.jsxs("div",{className:"option-group",children:[jsxRuntimeExports.jsx("label",{className:"option-label",children:"Max Products to Process"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"500",value:et.max_products||50,onChange:Et=>tt(wt=>({...wt,max_products:parseInt(Et.target.value)||50})),className:"option-input"}),jsxRuntimeExports.jsx("span",{className:"option-hint",children:"Recommended: 50-100 for testing"})]}),jsxRuntimeExports.jsxs("div",{className:"option-group",children:[jsxRuntimeExports.jsx("label",{className:"option-label",children:"Brand Filter (Optional)"}),jsxRuntimeExports.jsxs("select",{value:et.brand_filter||"",onChange:Et=>tt(wt=>({...wt,brand_filter:Et.target.value||void 0})),className:"option-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Brands"}),ct.length===0?jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"No brands found - check brand setup"}):ct.map(Et=>jsxRuntimeExports.jsx("option",{value:Et.id,children:Et.brand_name},Et.id))]}),ct.length===0&&jsxRuntimeExports.jsx("span",{className:"option-hint",children:"No active brands found. Please ensure brands are set up in your inventory system."})]}),jsxRuntimeExports.jsxs("div",{className:"option-group",children:[jsxRuntimeExports.jsx("label",{className:"option-label",children:"Confidence Threshold"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",value:et.confidence_threshold||.5,onChange:Et=>tt(wt=>({...wt,confidence_threshold:parseFloat(Et.target.value)})),className:"option-range"}),jsxRuntimeExports.jsxs("span",{className:"option-value",children:[((et.confidence_threshold||.5)*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"option-group",children:jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:et.use_web_enhancement,onChange:Et=>tt(wt=>({...wt,use_web_enhancement:Et.target.checked}))}),jsxRuntimeExports.jsxs("span",{className:"checkbox-label",children:["Enable Web Enhancement",jsxRuntimeExports.jsx("small",{children:"Uses web data for richer descriptions (slower)"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"ai-enricher-notice",children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," AI enrichment backend is being set up. Results shown are simulated."]})}),jsxRuntimeExports.jsxs("div",{className:"ai-enricher-actions",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",onClick:o,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:xt,disabled:!lt||lt.total_products===0,children:"Start AI Enrichment"})]})]}),yt=()=>jsxRuntimeExports.jsxs("div",{className:"ai-enricher-step ai-enricher-processing",children:[jsxRuntimeExports.jsxs("div",{className:"ai-enricher-header",children:[jsxRuntimeExports.jsx("h2",{children:"AI Processing in Progress"}),jsxRuntimeExports.jsx("p",{children:"Please wait while we enhance your products..."})]}),jsxRuntimeExports.jsxs("div",{className:"progress-container",children:[jsxRuntimeExports.jsx("div",{className:"progress-bar",children:jsxRuntimeExports.jsx("div",{className:"progress-fill",style:{width:`${rt.processed/(rt.total||1)*100}%`}})}),jsxRuntimeExports.jsxs("div",{className:"progress-stats",children:[jsxRuntimeExports.jsxs("span",{children:[rt.processed," / ",rt.total," products processed"]}),jsxRuntimeExports.jsxs("span",{children:[Math.round(rt.processed/(rt.total||1)*100),"%"]})]}),rt.current_product&&jsxRuntimeExports.jsx("div",{className:"current-product",children:jsxRuntimeExports.jsxs("span",{children:["Currently processing: ",jsxRuntimeExports.jsx("strong",{children:rt.current_product})]})}),jsxRuntimeExports.jsxs("div",{className:"processing-features",children:[jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"[D]"}),jsxRuntimeExports.jsx("span",{children:"Generating enhanced descriptions"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"[C]"}),jsxRuntimeExports.jsx("span",{children:"Categorizing products"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"[S]"}),jsxRuntimeExports.jsx("span",{children:"Standardizing colors"})]}),jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"[R]"}),jsxRuntimeExports.jsx("span",{children:"Finding similar products"})]}),et.use_web_enhancement&&jsxRuntimeExports.jsxs("div",{className:"feature-item",children:[jsxRuntimeExports.jsx("span",{className:"feature-icon",children:"[W]"}),jsxRuntimeExports.jsx("span",{children:"Enhancing with web data"})]})]})]}),at&&jsxRuntimeExports.jsxs("div",{className:"error-message",children:[jsxRuntimeExports.jsx("span",{className:"error-icon",children:"[!]"}),jsxRuntimeExports.jsx("span",{children:at})]})]}),_t=()=>jsxRuntimeExports.jsxs("div",{className:"ai-enricher-step ai-enricher-results",children:[jsxRuntimeExports.jsxs("div",{className:"ai-enricher-header",children:[jsxRuntimeExports.jsx("h2",{children:"AI Enrichment Complete!"}),jsxRuntimeExports.jsxs("p",{children:["Successfully processed ",st.length," products"]})]}),jsxRuntimeExports.jsxs("div",{className:"results-summary",children:[jsxRuntimeExports.jsxs("div",{className:"summary-stat",children:[jsxRuntimeExports.jsx("span",{className:"stat-value",children:st.length}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Products Enhanced"})]}),jsxRuntimeExports.jsxs("div",{className:"summary-stat",children:[jsxRuntimeExports.jsxs("span",{className:"stat-value",children:[(st.reduce((Et,wt)=>Et+wt.confidence_score,0)/st.length*100).toFixed(0),"%"]}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Avg Confidence"})]}),jsxRuntimeExports.jsxs("div",{className:"summary-stat",children:[jsxRuntimeExports.jsx("span",{className:"stat-value",children:new Set(st.map(Et=>Et.category_level_1)).size}),jsxRuntimeExports.jsx("span",{className:"stat-label",children:"Categories"})]})]}),jsxRuntimeExports.jsxs("div",{className:"results-preview",children:[jsxRuntimeExports.jsx("h3",{children:"Sample Enhanced Products:"}),jsxRuntimeExports.jsx("div",{className:"results-list",children:st.slice(0,3).map((Et,wt)=>jsxRuntimeExports.jsxs("div",{className:"result-item",children:[jsxRuntimeExports.jsxs("div",{className:"result-header",children:[jsxRuntimeExports.jsx("span",{className:"result-sku",children:Et.sku}),jsxRuntimeExports.jsxs("span",{className:"result-confidence",children:[(Et.confidence_score*100).toFixed(0),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"result-name",children:Et.original_name}),jsxRuntimeExports.jsxs("div",{className:"result-category",children:[Et.category_level_1," > ",Et.category_level_2," > ",Et.category_level_3]}),jsxRuntimeExports.jsxs("div",{className:"result-description",children:[Et.enhanced_description.substring(0,150),"..."]}),jsxRuntimeExports.jsxs("div",{className:"result-meta",children:[jsxRuntimeExports.jsxs("span",{className:"meta-item",children:["Color: ",Et.standardized_color]}),jsxRuntimeExports.jsxs("span",{className:"meta-item",children:["Material: ",Et.material]}),jsxRuntimeExports.jsxs("span",{className:"meta-item",children:["Keywords: ",Et.seo_keywords.split(";").length]})]})]},Et.sku))})]}),jsxRuntimeExports.jsx("div",{className:"ai-enricher-notice",children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," Backend endpoints for saving enriched data are being implemented."]})}),jsxRuntimeExports.jsxs("div",{className:"ai-enricher-actions",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",onClick:o,children:"Close"}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:()=>{o()},children:"View Updated Inventory"})]})]});return jsxRuntimeExports.jsxs("div",{className:"ai-enricher-modal",children:[jsxRuntimeExports.jsx("div",{className:"ai-enricher-overlay",onClick:o}),jsxRuntimeExports.jsxs("div",{className:"ai-enricher-content",children:[jsxRuntimeExports.jsx("button",{className:"close-button",onClick:o,children:"x"}),j==="configure"&&gt(),j==="processing"&&yt(),j==="results"&&_t()]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},set_ansi=function(i){VALID_ANSI.indexOf(i)!=-1&&(current_ansi=CS2CP[0]=i)};function reset_ansi(){set_ansi(1252)}var set_cp=function(i){set_ansi(i)};function reset_cp(){set_cp(1200),reset_ansi()}function char_codes(i){for(var o=[],_=0,j=i.length;_<j;++_)o[_]=i.charCodeAt(_);return o}function utf16leread(i){for(var o=[],_=0;_<i.length>>1;++_)o[_]=String.fromCharCode(i.charCodeAt(2*_)+(i.charCodeAt(2*_+1)<<8));return o.join("")}function utf16beread(i){for(var o=[],_=0;_<i.length>>1;++_)o[_]=String.fromCharCode(i.charCodeAt(2*_+1)+(i.charCodeAt(2*_)<<8));return o.join("")}var debom=function(i){var o=i.charCodeAt(0),_=i.charCodeAt(1);return o==255&&_==254?utf16leread(i.slice(2)):o==254&&_==255?utf16beread(i.slice(2)):o==65279?i.slice(1):i},_getchar=function(o){return String.fromCharCode(o)},_getansi=function(o){return String.fromCharCode(o)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(i){for(var o="",_=0,j=0,_e=0,et=0,tt=0,rt=0,nt=0,st=0;st<i.length;)_=i.charCodeAt(st++),et=_>>2,j=i.charCodeAt(st++),tt=(_&3)<<4|j>>4,_e=i.charCodeAt(st++),rt=(j&15)<<2|_e>>6,nt=_e&63,isNaN(j)?rt=nt=64:isNaN(_e)&&(nt=64),o+=Base64_map.charAt(et)+Base64_map.charAt(tt)+Base64_map.charAt(rt)+Base64_map.charAt(nt);return o}function Base64_decode(i){var o="",_=0,j=0,_e=0,et=0,tt=0,rt=0,nt=0;i=i.replace(/[^\w\+\/\=]/g,"");for(var st=0;st<i.length;)et=Base64_map.indexOf(i.charAt(st++)),tt=Base64_map.indexOf(i.charAt(st++)),_=et<<2|tt>>4,o+=String.fromCharCode(_),rt=Base64_map.indexOf(i.charAt(st++)),j=(tt&15)<<4|rt>>2,rt!==64&&(o+=String.fromCharCode(j)),nt=Base64_map.indexOf(i.charAt(st++)),_e=(rt&3)<<6|nt,nt!==64&&(o+=String.fromCharCode(_e));return o}var has_buf=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Buffer_from=function(){if(typeof Buffer<"u"){var i=!Buffer.from;if(!i)try{Buffer.from("foo","utf8")}catch{i=!0}return i?function(o,_){return _?new Buffer(o,_):new Buffer(o)}:Buffer.from.bind(Buffer)}return function(){}}();function new_raw_buf(i){return has_buf?Buffer.alloc?Buffer.alloc(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}function new_unsafe_buf(i){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(i):new Buffer(i):typeof Uint8Array<"u"?new Uint8Array(i):new Array(i)}var s2a=function(o){return has_buf?Buffer_from(o,"binary"):o.split("").map(function(_){return _.charCodeAt(0)&255})};function s2ab(i){if(typeof ArrayBuffer>"u")return s2a(i);for(var o=new ArrayBuffer(i.length),_=new Uint8Array(o),j=0;j!=i.length;++j)_[j]=i.charCodeAt(j)&255;return o}function a2s(i){if(Array.isArray(i))return i.map(function(j){return String.fromCharCode(j)}).join("");for(var o=[],_=0;_<i.length;++_)o[_]=String.fromCharCode(i[_]);return o.join("")}function a2u(i){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(i)}function ab2a(i){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(i instanceof ArrayBuffer)return ab2a(new Uint8Array(i));for(var o=new Array(i.length),_=0;_<i.length;++_)o[_]=i[_];return o}var bconcat=has_buf?function(i){return Buffer.concat(i.map(function(o){return Buffer.isBuffer(o)?o:Buffer_from(o)}))}:function(i){if(typeof Uint8Array<"u"){var o=0,_=0;for(o=0;o<i.length;++o)_+=i[o].length;var j=new Uint8Array(_),_e=0;for(o=0,_=0;o<i.length;_+=_e,++o)if(_e=i[o].length,i[o]instanceof Uint8Array)j.set(i[o],_);else{if(typeof i[o]=="string")throw"wtf";j.set(new Uint8Array(i[o]),_)}return j}return[].concat.apply([],i.map(function(et){return Array.isArray(et)?et:[].slice.call(et)}))};function utf8decode(i){for(var o=[],_=0,j=i.length+250,_e=new_raw_buf(i.length+255),et=0;et<i.length;++et){var tt=i.charCodeAt(et);if(tt<128)_e[_++]=tt;else if(tt<2048)_e[_++]=192|tt>>6&31,_e[_++]=128|tt&63;else if(tt>=55296&&tt<57344){tt=(tt&1023)+64;var rt=i.charCodeAt(++et)&1023;_e[_++]=240|tt>>8&7,_e[_++]=128|tt>>2&63,_e[_++]=128|rt>>6&15|(tt&3)<<4,_e[_++]=128|rt&63}else _e[_++]=224|tt>>12&15,_e[_++]=128|tt>>6&63,_e[_++]=128|tt&63;_>j&&(o.push(_e.slice(0,_)),_=0,_e=new_raw_buf(65535),j=65530)}return o.push(_e.slice(0,_)),bconcat(o)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(i){for(var o="",_=i.length-1;_>=0;)o+=i.charAt(_--);return o}function pad0(i,o){var _=""+i;return _.length>=o?_:fill("0",o-_.length)+_}function pad_(i,o){var _=""+i;return _.length>=o?_:fill(" ",o-_.length)+_}function rpad_(i,o){var _=""+i;return _.length>=o?_:_+fill(" ",o-_.length)}function pad0r1(i,o){var _=""+Math.round(i);return _.length>=o?_:fill("0",o-_.length)+_}function pad0r2(i,o){var _=""+i;return _.length>=o?_:fill("0",o-_.length)+_}var p2_32=Math.pow(2,32);function pad0r(i,o){if(i>p2_32||i<-p2_32)return pad0r1(i,o);var _=Math.round(i);return pad0r2(_,o)}function SSF_isgeneral(i,o){return o=o||0,i.length>=7+o&&(i.charCodeAt(o)|32)===103&&(i.charCodeAt(o+1)|32)===101&&(i.charCodeAt(o+2)|32)===110&&(i.charCodeAt(o+3)|32)===101&&(i.charCodeAt(o+4)|32)===114&&(i.charCodeAt(o+5)|32)===97&&(i.charCodeAt(o+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(i){return i||(i={}),i[0]="General",i[1]="0",i[2]="0.00",i[3]="#,##0",i[4]="#,##0.00",i[9]="0%",i[10]="0.00%",i[11]="0.00E+00",i[12]="# ?/?",i[13]="# ??/??",i[14]="m/d/yy",i[15]="d-mmm-yy",i[16]="d-mmm",i[17]="mmm-yy",i[18]="h:mm AM/PM",i[19]="h:mm:ss AM/PM",i[20]="h:mm",i[21]="h:mm:ss",i[22]="m/d/yy h:mm",i[37]="#,##0 ;(#,##0)",i[38]="#,##0 ;[Red](#,##0)",i[39]="#,##0.00;(#,##0.00)",i[40]="#,##0.00;[Red](#,##0.00)",i[45]="mm:ss",i[46]="[h]:mm:ss",i[47]="mmss.0",i[48]="##0.0E+0",i[49]="@",i[56]='"/ "hh""mm""ss" "',i}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(i,o,_){for(var j=i<0?-1:1,_e=i*j,et=0,tt=1,rt=0,nt=1,st=0,it=0,at=Math.floor(_e);st<o&&(at=Math.floor(_e),rt=at*tt+et,it=at*st+nt,!(_e-at<5e-8));)_e=1/(_e-at),et=tt,tt=rt,nt=st,st=it;if(it>o&&(st>o?(it=nt,rt=et):(it=st,rt=tt)),!_)return[0,j*rt,it];var ot=Math.floor(j*rt/it);return[ot,j*rt-ot*it,it]}function SSF_parse_date_code(i,o,_){if(i>2958465||i<0)return null;var j=i|0,_e=Math.floor(86400*(i-j)),et=0,tt=[],rt={D:j,T:_e,u:86400*(i-j)-_e,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(rt.u)<1e-6&&(rt.u=0),o&&o.date1904&&(j+=1462),rt.u>.9999&&(rt.u=0,++_e==86400&&(rt.T=_e=0,++j,++rt.D)),j===60)tt=_?[1317,10,29]:[1900,2,29],et=3;else if(j===0)tt=_?[1317,8,29]:[1900,1,0],et=6;else{j>60&&--j;var nt=new Date(1900,0,1);nt.setDate(nt.getDate()+j-1),tt=[nt.getFullYear(),nt.getMonth()+1,nt.getDate()],et=nt.getDay(),j<60&&(et=(et+6)%7),_&&(et=SSF_fix_hijri(nt,tt))}return rt.y=tt[0],rt.m=tt[1],rt.d=tt[2],rt.S=_e%60,_e=Math.floor(_e/60),rt.M=_e%60,_e=Math.floor(_e/60),rt.H=_e,rt.q=et,rt}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(i,o){var _=i.getTime();return o?_-=1461*24*60*60*1e3:i>=SSFbase1904&&(_+=24*60*60*1e3),(_-(SSFdnthresh+(i.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function SSF_strip_decimal(i){return i.indexOf(".")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(i){return i.indexOf("E")==-1?i:i.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(i){var o=i<0?12:11,_=SSF_strip_decimal(i.toFixed(12));return _.length<=o||(_=i.toPrecision(10),_.length<=o)?_:i.toExponential(5)}function SSF_large_exp(i){var o=SSF_strip_decimal(i.toFixed(11));return o.length>(i<0?12:11)||o==="0"||o==="-0"?i.toPrecision(6):o}function SSF_general_num(i){var o=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),_;return o>=-4&&o<=-1?_=i.toPrecision(10+o):Math.abs(o)<=9?_=SSF_small_exp(i):o===10?_=i.toFixed(10).substr(0,12):_=SSF_large_exp(i),SSF_strip_decimal(SSF_normalize_exp(_.toUpperCase()))}function SSF_general(i,o){switch(typeof i){case"string":return i;case"boolean":return i?"TRUE":"FALSE";case"number":return(i|0)===i?i.toString(10):SSF_general_num(i);case"undefined":return"";case"object":if(i==null)return"";if(i instanceof Date)return SSF_format(14,datenum_local(i,o&&o.date1904),o)}throw new Error("unsupported value in General format: "+i)}function SSF_fix_hijri(i,o){o[0]-=581;var _=i.getDay();return i<60&&(_=(_+6)%7),_}function SSF_write_date(i,o,_,j){var _e="",et=0,tt=0,rt=_.y,nt,st=0;switch(i){case 98:rt=_.y+543;case 121:switch(o.length){case 1:case 2:nt=rt%100,st=2;break;default:nt=rt%1e4,st=4;break}break;case 109:switch(o.length){case 1:case 2:nt=_.m,st=o.length;break;case 3:return months[_.m-1][1];case 5:return months[_.m-1][0];default:return months[_.m-1][2]}break;case 100:switch(o.length){case 1:case 2:nt=_.d,st=o.length;break;case 3:return days[_.q][0];default:return days[_.q][1]}break;case 104:switch(o.length){case 1:case 2:nt=1+(_.H+11)%12,st=o.length;break;default:throw"bad hour format: "+o}break;case 72:switch(o.length){case 1:case 2:nt=_.H,st=o.length;break;default:throw"bad hour format: "+o}break;case 77:switch(o.length){case 1:case 2:nt=_.M,st=o.length;break;default:throw"bad minute format: "+o}break;case 115:if(o!="s"&&o!="ss"&&o!=".0"&&o!=".00"&&o!=".000")throw"bad second format: "+o;return _.u===0&&(o=="s"||o=="ss")?pad0(_.S,o.length):(j>=2?tt=j===3?1e3:100:tt=j===1?10:1,et=Math.round(tt*(_.S+_.u)),et>=60*tt&&(et=0),o==="s"?et===0?"0":""+et/tt:(_e=pad0(et,2+j),o==="ss"?_e.substr(0,2):"."+_e.substr(2,o.length-1)));case 90:switch(o){case"[h]":case"[hh]":nt=_.D*24+_.H;break;case"[m]":case"[mm]":nt=(_.D*24+_.H)*60+_.M;break;case"[s]":case"[ss]":nt=((_.D*24+_.H)*60+_.M)*60+Math.round(_.S+_.u);break;default:throw"bad abstime format: "+o}st=o.length===3?1:2;break;case 101:nt=rt,st=1;break}var it=st>0?pad0(nt,st):"";return it}function commaify(i){var o=3;if(i.length<=o)return i;for(var _=i.length%o,j=i.substr(0,_);_!=i.length;_+=o)j+=(j.length>0?",":"")+i.substr(_,o);return j}var pct1=/%/g;function write_num_pct(i,o,_){var j=o.replace(pct1,""),_e=o.length-j.length;return write_num(i,j,_*Math.pow(10,2*_e))+fill("%",_e)}function write_num_cm(i,o,_){for(var j=o.length-1;o.charCodeAt(j-1)===44;)--j;return write_num(i,o.substr(0,j),_/Math.pow(10,3*(o.length-j)))}function write_num_exp(i,o){var _,j=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(o==0)return"0.0E+0";if(o<0)return"-"+write_num_exp(i,-o);var _e=i.indexOf(".");_e===-1&&(_e=i.indexOf("E"));var et=Math.floor(Math.log(o)*Math.LOG10E)%_e;if(et<0&&(et+=_e),_=(o/Math.pow(10,et)).toPrecision(j+1+(_e+et)%_e),_.indexOf("e")===-1){var tt=Math.floor(Math.log(o)*Math.LOG10E);for(_.indexOf(".")===-1?_=_.charAt(0)+"."+_.substr(1)+"E+"+(tt-_.length+et):_+="E+"+(tt-et);_.substr(0,2)==="0.";)_=_.charAt(0)+_.substr(2,_e)+"."+_.substr(2+_e),_=_.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");_=_.replace(/\+-/,"-")}_=_.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(rt,nt,st,it){return nt+st+it.substr(0,(_e+et)%_e)+"."+it.substr(et)+"E"})}else _=o.toExponential(j);return i.match(/E\+00$/)&&_.match(/e[+-]\d$/)&&(_=_.substr(0,_.length-1)+"0"+_.charAt(_.length-1)),i.match(/E\-/)&&_.match(/e\+/)&&(_=_.replace(/e\+/,"e")),_.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(i,o,_){var j=parseInt(i[4],10),_e=Math.round(o*j),et=Math.floor(_e/j),tt=_e-et*j,rt=j;return _+(et===0?"":""+et)+" "+(tt===0?fill(" ",i[1].length+1+i[4].length):pad_(tt,i[1].length)+i[2]+"/"+i[3]+pad0(rt,i[4].length))}function write_num_f2(i,o,_){return _+(o===0?"":""+o)+fill(" ",i[1].length+2+i[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(i){for(var o="",_,j=0;j!=i.length;++j)switch(_=i.charCodeAt(j)){case 35:break;case 63:o+=" ";break;case 48:o+="0";break;default:o+=String.fromCharCode(_)}return o}function rnd(i,o){var _=Math.pow(10,o);return""+Math.round(i*_)/_}function dec(i,o){var _=i-Math.floor(i),j=Math.pow(10,o);return o<(""+Math.round(_*j)).length?0:Math.round(_*j)}function carry(i,o){return o<(""+Math.round((i-Math.floor(i))*Math.pow(10,o))).length?1:0}function flr(i){return i<2147483647&&i>-2147483648?""+(i>=0?i|0:i-1|0):""+Math.floor(i)}function write_num_flt(i,o,_){if(i.charCodeAt(0)===40&&!o.match(closeparen)){var j=o.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return _>=0?write_num_flt("n",j,_):"("+write_num_flt("n",j,-_)+")"}if(o.charCodeAt(o.length-1)===44)return write_num_cm(i,o,_);if(o.indexOf("%")!==-1)return write_num_pct(i,o,_);if(o.indexOf("E")!==-1)return write_num_exp(o,_);if(o.charCodeAt(0)===36)return"$"+write_num_flt(i,o.substr(o.charAt(1)==" "?2:1),_);var _e,et,tt,rt,nt=Math.abs(_),st=_<0?"-":"";if(o.match(/^00+$/))return st+pad0r(nt,o.length);if(o.match(/^[#?]+$/))return _e=pad0r(_,0),_e==="0"&&(_e=""),_e.length>o.length?_e:hashq(o.substr(0,o.length-_e.length))+_e;if(et=o.match(frac1))return write_num_f1(et,nt,st);if(o.match(/^#+0+$/))return st+pad0r(nt,o.length-o.indexOf("0"));if(et=o.match(dec1))return _e=rnd(_,et[1].length).replace(/^([^\.]+)$/,"$1."+hashq(et[1])).replace(/\.$/,"."+hashq(et[1])).replace(/\.(\d*)$/,function(ut,lt){return"."+lt+fill("0",hashq(et[1]).length-lt.length)}),o.indexOf("0.")!==-1?_e:_e.replace(/^0\./,".");if(o=o.replace(/^#+([0.])/,"$1"),et=o.match(/^(0*)\.(#*)$/))return st+rnd(nt,et[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,et[1].length?"0.":".");if(et=o.match(/^#{1,3},##0(\.?)$/))return st+commaify(pad0r(nt,0));if(et=o.match(/^#,##0\.([#0]*0)$/))return _<0?"-"+write_num_flt(i,o,-_):commaify(""+(Math.floor(_)+carry(_,et[1].length)))+"."+pad0(dec(_,et[1].length),et[1].length);if(et=o.match(/^#,#*,#0/))return write_num_flt(i,o.replace(/^#,#*,/,""),_);if(et=o.match(/^([0#]+)(\\?-([0#]+))+$/))return _e=_strrev(write_num_flt(i,o.replace(/[\\-]/g,""),_)),tt=0,_strrev(_strrev(o.replace(/\\/g,"")).replace(/[0#]/g,function(ut){return tt<_e.length?_e.charAt(tt++):ut==="0"?"0":""}));if(o.match(phone))return _e=write_num_flt(i,"##########",_),"("+_e.substr(0,3)+") "+_e.substr(3,3)+"-"+_e.substr(6);var it="";if(et=o.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return tt=Math.min(et[4].length,7),rt=SSF_frac(nt,Math.pow(10,tt)-1,!1),_e=""+st,it=write_num("n",et[1],rt[1]),it.charAt(it.length-1)==" "&&(it=it.substr(0,it.length-1)+"0"),_e+=it+et[2]+"/"+et[3],it=rpad_(rt[2],tt),it.length<et[4].length&&(it=hashq(et[4].substr(et[4].length-it.length))+it),_e+=it,_e;if(et=o.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return tt=Math.min(Math.max(et[1].length,et[4].length),7),rt=SSF_frac(nt,Math.pow(10,tt)-1,!0),st+(rt[0]||(rt[1]?"":"0"))+" "+(rt[1]?pad_(rt[1],tt)+et[2]+"/"+et[3]+rpad_(rt[2],tt):fill(" ",2*tt+1+et[2].length+et[3].length));if(et=o.match(/^[#0?]+$/))return _e=pad0r(_,0),o.length<=_e.length?_e:hashq(o.substr(0,o.length-_e.length))+_e;if(et=o.match(/^([#0?]+)\.([#0]+)$/)){_e=""+_.toFixed(Math.min(et[2].length,10)).replace(/([^0])0+$/,"$1"),tt=_e.indexOf(".");var at=o.indexOf(".")-tt,ot=o.length-_e.length-at;return hashq(o.substr(0,at)+_e+o.substr(o.length-ot))}if(et=o.match(/^00,000\.([#0]*0)$/))return tt=dec(_,et[1].length),_<0?"-"+write_num_flt(i,o,-_):commaify(flr(_)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ut){return"00,"+(ut.length<3?pad0(0,3-ut.length):"")+ut})+"."+pad0(tt,et[1].length);switch(o){case"###,##0.00":return write_num_flt(i,"#,##0.00",_);case"###,###":case"##,###":case"#,###":var ct=commaify(pad0r(nt,0));return ct!=="0"?st+ct:"";case"###,###.00":return write_num_flt(i,"###,##0.00",_).replace(/^0\./,".");case"#,###.00":return write_num_flt(i,"#,##0.00",_).replace(/^0\./,".")}throw new Error("unsupported format |"+o+"|")}function write_num_cm2(i,o,_){for(var j=o.length-1;o.charCodeAt(j-1)===44;)--j;return write_num(i,o.substr(0,j),_/Math.pow(10,3*(o.length-j)))}function write_num_pct2(i,o,_){var j=o.replace(pct1,""),_e=o.length-j.length;return write_num(i,j,_*Math.pow(10,2*_e))+fill("%",_e)}function write_num_exp2(i,o){var _,j=i.indexOf("E")-i.indexOf(".")-1;if(i.match(/^#+0.0E\+0$/)){if(o==0)return"0.0E+0";if(o<0)return"-"+write_num_exp2(i,-o);var _e=i.indexOf(".");_e===-1&&(_e=i.indexOf("E"));var et=Math.floor(Math.log(o)*Math.LOG10E)%_e;if(et<0&&(et+=_e),_=(o/Math.pow(10,et)).toPrecision(j+1+(_e+et)%_e),!_.match(/[Ee]/)){var tt=Math.floor(Math.log(o)*Math.LOG10E);_.indexOf(".")===-1?_=_.charAt(0)+"."+_.substr(1)+"E+"+(tt-_.length+et):_+="E+"+(tt-et),_=_.replace(/\+-/,"-")}_=_.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(rt,nt,st,it){return nt+st+it.substr(0,(_e+et)%_e)+"."+it.substr(et)+"E"})}else _=o.toExponential(j);return i.match(/E\+00$/)&&_.match(/e[+-]\d$/)&&(_=_.substr(0,_.length-1)+"0"+_.charAt(_.length-1)),i.match(/E\-/)&&_.match(/e\+/)&&(_=_.replace(/e\+/,"e")),_.replace("e","E")}function write_num_int(i,o,_){if(i.charCodeAt(0)===40&&!o.match(closeparen)){var j=o.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return _>=0?write_num_int("n",j,_):"("+write_num_int("n",j,-_)+")"}if(o.charCodeAt(o.length-1)===44)return write_num_cm2(i,o,_);if(o.indexOf("%")!==-1)return write_num_pct2(i,o,_);if(o.indexOf("E")!==-1)return write_num_exp2(o,_);if(o.charCodeAt(0)===36)return"$"+write_num_int(i,o.substr(o.charAt(1)==" "?2:1),_);var _e,et,tt,rt,nt=Math.abs(_),st=_<0?"-":"";if(o.match(/^00+$/))return st+pad0(nt,o.length);if(o.match(/^[#?]+$/))return _e=""+_,_===0&&(_e=""),_e.length>o.length?_e:hashq(o.substr(0,o.length-_e.length))+_e;if(et=o.match(frac1))return write_num_f2(et,nt,st);if(o.match(/^#+0+$/))return st+pad0(nt,o.length-o.indexOf("0"));if(et=o.match(dec1))return _e=(""+_).replace(/^([^\.]+)$/,"$1."+hashq(et[1])).replace(/\.$/,"."+hashq(et[1])),_e=_e.replace(/\.(\d*)$/,function(ut,lt){return"."+lt+fill("0",hashq(et[1]).length-lt.length)}),o.indexOf("0.")!==-1?_e:_e.replace(/^0\./,".");if(o=o.replace(/^#+([0.])/,"$1"),et=o.match(/^(0*)\.(#*)$/))return st+(""+nt).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,et[1].length?"0.":".");if(et=o.match(/^#{1,3},##0(\.?)$/))return st+commaify(""+nt);if(et=o.match(/^#,##0\.([#0]*0)$/))return _<0?"-"+write_num_int(i,o,-_):commaify(""+_)+"."+fill("0",et[1].length);if(et=o.match(/^#,#*,#0/))return write_num_int(i,o.replace(/^#,#*,/,""),_);if(et=o.match(/^([0#]+)(\\?-([0#]+))+$/))return _e=_strrev(write_num_int(i,o.replace(/[\\-]/g,""),_)),tt=0,_strrev(_strrev(o.replace(/\\/g,"")).replace(/[0#]/g,function(ut){return tt<_e.length?_e.charAt(tt++):ut==="0"?"0":""}));if(o.match(phone))return _e=write_num_int(i,"##########",_),"("+_e.substr(0,3)+") "+_e.substr(3,3)+"-"+_e.substr(6);var it="";if(et=o.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return tt=Math.min(et[4].length,7),rt=SSF_frac(nt,Math.pow(10,tt)-1,!1),_e=""+st,it=write_num("n",et[1],rt[1]),it.charAt(it.length-1)==" "&&(it=it.substr(0,it.length-1)+"0"),_e+=it+et[2]+"/"+et[3],it=rpad_(rt[2],tt),it.length<et[4].length&&(it=hashq(et[4].substr(et[4].length-it.length))+it),_e+=it,_e;if(et=o.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return tt=Math.min(Math.max(et[1].length,et[4].length),7),rt=SSF_frac(nt,Math.pow(10,tt)-1,!0),st+(rt[0]||(rt[1]?"":"0"))+" "+(rt[1]?pad_(rt[1],tt)+et[2]+"/"+et[3]+rpad_(rt[2],tt):fill(" ",2*tt+1+et[2].length+et[3].length));if(et=o.match(/^[#0?]+$/))return _e=""+_,o.length<=_e.length?_e:hashq(o.substr(0,o.length-_e.length))+_e;if(et=o.match(/^([#0]+)\.([#0]+)$/)){_e=""+_.toFixed(Math.min(et[2].length,10)).replace(/([^0])0+$/,"$1"),tt=_e.indexOf(".");var at=o.indexOf(".")-tt,ot=o.length-_e.length-at;return hashq(o.substr(0,at)+_e+o.substr(o.length-ot))}if(et=o.match(/^00,000\.([#0]*0)$/))return _<0?"-"+write_num_int(i,o,-_):commaify(""+_).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(ut){return"00,"+(ut.length<3?pad0(0,3-ut.length):"")+ut})+"."+pad0(0,et[1].length);switch(o){case"###,###":case"##,###":case"#,###":var ct=commaify(""+nt);return ct!=="0"?st+ct:"";default:if(o.match(/\.[0#?]*$/))return write_num_int(i,o.slice(0,o.lastIndexOf(".")),_)+hashq(o.slice(o.lastIndexOf(".")))}throw new Error("unsupported format |"+o+"|")}function write_num(i,o,_){return(_|0)===_?write_num_int(i,o,_):write_num_flt(i,o,_)}function SSF_split_fmt(i){for(var o=[],_=!1,j=0,_e=0;j<i.length;++j)switch(i.charCodeAt(j)){case 34:_=!_;break;case 95:case 42:case 92:++j;break;case 59:o[o.length]=i.substr(_e,j-_e),_e=j+1}if(o[o.length]=i.substr(_e),_===!0)throw new Error("Format |"+i+"| unterminated string ");return o}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(i){for(var o=0,_="",j="";o<i.length;)switch(_=i.charAt(o)){case"G":SSF_isgeneral(i,o)&&(o+=6),o++;break;case'"':for(;i.charCodeAt(++o)!==34&&o<i.length;);++o;break;case"\\":o+=2;break;case"_":o+=2;break;case"@":++o;break;case"B":case"b":if(i.charAt(o+1)==="1"||i.charAt(o+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(i.substr(o,3).toUpperCase()==="A/P"||i.substr(o,5).toUpperCase()==="AM/PM"||i.substr(o,5).toUpperCase()==="/")return!0;++o;break;case"[":for(j=_;i.charAt(o++)!=="]"&&o<i.length;)j+=i.charAt(o);if(j.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;o<i.length&&("0#?.,E+-%".indexOf(_=i.charAt(++o))>-1||_=="\\"&&i.charAt(o+1)=="-"&&"0#".indexOf(i.charAt(o+2))>-1););break;case"?":for(;i.charAt(++o)===_;);break;case"*":++o,(i.charAt(o)==" "||i.charAt(o)=="*")&&++o;break;case"(":case")":++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;o<i.length&&"0123456789".indexOf(i.charAt(++o))>-1;);break;case" ":++o;break;default:++o;break}return!1}function eval_fmt(i,o,_,j){for(var _e=[],et="",tt=0,rt="",nt="t",st,it,at,ot="H";tt<i.length;)switch(rt=i.charAt(tt)){case"G":if(!SSF_isgeneral(i,tt))throw new Error("unrecognized character "+rt+" in "+i);_e[_e.length]={t:"G",v:"General"},tt+=7;break;case'"':for(et="";(at=i.charCodeAt(++tt))!==34&&tt<i.length;)et+=String.fromCharCode(at);_e[_e.length]={t:"t",v:et},++tt;break;case"\\":var ct=i.charAt(++tt),ut=ct==="("||ct===")"?ct:"t";_e[_e.length]={t:ut,v:ct},++tt;break;case"_":_e[_e.length]={t:"t",v:" "},tt+=2;break;case"@":_e[_e.length]={t:"T",v:o},++tt;break;case"B":case"b":if(i.charAt(tt+1)==="1"||i.charAt(tt+1)==="2"){if(st==null&&(st=SSF_parse_date_code(o,_,i.charAt(tt+1)==="2"),st==null))return"";_e[_e.length]={t:"X",v:i.substr(tt,2)},nt=rt,tt+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":rt=rt.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(o<0||st==null&&(st=SSF_parse_date_code(o,_),st==null))return"";for(et=rt;++tt<i.length&&i.charAt(tt).toLowerCase()===rt;)et+=rt;rt==="m"&&nt.toLowerCase()==="h"&&(rt="M"),rt==="h"&&(rt=ot),_e[_e.length]={t:rt,v:et},nt=rt;break;case"A":case"a":case"":var lt={t:rt,v:rt};if(st==null&&(st=SSF_parse_date_code(o,_)),i.substr(tt,3).toUpperCase()==="A/P"?(st!=null&&(lt.v=st.H>=12?"P":"A"),lt.t="T",ot="h",tt+=3):i.substr(tt,5).toUpperCase()==="AM/PM"?(st!=null&&(lt.v=st.H>=12?"PM":"AM"),lt.t="T",tt+=5,ot="h"):i.substr(tt,5).toUpperCase()==="/"?(st!=null&&(lt.v=st.H>=12?"":""),lt.t="T",tt+=5,ot="h"):(lt.t="t",++tt),st==null&&lt.t==="T")return"";_e[_e.length]=lt,nt=rt;break;case"[":for(et=rt;i.charAt(tt++)!=="]"&&tt<i.length;)et+=i.charAt(tt);if(et.slice(-1)!=="]")throw'unterminated "[" block: |'+et+"|";if(et.match(SSF_abstime)){if(st==null&&(st=SSF_parse_date_code(o,_),st==null))return"";_e[_e.length]={t:"Z",v:et.toLowerCase()},nt=et.charAt(1)}else et.indexOf("$")>-1&&(et=(et.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(i)||(_e[_e.length]={t:"t",v:et}));break;case".":if(st!=null){for(et=rt;++tt<i.length&&(rt=i.charAt(tt))==="0";)et+=rt;_e[_e.length]={t:"s",v:et};break}case"0":case"#":for(et=rt;++tt<i.length&&"0#?.,E+-%".indexOf(rt=i.charAt(tt))>-1;)et+=rt;_e[_e.length]={t:"n",v:et};break;case"?":for(et=rt;i.charAt(++tt)===rt;)et+=rt;_e[_e.length]={t:rt,v:et},nt=rt;break;case"*":++tt,(i.charAt(tt)==" "||i.charAt(tt)=="*")&&++tt;break;case"(":case")":_e[_e.length]={t:j===1?"t":rt,v:rt},++tt;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(et=rt;tt<i.length&&"0123456789".indexOf(i.charAt(++tt))>-1;)et+=i.charAt(tt);_e[_e.length]={t:"D",v:et};break;case" ":_e[_e.length]={t:rt,v:rt},++tt;break;case"$":_e[_e.length]={t:"t",v:"$"},++tt;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(rt)===-1)throw new Error("unrecognized character "+rt+" in "+i);_e[_e.length]={t:"t",v:rt},++tt;break}var pt=0,dt=0,ht;for(tt=_e.length-1,nt="t";tt>=0;--tt)switch(_e[tt].t){case"h":case"H":_e[tt].t=ot,nt="h",pt<1&&(pt=1);break;case"s":(ht=_e[tt].v.match(/\.0+$/))&&(dt=Math.max(dt,ht[0].length-1)),pt<3&&(pt=3);case"d":case"y":case"M":case"e":nt=_e[tt].t;break;case"m":nt==="s"&&(_e[tt].t="M",pt<2&&(pt=2));break;case"X":break;case"Z":pt<1&&_e[tt].v.match(/[Hh]/)&&(pt=1),pt<2&&_e[tt].v.match(/[Mm]/)&&(pt=2),pt<3&&_e[tt].v.match(/[Ss]/)&&(pt=3)}switch(pt){case 0:break;case 1:st.u>=.5&&(st.u=0,++st.S),st.S>=60&&(st.S=0,++st.M),st.M>=60&&(st.M=0,++st.H);break;case 2:st.u>=.5&&(st.u=0,++st.S),st.S>=60&&(st.S=0,++st.M);break}var ft="",mt;for(tt=0;tt<_e.length;++tt)switch(_e[tt].t){case"t":case"T":case" ":case"D":break;case"X":_e[tt].v="",_e[tt].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":_e[tt].v=SSF_write_date(_e[tt].t.charCodeAt(0),_e[tt].v,st,dt),_e[tt].t="t";break;case"n":case"?":for(mt=tt+1;_e[mt]!=null&&((rt=_e[mt].t)==="?"||rt==="D"||(rt===" "||rt==="t")&&_e[mt+1]!=null&&(_e[mt+1].t==="?"||_e[mt+1].t==="t"&&_e[mt+1].v==="/")||_e[tt].t==="("&&(rt===" "||rt==="n"||rt===")")||rt==="t"&&(_e[mt].v==="/"||_e[mt].v===" "&&_e[mt+1]!=null&&_e[mt+1].t=="?"));)_e[tt].v+=_e[mt].v,_e[mt]={v:"",t:";"},++mt;ft+=_e[tt].v,tt=mt-1;break;case"G":_e[tt].t="t",_e[tt].v=SSF_general(o,_);break}var xt="",gt,yt;if(ft.length>0){ft.charCodeAt(0)==40?(gt=o<0&&ft.charCodeAt(0)===45?-o:o,yt=write_num("n",ft,gt)):(gt=o<0&&j>1?-o:o,yt=write_num("n",ft,gt),gt<0&&_e[0]&&_e[0].t=="t"&&(yt=yt.substr(1),_e[0].v="-"+_e[0].v)),mt=yt.length-1;var _t=_e.length;for(tt=0;tt<_e.length;++tt)if(_e[tt]!=null&&_e[tt].t!="t"&&_e[tt].v.indexOf(".")>-1){_t=tt;break}var Et=_e.length;if(_t===_e.length&&yt.indexOf("E")===-1){for(tt=_e.length-1;tt>=0;--tt)_e[tt]==null||"n?".indexOf(_e[tt].t)===-1||(mt>=_e[tt].v.length-1?(mt-=_e[tt].v.length,_e[tt].v=yt.substr(mt+1,_e[tt].v.length)):mt<0?_e[tt].v="":(_e[tt].v=yt.substr(0,mt+1),mt=-1),_e[tt].t="t",Et=tt);mt>=0&&Et<_e.length&&(_e[Et].v=yt.substr(0,mt+1)+_e[Et].v)}else if(_t!==_e.length&&yt.indexOf("E")===-1){for(mt=yt.indexOf(".")-1,tt=_t;tt>=0;--tt)if(!(_e[tt]==null||"n?".indexOf(_e[tt].t)===-1)){for(it=_e[tt].v.indexOf(".")>-1&&tt===_t?_e[tt].v.indexOf(".")-1:_e[tt].v.length-1,xt=_e[tt].v.substr(it+1);it>=0;--it)mt>=0&&(_e[tt].v.charAt(it)==="0"||_e[tt].v.charAt(it)==="#")&&(xt=yt.charAt(mt--)+xt);_e[tt].v=xt,_e[tt].t="t",Et=tt}for(mt>=0&&Et<_e.length&&(_e[Et].v=yt.substr(0,mt+1)+_e[Et].v),mt=yt.indexOf(".")+1,tt=_t;tt<_e.length;++tt)if(!(_e[tt]==null||"n?(".indexOf(_e[tt].t)===-1&&tt!==_t)){for(it=_e[tt].v.indexOf(".")>-1&&tt===_t?_e[tt].v.indexOf(".")+1:0,xt=_e[tt].v.substr(0,it);it<_e[tt].v.length;++it)mt<yt.length&&(xt+=yt.charAt(mt++));_e[tt].v=xt,_e[tt].t="t",Et=tt}}}for(tt=0;tt<_e.length;++tt)_e[tt]!=null&&"n?".indexOf(_e[tt].t)>-1&&(gt=j>1&&o<0&&tt>0&&_e[tt-1].v==="-"?-o:o,_e[tt].v=write_num(_e[tt].t,_e[tt].v,gt),_e[tt].t="t");var wt="";for(tt=0;tt!==_e.length;++tt)_e[tt]!=null&&(wt+=_e[tt].v);return wt}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(i,o){if(o==null)return!1;var _=parseFloat(o[2]);switch(o[1]){case"=":if(i==_)return!0;break;case">":if(i>_)return!0;break;case"<":if(i<_)return!0;break;case"<>":if(i!=_)return!0;break;case">=":if(i>=_)return!0;break;case"<=":if(i<=_)return!0;break}return!1}function choose_fmt(i,o){var _=SSF_split_fmt(i),j=_.length,_e=_[j-1].indexOf("@");if(j<4&&_e>-1&&--j,_.length>4)throw new Error("cannot find right format for |"+_.join("|")+"|");if(typeof o!="number")return[4,_.length===4||_e>-1?_[_.length-1]:"@"];switch(_.length){case 1:_=_e>-1?["General","General","General",_[0]]:[_[0],_[0],_[0],"@"];break;case 2:_=_e>-1?[_[0],_[0],_[0],_[1]]:[_[0],_[1],_[0],"@"];break;case 3:_=_e>-1?[_[0],_[1],_[0],_[2]]:[_[0],_[1],_[2],"@"];break}var et=o>0?_[0]:o<0?_[1]:_[2];if(_[0].indexOf("[")===-1&&_[1].indexOf("[")===-1)return[j,et];if(_[0].match(/\[[=<>]/)!=null||_[1].match(/\[[=<>]/)!=null){var tt=_[0].match(cfregex2),rt=_[1].match(cfregex2);return chkcond(o,tt)?[j,_[0]]:chkcond(o,rt)?[j,_[1]]:[j,_[tt!=null&&rt!=null?2:1]]}return[j,et]}function SSF_format(i,o,_){_==null&&(_={});var j="";switch(typeof i){case"string":i=="m/d/yy"&&_.dateNF?j=_.dateNF:j=i;break;case"number":i==14&&_.dateNF?j=_.dateNF:j=(_.table!=null?_.table:table_fmt)[i],j==null&&(j=_.table&&_.table[SSF_default_map[i]]||table_fmt[SSF_default_map[i]]),j==null&&(j=SSF_default_str[i]||"General");break}if(SSF_isgeneral(j,0))return SSF_general(o,_);o instanceof Date&&(o=datenum_local(o,_.date1904));var _e=choose_fmt(j,o);if(SSF_isgeneral(_e[1]))return SSF_general(o,_);if(o===!0)o="TRUE";else if(o===!1)o="FALSE";else if(o===""||o==null)return"";return eval_fmt(_e[1],o,_,_e[0])}function SSF_load(i,o){if(typeof o!="number"){o=+o||-1;for(var _=0;_<392;++_){if(table_fmt[_]==null){o<0&&(o=_);continue}if(table_fmt[_]==i){o=_;break}}o<0&&(o=391)}return table_fmt[o]=i,o}function SSF_load_table(i){for(var o=0;o!=392;++o)i[o]!==void 0&&SSF_load(i[o],o)}function make_ssf(){table_fmt=SSF_init_table()}var SSFImplicit={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(i){var o=typeof i=="number"?table_fmt[i]:i;return o=o.replace(dateNFregex,"(\\d+)"),new RegExp("^"+o+"$")}function dateNF_fix(i,o,_){var j=-1,_e=-1,et=-1,tt=-1,rt=-1,nt=-1;(o.match(dateNFregex)||[]).forEach(function(at,ot){var ct=parseInt(_[ot+1],10);switch(at.toLowerCase().charAt(0)){case"y":j=ct;break;case"d":et=ct;break;case"h":tt=ct;break;case"s":nt=ct;break;case"m":tt>=0?rt=ct:_e=ct;break}}),nt>=0&&rt==-1&&_e>=0&&(rt=_e,_e=-1);var st=(""+(j>=0?j:new Date().getFullYear())).slice(-4)+"-"+("00"+(_e>=1?_e:1)).slice(-2)+"-"+("00"+(et>=1?et:1)).slice(-2);st.length==7&&(st="0"+st),st.length==8&&(st="20"+st);var it=("00"+(tt>=0?tt:0)).slice(-2)+":"+("00"+(rt>=0?rt:0)).slice(-2)+":"+("00"+(nt>=0?nt:0)).slice(-2);return tt==-1&&rt==-1&&nt==-1?st:j==-1&&_e==-1&&et==-1?it:st+"T"+it}var CRC32=function(){var i={};i.version="1.2.0";function o(){for(var yt=0,_t=new Array(256),Et=0;Et!=256;++Et)yt=Et,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,yt=yt&1?-306674912^yt>>>1:yt>>>1,_t[Et]=yt;return typeof Int32Array<"u"?new Int32Array(_t):_t}var _=o();function j(yt){var _t=0,Et=0,wt=0,$t=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(wt=0;wt!=256;++wt)$t[wt]=yt[wt];for(wt=0;wt!=256;++wt)for(Et=yt[wt],_t=256+wt;_t<4096;_t+=256)Et=$t[_t]=Et>>>8^yt[Et&255];var jt=[];for(wt=1;wt!=16;++wt)jt[wt-1]=typeof Int32Array<"u"?$t.subarray(wt*256,wt*256+256):$t.slice(wt*256,wt*256+256);return jt}var _e=j(_),et=_e[0],tt=_e[1],rt=_e[2],nt=_e[3],st=_e[4],it=_e[5],at=_e[6],ot=_e[7],ct=_e[8],ut=_e[9],lt=_e[10],pt=_e[11],dt=_e[12],ht=_e[13],ft=_e[14];function mt(yt,_t){for(var Et=_t^-1,wt=0,$t=yt.length;wt<$t;)Et=Et>>>8^_[(Et^yt.charCodeAt(wt++))&255];return~Et}function xt(yt,_t){for(var Et=_t^-1,wt=yt.length-15,$t=0;$t<wt;)Et=ft[yt[$t++]^Et&255]^ht[yt[$t++]^Et>>8&255]^dt[yt[$t++]^Et>>16&255]^pt[yt[$t++]^Et>>>24]^lt[yt[$t++]]^ut[yt[$t++]]^ct[yt[$t++]]^ot[yt[$t++]]^at[yt[$t++]]^it[yt[$t++]]^st[yt[$t++]]^nt[yt[$t++]]^rt[yt[$t++]]^tt[yt[$t++]]^et[yt[$t++]]^_[yt[$t++]];for(wt+=15;$t<wt;)Et=Et>>>8^_[(Et^yt[$t++])&255];return~Et}function gt(yt,_t){for(var Et=_t^-1,wt=0,$t=yt.length,jt=0,Tt=0;wt<$t;)jt=yt.charCodeAt(wt++),jt<128?Et=Et>>>8^_[(Et^jt)&255]:jt<2048?(Et=Et>>>8^_[(Et^(192|jt>>6&31))&255],Et=Et>>>8^_[(Et^(128|jt&63))&255]):jt>=55296&&jt<57344?(jt=(jt&1023)+64,Tt=yt.charCodeAt(wt++)&1023,Et=Et>>>8^_[(Et^(240|jt>>8&7))&255],Et=Et>>>8^_[(Et^(128|jt>>2&63))&255],Et=Et>>>8^_[(Et^(128|Tt>>6&15|(jt&3)<<4))&255],Et=Et>>>8^_[(Et^(128|Tt&63))&255]):(Et=Et>>>8^_[(Et^(224|jt>>12&15))&255],Et=Et>>>8^_[(Et^(128|jt>>6&63))&255],Et=Et>>>8^_[(Et^(128|jt&63))&255]);return~Et}return i.table=_,i.bstr=mt,i.buf=xt,i.str=gt,i}(),CFB=function(){var o={};o.version="1.2.1";function _(Mt,Gt){for(var zt=Mt.split("/"),Ht=Gt.split("/"),qt=0,Xt=0,sr=Math.min(zt.length,Ht.length);qt<sr;++qt){if(Xt=zt[qt].length-Ht[qt].length)return Xt;if(zt[qt]!=Ht[qt])return zt[qt]<Ht[qt]?-1:1}return zt.length-Ht.length}function j(Mt){if(Mt.charAt(Mt.length-1)=="/")return Mt.slice(0,-1).indexOf("/")===-1?Mt:j(Mt.slice(0,-1));var Gt=Mt.lastIndexOf("/");return Gt===-1?Mt:Mt.slice(0,Gt+1)}function _e(Mt){if(Mt.charAt(Mt.length-1)=="/")return _e(Mt.slice(0,-1));var Gt=Mt.lastIndexOf("/");return Gt===-1?Mt:Mt.slice(Gt+1)}function et(Mt,Gt){typeof Gt=="string"&&(Gt=new Date(Gt));var zt=Gt.getHours();zt=zt<<6|Gt.getMinutes(),zt=zt<<5|Gt.getSeconds()>>>1,Mt.write_shift(2,zt);var Ht=Gt.getFullYear()-1980;Ht=Ht<<4|Gt.getMonth()+1,Ht=Ht<<5|Gt.getDate(),Mt.write_shift(2,Ht)}function tt(Mt){var Gt=Mt.read_shift(2)&65535,zt=Mt.read_shift(2)&65535,Ht=new Date,qt=zt&31;zt>>>=5;var Xt=zt&15;zt>>>=4,Ht.setMilliseconds(0),Ht.setFullYear(zt+1980),Ht.setMonth(Xt-1),Ht.setDate(qt);var sr=Gt&31;Gt>>>=5;var cr=Gt&63;return Gt>>>=6,Ht.setHours(Gt),Ht.setMinutes(cr),Ht.setSeconds(sr<<1),Ht}function rt(Mt){prep_blob(Mt,0);for(var Gt={},zt=0;Mt.l<=Mt.length-4;){var Ht=Mt.read_shift(2),qt=Mt.read_shift(2),Xt=Mt.l+qt,sr={};switch(Ht){case 21589:zt=Mt.read_shift(1),zt&1&&(sr.mtime=Mt.read_shift(4)),qt>5&&(zt&2&&(sr.atime=Mt.read_shift(4)),zt&4&&(sr.ctime=Mt.read_shift(4))),sr.mtime&&(sr.mt=new Date(sr.mtime*1e3));break}Mt.l=Xt,Gt[Ht]=sr}return Gt}var nt;function st(){return nt||(nt={})}function it(Mt,Gt){if(Mt[0]==80&&Mt[1]==75)return Ir(Mt,Gt);if((Mt[0]|32)==109&&(Mt[1]|32)==105)return sn(Mt,Gt);if(Mt.length<512)throw new Error("CFB file size "+Mt.length+" < 512");var zt=3,Ht=512,qt=0,Xt=0,sr=0,cr=0,nr=0,ir=[],Vt=Mt.slice(0,512);prep_blob(Vt,0);var rr=at(Vt);switch(zt=rr[0],zt){case 3:Ht=512;break;case 4:Ht=4096;break;case 0:if(rr[1]==0)return Ir(Mt,Gt);default:throw new Error("Major Version: Expected 3 or 4 saw "+zt)}Ht!==512&&(Vt=Mt.slice(0,Ht),prep_blob(Vt,28));var or=Mt.slice(0,Ht);ot(Vt,zt);var dr=Vt.read_shift(4,"i");if(zt===3&&dr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dr);Vt.l+=4,sr=Vt.read_shift(4,"i"),Vt.l+=4,Vt.chk("00100000","Mini Stream Cutoff Size: "),cr=Vt.read_shift(4,"i"),qt=Vt.read_shift(4,"i"),nr=Vt.read_shift(4,"i"),Xt=Vt.read_shift(4,"i");for(var ur=-1,mr=0;mr<109&&(ur=Vt.read_shift(4,"i"),!(ur<0));++mr)ir[mr]=ur;var _r=ct(Mt,Ht);pt(nr,Xt,_r,Ht,ir);var wr=ht(_r,sr,ir,Ht);wr[sr].name="!Directory",qt>0&&cr!==Tt&&(wr[cr].name="!MiniFAT"),wr[ir[0]].name="!FAT",wr.fat_addrs=ir,wr.ssz=Ht;var Sr={},Pr=[],Lr=[],Dr=[];ft(sr,wr,_r,Pr,qt,Sr,Lr,cr),ut(Lr,Dr,Pr),Pr.shift();var Br={FileIndex:Lr,FullPaths:Dr};return Gt&&Gt.raw&&(Br.raw={header:or,sectors:_r}),Br}function at(Mt){if(Mt[Mt.l]==80&&Mt[Mt.l+1]==75)return[0,0];Mt.chk(kt,"Header Signature: "),Mt.l+=16;var Gt=Mt.read_shift(2,"u");return[Mt.read_shift(2,"u"),Gt]}function ot(Mt,Gt){var zt=9;switch(Mt.l+=2,zt=Mt.read_shift(2)){case 9:if(Gt!=3)throw new Error("Sector Shift: Expected 9 saw "+zt);break;case 12:if(Gt!=4)throw new Error("Sector Shift: Expected 12 saw "+zt);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+zt)}Mt.chk("0600","Mini Sector Shift: "),Mt.chk("000000000000","Reserved: ")}function ct(Mt,Gt){for(var zt=Math.ceil(Mt.length/Gt)-1,Ht=[],qt=1;qt<zt;++qt)Ht[qt-1]=Mt.slice(qt*Gt,(qt+1)*Gt);return Ht[zt-1]=Mt.slice(zt*Gt),Ht}function ut(Mt,Gt,zt){for(var Ht=0,qt=0,Xt=0,sr=0,cr=0,nr=zt.length,ir=[],Vt=[];Ht<nr;++Ht)ir[Ht]=Vt[Ht]=Ht,Gt[Ht]=zt[Ht];for(;cr<Vt.length;++cr)Ht=Vt[cr],qt=Mt[Ht].L,Xt=Mt[Ht].R,sr=Mt[Ht].C,ir[Ht]===Ht&&(qt!==-1&&ir[qt]!==qt&&(ir[Ht]=ir[qt]),Xt!==-1&&ir[Xt]!==Xt&&(ir[Ht]=ir[Xt])),sr!==-1&&(ir[sr]=Ht),qt!==-1&&Ht!=ir[Ht]&&(ir[qt]=ir[Ht],Vt.lastIndexOf(qt)<cr&&Vt.push(qt)),Xt!==-1&&Ht!=ir[Ht]&&(ir[Xt]=ir[Ht],Vt.lastIndexOf(Xt)<cr&&Vt.push(Xt));for(Ht=1;Ht<nr;++Ht)ir[Ht]===Ht&&(Xt!==-1&&ir[Xt]!==Xt?ir[Ht]=ir[Xt]:qt!==-1&&ir[qt]!==qt&&(ir[Ht]=ir[qt]));for(Ht=1;Ht<nr;++Ht)if(Mt[Ht].type!==0){if(cr=Ht,cr!=ir[cr])do cr=ir[cr],Gt[Ht]=Gt[cr]+"/"+Gt[Ht];while(cr!==0&&ir[cr]!==-1&&cr!=ir[cr]);ir[Ht]=-1}for(Gt[0]+="/",Ht=1;Ht<nr;++Ht)Mt[Ht].type!==2&&(Gt[Ht]+="/")}function lt(Mt,Gt,zt){for(var Ht=Mt.start,qt=Mt.size,Xt=[],sr=Ht;zt&&qt>0&&sr>=0;)Xt.push(Gt.slice(sr*jt,sr*jt+jt)),qt-=jt,sr=__readInt32LE(zt,sr*4);return Xt.length===0?new_buf(0):bconcat(Xt).slice(0,Mt.size)}function pt(Mt,Gt,zt,Ht,qt){var Xt=Tt;if(Mt===Tt){if(Gt!==0)throw new Error("DIFAT chain shorter than expected")}else if(Mt!==-1){var sr=zt[Mt],cr=(Ht>>>2)-1;if(!sr)return;for(var nr=0;nr<cr&&(Xt=__readInt32LE(sr,nr*4))!==Tt;++nr)qt.push(Xt);pt(__readInt32LE(sr,Ht-4),Gt-1,zt,Ht,qt)}}function dt(Mt,Gt,zt,Ht,qt){var Xt=[],sr=[];qt||(qt=[]);var cr=Ht-1,nr=0,ir=0;for(nr=Gt;nr>=0;){qt[nr]=!0,Xt[Xt.length]=nr,sr.push(Mt[nr]);var Vt=zt[Math.floor(nr*4/Ht)];if(ir=nr*4&cr,Ht<4+ir)throw new Error("FAT boundary crossed: "+nr+" 4 "+Ht);if(!Mt[Vt])break;nr=__readInt32LE(Mt[Vt],ir)}return{nodes:Xt,data:__toBuffer([sr])}}function ht(Mt,Gt,zt,Ht){var qt=Mt.length,Xt=[],sr=[],cr=[],nr=[],ir=Ht-1,Vt=0,rr=0,or=0,dr=0;for(Vt=0;Vt<qt;++Vt)if(cr=[],or=Vt+Gt,or>=qt&&(or-=qt),!sr[or]){nr=[];var ur=[];for(rr=or;rr>=0;){ur[rr]=!0,sr[rr]=!0,cr[cr.length]=rr,nr.push(Mt[rr]);var mr=zt[Math.floor(rr*4/Ht)];if(dr=rr*4&ir,Ht<4+dr)throw new Error("FAT boundary crossed: "+rr+" 4 "+Ht);if(!Mt[mr]||(rr=__readInt32LE(Mt[mr],dr),ur[rr]))break}Xt[or]={nodes:cr,data:__toBuffer([nr])}}return Xt}function ft(Mt,Gt,zt,Ht,qt,Xt,sr,cr){for(var nr=0,ir=Ht.length?2:0,Vt=Gt[Mt].data,rr=0,or=0,dr;rr<Vt.length;rr+=128){var ur=Vt.slice(rr,rr+128);prep_blob(ur,64),or=ur.read_shift(2),dr=__utf16le(ur,0,or-ir),Ht.push(dr);var mr={name:dr,type:ur.read_shift(1),color:ur.read_shift(1),L:ur.read_shift(4,"i"),R:ur.read_shift(4,"i"),C:ur.read_shift(4,"i"),clsid:ur.read_shift(16),state:ur.read_shift(4,"i"),start:0,size:0},_r=ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2);_r!==0&&(mr.ct=mt(ur,ur.l-8));var wr=ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2)+ur.read_shift(2);wr!==0&&(mr.mt=mt(ur,ur.l-8)),mr.start=ur.read_shift(4,"i"),mr.size=ur.read_shift(4,"i"),mr.size<0&&mr.start<0&&(mr.size=mr.type=0,mr.start=Tt,mr.name=""),mr.type===5?(nr=mr.start,qt>0&&nr!==Tt&&(Gt[nr].name="!StreamData")):mr.size>=4096?(mr.storage="fat",Gt[mr.start]===void 0&&(Gt[mr.start]=dt(zt,mr.start,Gt.fat_addrs,Gt.ssz)),Gt[mr.start].name=mr.name,mr.content=Gt[mr.start].data.slice(0,mr.size)):(mr.storage="minifat",mr.size<0?mr.size=0:nr!==Tt&&mr.start!==Tt&&Gt[nr]&&(mr.content=lt(mr,Gt[nr].data,(Gt[cr]||{}).data))),mr.content&&prep_blob(mr.content,0),Xt[dr]=mr,sr.push(mr)}}function mt(Mt,Gt){return new Date((__readUInt32LE(Mt,Gt+4)/1e7*Math.pow(2,32)+__readUInt32LE(Mt,Gt)/1e7-11644473600)*1e3)}function xt(Mt,Gt){return st(),it(nt.readFileSync(Mt),Gt)}function gt(Mt,Gt){var zt=Gt&&Gt.type;switch(zt||has_buf&&Buffer.isBuffer(Mt)&&(zt="buffer"),zt||"base64"){case"file":return xt(Mt,Gt);case"base64":return it(s2a(Base64_decode(Mt)),Gt);case"binary":return it(s2a(Mt),Gt)}return it(Mt,Gt)}function yt(Mt,Gt){var zt=Gt||{},Ht=zt.root||"Root Entry";if(Mt.FullPaths||(Mt.FullPaths=[]),Mt.FileIndex||(Mt.FileIndex=[]),Mt.FullPaths.length!==Mt.FileIndex.length)throw new Error("inconsistent CFB structure");Mt.FullPaths.length===0&&(Mt.FullPaths[0]=Ht+"/",Mt.FileIndex[0]={name:Ht,type:5}),zt.CLSID&&(Mt.FileIndex[0].clsid=zt.CLSID),_t(Mt)}function _t(Mt){var Gt="Sh33tJ5";if(!CFB.find(Mt,"/"+Gt)){var zt=new_buf(4);zt[0]=55,zt[1]=zt[3]=50,zt[2]=54,Mt.FileIndex.push({name:Gt,type:2,content:zt,size:4,L:69,R:69,C:69}),Mt.FullPaths.push(Mt.FullPaths[0]+Gt),Et(Mt)}}function Et(Mt,Gt){yt(Mt);for(var zt=!1,Ht=!1,qt=Mt.FullPaths.length-1;qt>=0;--qt){var Xt=Mt.FileIndex[qt];switch(Xt.type){case 0:Ht?zt=!0:(Mt.FileIndex.pop(),Mt.FullPaths.pop());break;case 1:case 2:case 5:Ht=!0,isNaN(Xt.R*Xt.L*Xt.C)&&(zt=!0),Xt.R>-1&&Xt.L>-1&&Xt.R==Xt.L&&(zt=!0);break;default:zt=!0;break}}if(!(!zt&&!Gt)){var sr=new Date(1987,1,19),cr=0,nr=Object.create?Object.create(null):{},ir=[];for(qt=0;qt<Mt.FullPaths.length;++qt)nr[Mt.FullPaths[qt]]=!0,Mt.FileIndex[qt].type!==0&&ir.push([Mt.FullPaths[qt],Mt.FileIndex[qt]]);for(qt=0;qt<ir.length;++qt){var Vt=j(ir[qt][0]);Ht=nr[Vt],Ht||(ir.push([Vt,{name:_e(Vt).replace("/",""),type:1,clsid:St,ct:sr,mt:sr,content:null}]),nr[Vt]=!0)}for(ir.sort(function(dr,ur){return _(dr[0],ur[0])}),Mt.FullPaths=[],Mt.FileIndex=[],qt=0;qt<ir.length;++qt)Mt.FullPaths[qt]=ir[qt][0],Mt.FileIndex[qt]=ir[qt][1];for(qt=0;qt<ir.length;++qt){var rr=Mt.FileIndex[qt],or=Mt.FullPaths[qt];if(rr.name=_e(or).replace("/",""),rr.L=rr.R=rr.C=-(rr.color=1),rr.size=rr.content?rr.content.length:0,rr.start=0,rr.clsid=rr.clsid||St,qt===0)rr.C=ir.length>1?1:-1,rr.size=0,rr.type=5;else if(or.slice(-1)=="/"){for(cr=qt+1;cr<ir.length&&j(Mt.FullPaths[cr])!=or;++cr);for(rr.C=cr>=ir.length?-1:cr,cr=qt+1;cr<ir.length&&j(Mt.FullPaths[cr])!=j(or);++cr);rr.R=cr>=ir.length?-1:cr,rr.type=1}else j(Mt.FullPaths[qt+1]||"")==j(or)&&(rr.R=qt+1),rr.type=2}}}function wt(Mt,Gt){var zt=Gt||{};if(zt.fileType=="mad")return an(Mt,zt);switch(Et(Mt),zt.fileType){case"zip":return Jr(Mt,zt)}var Ht=function(dr){for(var ur=0,mr=0,_r=0;_r<dr.FileIndex.length;++_r){var wr=dr.FileIndex[_r];if(wr.content){var Sr=wr.content.length;Sr>0&&(Sr<4096?ur+=Sr+63>>6:mr+=Sr+511>>9)}}for(var Pr=dr.FullPaths.length+3>>2,Lr=ur+7>>3,Dr=ur+127>>7,Br=Lr+mr+Pr+Dr,Mr=Br+127>>7,Xr=Mr<=109?0:Math.ceil((Mr-109)/127);Br+Mr+Xr+127>>7>Mr;)Xr=++Mr<=109?0:Math.ceil((Mr-109)/127);var Or=[1,Xr,Mr,Dr,Pr,mr,ur,0];return dr.FileIndex[0].size=ur<<6,Or[7]=(dr.FileIndex[0].start=Or[0]+Or[1]+Or[2]+Or[3]+Or[4]+Or[5])+(Or[6]+7>>3),Or}(Mt),qt=new_buf(Ht[7]<<9),Xt=0,sr=0;{for(Xt=0;Xt<8;++Xt)qt.write_shift(1,Pt[Xt]);for(Xt=0;Xt<8;++Xt)qt.write_shift(2,0);for(qt.write_shift(2,62),qt.write_shift(2,3),qt.write_shift(2,65534),qt.write_shift(2,9),qt.write_shift(2,6),Xt=0;Xt<3;++Xt)qt.write_shift(2,0);for(qt.write_shift(4,0),qt.write_shift(4,Ht[2]),qt.write_shift(4,Ht[0]+Ht[1]+Ht[2]+Ht[3]-1),qt.write_shift(4,0),qt.write_shift(4,4096),qt.write_shift(4,Ht[3]?Ht[0]+Ht[1]+Ht[2]-1:Tt),qt.write_shift(4,Ht[3]),qt.write_shift(-4,Ht[1]?Ht[0]-1:Tt),qt.write_shift(4,Ht[1]),Xt=0;Xt<109;++Xt)qt.write_shift(-4,Xt<Ht[2]?Ht[1]+Xt:-1)}if(Ht[1])for(sr=0;sr<Ht[1];++sr){for(;Xt<236+sr*127;++Xt)qt.write_shift(-4,Xt<Ht[2]?Ht[1]+Xt:-1);qt.write_shift(-4,sr===Ht[1]-1?Tt:sr+1)}var cr=function(dr){for(sr+=dr;Xt<sr-1;++Xt)qt.write_shift(-4,Xt+1);dr&&(++Xt,qt.write_shift(-4,Tt))};for(sr=Xt=0,sr+=Ht[1];Xt<sr;++Xt)qt.write_shift(-4,Rt.DIFSECT);for(sr+=Ht[2];Xt<sr;++Xt)qt.write_shift(-4,Rt.FATSECT);cr(Ht[3]),cr(Ht[4]);for(var nr=0,ir=0,Vt=Mt.FileIndex[0];nr<Mt.FileIndex.length;++nr)Vt=Mt.FileIndex[nr],Vt.content&&(ir=Vt.content.length,!(ir<4096)&&(Vt.start=sr,cr(ir+511>>9)));for(cr(Ht[6]+7>>3);qt.l&511;)qt.write_shift(-4,Rt.ENDOFCHAIN);for(sr=Xt=0,nr=0;nr<Mt.FileIndex.length;++nr)Vt=Mt.FileIndex[nr],Vt.content&&(ir=Vt.content.length,!(!ir||ir>=4096)&&(Vt.start=sr,cr(ir+63>>6)));for(;qt.l&511;)qt.write_shift(-4,Rt.ENDOFCHAIN);for(Xt=0;Xt<Ht[4]<<2;++Xt){var rr=Mt.FullPaths[Xt];if(!rr||rr.length===0){for(nr=0;nr<17;++nr)qt.write_shift(4,0);for(nr=0;nr<3;++nr)qt.write_shift(4,-1);for(nr=0;nr<12;++nr)qt.write_shift(4,0);continue}Vt=Mt.FileIndex[Xt],Xt===0&&(Vt.start=Vt.size?Vt.start-1:Tt);var or=Xt===0&&zt.root||Vt.name;if(ir=2*(or.length+1),qt.write_shift(64,or,"utf16le"),qt.write_shift(2,ir),qt.write_shift(1,Vt.type),qt.write_shift(1,Vt.color),qt.write_shift(-4,Vt.L),qt.write_shift(-4,Vt.R),qt.write_shift(-4,Vt.C),Vt.clsid)qt.write_shift(16,Vt.clsid,"hex");else for(nr=0;nr<4;++nr)qt.write_shift(4,0);qt.write_shift(4,Vt.state||0),qt.write_shift(4,0),qt.write_shift(4,0),qt.write_shift(4,0),qt.write_shift(4,0),qt.write_shift(4,Vt.start),qt.write_shift(4,Vt.size),qt.write_shift(4,0)}for(Xt=1;Xt<Mt.FileIndex.length;++Xt)if(Vt=Mt.FileIndex[Xt],Vt.size>=4096)if(qt.l=Vt.start+1<<9,has_buf&&Buffer.isBuffer(Vt.content))Vt.content.copy(qt,qt.l,0,Vt.size),qt.l+=Vt.size+511&-512;else{for(nr=0;nr<Vt.size;++nr)qt.write_shift(1,Vt.content[nr]);for(;nr&511;++nr)qt.write_shift(1,0)}for(Xt=1;Xt<Mt.FileIndex.length;++Xt)if(Vt=Mt.FileIndex[Xt],Vt.size>0&&Vt.size<4096)if(has_buf&&Buffer.isBuffer(Vt.content))Vt.content.copy(qt,qt.l,0,Vt.size),qt.l+=Vt.size+63&-64;else{for(nr=0;nr<Vt.size;++nr)qt.write_shift(1,Vt.content[nr]);for(;nr&63;++nr)qt.write_shift(1,0)}if(has_buf)qt.l=qt.length;else for(;qt.l<qt.length;)qt.write_shift(1,0);return qt}function $t(Mt,Gt){var zt=Mt.FullPaths.map(function(nr){return nr.toUpperCase()}),Ht=zt.map(function(nr){var ir=nr.split("/");return ir[ir.length-(nr.slice(-1)=="/"?2:1)]}),qt=!1;Gt.charCodeAt(0)===47?(qt=!0,Gt=zt[0].slice(0,-1)+Gt):qt=Gt.indexOf("/")!==-1;var Xt=Gt.toUpperCase(),sr=qt===!0?zt.indexOf(Xt):Ht.indexOf(Xt);if(sr!==-1)return Mt.FileIndex[sr];var cr=!Xt.match(chr1);for(Xt=Xt.replace(chr0,""),cr&&(Xt=Xt.replace(chr1,"!")),sr=0;sr<zt.length;++sr)if((cr?zt[sr].replace(chr1,"!"):zt[sr]).replace(chr0,"")==Xt||(cr?Ht[sr].replace(chr1,"!"):Ht[sr]).replace(chr0,"")==Xt)return Mt.FileIndex[sr];return null}var jt=64,Tt=-2,kt="d0cf11e0a1b11ae1",Pt=[208,207,17,224,161,177,26,225],St="00000000000000000000000000000000",Rt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Tt,FREESECT:-1,HEADER_SIGNATURE:kt,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:St,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function bt(Mt,Gt,zt){st();var Ht=wt(Mt,zt);nt.writeFileSync(Gt,Ht)}function vt(Mt){for(var Gt=new Array(Mt.length),zt=0;zt<Mt.length;++zt)Gt[zt]=String.fromCharCode(Mt[zt]);return Gt.join("")}function At(Mt,Gt){var zt=wt(Mt,Gt);switch(Gt&&Gt.type||"buffer"){case"file":return st(),nt.writeFileSync(Gt.filename,zt),zt;case"binary":return typeof zt=="string"?zt:vt(zt);case"base64":return Base64_encode(typeof zt=="string"?zt:vt(zt));case"buffer":if(has_buf)return Buffer.isBuffer(zt)?zt:Buffer_from(zt);case"array":return typeof zt=="string"?s2a(zt):zt}return zt}var Ot;function Ct(Mt){try{var Gt=Mt.InflateRaw,zt=new Gt;if(zt._processChunk(new Uint8Array([3,0]),zt._finishFlushFlag),zt.bytesRead)Ot=Mt;else throw new Error("zlib does not expose bytesRead")}catch(Ht){console.error("cannot use native zlib: "+(Ht.message||Ht))}}function Lt(Mt,Gt){if(!Ot)return Wr(Mt,Gt);var zt=Ot.InflateRaw,Ht=new zt,qt=Ht._processChunk(Mt.slice(Mt.l),Ht._finishFlushFlag);return Mt.l+=Ht.bytesRead,qt}function It(Mt){return Ot?Ot.deflateRawSync(Mt):br(Mt)}var Dt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Zt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Qt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Yt(Mt){var Gt=(Mt<<1|Mt<<11)&139536|(Mt<<5|Mt<<15)&558144;return(Gt>>16|Gt>>8|Gt)&255}for(var Ft=typeof Uint8Array<"u",Kt=Ft?new Uint8Array(256):[],er=0;er<256;++er)Kt[er]=Yt(er);function Nt(Mt,Gt){var zt=Kt[Mt&255];return Gt<=8?zt>>>8-Gt:(zt=zt<<8|Kt[Mt>>8&255],Gt<=16?zt>>>16-Gt:(zt=zt<<8|Kt[Mt>>16&255],zt>>>24-Gt))}function lr(Mt,Gt){var zt=Gt&7,Ht=Gt>>>3;return(Mt[Ht]|(zt<=6?0:Mt[Ht+1]<<8))>>>zt&3}function Wt(Mt,Gt){var zt=Gt&7,Ht=Gt>>>3;return(Mt[Ht]|(zt<=5?0:Mt[Ht+1]<<8))>>>zt&7}function Ut(Mt,Gt){var zt=Gt&7,Ht=Gt>>>3;return(Mt[Ht]|(zt<=4?0:Mt[Ht+1]<<8))>>>zt&15}function Jt(Mt,Gt){var zt=Gt&7,Ht=Gt>>>3;return(Mt[Ht]|(zt<=3?0:Mt[Ht+1]<<8))>>>zt&31}function Bt(Mt,Gt){var zt=Gt&7,Ht=Gt>>>3;return(Mt[Ht]|(zt<=1?0:Mt[Ht+1]<<8))>>>zt&127}function tr(Mt,Gt,zt){var Ht=Gt&7,qt=Gt>>>3,Xt=(1<<zt)-1,sr=Mt[qt]>>>Ht;return zt<8-Ht||(sr|=Mt[qt+1]<<8-Ht,zt<16-Ht)||(sr|=Mt[qt+2]<<16-Ht,zt<24-Ht)||(sr|=Mt[qt+3]<<24-Ht),sr&Xt}function ar(Mt,Gt,zt){var Ht=Gt&7,qt=Gt>>>3;return Ht<=5?Mt[qt]|=(zt&7)<<Ht:(Mt[qt]|=zt<<Ht&255,Mt[qt+1]=(zt&7)>>8-Ht),Gt+3}function hr(Mt,Gt,zt){var Ht=Gt&7,qt=Gt>>>3;return zt=(zt&1)<<Ht,Mt[qt]|=zt,Gt+1}function pr(Mt,Gt,zt){var Ht=Gt&7,qt=Gt>>>3;return zt<<=Ht,Mt[qt]|=zt&255,zt>>>=8,Mt[qt+1]=zt,Gt+8}function yr(Mt,Gt,zt){var Ht=Gt&7,qt=Gt>>>3;return zt<<=Ht,Mt[qt]|=zt&255,zt>>>=8,Mt[qt+1]=zt&255,Mt[qt+2]=zt>>>8,Gt+16}function xr(Mt,Gt){var zt=Mt.length,Ht=2*zt>Gt?2*zt:Gt+5,qt=0;if(zt>=Gt)return Mt;if(has_buf){var Xt=new_unsafe_buf(Ht);if(Mt.copy)Mt.copy(Xt);else for(;qt<Mt.length;++qt)Xt[qt]=Mt[qt];return Xt}else if(Ft){var sr=new Uint8Array(Ht);if(sr.set)sr.set(Mt);else for(;qt<zt;++qt)sr[qt]=Mt[qt];return sr}return Mt.length=Ht,Mt}function vr(Mt){for(var Gt=new Array(Mt),zt=0;zt<Mt;++zt)Gt[zt]=0;return Gt}function Er(Mt,Gt,zt){var Ht=1,qt=0,Xt=0,sr=0,cr=0,nr=Mt.length,ir=Ft?new Uint16Array(32):vr(32);for(Xt=0;Xt<32;++Xt)ir[Xt]=0;for(Xt=nr;Xt<zt;++Xt)Mt[Xt]=0;nr=Mt.length;var Vt=Ft?new Uint16Array(nr):vr(nr);for(Xt=0;Xt<nr;++Xt)ir[qt=Mt[Xt]]++,Ht<qt&&(Ht=qt),Vt[Xt]=0;for(ir[0]=0,Xt=1;Xt<=Ht;++Xt)ir[Xt+16]=cr=cr+ir[Xt-1]<<1;for(Xt=0;Xt<nr;++Xt)cr=Mt[Xt],cr!=0&&(Vt[Xt]=ir[cr+16]++);var rr=0;for(Xt=0;Xt<nr;++Xt)if(rr=Mt[Xt],rr!=0)for(cr=Nt(Vt[Xt],Ht)>>Ht-rr,sr=(1<<Ht+4-rr)-1;sr>=0;--sr)Gt[cr|sr<<rr]=rr&15|Xt<<4;return Ht}var jr=Ft?new Uint16Array(512):vr(512),Ar=Ft?new Uint16Array(32):vr(32);if(!Ft){for(var Rr=0;Rr<512;++Rr)jr[Rr]=0;for(Rr=0;Rr<32;++Rr)Ar[Rr]=0}(function(){for(var Mt=[],Gt=0;Gt<32;Gt++)Mt.push(5);Er(Mt,Ar,32);var zt=[];for(Gt=0;Gt<=143;Gt++)zt.push(8);for(;Gt<=255;Gt++)zt.push(9);for(;Gt<=279;Gt++)zt.push(7);for(;Gt<=287;Gt++)zt.push(8);Er(zt,jr,288)})();var Tr=function(){for(var Gt=Ft?new Uint8Array(32768):[],zt=0,Ht=0;zt<Qt.length-1;++zt)for(;Ht<Qt[zt+1];++Ht)Gt[Ht]=zt;for(;Ht<32768;++Ht)Gt[Ht]=29;var qt=Ft?new Uint8Array(259):[];for(zt=0,Ht=0;zt<Zt.length-1;++zt)for(;Ht<Zt[zt+1];++Ht)qt[Ht]=zt;function Xt(cr,nr){for(var ir=0;ir<cr.length;){var Vt=Math.min(65535,cr.length-ir),rr=ir+Vt==cr.length;for(nr.write_shift(1,+rr),nr.write_shift(2,Vt),nr.write_shift(2,~Vt&65535);Vt-- >0;)nr[nr.l++]=cr[ir++]}return nr.l}function sr(cr,nr){for(var ir=0,Vt=0,rr=Ft?new Uint16Array(32768):[];Vt<cr.length;){var or=Math.min(65535,cr.length-Vt);if(or<10){for(ir=ar(nr,ir,+(Vt+or==cr.length)),ir&7&&(ir+=8-(ir&7)),nr.l=ir/8|0,nr.write_shift(2,or),nr.write_shift(2,~or&65535);or-- >0;)nr[nr.l++]=cr[Vt++];ir=nr.l*8;continue}ir=ar(nr,ir,+(Vt+or==cr.length)+2);for(var dr=0;or-- >0;){var ur=cr[Vt];dr=(dr<<5^ur)&32767;var mr=-1,_r=0;if((mr=rr[dr])&&(mr|=Vt&-32768,mr>Vt&&(mr-=32768),mr<Vt))for(;cr[mr+_r]==cr[Vt+_r]&&_r<250;)++_r;if(_r>2){ur=qt[_r],ur<=22?ir=pr(nr,ir,Kt[ur+1]>>1)-1:(pr(nr,ir,3),ir+=5,pr(nr,ir,Kt[ur-23]>>5),ir+=3);var wr=ur<8?0:ur-4>>2;wr>0&&(yr(nr,ir,_r-Zt[ur]),ir+=wr),ur=Gt[Vt-mr],ir=pr(nr,ir,Kt[ur]>>3),ir-=3;var Sr=ur<4?0:ur-2>>1;Sr>0&&(yr(nr,ir,Vt-mr-Qt[ur]),ir+=Sr);for(var Pr=0;Pr<_r;++Pr)rr[dr]=Vt&32767,dr=(dr<<5^cr[Vt])&32767,++Vt;or-=_r-1}else ur<=143?ur=ur+48:ir=hr(nr,ir,1),ir=pr(nr,ir,Kt[ur]),rr[dr]=Vt&32767,++Vt}ir=pr(nr,ir,0)-1}return nr.l=(ir+7)/8|0,nr.l}return function(nr,ir){return nr.length<8?Xt(nr,ir):sr(nr,ir)}}();function br(Mt){var Gt=new_buf(50+Math.floor(Mt.length*1.1)),zt=Tr(Mt,Gt);return Gt.slice(0,zt)}var $r=Ft?new Uint16Array(32768):vr(32768),Nr=Ft?new Uint16Array(32768):vr(32768),Cr=Ft?new Uint16Array(128):vr(128),Fr=1,Hr=1;function Ur(Mt,Gt){var zt=Jt(Mt,Gt)+257;Gt+=5;var Ht=Jt(Mt,Gt)+1;Gt+=5;var qt=Ut(Mt,Gt)+4;Gt+=4;for(var Xt=0,sr=Ft?new Uint8Array(19):vr(19),cr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nr=1,ir=Ft?new Uint8Array(8):vr(8),Vt=Ft?new Uint8Array(8):vr(8),rr=sr.length,or=0;or<qt;++or)sr[Dt[or]]=Xt=Wt(Mt,Gt),nr<Xt&&(nr=Xt),ir[Xt]++,Gt+=3;var dr=0;for(ir[0]=0,or=1;or<=nr;++or)Vt[or]=dr=dr+ir[or-1]<<1;for(or=0;or<rr;++or)(dr=sr[or])!=0&&(cr[or]=Vt[dr]++);var ur=0;for(or=0;or<rr;++or)if(ur=sr[or],ur!=0){dr=Kt[cr[or]]>>8-ur;for(var mr=(1<<7-ur)-1;mr>=0;--mr)Cr[dr|mr<<ur]=ur&7|or<<3}var _r=[];for(nr=1;_r.length<zt+Ht;)switch(dr=Cr[Bt(Mt,Gt)],Gt+=dr&7,dr>>>=3){case 16:for(Xt=3+lr(Mt,Gt),Gt+=2,dr=_r[_r.length-1];Xt-- >0;)_r.push(dr);break;case 17:for(Xt=3+Wt(Mt,Gt),Gt+=3;Xt-- >0;)_r.push(0);break;case 18:for(Xt=11+Bt(Mt,Gt),Gt+=7;Xt-- >0;)_r.push(0);break;default:_r.push(dr),nr<dr&&(nr=dr);break}var wr=_r.slice(0,zt),Sr=_r.slice(zt);for(or=zt;or<286;++or)wr[or]=0;for(or=Ht;or<30;++or)Sr[or]=0;return Fr=Er(wr,$r,286),Hr=Er(Sr,Nr,30),Gt}function Yr(Mt,Gt){if(Mt[0]==3&&!(Mt[1]&3))return[new_raw_buf(Gt),2];for(var zt=0,Ht=0,qt=new_unsafe_buf(Gt||1<<18),Xt=0,sr=qt.length>>>0,cr=0,nr=0;!(Ht&1);){if(Ht=Wt(Mt,zt),zt+=3,Ht>>>1)Ht>>1==1?(cr=9,nr=5):(zt=Ur(Mt,zt),cr=Fr,nr=Hr);else{zt&7&&(zt+=8-(zt&7));var ir=Mt[zt>>>3]|Mt[(zt>>>3)+1]<<8;if(zt+=32,ir>0)for(!Gt&&sr<Xt+ir&&(qt=xr(qt,Xt+ir),sr=qt.length);ir-- >0;)qt[Xt++]=Mt[zt>>>3],zt+=8;continue}for(;;){!Gt&&sr<Xt+32767&&(qt=xr(qt,Xt+32767),sr=qt.length);var Vt=tr(Mt,zt,cr),rr=Ht>>>1==1?jr[Vt]:$r[Vt];if(zt+=rr&15,rr>>>=4,!(rr>>>8&255))qt[Xt++]=rr;else{if(rr==256)break;rr-=257;var or=rr<8?0:rr-4>>2;or>5&&(or=0);var dr=Xt+Zt[rr];or>0&&(dr+=tr(Mt,zt,or),zt+=or),Vt=tr(Mt,zt,nr),rr=Ht>>>1==1?Ar[Vt]:Nr[Vt],zt+=rr&15,rr>>>=4;var ur=rr<4?0:rr-2>>1,mr=Qt[rr];for(ur>0&&(mr+=tr(Mt,zt,ur),zt+=ur),!Gt&&sr<dr&&(qt=xr(qt,dr+100),sr=qt.length);Xt<dr;)qt[Xt]=qt[Xt-mr],++Xt}}}return Gt?[qt,zt+7>>>3]:[qt.slice(0,Xt),zt+7>>>3]}function Wr(Mt,Gt){var zt=Mt.slice(Mt.l||0),Ht=Yr(zt,Gt);return Mt.l+=Ht[1],Ht[0]}function Gr(Mt,Gt){if(Mt)typeof console<"u"&&console.error(Gt);else throw new Error(Gt)}function Ir(Mt,Gt){var zt=Mt;prep_blob(zt,0);var Ht=[],qt=[],Xt={FileIndex:Ht,FullPaths:qt};yt(Xt,{root:Gt.root});for(var sr=zt.length-4;(zt[sr]!=80||zt[sr+1]!=75||zt[sr+2]!=5||zt[sr+3]!=6)&&sr>=0;)--sr;zt.l=sr+4,zt.l+=4;var cr=zt.read_shift(2);zt.l+=6;var nr=zt.read_shift(4);for(zt.l=nr,sr=0;sr<cr;++sr){zt.l+=20;var ir=zt.read_shift(4),Vt=zt.read_shift(4),rr=zt.read_shift(2),or=zt.read_shift(2),dr=zt.read_shift(2);zt.l+=8;var ur=zt.read_shift(4),mr=rt(zt.slice(zt.l+rr,zt.l+rr+or));zt.l+=rr+or+dr;var _r=zt.l;zt.l=ur+4,Zr(zt,ir,Vt,Xt,mr),zt.l=_r}return Xt}function Zr(Mt,Gt,zt,Ht,qt){Mt.l+=2;var Xt=Mt.read_shift(2),sr=Mt.read_shift(2),cr=tt(Mt);if(Xt&8257)throw new Error("Unsupported ZIP encryption");for(var nr=Mt.read_shift(4),ir=Mt.read_shift(4),Vt=Mt.read_shift(4),rr=Mt.read_shift(2),or=Mt.read_shift(2),dr="",ur=0;ur<rr;++ur)dr+=String.fromCharCode(Mt[Mt.l++]);if(or){var mr=rt(Mt.slice(Mt.l,Mt.l+or));(mr[21589]||{}).mt&&(cr=mr[21589].mt),((qt||{})[21589]||{}).mt&&(cr=qt[21589].mt)}Mt.l+=or;var _r=Mt.slice(Mt.l,Mt.l+ir);switch(sr){case 8:_r=Lt(Mt,Vt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+sr)}var wr=!1;Xt&8&&(nr=Mt.read_shift(4),nr==134695760&&(nr=Mt.read_shift(4),wr=!0),ir=Mt.read_shift(4),Vt=Mt.read_shift(4)),ir!=Gt&&Gr(wr,"Bad compressed size: "+Gt+" != "+ir),Vt!=zt&&Gr(wr,"Bad uncompressed size: "+zt+" != "+Vt),qr(Ht,dr,_r,{unsafe:!0,mt:cr})}function Jr(Mt,Gt){var zt=Gt||{},Ht=[],qt=[],Xt=new_buf(1),sr=zt.compression?8:0,cr=0,nr=0,ir=0,Vt=0,rr=0,or=Mt.FullPaths[0],dr=or,ur=Mt.FileIndex[0],mr=[],_r=0;for(nr=1;nr<Mt.FullPaths.length;++nr)if(dr=Mt.FullPaths[nr].slice(or.length),ur=Mt.FileIndex[nr],!(!ur.size||!ur.content||dr=="Sh33tJ5")){var wr=Vt,Sr=new_buf(dr.length);for(ir=0;ir<dr.length;++ir)Sr.write_shift(1,dr.charCodeAt(ir)&127);Sr=Sr.slice(0,Sr.l),mr[rr]=CRC32.buf(ur.content,0);var Pr=ur.content;sr==8&&(Pr=It(Pr)),Xt=new_buf(30),Xt.write_shift(4,67324752),Xt.write_shift(2,20),Xt.write_shift(2,cr),Xt.write_shift(2,sr),ur.mt?et(Xt,ur.mt):Xt.write_shift(4,0),Xt.write_shift(-4,mr[rr]),Xt.write_shift(4,Pr.length),Xt.write_shift(4,ur.content.length),Xt.write_shift(2,Sr.length),Xt.write_shift(2,0),Vt+=Xt.length,Ht.push(Xt),Vt+=Sr.length,Ht.push(Sr),Vt+=Pr.length,Ht.push(Pr),Xt=new_buf(46),Xt.write_shift(4,33639248),Xt.write_shift(2,0),Xt.write_shift(2,20),Xt.write_shift(2,cr),Xt.write_shift(2,sr),Xt.write_shift(4,0),Xt.write_shift(-4,mr[rr]),Xt.write_shift(4,Pr.length),Xt.write_shift(4,ur.content.length),Xt.write_shift(2,Sr.length),Xt.write_shift(2,0),Xt.write_shift(2,0),Xt.write_shift(2,0),Xt.write_shift(2,0),Xt.write_shift(4,0),Xt.write_shift(4,wr),_r+=Xt.l,qt.push(Xt),_r+=Sr.length,qt.push(Sr),++rr}return Xt=new_buf(22),Xt.write_shift(4,101010256),Xt.write_shift(2,0),Xt.write_shift(2,0),Xt.write_shift(2,rr),Xt.write_shift(2,rr),Xt.write_shift(4,_r),Xt.write_shift(4,Vt),Xt.write_shift(2,0),bconcat([bconcat(Ht),bconcat(qt),Xt])}var Vr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qr(Mt,Gt){if(Mt.ctype)return Mt.ctype;var zt=Mt.name||"",Ht=zt.match(/\.([^\.]+)$/);return Ht&&Vr[Ht[1]]||Gt&&(Ht=(zt=Gt).match(/[\.\\]([^\.\\])+$/),Ht&&Vr[Ht[1]])?Vr[Ht[1]]:"application/octet-stream"}function en(Mt){for(var Gt=Base64_encode(Mt),zt=[],Ht=0;Ht<Gt.length;Ht+=76)zt.push(Gt.slice(Ht,Ht+76));return zt.join(`\r
`)+`\r
`}function tn(Mt){var Gt=Mt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ir){var Vt=ir.charCodeAt(0).toString(16).toUpperCase();return"="+(Vt.length==1?"0"+Vt:Vt)});Gt=Gt.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Gt.charAt(0)==`
`&&(Gt="=0D"+Gt.slice(1)),Gt=Gt.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var zt=[],Ht=Gt.split(`\r
`),qt=0;qt<Ht.length;++qt){var Xt=Ht[qt];if(Xt.length==0){zt.push("");continue}for(var sr=0;sr<Xt.length;){var cr=76,nr=Xt.slice(sr,sr+cr);nr.charAt(cr-1)=="="?cr--:nr.charAt(cr-2)=="="?cr-=2:nr.charAt(cr-3)=="="&&(cr-=3),nr=Xt.slice(sr,sr+cr),sr+=cr,sr<Xt.length&&(nr+="="),zt.push(nr)}}return zt.join(`\r
`)}function rn(Mt){for(var Gt=[],zt=0;zt<Mt.length;++zt){for(var Ht=Mt[zt];zt<=Mt.length&&Ht.charAt(Ht.length-1)=="=";)Ht=Ht.slice(0,Ht.length-1)+Mt[++zt];Gt.push(Ht)}for(var qt=0;qt<Gt.length;++qt)Gt[qt]=Gt[qt].replace(/[=][0-9A-Fa-f]{2}/g,function(Xt){return String.fromCharCode(parseInt(Xt.slice(1),16))});return s2a(Gt.join(`\r
`))}function nn(Mt,Gt,zt){for(var Ht="",qt="",Xt="",sr,cr=0;cr<10;++cr){var nr=Gt[cr];if(!nr||nr.match(/^\s*$/))break;var ir=nr.match(/^(.*?):\s*([^\s].*)$/);if(ir)switch(ir[1].toLowerCase()){case"content-location":Ht=ir[2].trim();break;case"content-type":Xt=ir[2].trim();break;case"content-transfer-encoding":qt=ir[2].trim();break}}switch(++cr,qt.toLowerCase()){case"base64":sr=s2a(Base64_decode(Gt.slice(cr).join("")));break;case"quoted-printable":sr=rn(Gt.slice(cr));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+qt)}var Vt=qr(Mt,Ht.slice(zt.length),sr,{unsafe:!0});Xt&&(Vt.ctype=Xt)}function sn(Mt,Gt){if(vt(Mt.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var zt=Gt&&Gt.root||"",Ht=(has_buf&&Buffer.isBuffer(Mt)?Mt.toString("binary"):vt(Mt)).split(`\r
`),qt=0,Xt="";for(qt=0;qt<Ht.length;++qt)if(Xt=Ht[qt],!!/^Content-Location:/i.test(Xt)&&(Xt=Xt.slice(Xt.indexOf("file")),zt||(zt=Xt.slice(0,Xt.lastIndexOf("/")+1)),Xt.slice(0,zt.length)!=zt))for(;zt.length>0&&(zt=zt.slice(0,zt.length-1),zt=zt.slice(0,zt.lastIndexOf("/")+1),Xt.slice(0,zt.length)!=zt););var sr=(Ht[1]||"").match(/boundary="(.*?)"/);if(!sr)throw new Error("MAD cannot find boundary");var cr="--"+(sr[1]||""),nr=[],ir=[],Vt={FileIndex:nr,FullPaths:ir};yt(Vt);var rr,or=0;for(qt=0;qt<Ht.length;++qt){var dr=Ht[qt];dr!==cr&&dr!==cr+"--"||(or++&&nn(Vt,Ht.slice(rr,qt),zt),rr=qt)}return Vt}function an(Mt,Gt){var zt=Gt||{},Ht=zt.boundary||"SheetJS";Ht="------="+Ht;for(var qt=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ht.slice(2)+'"',"","",""],Xt=Mt.FullPaths[0],sr=Xt,cr=Mt.FileIndex[0],nr=1;nr<Mt.FullPaths.length;++nr)if(sr=Mt.FullPaths[nr].slice(Xt.length),cr=Mt.FileIndex[nr],!(!cr.size||!cr.content||sr=="Sh33tJ5")){sr=sr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(_r){return"_x"+_r.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(_r){return"_u"+_r.charCodeAt(0).toString(16)+"_"});for(var ir=cr.content,Vt=has_buf&&Buffer.isBuffer(ir)?ir.toString("binary"):vt(ir),rr=0,or=Math.min(1024,Vt.length),dr=0,ur=0;ur<=or;++ur)(dr=Vt.charCodeAt(ur))>=32&&dr<128&&++rr;var mr=rr>=or*4/5;qt.push(Ht),qt.push("Content-Location: "+(zt.root||"file:///C:/SheetJS/")+sr),qt.push("Content-Transfer-Encoding: "+(mr?"quoted-printable":"base64")),qt.push("Content-Type: "+Qr(cr,sr)),qt.push(""),qt.push(mr?tn(Vt):en(Vt))}return qt.push(Ht+`--\r
`),qt.join(`\r
`)}function on(Mt){var Gt={};return yt(Gt,Mt),Gt}function qr(Mt,Gt,zt,Ht){var qt=Ht&&Ht.unsafe;qt||yt(Mt);var Xt=!qt&&CFB.find(Mt,Gt);if(!Xt){var sr=Mt.FullPaths[0];Gt.slice(0,sr.length)==sr?sr=Gt:(sr.slice(-1)!="/"&&(sr+="/"),sr=(sr+Gt).replace("//","/")),Xt={name:_e(Gt),type:2},Mt.FileIndex.push(Xt),Mt.FullPaths.push(sr),qt||CFB.utils.cfb_gc(Mt)}return Xt.content=zt,Xt.size=zt?zt.length:0,Ht&&(Ht.CLSID&&(Xt.clsid=Ht.CLSID),Ht.mt&&(Xt.mt=Ht.mt),Ht.ct&&(Xt.ct=Ht.ct)),Xt}function cn(Mt,Gt){yt(Mt);var zt=CFB.find(Mt,Gt);if(zt){for(var Ht=0;Ht<Mt.FileIndex.length;++Ht)if(Mt.FileIndex[Ht]==zt)return Mt.FileIndex.splice(Ht,1),Mt.FullPaths.splice(Ht,1),!0}return!1}function un(Mt,Gt,zt){yt(Mt);var Ht=CFB.find(Mt,Gt);if(Ht){for(var qt=0;qt<Mt.FileIndex.length;++qt)if(Mt.FileIndex[qt]==Ht)return Mt.FileIndex[qt].name=_e(zt),Mt.FullPaths[qt]=zt,!0}return!1}function dn(Mt){Et(Mt,!0)}return o.find=$t,o.read=gt,o.parse=it,o.write=At,o.writeFile=bt,o.utils={cfb_new:on,cfb_add:qr,cfb_del:cn,cfb_mov:un,cfb_gc:dn,ReadShift,CheckField,prep_blob,bconcat,use_zlib:Ct,_deflateRaw:br,_inflateRaw:Wr,consts:Rt},o}();function blobify(i){return typeof i=="string"?s2ab(i):Array.isArray(i)?a2u(i):i}function write_dl(i,o,_){if(typeof Deno<"u"){if(_&&typeof o=="string")switch(_){case"utf8":o=new TextEncoder(_).encode(o);break;case"binary":o=s2ab(o);break;default:throw new Error("Unsupported encoding "+_)}return Deno.writeFileSync(i,o)}var j=_=="utf8"?utf8write(o):o;if(typeof IE_SaveFile<"u")return IE_SaveFile(j,i);if(typeof Blob<"u"){var _e=new Blob([blobify(j)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(_e,i);if(typeof saveAs<"u")return saveAs(_e,i);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var et=URL.createObjectURL(_e);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(et)},6e4),chrome.downloads.download({url:et,filename:i,saveAs:!0});var tt=document.createElement("a");if(tt.download!=null)return tt.download=i,tt.href=et,document.body.appendChild(tt),tt.click(),document.body.removeChild(tt),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(et)},6e4),et}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var rt=File(i);return rt.open("w"),rt.encoding="binary",Array.isArray(o)&&(o=a2s(o)),rt.write(o),rt.close(),o}catch(nt){if(!nt.message||!nt.message.match(/onstruct/))throw nt}throw new Error("cannot save file "+i)}function read_binary(i){if(typeof Deno<"u")return Deno.readFileSync(i);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(i);o.open("r"),o.encoding="binary";var _=o.read();return o.close(),_}catch(j){if(!j.message||!j.message.match(/onstruct/))throw j}throw new Error("Cannot access file "+i)}function keys(i){for(var o=Object.keys(i),_=[],j=0;j<o.length;++j)Object.prototype.hasOwnProperty.call(i,o[j])&&_.push(o[j]);return _}function evert_key(i,o){for(var _=[],j=keys(i),_e=0;_e!==j.length;++_e)_[i[j[_e]][o]]==null&&(_[i[j[_e]][o]]=j[_e]);return _}function evert(i){for(var o=[],_=keys(i),j=0;j!==_.length;++j)o[i[_[j]]]=_[j];return o}function evert_num(i){for(var o=[],_=keys(i),j=0;j!==_.length;++j)o[i[_[j]]]=parseInt(_[j],10);return o}function evert_arr(i){for(var o=[],_=keys(i),j=0;j!==_.length;++j)o[i[_[j]]]==null&&(o[i[_[j]]]=[]),o[i[_[j]]].push(_[j]);return o}var basedate=new Date(1899,11,30,0,0,0);function datenum(i,o){var _=i.getTime(),j=basedate.getTime()+(i.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(_-j)/(24*60*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(i){var o=new Date;return o.setTime(i*24*60*60*1e3+dnthresh),o.getTimezoneOffset()!==refoffset&&o.setTime(o.getTime()+(o.getTimezoneOffset()-refoffset)*6e4),o}function parse_isodur(i){var o=0,_=0,j=!1,_e=i.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!_e)throw new Error("|"+i+"| is not an ISO8601 Duration");for(var et=1;et!=_e.length;++et)if(_e[et]){switch(_=1,et>3&&(j=!0),_e[et].slice(_e[et].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+_e[et].slice(_e[et].length-1));case"D":_*=24;case"H":_*=60;case"M":if(j)_*=60;else throw new Error("Unsupported ISO Duration Field: M")}o+=_*parseInt(_e[et],10)}return o}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(i,o){var _=new Date(i);if(good_pd)return o>0?_.setTime(_.getTime()+_.getTimezoneOffset()*60*1e3):o<0&&_.setTime(_.getTime()-_.getTimezoneOffset()*60*1e3),_;if(i instanceof Date)return i;if(good_pd_date.getFullYear()==1917&&!isNaN(_.getFullYear())){var j=_.getFullYear();return i.indexOf(""+j)>-1||_.setFullYear(_.getFullYear()+100),_}var _e=i.match(/\d+/g)||["2017","2","19","0","0","0"],et=new Date(+_e[0],+_e[1]-1,+_e[2],+_e[3]||0,+_e[4]||0,+_e[5]||0);return i.indexOf("Z")>-1&&(et=new Date(et.getTime()-et.getTimezoneOffset()*60*1e3)),et}function cc2str(i,o){if(has_buf&&Buffer.isBuffer(i)){if(o){if(i[0]==255&&i[1]==254)return utf8write(i.slice(2).toString("utf16le"));if(i[1]==254&&i[2]==255)return utf8write(utf16beread(i.slice(2).toString("binary")))}return i.toString("binary")}if(typeof TextDecoder<"u")try{if(o){if(i[0]==255&&i[1]==254)return utf8write(new TextDecoder("utf-16le").decode(i.slice(2)));if(i[0]==254&&i[1]==255)return utf8write(new TextDecoder("utf-16be").decode(i.slice(2)))}var _={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(i)&&(i=new Uint8Array(i)),new TextDecoder("latin1").decode(i).replace(/[]/g,function(et){return _[et]||et})}catch{}for(var j=[],_e=0;_e!=i.length;++_e)j.push(String.fromCharCode(i[_e]));return j.join("")}function dup(i){if(typeof JSON<"u"&&!Array.isArray(i))return JSON.parse(JSON.stringify(i));if(typeof i!="object"||i==null)return i;if(i instanceof Date)return new Date(i.getTime());var o={};for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&(o[_]=dup(i[_]));return o}function fill(i,o){for(var _="";_.length<o;)_+=i;return _}function fuzzynum(i){var o=Number(i);if(!isNaN(o))return isFinite(o)?o:NaN;if(!/\d/.test(i))return o;var _=1,j=i.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return _*=100,""});return!isNaN(o=Number(j))||(j=j.replace(/[(](.*)[)]/,function(_e,et){return _=-_,et}),!isNaN(o=Number(j)))?o/_:o}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(i){var o=new Date(i),_=new Date(NaN),j=o.getYear(),_e=o.getMonth(),et=o.getDate();if(isNaN(et))return _;var tt=i.toLowerCase();if(tt.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(tt=tt.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),tt.length>3&&lower_months.indexOf(tt)==-1)return _}else if(tt.match(/[a-z]/))return _;return j<0||j>8099?_:(_e>0||et>1)&&j!=101?o:i.match(/[^-0-9:,\/\\]/)?_:o}var split_regex=function(){var i="abacaba".split(/(:?b)/i).length==5;return function(_,j,_e){if(i||typeof j=="string")return _.split(j);for(var et=_.split(j),tt=[et[0]],rt=1;rt<et.length;++rt)tt.push(_e),tt.push(et[rt]);return tt}}();function getdatastr(i){return i?i.content&&i.type?cc2str(i.content,!0):i.data?debom(i.data):i.asNodeBuffer&&has_buf?debom(i.asNodeBuffer().toString("binary")):i.asBinary?debom(i.asBinary()):i._data&&i._data.getContent?debom(cc2str(Array.prototype.slice.call(i._data.getContent(),0))):null:null}function getdatabin(i){if(!i)return null;if(i.data)return char_codes(i.data);if(i.asNodeBuffer&&has_buf)return i.asNodeBuffer();if(i._data&&i._data.getContent){var o=i._data.getContent();return typeof o=="string"?char_codes(o):Array.prototype.slice.call(o)}return i.content&&i.type?i.content:null}function getdata(i){return i&&i.name.slice(-4)===".bin"?getdatabin(i):getdatastr(i)}function safegetzipfile(i,o){for(var _=i.FullPaths||keys(i.files),j=o.toLowerCase().replace(/[\/]/g,"\\"),_e=j.replace(/\\/g,"/"),et=0;et<_.length;++et){var tt=_[et].replace(/^Root Entry[\/]/,"").toLowerCase();if(j==tt||_e==tt)return i.files?i.files[_[et]]:i.FileIndex[et]}return null}function getzipfile(i,o){var _=safegetzipfile(i,o);if(_==null)throw new Error("Cannot find file "+o+" in zip");return _}function getzipdata(i,o,_){if(!_)return getdata(getzipfile(i,o));if(!o)return null;try{return getzipdata(i,o)}catch{return null}}function getzipstr(i,o,_){if(!_)return getdatastr(getzipfile(i,o));if(!o)return null;try{return getzipstr(i,o)}catch{return null}}function getzipbin(i,o,_){return getdatabin(getzipfile(i,o))}function zipentries(i){for(var o=i.FullPaths||keys(i.files),_=[],j=0;j<o.length;++j)o[j].slice(-1)!="/"&&_.push(o[j].replace(/^Root Entry[\/]/,""));return _.sort()}function zip_add_file(i,o,_){if(i.FullPaths){if(typeof _=="string"){var j;return has_buf?j=Buffer_from(_):j=utf8decode(_),CFB.utils.cfb_add(i,o,j)}CFB.utils.cfb_add(i,o,_)}else i.file(o,_)}function zip_new(){return CFB.utils.cfb_new()}function zip_read(i,o){switch(o.type){case"base64":return CFB.read(i,{type:"base64"});case"binary":return CFB.read(i,{type:"binary"});case"buffer":case"array":return CFB.read(i,{type:"buffer"})}throw new Error("Unrecognized type "+o.type)}function resolve_path(i,o){if(i.charAt(0)=="/")return i.slice(1);var _=o.split("/");o.slice(-1)!="/"&&_.pop();for(var j=i.split("/");j.length!==0;){var _e=j.shift();_e===".."?_.pop():_e!=="."&&_.push(_e)}return _.join("/")}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,attregexg=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tagregex1=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tagregex2=/<[^>]*>/g,tagregex=XML_HEADER.match(tagregex1)?tagregex1:tagregex2,nsregex=/<\w*:/,nsregex2=/<(\/?)\w+:/;function parsexmltag(i,o,_){for(var j={},_e=0,et=0;_e!==i.length&&!((et=i.charCodeAt(_e))===32||et===10||et===13);++_e);if(o||(j[0]=i.slice(0,_e)),_e===i.length)return j;var tt=i.match(attregexg),rt=0,nt="",st=0,it="",at="",ot=1;if(tt)for(st=0;st!=tt.length;++st){for(at=tt[st],et=0;et!=at.length&&at.charCodeAt(et)!==61;++et);for(it=at.slice(0,et).trim();at.charCodeAt(et+1)==32;)++et;for(ot=(_e=at.charCodeAt(et+1))==34||_e==39?1:0,nt=at.slice(et+1+ot,at.length-ot),rt=0;rt!=it.length&&it.charCodeAt(rt)!==58;++rt);if(rt===it.length)it.indexOf("_")>0&&(it=it.slice(0,it.indexOf("_"))),j[it]=nt,j[it.toLowerCase()]=nt;else{var ct=(rt===5&&it.slice(0,5)==="xmlns"?"xmlns":"")+it.slice(rt+1);if(j[ct]&&it.slice(rt-3,rt)=="ext")continue;j[ct]=nt,j[ct.toLowerCase()]=nt}}return j}function strip_ns(i){return i.replace(nsregex2,"<$1")}var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),unescapexml=function(){var i=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,o=/_x([\da-fA-F]{4})_/ig;return function _(j){var _e=j+"",et=_e.indexOf("<![CDATA[");if(et==-1)return _e.replace(i,function(rt,nt){return encodings[rt]||String.fromCharCode(parseInt(nt,rt.indexOf("x")>-1?16:10))||rt}).replace(o,function(rt,nt){return String.fromCharCode(parseInt(nt,16))});var tt=_e.indexOf("]]>");return _(_e.slice(0,et))+_e.slice(et+9,tt)+_(_e.slice(tt+3))}}(),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(i){var o=i+"";return o.replace(decregex,function(_){return rencoding[_]}).replace(charegex,function(_){return"_x"+("000"+_.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(i){return escapexml(i).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(i){var o=i+"";return o.replace(decregex,function(_){return rencoding[_]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(_){return"&#x"+("000"+_.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(i){var o=i+"";return o.replace(decregex,function(_){return rencoding[_]}).replace(htmlcharegex,function(_){return"&#x"+_.charCodeAt(0).toString(16).toUpperCase()+";"})}var xlml_fixstr=function(){var i=/&#(\d+);/g;function o(_,j){return String.fromCharCode(parseInt(j,10))}return function(j){return j.replace(i,o)}}();function xlml_unfixstr(i){return i.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(i){switch(i){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(i){for(var o="",_=0,j=0,_e=0,et=0,tt=0,rt=0;_<i.length;){if(j=i.charCodeAt(_++),j<128){o+=String.fromCharCode(j);continue}if(_e=i.charCodeAt(_++),j>191&&j<224){tt=(j&31)<<6,tt|=_e&63,o+=String.fromCharCode(tt);continue}if(et=i.charCodeAt(_++),j<240){o+=String.fromCharCode((j&15)<<12|(_e&63)<<6|et&63);continue}tt=i.charCodeAt(_++),rt=((j&7)<<18|(_e&63)<<12|(et&63)<<6|tt&63)-65536,o+=String.fromCharCode(55296+(rt>>>10&1023)),o+=String.fromCharCode(56320+(rt&1023))}return o}function utf8readb(i){var o=new_raw_buf(2*i.length),_,j,_e=1,et=0,tt=0,rt;for(j=0;j<i.length;j+=_e)_e=1,(rt=i.charCodeAt(j))<128?_=rt:rt<224?(_=(rt&31)*64+(i.charCodeAt(j+1)&63),_e=2):rt<240?(_=(rt&15)*4096+(i.charCodeAt(j+1)&63)*64+(i.charCodeAt(j+2)&63),_e=3):(_e=4,_=(rt&7)*262144+(i.charCodeAt(j+1)&63)*4096+(i.charCodeAt(j+2)&63)*64+(i.charCodeAt(j+3)&63),_-=65536,tt=55296+(_>>>10&1023),_=56320+(_&1023)),tt!==0&&(o[et++]=tt&255,o[et++]=tt>>>8,tt=0),o[et++]=_%256,o[et++]=_>>>8;return o.slice(0,et).toString("ucs2")}function utf8readc(i){return Buffer_from(i,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(i){return Buffer_from(i,"utf8").toString("binary")}:function(i){for(var o=[],_=0,j=0,_e=0;_<i.length;)switch(j=i.charCodeAt(_++),!0){case j<128:o.push(String.fromCharCode(j));break;case j<2048:o.push(String.fromCharCode(192+(j>>6))),o.push(String.fromCharCode(128+(j&63)));break;case(j>=55296&&j<57344):j-=55296,_e=i.charCodeAt(_++)-56320+(j<<10),o.push(String.fromCharCode(240+(_e>>18&7))),o.push(String.fromCharCode(144+(_e>>12&63))),o.push(String.fromCharCode(128+(_e>>6&63))),o.push(String.fromCharCode(128+(_e&63)));break;default:o.push(String.fromCharCode(224+(j>>12))),o.push(String.fromCharCode(128+(j>>6&63))),o.push(String.fromCharCode(128+(j&63)))}return o.join("")},matchtag=function(){var i={};return function(_,j){var _e=_+"|"+(j||"");return i[_e]?i[_e]:i[_e]=new RegExp("<(?:\\w+:)?"+_+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+_+">",j||"")}}(),htmldecode=function(){var i=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(o){return[new RegExp("&"+o[0]+";","ig"),o[1]]});return function(_){for(var j=_.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),_e=0;_e<i.length;++_e)j=j.replace(i[_e][0],i[_e][1]);return j}}(),vtregex=function(){var i={};return function(_){return i[_]!==void 0?i[_]:i[_]=new RegExp("<(?:vt:)?"+_+">([\\s\\S]*?)</(?:vt:)?"+_+">","g")}}(),vtvregex=/<\/?(?:vt:)?variant>/g,vtmregex=/<(?:vt:)([^>]*)>([\s\S]*)</;function parseVector(i,o){var _=parsexmltag(i),j=i.match(vtregex(_.baseType))||[],_e=[];if(j.length!=_.size){if(o.WTF)throw new Error("unexpected vector length "+j.length+" != "+_.size);return _e}return j.forEach(function(et){var tt=et.replace(vtvregex,"").match(vtmregex);tt&&_e.push({v:utf8read(tt[2]),t:tt[1]})}),_e}var wtregex=/(^\s|\s$|\n)/;function writetag(i,o){return"<"+i+(o.match(wtregex)?' xml:space="preserve"':"")+">"+o+"</"+i+">"}function wxt_helper(i){return keys(i).map(function(o){return" "+o+'="'+i[o]+'"'}).join("")}function writextag(i,o,_){return"<"+i+(_!=null?wxt_helper(_):"")+(o!=null?(o.match(wtregex)?' xml:space="preserve"':"")+">"+o+"</"+i:"/")+">"}function write_w3cdtf(i,o){try{return i.toISOString().replace(/\.\d*/,"")}catch(_){if(o)throw _}return""}function write_vt(i,o){switch(typeof i){case"string":var _=writextag("vt:lpwstr",escapexml(i));return _=_.replace(/&quot;/g,"_x0022_"),_;case"number":return writextag((i|0)==i?"vt:i4":"vt:r8",escapexml(String(i)));case"boolean":return writextag("vt:bool",i?"true":"false")}if(i instanceof Date)return writextag("vt:filetime",write_w3cdtf(i));throw new Error("Unable to serialize "+i)}function xlml_normalize(i){if(has_buf&&Buffer.isBuffer(i))return i.toString("utf8");if(typeof i=="string")return i;if(typeof Uint8Array<"u"&&i instanceof Uint8Array)return utf8read(a2s(ab2a(i)));throw new Error("Bad input format: expected Buffer or string")}var xlmlregex=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(i,o){for(var _=1-2*(i[o+7]>>>7),j=((i[o+7]&127)<<4)+(i[o+6]>>>4&15),_e=i[o+6]&15,et=5;et>=0;--et)_e=_e*256+i[o+et];return j==2047?_e==0?_*(1/0):NaN:(j==0?j=-1022:(j-=1023,_e+=Math.pow(2,52)),_*Math.pow(2,j-52)*_e)}function write_double_le(i,o,_){var j=(o<0||1/o==-1/0?1:0)<<7,_e=0,et=0,tt=j?-o:o;isFinite(tt)?tt==0?_e=et=0:(_e=Math.floor(Math.log(tt)/Math.LN2),et=tt*Math.pow(2,52-_e),_e<=-1023&&(!isFinite(et)||et<Math.pow(2,52))?_e=-1022:(et-=Math.pow(2,52),_e+=1023)):(_e=2047,et=isNaN(o)?26985:0);for(var rt=0;rt<=5;++rt,et/=256)i[_+rt]=et&255;i[_+6]=(_e&15)<<4|et&15,i[_+7]=_e>>4|j}var ___toBuffer=function(i){for(var o=[],_=10240,j=0;j<i[0].length;++j)if(i[0][j])for(var _e=0,et=i[0][j].length;_e<et;_e+=_)o.push.apply(o,i[0][j].slice(_e,_e+_));return o},__toBuffer=has_buf?function(i){return i[0].length>0&&Buffer.isBuffer(i[0][0])?Buffer.concat(i[0].map(function(o){return Buffer.isBuffer(o)?o:Buffer_from(o)})):___toBuffer(i)}:___toBuffer,___utf16le=function(i,o,_){for(var j=[],_e=o;_e<_;_e+=2)j.push(String.fromCharCode(__readUInt16LE(i,_e)));return j.join("").replace(chr0,"")},__utf16le=has_buf?function(i,o,_){return Buffer.isBuffer(i)?i.toString("utf16le",o,_).replace(chr0,""):___utf16le(i,o,_)}:___utf16le,___hexlify=function(i,o,_){for(var j=[],_e=o;_e<o+_;++_e)j.push(("0"+i[_e].toString(16)).slice(-2));return j.join("")},__hexlify=has_buf?function(i,o,_){return Buffer.isBuffer(i)?i.toString("hex",o,o+_):___hexlify(i,o,_)}:___hexlify,___utf8=function(i,o,_){for(var j=[],_e=o;_e<_;_e++)j.push(String.fromCharCode(__readUInt8(i,_e)));return j.join("")},__utf8=has_buf?function(o,_,j){return Buffer.isBuffer(o)?o.toString("utf8",_,j):___utf8(o,_,j)}:___utf8,___lpstr=function(i,o){var _=__readUInt32LE(i,o);return _>0?__utf8(i,o+4,o+4+_-1):""},__lpstr=___lpstr,___cpstr=function(i,o){var _=__readUInt32LE(i,o);return _>0?__utf8(i,o+4,o+4+_-1):""},__cpstr=___cpstr,___lpwstr=function(i,o){var _=2*__readUInt32LE(i,o);return _>0?__utf8(i,o+4,o+4+_-1):""},__lpwstr=___lpwstr,___lpp4=function(o,_){var j=__readUInt32LE(o,_);return j>0?__utf16le(o,_+4,_+4+j):""},__lpp4=___lpp4,___8lpp4=function(i,o){var _=__readUInt32LE(i,o);return _>0?__utf8(i,o+4,o+4+_):""},__8lpp4=___8lpp4,___double=function(i,o){return read_double_le(i,o)},__double=___double,is_buf=function(o){return Array.isArray(o)||typeof Uint8Array<"u"&&o instanceof Uint8Array};has_buf&&(__lpstr=function(o,_){if(!Buffer.isBuffer(o))return ___lpstr(o,_);var j=o.readUInt32LE(_);return j>0?o.toString("utf8",_+4,_+4+j-1):""},__cpstr=function(o,_){if(!Buffer.isBuffer(o))return ___cpstr(o,_);var j=o.readUInt32LE(_);return j>0?o.toString("utf8",_+4,_+4+j-1):""},__lpwstr=function(o,_){if(!Buffer.isBuffer(o))return ___lpwstr(o,_);var j=2*o.readUInt32LE(_);return o.toString("utf16le",_+4,_+4+j-1)},__lpp4=function(o,_){if(!Buffer.isBuffer(o))return ___lpp4(o,_);var j=o.readUInt32LE(_);return o.toString("utf16le",_+4,_+4+j)},__8lpp4=function(o,_){if(!Buffer.isBuffer(o))return ___8lpp4(o,_);var j=o.readUInt32LE(_);return o.toString("utf8",_+4,_+4+j)},__double=function(o,_){return Buffer.isBuffer(o)?o.readDoubleLE(_):___double(o,_)},is_buf=function(o){return Buffer.isBuffer(o)||Array.isArray(o)||typeof Uint8Array<"u"&&o instanceof Uint8Array});var __readUInt8=function(i,o){return i[o]},__readUInt16LE=function(i,o){return i[o+1]*256+i[o]},__readInt16LE=function(i,o){var _=i[o+1]*256+i[o];return _<32768?_:(65535-_+1)*-1},__readUInt32LE=function(i,o){return i[o+3]*(1<<24)+(i[o+2]<<16)+(i[o+1]<<8)+i[o]},__readInt32LE=function(i,o){return i[o+3]<<24|i[o+2]<<16|i[o+1]<<8|i[o]},__readInt32BE=function(i,o){return i[o]<<24|i[o+1]<<16|i[o+2]<<8|i[o+3]};function ReadShift(i,o){var _="",j,_e,et=[],tt,rt,nt,st;switch(o){case"dbcs":if(st=this.l,has_buf&&Buffer.isBuffer(this))_=this.slice(this.l,this.l+2*i).toString("utf16le");else for(nt=0;nt<i;++nt)_+=String.fromCharCode(__readUInt16LE(this,st)),st+=2;i*=2;break;case"utf8":_=__utf8(this,this.l,this.l+i);break;case"utf16le":i*=2,_=__utf16le(this,this.l,this.l+i);break;case"wstr":return ReadShift.call(this,i,"dbcs");case"lpstr-ansi":_=__lpstr(this,this.l),i=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":_=__cpstr(this,this.l),i=4+__readUInt32LE(this,this.l);break;case"lpwstr":_=__lpwstr(this,this.l),i=4+2*__readUInt32LE(this,this.l);break;case"lpp4":i=4+__readUInt32LE(this,this.l),_=__lpp4(this,this.l),i&2&&(i+=2);break;case"8lpp4":i=4+__readUInt32LE(this,this.l),_=__8lpp4(this,this.l),i&3&&(i+=4-(i&3));break;case"cstr":for(i=0,_="";(tt=__readUInt8(this,this.l+i++))!==0;)et.push(_getchar(tt));_=et.join("");break;case"_wstr":for(i=0,_="";(tt=__readUInt16LE(this,this.l+i))!==0;)et.push(_getchar(tt)),i+=2;i+=2,_=et.join("");break;case"dbcs-cont":for(_="",st=this.l,nt=0;nt<i;++nt){if(this.lens&&this.lens.indexOf(st)!==-1)return tt=__readUInt8(this,st),this.l=st+1,rt=ReadShift.call(this,i-nt,tt?"dbcs-cont":"sbcs-cont"),et.join("")+rt;et.push(_getchar(__readUInt16LE(this,st))),st+=2}_=et.join(""),i*=2;break;case"cpstr":case"sbcs-cont":for(_="",st=this.l,nt=0;nt!=i;++nt){if(this.lens&&this.lens.indexOf(st)!==-1)return tt=__readUInt8(this,st),this.l=st+1,rt=ReadShift.call(this,i-nt,tt?"dbcs-cont":"sbcs-cont"),et.join("")+rt;et.push(_getchar(__readUInt8(this,st))),st+=1}_=et.join("");break;default:switch(i){case 1:return j=__readUInt8(this,this.l),this.l++,j;case 2:return j=(o==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,j;case 4:case-4:return o==="i"||!(this[this.l+3]&128)?(j=(i>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,j):(_e=__readUInt32LE(this,this.l),this.l+=4,_e);case 8:case-8:if(o==="f")return i==8?_e=__double(this,this.l):_e=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,_e;i=8;case 16:_=__hexlify(this,this.l,i);break}}return this.l+=i,_}var __writeUInt32LE=function(i,o,_){i[_]=o&255,i[_+1]=o>>>8&255,i[_+2]=o>>>16&255,i[_+3]=o>>>24&255},__writeInt32LE=function(i,o,_){i[_]=o&255,i[_+1]=o>>8&255,i[_+2]=o>>16&255,i[_+3]=o>>24&255},__writeUInt16LE=function(i,o,_){i[_]=o&255,i[_+1]=o>>>8&255};function WriteShift(i,o,_){var j=0,_e=0;if(_==="dbcs"){for(_e=0;_e!=o.length;++_e)__writeUInt16LE(this,o.charCodeAt(_e),this.l+2*_e);j=2*o.length}else if(_==="sbcs"){for(o=o.replace(/[^\x00-\x7F]/g,"_"),_e=0;_e!=o.length;++_e)this[this.l+_e]=o.charCodeAt(_e)&255;j=o.length}else if(_==="hex"){for(;_e<i;++_e)this[this.l++]=parseInt(o.slice(2*_e,2*_e+2),16)||0;return this}else if(_==="utf16le"){var et=Math.min(this.l+i,this.length);for(_e=0;_e<Math.min(o.length,i);++_e){var tt=o.charCodeAt(_e);this[this.l++]=tt&255,this[this.l++]=tt>>8}for(;this.l<et;)this[this.l++]=0;return this}else switch(i){case 1:j=1,this[this.l]=o&255;break;case 2:j=2,this[this.l]=o&255,o>>>=8,this[this.l+1]=o&255;break;case 3:j=3,this[this.l]=o&255,o>>>=8,this[this.l+1]=o&255,o>>>=8,this[this.l+2]=o&255;break;case 4:j=4,__writeUInt32LE(this,o,this.l);break;case 8:if(j=8,_==="f"){write_double_le(this,o,this.l);break}case 16:break;case-4:j=4,__writeInt32LE(this,o,this.l);break}return this.l+=j,this}function CheckField(i,o){var _=__hexlify(this,this.l,i.length>>1);if(_!==i)throw new Error(o+"Expected "+i+" saw "+_);this.l+=i.length>>1}function prep_blob(i,o){i.l=o,i.read_shift=ReadShift,i.chk=CheckField,i.write_shift=WriteShift}function parsenoop(i,o){i.l+=o}function new_buf(i){var o=new_raw_buf(i);return prep_blob(o,0),o}function recordhopper(i,o,_){if(i){var j,_e,et;prep_blob(i,i.l||0);for(var tt=i.length,rt=0,nt=0;i.l<tt;){rt=i.read_shift(1),rt&128&&(rt=(rt&127)+((i.read_shift(1)&127)<<7));var st=XLSBRecordEnum[rt]||XLSBRecordEnum[65535];for(j=i.read_shift(1),et=j&127,_e=1;_e<4&&j&128;++_e)et+=((j=i.read_shift(1))&127)<<7*_e;nt=i.l+et;var it=st.f&&st.f(i,et,_);if(i.l=nt,o(it,st,rt))return}}}function buf_array(){var i=[],o=has_buf?256:2048,_=function(st){var it=new_buf(st);return prep_blob(it,0),it},j=_(o),_e=function(){j&&(j.length>j.l&&(j=j.slice(0,j.l),j.l=j.length),j.length>0&&i.push(j),j=null)},et=function(st){return j&&st<j.length-j.l?j:(_e(),j=_(Math.max(st+1,o)))},tt=function(){return _e(),bconcat(i)},rt=function(st){_e(),j=st,j.l==null&&(j.l=j.length),et(o)};return{next:et,push:rt,end:tt,_bufs:i}}function write_record(i,o,_,j){var _e=+o,et;if(!isNaN(_e)){j||(j=XLSBRecordEnum[_e].p||(_||[]).length||0),et=1+(_e>=128?1:0)+1,j>=128&&++et,j>=16384&&++et,j>=2097152&&++et;var tt=i.next(et);_e<=127?tt.write_shift(1,_e):(tt.write_shift(1,(_e&127)+128),tt.write_shift(1,_e>>7));for(var rt=0;rt!=4;++rt)if(j>=128)tt.write_shift(1,(j&127)+128),j>>=7;else{tt.write_shift(1,j);break}j>0&&is_buf(_)&&i.push(_)}}function shift_cell_xls(i,o,_){var j=dup(i);if(o.s?(j.cRel&&(j.c+=o.s.c),j.rRel&&(j.r+=o.s.r)):(j.cRel&&(j.c+=o.c),j.rRel&&(j.r+=o.r)),!_||_.biff<12){for(;j.c>=256;)j.c-=256;for(;j.r>=65536;)j.r-=65536}return j}function shift_range_xls(i,o,_){var j=dup(i);return j.s=shift_cell_xls(j.s,o.s,_),j.e=shift_cell_xls(j.e,o.s,_),j}function encode_cell_xls(i,o){if(i.cRel&&i.c<0)for(i=dup(i);i.c<0;)i.c+=o>8?16384:256;if(i.rRel&&i.r<0)for(i=dup(i);i.r<0;)i.r+=o>8?1048576:o>5?65536:16384;var _=encode_cell(i);return!i.cRel&&i.cRel!=null&&(_=fix_col(_)),!i.rRel&&i.rRel!=null&&(_=fix_row(_)),_}function encode_range_xls(i,o){return i.s.r==0&&!i.s.rRel&&i.e.r==(o.biff>=12?1048575:o.biff>=8?65536:16384)&&!i.e.rRel?(i.s.cRel?"":"$")+encode_col(i.s.c)+":"+(i.e.cRel?"":"$")+encode_col(i.e.c):i.s.c==0&&!i.s.cRel&&i.e.c==(o.biff>=12?16383:255)&&!i.e.cRel?(i.s.rRel?"":"$")+encode_row(i.s.r)+":"+(i.e.rRel?"":"$")+encode_row(i.e.r):encode_cell_xls(i.s,o.biff)+":"+encode_cell_xls(i.e,o.biff)}function decode_row(i){return parseInt(unfix_row(i),10)-1}function encode_row(i){return""+(i+1)}function fix_row(i){return i.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(i){return i.replace(/\$(\d+)$/,"$1")}function decode_col(i){for(var o=unfix_col(i),_=0,j=0;j!==o.length;++j)_=26*_+o.charCodeAt(j)-64;return _-1}function encode_col(i){if(i<0)throw new Error("invalid column "+i);var o="";for(++i;i;i=Math.floor((i-1)/26))o=String.fromCharCode((i-1)%26+65)+o;return o}function fix_col(i){return i.replace(/^([A-Z])/,"$$$1")}function unfix_col(i){return i.replace(/^\$([A-Z])/,"$1")}function split_cell(i){return i.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(i){for(var o=0,_=0,j=0;j<i.length;++j){var _e=i.charCodeAt(j);_e>=48&&_e<=57?o=10*o+(_e-48):_e>=65&&_e<=90&&(_=26*_+(_e-64))}return{c:_-1,r:o-1}}function encode_cell(i){for(var o=i.c+1,_="";o;o=(o-1)/26|0)_=String.fromCharCode((o-1)%26+65)+_;return _+(i.r+1)}function decode_range(i){var o=i.indexOf(":");return o==-1?{s:decode_cell(i),e:decode_cell(i)}:{s:decode_cell(i.slice(0,o)),e:decode_cell(i.slice(o+1))}}function encode_range(i,o){return typeof o>"u"||typeof o=="number"?encode_range(i.s,i.e):(typeof i!="string"&&(i=encode_cell(i)),typeof o!="string"&&(o=encode_cell(o)),i==o?i:i+":"+o)}function safe_decode_range(i){var o={s:{c:0,r:0},e:{c:0,r:0}},_=0,j=0,_e=0,et=i.length;for(_=0;j<et&&!((_e=i.charCodeAt(j)-64)<1||_e>26);++j)_=26*_+_e;for(o.s.c=--_,_=0;j<et&&!((_e=i.charCodeAt(j)-48)<0||_e>9);++j)_=10*_+_e;if(o.s.r=--_,j===et||_e!=10)return o.e.c=o.s.c,o.e.r=o.s.r,o;for(++j,_=0;j!=et&&!((_e=i.charCodeAt(j)-64)<1||_e>26);++j)_=26*_+_e;for(o.e.c=--_,_=0;j!=et&&!((_e=i.charCodeAt(j)-48)<0||_e>9);++j)_=10*_+_e;return o.e.r=--_,o}function safe_format_cell(i,o){var _=i.t=="d"&&o instanceof Date;if(i.z!=null)try{return i.w=SSF_format(i.z,_?datenum(o):o)}catch{}try{return i.w=SSF_format((i.XF||{}).numFmtId||(_?14:0),_?datenum(o):o)}catch{return""+o}}function format_cell(i,o,_){return i==null||i.t==null||i.t=="z"?"":i.w!==void 0?i.w:(i.t=="d"&&!i.z&&_&&_.dateNF&&(i.z=_.dateNF),i.t=="e"?BErr[i.v]||i.v:o==null?safe_format_cell(i,i.v):safe_format_cell(i,o))}function sheet_to_workbook(i,o){var _=o&&o.sheet?o.sheet:"Sheet1",j={};return j[_]=i,{SheetNames:[_],Sheets:j}}function sheet_add_aoa(i,o,_){var j=_||{},_e=i?Array.isArray(i):j.dense,et=i||(_e?[]:{}),tt=0,rt=0;if(et&&j.origin!=null){if(typeof j.origin=="number")tt=j.origin;else{var nt=typeof j.origin=="string"?decode_cell(j.origin):j.origin;tt=nt.r,rt=nt.c}et["!ref"]||(et["!ref"]="A1:A1")}var st={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(et["!ref"]){var it=safe_decode_range(et["!ref"]);st.s.c=it.s.c,st.s.r=it.s.r,st.e.c=Math.max(st.e.c,it.e.c),st.e.r=Math.max(st.e.r,it.e.r),tt==-1&&(st.e.r=tt=it.e.r+1)}for(var at=0;at!=o.length;++at)if(o[at]){if(!Array.isArray(o[at]))throw new Error("aoa_to_sheet expects an array of arrays");for(var ot=0;ot!=o[at].length;++ot)if(!(typeof o[at][ot]>"u")){var ct={v:o[at][ot]},ut=tt+at,lt=rt+ot;if(st.s.r>ut&&(st.s.r=ut),st.s.c>lt&&(st.s.c=lt),st.e.r<ut&&(st.e.r=ut),st.e.c<lt&&(st.e.c=lt),o[at][ot]&&typeof o[at][ot]=="object"&&!Array.isArray(o[at][ot])&&!(o[at][ot]instanceof Date))ct=o[at][ot];else if(Array.isArray(ct.v)&&(ct.f=o[at][ot][1],ct.v=ct.v[0]),ct.v===null)if(ct.f)ct.t="n";else if(j.nullError)ct.t="e",ct.v=0;else if(j.sheetStubs)ct.t="z";else continue;else typeof ct.v=="number"?ct.t="n":typeof ct.v=="boolean"?ct.t="b":ct.v instanceof Date?(ct.z=j.dateNF||table_fmt[14],j.cellDates?(ct.t="d",ct.w=SSF_format(ct.z,datenum(ct.v))):(ct.t="n",ct.v=datenum(ct.v),ct.w=SSF_format(ct.z,ct.v))):ct.t="s";if(_e)et[ut]||(et[ut]=[]),et[ut][lt]&&et[ut][lt].z&&(ct.z=et[ut][lt].z),et[ut][lt]=ct;else{var pt=encode_cell({c:lt,r:ut});et[pt]&&et[pt].z&&(ct.z=et[pt].z),et[pt]=ct}}}return st.s.c<1e7&&(et["!ref"]=encode_range(st)),et}function aoa_to_sheet(i,o){return sheet_add_aoa(null,i,o)}function parse_Int32LE(i){return i.read_shift(4,"i")}function write_UInt32LE(i,o){return o||(o=new_buf(4)),o.write_shift(4,i),o}function parse_XLWideString(i){var o=i.read_shift(4);return o===0?"":i.read_shift(o,"dbcs")}function write_XLWideString(i,o){var _=!1;return o==null&&(_=!0,o=new_buf(4+2*i.length)),o.write_shift(4,i.length),i.length>0&&o.write_shift(0,i,"dbcs"),_?o.slice(0,o.l):o}function parse_StrRun(i){return{ich:i.read_shift(2),ifnt:i.read_shift(2)}}function write_StrRun(i,o){return o||(o=new_buf(4)),o.write_shift(2,0),o.write_shift(2,0),o}function parse_RichStr(i,o){var _=i.l,j=i.read_shift(1),_e=parse_XLWideString(i),et=[],tt={t:_e,h:_e};if(j&1){for(var rt=i.read_shift(4),nt=0;nt!=rt;++nt)et.push(parse_StrRun(i));tt.r=et}else tt.r=[{ich:0,ifnt:0}];return i.l=_+o,tt}function write_RichStr(i,o){var _=!1;return o==null&&(_=!0,o=new_buf(15+4*i.t.length)),o.write_shift(1,0),write_XLWideString(i.t,o),_?o.slice(0,o.l):o}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(i,o){var _=!1;return o==null&&(_=!0,o=new_buf(23+4*i.t.length)),o.write_shift(1,1),write_XLWideString(i.t,o),o.write_shift(4,1),write_StrRun({},o),_?o.slice(0,o.l):o}function parse_XLSBCell(i){var o=i.read_shift(4),_=i.read_shift(2);return _+=i.read_shift(1)<<16,i.l++,{c:o,iStyleRef:_}}function write_XLSBCell(i,o){return o==null&&(o=new_buf(8)),o.write_shift(-4,i.c),o.write_shift(3,i.iStyleRef||i.s),o.write_shift(1,0),o}function parse_XLSBShortCell(i){var o=i.read_shift(2);return o+=i.read_shift(1)<<16,i.l++,{c:-1,iStyleRef:o}}function write_XLSBShortCell(i,o){return o==null&&(o=new_buf(4)),o.write_shift(3,i.iStyleRef||i.s),o.write_shift(1,0),o}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(i){var o=i.read_shift(4);return o===0||o===4294967295?"":i.read_shift(o,"dbcs")}function write_XLNullableWideString(i,o){var _=!1;return o==null&&(_=!0,o=new_buf(127)),o.write_shift(4,i.length>0?i.length:4294967295),i.length>0&&o.write_shift(0,i,"dbcs"),_?o.slice(0,o.l):o}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(i){var o=i.slice(i.l,i.l+4),_=o[0]&1,j=o[0]&2;i.l+=4;var _e=j===0?__double([0,0,0,0,o[0]&252,o[1],o[2],o[3]],0):__readInt32LE(o,0)>>2;return _?_e/100:_e}function write_RkNumber(i,o){o==null&&(o=new_buf(4));var _=0,j=0,_e=i*100;if(i==(i|0)&&i>=-536870912&&i<1<<29?j=1:_e==(_e|0)&&_e>=-536870912&&_e<1<<29&&(j=1,_=1),j)o.write_shift(-4,((_?_e:i)<<2)+(_+2));else throw new Error("unsupported RkNumber "+i)}function parse_RfX(i){var o={s:{},e:{}};return o.s.r=i.read_shift(4),o.e.r=i.read_shift(4),o.s.c=i.read_shift(4),o.e.c=i.read_shift(4),o}function write_RfX(i,o){return o||(o=new_buf(16)),o.write_shift(4,i.s.r),o.write_shift(4,i.e.r),o.write_shift(4,i.s.c),o.write_shift(4,i.e.c),o}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(i){if(i.length-i.l<8)throw"XLS Xnum Buffer underflow";return i.read_shift(8,"f")}function write_Xnum(i,o){return(o||new_buf(8)).write_shift(8,i,"f")}function parse_BrtColor(i){var o={},_=i.read_shift(1),j=_>>>1,_e=i.read_shift(1),et=i.read_shift(2,"i"),tt=i.read_shift(1),rt=i.read_shift(1),nt=i.read_shift(1);switch(i.l++,j){case 0:o.auto=1;break;case 1:o.index=_e;var st=XLSIcv[_e];st&&(o.rgb=rgb2Hex(st));break;case 2:o.rgb=rgb2Hex([tt,rt,nt]);break;case 3:o.theme=_e;break}return et!=0&&(o.tint=et>0?et/32767:et/32768),o}function write_BrtColor(i,o){if(o||(o=new_buf(8)),!i||i.auto)return o.write_shift(4,0),o.write_shift(4,0),o;i.index!=null?(o.write_shift(1,2),o.write_shift(1,i.index)):i.theme!=null?(o.write_shift(1,6),o.write_shift(1,i.theme)):(o.write_shift(1,5),o.write_shift(1,0));var _=i.tint||0;if(_>0?_*=32767:_<0&&(_*=32768),o.write_shift(2,_),!i.rgb||i.theme!=null)o.write_shift(2,0),o.write_shift(1,0),o.write_shift(1,0);else{var j=i.rgb||"FFFFFF";typeof j=="number"&&(j=("000000"+j.toString(16)).slice(-6)),o.write_shift(1,parseInt(j.slice(0,2),16)),o.write_shift(1,parseInt(j.slice(2,4),16)),o.write_shift(1,parseInt(j.slice(4,6),16)),o.write_shift(1,255)}return o}function parse_FontFlags(i){var o=i.read_shift(1);i.l++;var _={fBold:o&1,fItalic:o&2,fUnderline:o&4,fStrikeout:o&8,fOutline:o&16,fShadow:o&32,fCondense:o&64,fExtend:o&128};return _}function write_FontFlags(i,o){o||(o=new_buf(2));var _=(i.italic?2:0)|(i.strike?8:0)|(i.outline?16:0)|(i.shadow?32:0)|(i.condense?64:0)|(i.extend?128:0);return o.write_shift(1,_),o.write_shift(1,0),o}function parse_ClipboardFormatOrString(i,o){var _={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},j=i.read_shift(4);switch(j){case 0:return"";case 4294967295:case 4294967294:return _[i.read_shift(4)]||""}if(j>400)throw new Error("Unsupported Clipboard: "+j.toString(16));return i.l-=4,i.read_shift(0,o==1?"lpstr":"lpwstr")}function parse_ClipboardFormatOrAnsiString(i){return parse_ClipboardFormatOrString(i,1)}function parse_ClipboardFormatOrUnicodeString(i){return parse_ClipboardFormatOrString(i,2)}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_VARIANT=12,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,VT_USTR=81,VT_CUSTOM=[VT_STRING,VT_USTR],DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(i){return i.map(function(o){return[o>>16&255,o>>8&255,o&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},RBErr={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function parse_ct(i){var o=new_ct();if(!i||!i.match)return o;var _={};if((i.match(tagregex)||[]).forEach(function(j){var _e=parsexmltag(j);switch(_e[0].replace(nsregex,"<")){case"<?xml":break;case"<Types":o.xmlns=_e["xmlns"+(_e[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":_[_e.Extension]=_e.ContentType;break;case"<Override":o[ct2type[_e.ContentType]]!==void 0&&o[ct2type[_e.ContentType]].push(_e.PartName);break}}),o.xmlns!==XMLNS.CT)throw new Error("Unknown Namespace: "+o.xmlns);return o.calcchain=o.calcchains.length>0?o.calcchains[0]:"",o.sst=o.strs.length>0?o.strs[0]:"",o.style=o.styles.length>0?o.styles[0]:"",o.defaults=_,delete o.calcchains,o}function write_ct(i,o){var _=evert_arr(ct2type),j=[],_e;j[j.length]=XML_HEADER,j[j.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),j=j.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(nt){return writextag("Default",null,{Extension:nt[0],ContentType:nt[1]})}));var et=function(nt){i[nt]&&i[nt].length>0&&(_e=i[nt][0],j[j.length]=writextag("Override",null,{PartName:(_e[0]=="/"?"":"/")+_e,ContentType:CT_LIST[nt][o.bookType]||CT_LIST[nt].xlsx}))},tt=function(nt){(i[nt]||[]).forEach(function(st){j[j.length]=writextag("Override",null,{PartName:(st[0]=="/"?"":"/")+st,ContentType:CT_LIST[nt][o.bookType]||CT_LIST[nt].xlsx})})},rt=function(nt){(i[nt]||[]).forEach(function(st){j[j.length]=writextag("Override",null,{PartName:(st[0]=="/"?"":"/")+st,ContentType:_[nt][0]})})};return et("workbooks"),tt("sheets"),tt("charts"),rt("themes"),["strs","styles"].forEach(et),["coreprops","extprops","custprops"].forEach(rt),rt("vba"),rt("comments"),rt("threadedcomments"),rt("drawings"),tt("metadata"),rt("people"),j.length>2&&(j[j.length]="</Types>",j[1]=j[1].replace("/>",">")),j.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(i){var o=i.lastIndexOf("/");return i.slice(0,o+1)+"_rels/"+i.slice(o+1)+".rels"}function parse_rels(i,o){var _={"!id":{}};if(!i)return _;o.charAt(0)!=="/"&&(o="/"+o);var j={};return(i.match(tagregex)||[]).forEach(function(_e){var et=parsexmltag(_e);if(et[0]==="<Relationship"){var tt={};tt.Type=et.Type,tt.Target=et.Target,tt.Id=et.Id,et.TargetMode&&(tt.TargetMode=et.TargetMode);var rt=et.TargetMode==="External"?et.Target:resolve_path(et.Target,o);_[rt]=tt,j[et.Id]=tt}}),_["!id"]=j,_}function write_rels(i){var o=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(i["!id"]).forEach(function(_){o[o.length]=writextag("Relationship",null,i["!id"][_])}),o.length>2&&(o[o.length]="</Relationships>",o[1]=o[1].replace("/>",">")),o.join("")}function add_rels(i,o,_,j,_e,et){if(_e||(_e={}),i["!id"]||(i["!id"]={}),i["!idx"]||(i["!idx"]=1),o<0)for(o=i["!idx"];i["!id"]["rId"+o];++o);if(i["!idx"]=o+1,_e.Id="rId"+o,_e.Type=j,_e.Target=_,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(_e.Type)>-1&&(_e.TargetMode="External"),i["!id"][_e.Id])throw new Error("Cannot rewrite rId "+o);return i["!id"][_e.Id]=_e,i[("/"+_e.Target).replace("//","/")]=_e,o}var CT_ODS="application/vnd.oasis.opendocument.spreadsheet";function parse_manifest(i,o){for(var _=xlml_normalize(i),j,_e;j=xlmlregex.exec(_);)switch(j[3]){case"manifest":break;case"file-entry":if(_e=parsexmltag(j[0],!1),_e.path=="/"&&_e.type!==CT_ODS)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(o&&o.WTF)throw j}}function write_manifest(i){var o=[XML_HEADER];o.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),o.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var _=0;_<i.length;++_)o.push('  <manifest:file-entry manifest:full-path="'+i[_][0]+'" manifest:media-type="'+i[_][1]+`"/>
`);return o.push("</manifest:manifest>"),o.join("")}function write_rdf_type(i,o,_){return['  <rdf:Description rdf:about="'+i+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(_||"odf")+"#"+o+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(i,o){return['  <rdf:Description rdf:about="'+i+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+o+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(i){var o=[XML_HEADER];o.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var _=0;_!=i.length;++_)o.push(write_rdf_type(i[_][0],i[_][1])),o.push(write_rdf_has("",i[_][0]));return o.push(write_rdf_type("","Document","pkg")),o.push("</rdf:RDF>"),o.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],CORE_PROPS_REGEX=function(){for(var i=new Array(CORE_PROPS.length),o=0;o<CORE_PROPS.length;++o){var _=CORE_PROPS[o],j="(?:"+_[0].slice(0,_[0].indexOf(":"))+":)"+_[0].slice(_[0].indexOf(":")+1);i[o]=new RegExp("<"+j+"[^>]*>([\\s\\S]*?)</"+j+">")}return i}();function parse_core_props(i){var o={};i=utf8read(i);for(var _=0;_<CORE_PROPS.length;++_){var j=CORE_PROPS[_],_e=i.match(CORE_PROPS_REGEX[_]);_e!=null&&_e.length>0&&(o[j[1]]=unescapexml(_e[1])),j[2]==="date"&&o[j[1]]&&(o[j[1]]=parseDate(o[j[1]]))}return o}function cp_doit(i,o,_,j,_e){_e[i]!=null||o==null||o===""||(_e[i]=o,o=escapexml(o),j[j.length]=_?writextag(i,o,_):writetag(i,o))}function write_core_props(i,o){var _=o||{},j=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],_e={};if(!i&&!_.Props)return j.join("");i&&(i.CreatedDate!=null&&cp_doit("dcterms:created",typeof i.CreatedDate=="string"?i.CreatedDate:write_w3cdtf(i.CreatedDate,_.WTF),{"xsi:type":"dcterms:W3CDTF"},j,_e),i.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof i.ModifiedDate=="string"?i.ModifiedDate:write_w3cdtf(i.ModifiedDate,_.WTF),{"xsi:type":"dcterms:W3CDTF"},j,_e));for(var et=0;et!=CORE_PROPS.length;++et){var tt=CORE_PROPS[et],rt=_.Props&&_.Props[tt[1]]!=null?_.Props[tt[1]]:i?i[tt[1]]:null;rt===!0?rt="1":rt===!1?rt="0":typeof rt=="number"&&(rt=String(rt)),rt!=null&&cp_doit(tt[0],rt,null,j,_e)}return j.length>2&&(j[j.length]="</cp:coreProperties>",j[1]=j[1].replace("/>",">")),j.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function load_props_pairs(i,o,_,j){var _e=[];if(typeof i=="string")_e=parseVector(i,j);else for(var et=0;et<i.length;++et)_e=_e.concat(i[et].map(function(it){return{v:it}}));var tt=typeof o=="string"?parseVector(o,j).map(function(it){return it.v}):o,rt=0,nt=0;if(tt.length>0)for(var st=0;st!==_e.length;st+=2){switch(nt=+_e[st+1].v,_e[st].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":_.Worksheets=nt,_.SheetNames=tt.slice(rt,rt+nt);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":_.NamedRanges=nt,_.DefinedNames=tt.slice(rt,rt+nt);break;case"Charts":case"Diagramme":_.Chartsheets=nt,_.ChartNames=tt.slice(rt,rt+nt);break}rt+=nt}}function parse_ext_props(i,o,_){var j={};return o||(o={}),i=utf8read(i),EXT_PROPS.forEach(function(_e){var et=(i.match(matchtag(_e[0]))||[])[1];switch(_e[2]){case"string":et&&(o[_e[1]]=unescapexml(et));break;case"bool":o[_e[1]]=et==="true";break;case"raw":var tt=i.match(new RegExp("<"+_e[0]+"[^>]*>([\\s\\S]*?)</"+_e[0]+">"));tt&&tt.length>0&&(j[_e[1]]=tt[1]);break}}),j.HeadingPairs&&j.TitlesOfParts&&load_props_pairs(j.HeadingPairs,j.TitlesOfParts,o,_),o}function write_ext_props(i){var o=[],_=writextag;return i||(i={}),i.Application="SheetJS",o[o.length]=XML_HEADER,o[o.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(j){if(i[j[1]]!==void 0){var _e;switch(j[2]){case"string":_e=escapexml(String(i[j[1]]));break;case"bool":_e=i[j[1]]?"true":"false";break}_e!==void 0&&(o[o.length]=_(j[0],_e))}}),o[o.length]=_("HeadingPairs",_("vt:vector",_("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+_("vt:variant",_("vt:i4",String(i.Worksheets))),{size:2,baseType:"variant"})),o[o.length]=_("TitlesOfParts",_("vt:vector",i.SheetNames.map(function(j){return"<vt:lpstr>"+escapexml(j)+"</vt:lpstr>"}).join(""),{size:i.Worksheets,baseType:"lpstr"})),o.length>2&&(o[o.length]="</Properties>",o[1]=o[1].replace("/>",">")),o.join("")}var custregex=/<[^>]+>[^<]*/g;function parse_cust_props(i,o){var _={},j="",_e=i.match(custregex);if(_e)for(var et=0;et!=_e.length;++et){var tt=_e[et],rt=parsexmltag(tt);switch(rt[0]){case"<?xml":break;case"<Properties":break;case"<property":j=unescapexml(rt.name);break;case"</property>":j=null;break;default:if(tt.indexOf("<vt:")===0){var nt=tt.split(">"),st=nt[0].slice(4),it=nt[1];switch(st){case"lpstr":case"bstr":case"lpwstr":_[j]=unescapexml(it);break;case"bool":_[j]=parsexmlbool(it);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":_[j]=parseInt(it,10);break;case"r4":case"r8":case"decimal":_[j]=parseFloat(it);break;case"filetime":case"date":_[j]=parseDate(it);break;case"cy":case"error":_[j]=unescapexml(it);break;default:if(st.slice(-1)=="/")break;o.WTF&&typeof console<"u"&&console.warn("Unexpected",tt,st,nt)}}else if(tt.slice(0,2)!=="</"){if(o.WTF)throw new Error(tt)}}}return _}function write_cust_props(i){var o=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!i)return o.join("");var _=1;return keys(i).forEach(function(_e){++_,o[o.length]=writextag("property",write_vt(i[_e]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:_,name:escapexml(_e)})}),o.length>2&&(o[o.length]="</Properties>",o[1]=o[1].replace("/>",">")),o.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},evert_XLMLDPM;function xlml_set_prop(i,o,_){evert_XLMLDPM||(evert_XLMLDPM=evert(XLMLDocPropsMap)),o=evert_XLMLDPM[o]||o,i[o]=_}function xlml_write_docprops(i,o){var _=[];return keys(XLMLDocPropsMap).map(function(j){for(var _e=0;_e<CORE_PROPS.length;++_e)if(CORE_PROPS[_e][1]==j)return CORE_PROPS[_e];for(_e=0;_e<EXT_PROPS.length;++_e)if(EXT_PROPS[_e][1]==j)return EXT_PROPS[_e];throw j}).forEach(function(j){if(i[j[1]]!=null){var _e=o&&o.Props&&o.Props[j[1]]!=null?o.Props[j[1]]:i[j[1]];switch(j[2]){case"date":_e=new Date(_e).toISOString().replace(/\.\d*Z/,"Z");break}typeof _e=="number"?_e=String(_e):_e===!0||_e===!1?_e=_e?"1":"0":_e instanceof Date&&(_e=new Date(_e).toISOString().replace(/\.\d*Z/,"")),_.push(writetag(XLMLDocPropsMap[j[1]]||j[1],_e))}}),writextag("DocumentProperties",_.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(i,o){var _=["Worksheets","SheetNames"],j="CustomDocumentProperties",_e=[];return i&&keys(i).forEach(function(et){if(Object.prototype.hasOwnProperty.call(i,et)){for(var tt=0;tt<CORE_PROPS.length;++tt)if(et==CORE_PROPS[tt][1])return;for(tt=0;tt<EXT_PROPS.length;++tt)if(et==EXT_PROPS[tt][1])return;for(tt=0;tt<_.length;++tt)if(et==_[tt])return;var rt=i[et],nt="string";typeof rt=="number"?(nt="float",rt=String(rt)):rt===!0||rt===!1?(nt="boolean",rt=rt?"1":"0"):rt=String(rt),_e.push(writextag(escapexmltag(et),rt,{"dt:dt":nt}))}}),o&&keys(o).forEach(function(et){if(Object.prototype.hasOwnProperty.call(o,et)&&!(i&&Object.prototype.hasOwnProperty.call(i,et))){var tt=o[et],rt="string";typeof tt=="number"?(rt="float",tt=String(tt)):tt===!0||tt===!1?(rt="boolean",tt=tt?"1":"0"):tt instanceof Date?(rt="dateTime.tz",tt=tt.toISOString()):tt=String(tt),_e.push(writextag(escapexmltag(et),tt,{"dt:dt":rt}))}}),"<"+j+' xmlns="'+XLMLNS.o+'">'+_e.join("")+"</"+j+">"}function parse_FILETIME(i){var o=i.read_shift(4),_=i.read_shift(4);return new Date((_/1e7*Math.pow(2,32)+o/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function write_FILETIME(i){var o=typeof i=="string"?new Date(Date.parse(i)):i,_=o.getTime()/1e3+11644473600,j=_%Math.pow(2,32),_e=(_-j)/Math.pow(2,32);j*=1e7,_e*=1e7;var et=j/Math.pow(2,32)|0;et>0&&(j=j%Math.pow(2,32),_e+=et);var tt=new_buf(8);return tt.write_shift(4,j),tt.write_shift(4,_e),tt}function parse_lpstr(i,o,_){var j=i.l,_e=i.read_shift(0,"lpstr-cp");if(_)for(;i.l-j&3;)++i.l;return _e}function parse_lpwstr(i,o,_){var j=i.read_shift(0,"lpwstr");return j}function parse_VtStringBase(i,o,_){return o===31?parse_lpwstr(i):parse_lpstr(i,o,_)}function parse_VtString(i,o,_){return parse_VtStringBase(i,o,_===!1?0:4)}function parse_VtUnalignedString(i,o){if(!o)throw new Error("VtUnalignedString must have positive length");return parse_VtStringBase(i,o,0)}function parse_VtVecLpwstrValue(i){for(var o=i.read_shift(4),_=[],j=0;j!=o;++j){var _e=i.l;_[j]=i.read_shift(0,"lpwstr").replace(chr0,""),i.l-_e&2&&(i.l+=2)}return _}function parse_VtVecUnalignedLpstrValue(i){for(var o=i.read_shift(4),_=[],j=0;j!=o;++j)_[j]=i.read_shift(0,"lpstr-cp").replace(chr0,"");return _}function parse_VtHeadingPair(i){var o=i.l,_=parse_TypedPropertyValue(i,VT_USTR);i[i.l]==0&&i[i.l+1]==0&&i.l-o&2&&(i.l+=2);var j=parse_TypedPropertyValue(i,VT_I4);return[_,j]}function parse_VtVecHeadingPairValue(i){for(var o=i.read_shift(4),_=[],j=0;j<o/2;++j)_.push(parse_VtHeadingPair(i));return _}function parse_dictionary(i,o){for(var _=i.read_shift(4),j={},_e=0;_e!=_;++_e){var et=i.read_shift(4),tt=i.read_shift(4);j[et]=i.read_shift(tt,o===1200?"utf16le":"utf8").replace(chr0,"").replace(chr1,"!"),o===1200&&tt%2&&(i.l+=2)}return i.l&3&&(i.l=i.l>>3<<2),j}function parse_BLOB(i){var o=i.read_shift(4),_=i.slice(i.l,i.l+o);return i.l+=o,(o&3)>0&&(i.l+=4-(o&3)&3),_}function parse_ClipboardData(i){var o={};return o.Size=i.read_shift(4),i.l+=o.Size+3-(o.Size-1)%4,o}function parse_TypedPropertyValue(i,o,_){var j=i.read_shift(2),_e,et=_||{};if(i.l+=2,o!==VT_VARIANT&&j!==o&&VT_CUSTOM.indexOf(o)===-1&&!((o&65534)==4126&&(j&65534)==4126))throw new Error("Expected type "+o+" saw "+j);switch(o===VT_VARIANT?j:o){case 2:return _e=i.read_shift(2,"i"),et.raw||(i.l+=2),_e;case 3:return _e=i.read_shift(4,"i"),_e;case 11:return i.read_shift(4)!==0;case 19:return _e=i.read_shift(4),_e;case 30:return parse_lpstr(i,j,4).replace(chr0,"");case 31:return parse_lpwstr(i);case 64:return parse_FILETIME(i);case 65:return parse_BLOB(i);case 71:return parse_ClipboardData(i);case 80:return parse_VtString(i,j,!et.raw).replace(chr0,"");case 81:return parse_VtUnalignedString(i,j).replace(chr0,"");case 4108:return parse_VtVecHeadingPairValue(i);case 4126:case 4127:return j==4127?parse_VtVecLpwstrValue(i):parse_VtVecUnalignedLpstrValue(i);default:throw new Error("TypedPropertyValue unrecognized type "+o+" "+j)}}function write_TypedPropertyValue(i,o){var _=new_buf(4),j=new_buf(4);switch(_.write_shift(4,i==80?31:i),i){case 3:j.write_shift(-4,o);break;case 5:j=new_buf(8),j.write_shift(8,o,"f");break;case 11:j.write_shift(4,o?1:0);break;case 64:j=write_FILETIME(o);break;case 31:case 80:for(j=new_buf(4+2*(o.length+1)+(o.length%2?0:2)),j.write_shift(4,o.length+1),j.write_shift(0,o,"dbcs");j.l!=j.length;)j.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+i+" "+o)}return bconcat([_,j])}function parse_PropertySet(i,o){var _=i.l,j=i.read_shift(4),_e=i.read_shift(4),et=[],tt=0,rt=0,nt=-1,st={};for(tt=0;tt!=_e;++tt){var it=i.read_shift(4),at=i.read_shift(4);et[tt]=[it,at+_]}et.sort(function(ht,ft){return ht[1]-ft[1]});var ot={};for(tt=0;tt!=_e;++tt){if(i.l!==et[tt][1]){var ct=!0;if(tt>0&&o)switch(o[et[tt-1][0]].t){case 2:i.l+2===et[tt][1]&&(i.l+=2,ct=!1);break;case 80:i.l<=et[tt][1]&&(i.l=et[tt][1],ct=!1);break;case 4108:i.l<=et[tt][1]&&(i.l=et[tt][1],ct=!1);break}if((!o||tt==0)&&i.l<=et[tt][1]&&(ct=!1,i.l=et[tt][1]),ct)throw new Error("Read Error: Expected address "+et[tt][1]+" at "+i.l+" :"+tt)}if(o){var ut=o[et[tt][0]];if(ot[ut.n]=parse_TypedPropertyValue(i,ut.t,{raw:!0}),ut.p==="version"&&(ot[ut.n]=String(ot[ut.n]>>16)+"."+("0000"+String(ot[ut.n]&65535)).slice(-4)),ut.n=="CodePage")switch(ot[ut.n]){case 0:ot[ut.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:set_cp(rt=ot[ut.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+ot[ut.n])}}else if(et[tt][0]===1){if(rt=ot.CodePage=parse_TypedPropertyValue(i,VT_I2),set_cp(rt),nt!==-1){var lt=i.l;i.l=et[nt][1],st=parse_dictionary(i,rt),i.l=lt}}else if(et[tt][0]===0){if(rt===0){nt=tt,i.l=et[tt+1][1];continue}st=parse_dictionary(i,rt)}else{var pt=st[et[tt][0]],dt;switch(i[i.l]){case 65:i.l+=4,dt=parse_BLOB(i);break;case 30:i.l+=4,dt=parse_VtString(i,i[i.l-4]).replace(/\u0000+$/,"");break;case 31:i.l+=4,dt=parse_VtString(i,i[i.l-4]).replace(/\u0000+$/,"");break;case 3:i.l+=4,dt=i.read_shift(4,"i");break;case 19:i.l+=4,dt=i.read_shift(4);break;case 5:i.l+=4,dt=i.read_shift(8,"f");break;case 11:i.l+=4,dt=parsebool(i,4);break;case 64:i.l+=4,dt=parseDate(parse_FILETIME(i));break;default:throw new Error("unparsed value: "+i[i.l])}ot[pt]=dt}}return i.l=_+j,ot}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(i){switch(typeof i){case"boolean":return 11;case"number":return(i|0)==i?3:5;case"string":return 31;case"object":if(i instanceof Date)return 64;break}return-1}function write_PropertySet(i,o,_){var j=new_buf(8),_e=[],et=[],tt=8,rt=0,nt=new_buf(8),st=new_buf(8);if(nt.write_shift(4,2),nt.write_shift(4,1200),st.write_shift(4,1),et.push(nt),_e.push(st),tt+=8+nt.length,!o){st=new_buf(8),st.write_shift(4,0),_e.unshift(st);var it=[new_buf(4)];for(it[0].write_shift(4,i.length),rt=0;rt<i.length;++rt){var at=i[rt][0];for(nt=new_buf(8+2*(at.length+1)+(at.length%2?0:2)),nt.write_shift(4,rt+2),nt.write_shift(4,at.length+1),nt.write_shift(0,at,"dbcs");nt.l!=nt.length;)nt.write_shift(1,0);it.push(nt)}nt=bconcat(it),et.unshift(nt),tt+=8+nt.length}for(rt=0;rt<i.length;++rt)if(!(o&&!o[i[rt][0]])&&!(XLSPSSkip.indexOf(i[rt][0])>-1||PseudoPropsPairs.indexOf(i[rt][0])>-1)&&i[rt][1]!=null){var ot=i[rt][1],ct=0;if(o){ct=+o[i[rt][0]];var ut=_[ct];if(ut.p=="version"&&typeof ot=="string"){var lt=ot.split(".");ot=(+lt[0]<<16)+(+lt[1]||0)}nt=write_TypedPropertyValue(ut.t,ot)}else{var pt=guess_property_type(ot);pt==-1&&(pt=31,ot=String(ot)),nt=write_TypedPropertyValue(pt,ot)}et.push(nt),st=new_buf(8),st.write_shift(4,o?ct:2+rt),_e.push(st),tt+=8+nt.length}var dt=8*(et.length+1);for(rt=0;rt<et.length;++rt)_e[rt].write_shift(4,dt),dt+=et[rt].length;return j.write_shift(4,tt),j.write_shift(4,et.length),bconcat([j].concat(_e).concat(et))}function parse_PropertySetStream(i,o,_){var j=i.content;if(!j)return{};prep_blob(j,0);var _e,et,tt,rt,nt=0;j.chk("feff","Byte Order: "),j.read_shift(2);var st=j.read_shift(4),it=j.read_shift(16);if(it!==CFB.utils.consts.HEADER_CLSID&&it!==_)throw new Error("Bad PropertySet CLSID "+it);if(_e=j.read_shift(4),_e!==1&&_e!==2)throw new Error("Unrecognized #Sets: "+_e);if(et=j.read_shift(16),rt=j.read_shift(4),_e===1&&rt!==j.l)throw new Error("Length mismatch: "+rt+" !== "+j.l);_e===2&&(tt=j.read_shift(16),nt=j.read_shift(4));var at=parse_PropertySet(j,o),ot={SystemIdentifier:st};for(var ct in at)ot[ct]=at[ct];if(ot.FMTID=et,_e===1)return ot;if(nt-j.l==2&&(j.l+=2),j.l!==nt)throw new Error("Length mismatch 2: "+j.l+" !== "+nt);var ut;try{ut=parse_PropertySet(j,null)}catch{}for(ct in ut)ot[ct]=ut[ct];return ot.FMTID=[et,tt],ot}function write_PropertySetStream(i,o,_,j,_e,et){var tt=new_buf(_e?68:48),rt=[tt];tt.write_shift(2,65534),tt.write_shift(2,0),tt.write_shift(4,842412599),tt.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),tt.write_shift(4,_e?2:1),tt.write_shift(16,o,"hex"),tt.write_shift(4,_e?68:48);var nt=write_PropertySet(i,_,j);if(rt.push(nt),_e){var st=write_PropertySet(_e,null,null);tt.write_shift(16,et,"hex"),tt.write_shift(4,68+nt.length),rt.push(st)}return bconcat(rt)}function parsenoop2(i,o){return i.read_shift(o),null}function writezeroes(i,o){o||(o=new_buf(i));for(var _=0;_<i;++_)o.write_shift(1,0);return o}function parslurp(i,o,_){for(var j=[],_e=i.l+o;i.l<_e;)j.push(_(i,_e-i.l));if(_e!==i.l)throw new Error("Slurp error");return j}function parsebool(i,o){return i.read_shift(o)===1}function writebool(i,o){return o||(o=new_buf(2)),o.write_shift(2,+!!i),o}function parseuint16(i){return i.read_shift(2,"u")}function writeuint16(i,o){return o||(o=new_buf(2)),o.write_shift(2,i),o}function parseuint16a(i,o){return parslurp(i,o,parseuint16)}function parse_Bes(i){var o=i.read_shift(1),_=i.read_shift(1);return _===1?o:o===1}function write_Bes(i,o,_){return _||(_=new_buf(2)),_.write_shift(1,o=="e"?+i:+!!i),_.write_shift(1,o=="e"?1:0),_}function parse_ShortXLUnicodeString(i,o,_){var j=i.read_shift(_&&_.biff>=12?2:1),_e="sbcs-cont";if(_&&_.biff>=8,!_||_.biff==8){var et=i.read_shift(1);et&&(_e="dbcs-cont")}else _.biff==12&&(_e="wstr");_.biff>=2&&_.biff<=5&&(_e="cpstr");var tt=j?i.read_shift(j,_e):"";return tt}function parse_XLUnicodeRichExtendedString(i){var o=i.read_shift(2),_=i.read_shift(1),j=_&4,_e=_&8,et=1+(_&1),tt=0,rt,nt={};_e&&(tt=i.read_shift(2)),j&&(rt=i.read_shift(4));var st=et==2?"dbcs-cont":"sbcs-cont",it=o===0?"":i.read_shift(o,st);return _e&&(i.l+=4*tt),j&&(i.l+=rt),nt.t=it,_e||(nt.raw="<t>"+nt.t+"</t>",nt.r=nt.t),nt}function write_XLUnicodeRichExtendedString(i){var o=i.t||"",_=new_buf(3);_.write_shift(2,o.length),_.write_shift(1,1);var j=new_buf(2*o.length);j.write_shift(2*o.length,o,"utf16le");var _e=[_,j];return bconcat(_e)}function parse_XLUnicodeStringNoCch(i,o,_){var j;if(_){if(_.biff>=2&&_.biff<=5)return i.read_shift(o,"cpstr");if(_.biff>=12)return i.read_shift(o,"dbcs-cont")}var _e=i.read_shift(1);return _e===0?j=i.read_shift(o,"sbcs-cont"):j=i.read_shift(o,"dbcs-cont"),j}function parse_XLUnicodeString(i,o,_){var j=i.read_shift(_&&_.biff==2?1:2);return j===0?(i.l++,""):parse_XLUnicodeStringNoCch(i,j,_)}function parse_XLUnicodeString2(i,o,_){if(_.biff>5)return parse_XLUnicodeString(i,o,_);var j=i.read_shift(1);return j===0?(i.l++,""):i.read_shift(j,_.biff<=4||!i.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(i,o,_){return _||(_=new_buf(3+2*i.length)),_.write_shift(2,i.length),_.write_shift(1,1),_.write_shift(31,i,"utf16le"),_}function parse_ControlInfo(i){var o=i.read_shift(1);i.l++;var _=i.read_shift(2);return i.l+=2,[o,_]}function parse_URLMoniker(i){var o=i.read_shift(4),_=i.l,j=!1;o>24&&(i.l+=o-24,i.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(j=!0),i.l=_);var _e=i.read_shift((j?o-24:o)>>1,"utf16le").replace(chr0,"");return j&&(i.l+=24),_e}function parse_FileMoniker(i){for(var o=i.read_shift(2),_="";o-- >0;)_+="../";var j=i.read_shift(0,"lpstr-ansi");if(i.l+=2,i.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var _e=i.read_shift(4);if(_e===0)return _+j.replace(/\\/g,"/");var et=i.read_shift(4);if(i.read_shift(2)!=3)throw new Error("Bad FileMoniker");var tt=i.read_shift(et>>1,"utf16le").replace(chr0,"");return _+tt}function parse_HyperlinkMoniker(i,o){var _=i.read_shift(16);switch(_){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(i);case"0303000000000000c000000000000046":return parse_FileMoniker(i);default:throw new Error("Unsupported Moniker "+_)}}function parse_HyperlinkString(i){var o=i.read_shift(4),_=o>0?i.read_shift(o,"utf16le").replace(chr0,""):"";return _}function write_HyperlinkString(i,o){o||(o=new_buf(6+i.length*2)),o.write_shift(4,1+i.length);for(var _=0;_<i.length;++_)o.write_shift(2,i.charCodeAt(_));return o.write_shift(2,0),o}function parse_Hyperlink(i,o){var _=i.l+o,j=i.read_shift(4);if(j!==2)throw new Error("Unrecognized streamVersion: "+j);var _e=i.read_shift(2);i.l+=2;var et,tt,rt,nt,st="",it,at;_e&16&&(et=parse_HyperlinkString(i,_-i.l)),_e&128&&(tt=parse_HyperlinkString(i,_-i.l)),(_e&257)===257&&(rt=parse_HyperlinkString(i,_-i.l)),(_e&257)===1&&(nt=parse_HyperlinkMoniker(i,_-i.l)),_e&8&&(st=parse_HyperlinkString(i,_-i.l)),_e&32&&(it=i.read_shift(16)),_e&64&&(at=parse_FILETIME(i)),i.l=_;var ot=tt||rt||nt||"";ot&&st&&(ot+="#"+st),ot||(ot="#"+st),_e&2&&ot.charAt(0)=="/"&&ot.charAt(1)!="/"&&(ot="file://"+ot);var ct={Target:ot};return it&&(ct.guid=it),at&&(ct.time=at),et&&(ct.Tooltip=et),ct}function write_Hyperlink(i){var o=new_buf(512),_=0,j=i.Target;j.slice(0,7)=="file://"&&(j=j.slice(7));var _e=j.indexOf("#"),et=_e>-1?31:23;switch(j.charAt(0)){case"#":et=28;break;case".":et&=-3;break}o.write_shift(4,2),o.write_shift(4,et);var tt=[8,6815827,6619237,4849780,83];for(_=0;_<tt.length;++_)o.write_shift(4,tt[_]);if(et==28)j=j.slice(1),write_HyperlinkString(j,o);else if(et&2){for(tt="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),_=0;_<tt.length;++_)o.write_shift(1,parseInt(tt[_],16));var rt=_e>-1?j.slice(0,_e):j;for(o.write_shift(4,2*(rt.length+1)),_=0;_<rt.length;++_)o.write_shift(2,rt.charCodeAt(_));o.write_shift(2,0),et&8&&write_HyperlinkString(_e>-1?j.slice(_e+1):"",o)}else{for(tt="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),_=0;_<tt.length;++_)o.write_shift(1,parseInt(tt[_],16));for(var nt=0;j.slice(nt*3,nt*3+3)=="../"||j.slice(nt*3,nt*3+3)=="..\\";)++nt;for(o.write_shift(2,nt),o.write_shift(4,j.length-3*nt+1),_=0;_<j.length-3*nt;++_)o.write_shift(1,j.charCodeAt(_+3*nt)&255);for(o.write_shift(1,0),o.write_shift(2,65535),o.write_shift(2,57005),_=0;_<6;++_)o.write_shift(4,0)}return o.slice(0,o.l)}function parse_LongRGBA(i){var o=i.read_shift(1),_=i.read_shift(1),j=i.read_shift(1),_e=i.read_shift(1);return[o,_,j,_e]}function parse_LongRGB(i,o){var _=parse_LongRGBA(i);return _[3]=0,_}function parse_XLSCell(i){var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(2);return{r:o,c:_,ixfe:j}}function write_XLSCell(i,o,_,j){return j||(j=new_buf(6)),j.write_shift(2,i),j.write_shift(2,o),j.write_shift(2,_||0),j}function parse_frtHeader(i){var o=i.read_shift(2),_=i.read_shift(2);return i.l+=8,{type:o,flags:_}}function parse_OptXLUnicodeString(i,o,_){return o===0?"":parse_XLUnicodeString2(i,o,_)}function parse_XTI(i,o,_){var j=_.biff>8?4:2,_e=i.read_shift(j),et=i.read_shift(j,"i"),tt=i.read_shift(j,"i");return[_e,et,tt]}function parse_RkRec(i){var o=i.read_shift(2),_=parse_RkNumber(i);return[o,_]}function parse_AddinUdf(i,o,_){i.l+=4,o-=4;var j=i.l+o,_e=parse_ShortXLUnicodeString(i,o,_),et=i.read_shift(2);if(j-=i.l,et!==j)throw new Error("Malformed AddinUdf: padding = "+j+" != "+et);return i.l+=et,_e}function parse_Ref8U(i){var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(2),_e=i.read_shift(2);return{s:{c:j,r:o},e:{c:_e,r:_}}}function write_Ref8U(i,o){return o||(o=new_buf(8)),o.write_shift(2,i.s.r),o.write_shift(2,i.e.r),o.write_shift(2,i.s.c),o.write_shift(2,i.e.c),o}function parse_RefU(i){var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(1),_e=i.read_shift(1);return{s:{c:j,r:o},e:{c:_e,r:_}}}var parse_Ref=parse_RefU;function parse_FtCmo(i){i.l+=4;var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(2);return i.l+=12,[_,o,j]}function parse_FtNts(i){var o={};return i.l+=4,i.l+=16,o.fSharedNote=i.read_shift(2),i.l+=4,o}function parse_FtCf(i){var o={};return i.l+=4,i.cf=i.read_shift(2),o}function parse_FtSkip(i){i.l+=2,i.l+=i.read_shift(2)}var FtTab={0:parse_FtSkip,4:parse_FtSkip,5:parse_FtSkip,6:parse_FtSkip,7:parse_FtCf,8:parse_FtSkip,9:parse_FtSkip,10:parse_FtSkip,11:parse_FtSkip,12:parse_FtSkip,13:parse_FtNts,14:parse_FtSkip,15:parse_FtSkip,16:parse_FtSkip,17:parse_FtSkip,18:parse_FtSkip,19:parse_FtSkip,20:parse_FtSkip,21:parse_FtCmo};function parse_FtArray(i,o){for(var _=i.l+o,j=[];i.l<_;){var _e=i.read_shift(2);i.l-=2;try{j.push(FtTab[_e](i,_-i.l))}catch{return i.l=_,j}}return i.l!=_&&(i.l=_),j}function parse_BOF(i,o){var _={BIFFVer:0,dt:0};switch(_.BIFFVer=i.read_shift(2),o-=2,o>=2&&(_.dt=i.read_shift(2),i.l-=2),_.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(o>6)throw new Error("Unexpected BIFF Ver "+_.BIFFVer)}return i.read_shift(o),_}function write_BOF(i,o,_){var j=1536,_e=16;switch(_.bookType){case"biff8":break;case"biff5":j=1280,_e=8;break;case"biff4":j=4,_e=6;break;case"biff3":j=3,_e=6;break;case"biff2":j=2,_e=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var et=new_buf(_e);return et.write_shift(2,j),et.write_shift(2,o),_e>4&&et.write_shift(2,29282),_e>6&&et.write_shift(2,1997),_e>8&&(et.write_shift(2,49161),et.write_shift(2,1),et.write_shift(2,1798),et.write_shift(2,0)),et}function parse_InterfaceHdr(i,o){return o===0||i.read_shift(2),1200}function parse_WriteAccess(i,o,_){if(_.enc)return i.l+=o,"";var j=i.l,_e=parse_XLUnicodeString2(i,0,_);return i.read_shift(o+j-i.l),_e}function write_WriteAccess(i,o){var _=!o||o.biff==8,j=new_buf(_?112:54);for(j.write_shift(o.biff==8?2:1,7),_&&j.write_shift(1,0),j.write_shift(4,859007059),j.write_shift(4,5458548|(_?0:536870912));j.l<j.length;)j.write_shift(1,_?0:32);return j}function parse_WsBool(i,o,_){var j=_&&_.biff==8||o==2?i.read_shift(2):(i.l+=o,0);return{fDialog:j&16,fBelow:j&64,fRight:j&128}}function parse_BoundSheet8(i,o,_){var j=i.read_shift(4),_e=i.read_shift(1)&3,et=i.read_shift(1);switch(et){case 0:et="Worksheet";break;case 1:et="Macrosheet";break;case 2:et="Chartsheet";break;case 6:et="VBAModule";break}var tt=parse_ShortXLUnicodeString(i,0,_);return tt.length===0&&(tt="Sheet1"),{pos:j,hs:_e,dt:et,name:tt}}function write_BoundSheet8(i,o){var _=!o||o.biff>=8?2:1,j=new_buf(8+_*i.name.length);j.write_shift(4,i.pos),j.write_shift(1,i.hs||0),j.write_shift(1,i.dt),j.write_shift(1,i.name.length),o.biff>=8&&j.write_shift(1,1),j.write_shift(_*i.name.length,i.name,o.biff<8?"sbcs":"utf16le");var _e=j.slice(0,j.l);return _e.l=j.l,_e}function parse_SST(i,o){for(var _=i.l+o,j=i.read_shift(4),_e=i.read_shift(4),et=[],tt=0;tt!=_e&&i.l<_;++tt)et.push(parse_XLUnicodeRichExtendedString(i));return et.Count=j,et.Unique=_e,et}function write_SST(i,o){var _=new_buf(8);_.write_shift(4,i.Count),_.write_shift(4,i.Unique);for(var j=[],_e=0;_e<i.length;++_e)j[_e]=write_XLUnicodeRichExtendedString(i[_e]);var et=bconcat([_].concat(j));return et.parts=[_.length].concat(j.map(function(tt){return tt.length})),et}function parse_ExtSST(i,o){var _={};return _.dsst=i.read_shift(2),i.l+=o-2,_}function parse_Row(i){var o={};o.r=i.read_shift(2),o.c=i.read_shift(2),o.cnt=i.read_shift(2)-o.c;var _=i.read_shift(2);i.l+=4;var j=i.read_shift(1);return i.l+=3,j&7&&(o.level=j&7),j&32&&(o.hidden=!0),j&64&&(o.hpt=_/20),o}function parse_ForceFullCalculation(i){var o=parse_frtHeader(i);if(o.type!=2211)throw new Error("Invalid Future Record "+o.type);var _=i.read_shift(4);return _!==0}function parse_RecalcId(i){return i.read_shift(2),i.read_shift(4)}function parse_DefaultRowHeight(i,o,_){var j=0;_&&_.biff==2||(j=i.read_shift(2));var _e=i.read_shift(2);_&&_.biff==2&&(j=1-(_e>>15),_e&=32767);var et={Unsynced:j&1,DyZero:(j&2)>>1,ExAsc:(j&4)>>2,ExDsc:(j&8)>>3};return[et,_e]}function parse_Window1(i){var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(2),_e=i.read_shift(2),et=i.read_shift(2),tt=i.read_shift(2),rt=i.read_shift(2),nt=i.read_shift(2),st=i.read_shift(2);return{Pos:[o,_],Dim:[j,_e],Flags:et,CurTab:tt,FirstTab:rt,Selected:nt,TabRatio:st}}function write_Window1(){var i=new_buf(18);return i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,29280),i.write_shift(2,17600),i.write_shift(2,56),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,1),i.write_shift(2,500),i}function parse_Window2(i,o,_){if(_&&_.biff>=2&&_.biff<5)return{};var j=i.read_shift(2);return{RTL:j&64}}function write_Window2(i){var o=new_buf(18),_=1718;return i&&i.RTL&&(_|=64),o.write_shift(2,_),o.write_shift(4,0),o.write_shift(4,64),o.write_shift(4,0),o.write_shift(4,0),o}function parse_Pane(){}function parse_Font(i,o,_){var j={dyHeight:i.read_shift(2),fl:i.read_shift(2)};switch(_&&_.biff||8){case 2:break;case 3:case 4:i.l+=2;break;default:i.l+=10;break}return j.name=parse_ShortXLUnicodeString(i,0,_),j}function write_Font(i,o){var _=i.name||"Arial",j=o&&o.biff==5,_e=j?15+_.length:16+2*_.length,et=new_buf(_e);return et.write_shift(2,i.sz*20),et.write_shift(4,0),et.write_shift(2,400),et.write_shift(4,0),et.write_shift(2,0),et.write_shift(1,_.length),j||et.write_shift(1,1),et.write_shift((j?1:2)*_.length,_,j?"sbcs":"utf16le"),et}function parse_LabelSst(i){var o=parse_XLSCell(i);return o.isst=i.read_shift(4),o}function write_LabelSst(i,o,_,j){var _e=new_buf(10);return write_XLSCell(i,o,j,_e),_e.write_shift(4,_),_e}function parse_Label(i,o,_){_.biffguess&&_.biff==2&&(_.biff=5);var j=i.l+o,_e=parse_XLSCell(i);_.biff==2&&i.l++;var et=parse_XLUnicodeString(i,j-i.l,_);return _e.val=et,_e}function write_Label(i,o,_,j,_e){var et=!_e||_e.biff==8,tt=new_buf(8+ +et+(1+et)*_.length);return write_XLSCell(i,o,j,tt),tt.write_shift(2,_.length),et&&tt.write_shift(1,1),tt.write_shift((1+et)*_.length,_,et?"utf16le":"sbcs"),tt}function parse_Format(i,o,_){var j=i.read_shift(2),_e=parse_XLUnicodeString2(i,0,_);return[j,_e]}function write_Format(i,o,_,j){var _e=_&&_.biff==5;j||(j=new_buf(_e?3+o.length:5+2*o.length)),j.write_shift(2,i),j.write_shift(_e?1:2,o.length),_e||j.write_shift(1,1),j.write_shift((_e?1:2)*o.length,o,_e?"sbcs":"utf16le");var et=j.length>j.l?j.slice(0,j.l):j;return et.l==null&&(et.l=et.length),et}var parse_BIFF2Format=parse_XLUnicodeString2;function parse_Dimensions(i,o,_){var j=i.l+o,_e=_.biff==8||!_.biff?4:2,et=i.read_shift(_e),tt=i.read_shift(_e),rt=i.read_shift(2),nt=i.read_shift(2);return i.l=j,{s:{r:et,c:rt},e:{r:tt,c:nt}}}function write_Dimensions(i,o){var _=o.biff==8||!o.biff?4:2,j=new_buf(2*_+6);return j.write_shift(_,i.s.r),j.write_shift(_,i.e.r+1),j.write_shift(2,i.s.c),j.write_shift(2,i.e.c+1),j.write_shift(2,0),j}function parse_RK(i){var o=i.read_shift(2),_=i.read_shift(2),j=parse_RkRec(i);return{r:o,c:_,ixfe:j[0],rknum:j[1]}}function parse_MulRk(i,o){for(var _=i.l+o-2,j=i.read_shift(2),_e=i.read_shift(2),et=[];i.l<_;)et.push(parse_RkRec(i));if(i.l!==_)throw new Error("MulRK read error");var tt=i.read_shift(2);if(et.length!=tt-_e+1)throw new Error("MulRK length mismatch");return{r:j,c:_e,C:tt,rkrec:et}}function parse_MulBlank(i,o){for(var _=i.l+o-2,j=i.read_shift(2),_e=i.read_shift(2),et=[];i.l<_;)et.push(i.read_shift(2));if(i.l!==_)throw new Error("MulBlank read error");var tt=i.read_shift(2);if(et.length!=tt-_e+1)throw new Error("MulBlank length mismatch");return{r:j,c:_e,C:tt,ixfe:et}}function parse_CellStyleXF(i,o,_,j){var _e={},et=i.read_shift(4),tt=i.read_shift(4),rt=i.read_shift(4),nt=i.read_shift(2);return _e.patternType=XLSFillPattern[rt>>26],j.cellStyles&&(_e.alc=et&7,_e.fWrap=et>>3&1,_e.alcV=et>>4&7,_e.fJustLast=et>>7&1,_e.trot=et>>8&255,_e.cIndent=et>>16&15,_e.fShrinkToFit=et>>20&1,_e.iReadOrder=et>>22&2,_e.fAtrNum=et>>26&1,_e.fAtrFnt=et>>27&1,_e.fAtrAlc=et>>28&1,_e.fAtrBdr=et>>29&1,_e.fAtrPat=et>>30&1,_e.fAtrProt=et>>31&1,_e.dgLeft=tt&15,_e.dgRight=tt>>4&15,_e.dgTop=tt>>8&15,_e.dgBottom=tt>>12&15,_e.icvLeft=tt>>16&127,_e.icvRight=tt>>23&127,_e.grbitDiag=tt>>30&3,_e.icvTop=rt&127,_e.icvBottom=rt>>7&127,_e.icvDiag=rt>>14&127,_e.dgDiag=rt>>21&15,_e.icvFore=nt&127,_e.icvBack=nt>>7&127,_e.fsxButton=nt>>14&1),_e}function parse_XF(i,o,_){var j={};return j.ifnt=i.read_shift(2),j.numFmtId=i.read_shift(2),j.flags=i.read_shift(2),j.fStyle=j.flags>>2&1,o-=6,j.data=parse_CellStyleXF(i,o,j.fStyle,_),j}function write_XF(i,o,_,j){var _e=_&&_.biff==5;j||(j=new_buf(_e?16:20)),j.write_shift(2,0),i.style?(j.write_shift(2,i.numFmtId||0),j.write_shift(2,65524)):(j.write_shift(2,i.numFmtId||0),j.write_shift(2,o<<4));var et=0;return i.numFmtId>0&&_e&&(et|=1024),j.write_shift(4,et),j.write_shift(4,0),_e||j.write_shift(4,0),j.write_shift(2,0),j}function parse_Guts(i){i.l+=4;var o=[i.read_shift(2),i.read_shift(2)];if(o[0]!==0&&o[0]--,o[1]!==0&&o[1]--,o[0]>7||o[1]>7)throw new Error("Bad Gutters: "+o.join("|"));return o}function write_Guts(i){var o=new_buf(8);return o.write_shift(4,0),o.write_shift(2,0),o.write_shift(2,0),o}function parse_BoolErr(i,o,_){var j=parse_XLSCell(i);(_.biff==2||o==9)&&++i.l;var _e=parse_Bes(i);return j.val=_e,j.t=_e===!0||_e===!1?"b":"e",j}function write_BoolErr(i,o,_,j,_e,et){var tt=new_buf(8);return write_XLSCell(i,o,j,tt),write_Bes(_,et,tt),tt}function parse_Number(i,o,_){_.biffguess&&_.biff==2&&(_.biff=5);var j=parse_XLSCell(i),_e=parse_Xnum(i);return j.val=_e,j}function write_Number(i,o,_,j){var _e=new_buf(14);return write_XLSCell(i,o,j,_e),write_Xnum(_,_e),_e}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(i,o,_){var j=i.l+o,_e=i.read_shift(2),et=i.read_shift(2);if(_.sbcch=et,et==1025||et==14849)return[et,_e];if(et<1||et>255)throw new Error("Unexpected SupBook type: "+et);for(var tt=parse_XLUnicodeStringNoCch(i,et),rt=[];j>i.l;)rt.push(parse_XLUnicodeString(i));return[et,_e,tt,rt]}function parse_ExternName(i,o,_){var j=i.read_shift(2),_e,et={fBuiltIn:j&1,fWantAdvise:j>>>1&1,fWantPict:j>>>2&1,fOle:j>>>3&1,fOleLink:j>>>4&1,cf:j>>>5&1023,fIcon:j>>>15&1};return _.sbcch===14849&&(_e=parse_AddinUdf(i,o-2,_)),et.body=_e||i.read_shift(o-2),typeof _e=="string"&&(et.Name=_e),et}var XLSLblBuiltIn=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function parse_Lbl(i,o,_){var j=i.l+o,_e=i.read_shift(2),et=i.read_shift(1),tt=i.read_shift(1),rt=i.read_shift(_&&_.biff==2?1:2),nt=0;(!_||_.biff>=5)&&(_.biff!=5&&(i.l+=2),nt=i.read_shift(2),_.biff==5&&(i.l+=2),i.l+=4);var st=parse_XLUnicodeStringNoCch(i,tt,_);_e&32&&(st=XLSLblBuiltIn[st.charCodeAt(0)]);var it=j-i.l;_&&_.biff==2&&--it;var at=j==i.l||rt===0||!(it>0)?[]:parse_NameParsedFormula(i,it,_,rt);return{chKey:et,Name:st,itab:nt,rgce:at}}function parse_ExternSheet(i,o,_){if(_.biff<8)return parse_BIFF5ExternSheet(i,o,_);for(var j=[],_e=i.l+o,et=i.read_shift(_.biff>8?4:2);et--!==0;)j.push(parse_XTI(i,_.biff>8?12:6,_));if(i.l!=_e)throw new Error("Bad ExternSheet: "+i.l+" != "+_e);return j}function parse_BIFF5ExternSheet(i,o,_){i[i.l+1]==3&&i[i.l]++;var j=parse_ShortXLUnicodeString(i,o,_);return j.charCodeAt(0)==3?j.slice(1):j}function parse_NameCmt(i,o,_){if(_.biff<8){i.l+=o;return}var j=i.read_shift(2),_e=i.read_shift(2),et=parse_XLUnicodeStringNoCch(i,j,_),tt=parse_XLUnicodeStringNoCch(i,_e,_);return[et,tt]}function parse_ShrFmla(i,o,_){var j=parse_RefU(i);i.l++;var _e=i.read_shift(1);return o-=8,[parse_SharedParsedFormula(i,o,_),_e,j]}function parse_Array(i,o,_){var j=parse_Ref(i);switch(_.biff){case 2:i.l++,o-=7;break;case 3:case 4:i.l+=2,o-=8;break;default:i.l+=6,o-=12}return[j,parse_ArrayParsedFormula(i,o,_)]}function parse_MTRSettings(i){var o=i.read_shift(4)!==0,_=i.read_shift(4)!==0,j=i.read_shift(4);return[o,_,j]}function parse_NoteSh(i,o,_){if(!(_.biff<8)){var j=i.read_shift(2),_e=i.read_shift(2),et=i.read_shift(2),tt=i.read_shift(2),rt=parse_XLUnicodeString2(i,0,_);return _.biff<8&&i.read_shift(1),[{r:j,c:_e},rt,tt,et]}}function parse_Note(i,o,_){return parse_NoteSh(i,o,_)}function parse_MergeCells(i,o){for(var _=[],j=i.read_shift(2);j--;)_.push(parse_Ref8U(i));return _}function write_MergeCells(i){var o=new_buf(2+i.length*8);o.write_shift(2,i.length);for(var _=0;_<i.length;++_)write_Ref8U(i[_],o);return o}function parse_Obj(i,o,_){if(_&&_.biff<8)return parse_BIFF5Obj(i,o,_);var j=parse_FtCmo(i),_e=parse_FtArray(i,o-22,j[1]);return{cmo:j,ft:_e}}var parse_BIFF5OT={8:function(i,o){var _=i.l+o;i.l+=10;var j=i.read_shift(2);i.l+=4,i.l+=2,i.l+=2,i.l+=2,i.l+=4;var _e=i.read_shift(1);return i.l+=_e,i.l=_,{fmt:j}}};function parse_BIFF5Obj(i,o,_){i.l+=4;var j=i.read_shift(2),_e=i.read_shift(2),et=i.read_shift(2);i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=2,i.l+=6,o-=36;var tt=[];return tt.push((parse_BIFF5OT[j]||parsenoop)(i,o,_)),{cmo:[_e,j,et],ft:tt}}function parse_TxO(i,o,_){var j=i.l,_e="";try{i.l+=4;var et=(_.lastobj||{cmo:[0,0]}).cmo[1],tt;[0,5,7,11,12,14].indexOf(et)==-1?i.l+=6:tt=parse_ControlInfo(i,6,_);var rt=i.read_shift(2);i.read_shift(2),parseuint16(i,2);var nt=i.read_shift(2);i.l+=nt;for(var st=1;st<i.lens.length-1;++st){if(i.l-j!=i.lens[st])throw new Error("TxO: bad continue record");var it=i[i.l],at=parse_XLUnicodeStringNoCch(i,i.lens[st+1]-i.lens[st]-1);if(_e+=at,_e.length>=(it?rt:2*rt))break}if(_e.length!==rt&&_e.length!==rt*2)throw new Error("cchText: "+rt+" != "+_e.length);return i.l=j+o,{t:_e}}catch{return i.l=j+o,{t:_e}}}function parse_HLink(i,o){var _=parse_Ref8U(i);i.l+=16;var j=parse_Hyperlink(i,o-24);return[_,j]}function write_HLink(i){var o=new_buf(24),_=decode_cell(i[0]);o.write_shift(2,_.r),o.write_shift(2,_.r),o.write_shift(2,_.c),o.write_shift(2,_.c);for(var j="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),_e=0;_e<16;++_e)o.write_shift(1,parseInt(j[_e],16));return bconcat([o,write_Hyperlink(i[1])])}function parse_HLinkTooltip(i,o){i.read_shift(2);var _=parse_Ref8U(i),j=i.read_shift((o-10)/2,"dbcs-cont");return j=j.replace(chr0,""),[_,j]}function write_HLinkTooltip(i){var o=i[1].Tooltip,_=new_buf(10+2*(o.length+1));_.write_shift(2,2048);var j=decode_cell(i[0]);_.write_shift(2,j.r),_.write_shift(2,j.r),_.write_shift(2,j.c),_.write_shift(2,j.c);for(var _e=0;_e<o.length;++_e)_.write_shift(2,o.charCodeAt(_e));return _.write_shift(2,0),_}function parse_Country(i){var o=[0,0],_;return _=i.read_shift(2),o[0]=CountryEnum[_]||_,_=i.read_shift(2),o[1]=CountryEnum[_]||_,o}function write_Country(i){return i||(i=new_buf(4)),i.write_shift(2,1),i.write_shift(2,1),i}function parse_ClrtClient(i){for(var o=i.read_shift(2),_=[];o-- >0;)_.push(parse_LongRGB(i));return _}function parse_Palette(i){for(var o=i.read_shift(2),_=[];o-- >0;)_.push(parse_LongRGB(i));return _}function parse_XFCRC(i){i.l+=2;var o={cxfs:0,crc:0};return o.cxfs=i.read_shift(2),o.crc=i.read_shift(4),o}function parse_ColInfo(i,o,_){if(!_.cellStyles)return parsenoop(i,o);var j=_&&_.biff>=12?4:2,_e=i.read_shift(j),et=i.read_shift(j),tt=i.read_shift(j),rt=i.read_shift(j),nt=i.read_shift(2);j==2&&(i.l+=2);var st={s:_e,e:et,w:tt,ixfe:rt,flags:nt};return(_.biff>=5||!_.biff)&&(st.level=nt>>8&7),st}function write_ColInfo(i,o){var _=new_buf(12);_.write_shift(2,o),_.write_shift(2,o),_.write_shift(2,i.width*256),_.write_shift(2,0);var j=0;return i.hidden&&(j|=1),_.write_shift(1,j),j=i.level||0,_.write_shift(1,j),_.write_shift(2,0),_}function parse_Setup(i,o){var _={};return o<32||(i.l+=16,_.header=parse_Xnum(i),_.footer=parse_Xnum(i),i.l+=2),_}function parse_ShtProps(i,o,_){var j={area:!1};if(_.biff!=5)return i.l+=o,j;var _e=i.read_shift(1);return i.l+=3,_e&16&&(j.area=!0),j}function write_RRTabId(i){for(var o=new_buf(2*i),_=0;_<i;++_)o.write_shift(2,_+1);return o}var parse_Blank=parse_XLSCell,parse_Scl=parseuint16a,parse_String=parse_XLUnicodeString;function parse_ImData(i){var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(4),_e={fmt:o,env:_,len:j,data:i.slice(i.l,i.l+j)};return i.l+=j,_e}function parse_BIFF2STR(i,o,_){_.biffguess&&_.biff==5&&(_.biff=2);var j=parse_XLSCell(i);++i.l;var _e=parse_XLUnicodeString2(i,o-7,_);return j.t="str",j.val=_e,j}function parse_BIFF2NUM(i){var o=parse_XLSCell(i);++i.l;var _=parse_Xnum(i);return o.t="n",o.val=_,o}function write_BIFF2NUM(i,o,_){var j=new_buf(15);return write_BIFF2Cell(j,i,o),j.write_shift(8,_,"f"),j}function parse_BIFF2INT(i){var o=parse_XLSCell(i);++i.l;var _=i.read_shift(2);return o.t="n",o.val=_,o}function write_BIFF2INT(i,o,_){var j=new_buf(9);return write_BIFF2Cell(j,i,o),j.write_shift(2,_),j}function parse_BIFF2STRING(i){var o=i.read_shift(1);return o===0?(i.l++,""):i.read_shift(o,"sbcs-cont")}function parse_BIFF2FONTXTRA(i,o){i.l+=6,i.l+=2,i.l+=1,i.l+=3,i.l+=1,i.l+=o-13}function parse_RString(i,o,_){var j=i.l+o,_e=parse_XLSCell(i),et=i.read_shift(2),tt=parse_XLUnicodeStringNoCch(i,et,_);return i.l=j,_e.t="str",_e.val=tt,_e}var DBF_SUPPORTED_VERSIONS=[2,3,48,49,131,139,140,245],DBF=function(){var i={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},o=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function _(rt,nt){var st=[],it=new_raw_buf(1);switch(nt.type){case"base64":it=s2a(Base64_decode(rt));break;case"binary":it=s2a(rt);break;case"buffer":case"array":it=rt;break}prep_blob(it,0);var at=it.read_shift(1),ot=!!(at&136),ct=!1,ut=!1;switch(at){case 2:break;case 3:break;case 48:ct=!0,ot=!0;break;case 49:ct=!0,ot=!0;break;case 131:break;case 139:break;case 140:ut=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+at.toString(16))}var lt=0,pt=521;at==2&&(lt=it.read_shift(2)),it.l+=3,at!=2&&(lt=it.read_shift(4)),lt>1048576&&(lt=1e6),at!=2&&(pt=it.read_shift(2));var dt=it.read_shift(2),ht=nt.codepage||1252;at!=2&&(it.l+=16,it.read_shift(1),it[it.l]!==0&&(ht=i[it[it.l]]),it.l+=1,it.l+=2),ut&&(it.l+=36);for(var ft=[],mt={},xt=Math.min(it.length,at==2?521:pt-10-(ct?264:0)),gt=ut?32:11;it.l<xt&&it[it.l]!=13;)switch(mt={},mt.name=$cptable.utils.decode(ht,it.slice(it.l,it.l+gt)).replace(/[\u0000\r\n].*$/g,""),it.l+=gt,mt.type=String.fromCharCode(it.read_shift(1)),at!=2&&!ut&&(mt.offset=it.read_shift(4)),mt.len=it.read_shift(1),at==2&&(mt.offset=it.read_shift(2)),mt.dec=it.read_shift(1),mt.name.length&&ft.push(mt),at!=2&&(it.l+=ut?13:14),mt.type){case"B":(!ct||mt.len!=8)&&nt.WTF&&console.log("Skipping "+mt.name+":"+mt.type);break;case"G":case"P":nt.WTF&&console.log("Skipping "+mt.name+":"+mt.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+mt.type)}if(it[it.l]!==13&&(it.l=pt-1),it.read_shift(1)!==13)throw new Error("DBF Terminator not found "+it.l+" "+it[it.l]);it.l=pt;var yt=0,_t=0;for(st[0]=[],_t=0;_t!=ft.length;++_t)st[0][_t]=ft[_t].name;for(;lt-- >0;){if(it[it.l]===42){it.l+=dt;continue}for(++it.l,st[++yt]=[],_t=0,_t=0;_t!=ft.length;++_t){var Et=it.slice(it.l,it.l+ft[_t].len);it.l+=ft[_t].len,prep_blob(Et,0);var wt=$cptable.utils.decode(ht,Et);switch(ft[_t].type){case"C":wt.trim().length&&(st[yt][_t]=wt.replace(/\s+$/,""));break;case"D":wt.length===8?st[yt][_t]=new Date(+wt.slice(0,4),+wt.slice(4,6)-1,+wt.slice(6,8)):st[yt][_t]=wt;break;case"F":st[yt][_t]=parseFloat(wt.trim());break;case"+":case"I":st[yt][_t]=ut?Et.read_shift(-4,"i")^2147483648:Et.read_shift(4,"i");break;case"L":switch(wt.trim().toUpperCase()){case"Y":case"T":st[yt][_t]=!0;break;case"N":case"F":st[yt][_t]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+wt+"|")}break;case"M":if(!ot)throw new Error("DBF Unexpected MEMO for type "+at.toString(16));st[yt][_t]="##MEMO##"+(ut?parseInt(wt.trim(),10):Et.read_shift(4));break;case"N":wt=wt.replace(/\u0000/g,"").trim(),wt&&wt!="."&&(st[yt][_t]=+wt||0);break;case"@":st[yt][_t]=new Date(Et.read_shift(-8,"f")-621356832e5);break;case"T":st[yt][_t]=new Date((Et.read_shift(4)-2440588)*864e5+Et.read_shift(4));break;case"Y":st[yt][_t]=Et.read_shift(4,"i")/1e4+Et.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":st[yt][_t]=-Et.read_shift(-8,"f");break;case"B":if(ct&&ft[_t].len==8){st[yt][_t]=Et.read_shift(8,"f");break}case"G":case"P":Et.l+=ft[_t].len;break;case"0":if(ft[_t].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+ft[_t].type)}}}if(at!=2&&it.l<it.length&&it[it.l++]!=26)throw new Error("DBF EOF Marker missing "+(it.l-1)+" of "+it.length+" "+it[it.l-1].toString(16));return nt&&nt.sheetRows&&(st=st.slice(0,nt.sheetRows)),nt.DBF=ft,st}function j(rt,nt){var st=nt||{};st.dateNF||(st.dateNF="yyyymmdd");var it=aoa_to_sheet(_(rt,st),st);return it["!cols"]=st.DBF.map(function(at){return{wch:at.len,DBF:at}}),delete st.DBF,it}function _e(rt,nt){try{return sheet_to_workbook(j(rt,nt),nt)}catch(st){if(nt&&nt.WTF)throw st}return{SheetNames:[],Sheets:{}}}var et={B:8,C:250,L:1,D:8,"?":0,"":0};function tt(rt,nt){var st=nt||{};if(+st.codepage>=0&&set_cp(+st.codepage),st.type=="string")throw new Error("Cannot write DBF to JS string");var it=buf_array(),at=sheet_to_json(rt,{header:1,raw:!0,cellDates:!0}),ot=at[0],ct=at.slice(1),ut=rt["!cols"]||[],lt=0,pt=0,dt=0,ht=1;for(lt=0;lt<ot.length;++lt){if(((ut[lt]||{}).DBF||{}).name){ot[lt]=ut[lt].DBF.name,++dt;continue}if(ot[lt]!=null){if(++dt,typeof ot[lt]=="number"&&(ot[lt]=ot[lt].toString(10)),typeof ot[lt]!="string")throw new Error("DBF Invalid column name "+ot[lt]+" |"+typeof ot[lt]+"|");if(ot.indexOf(ot[lt])!==lt){for(pt=0;pt<1024;++pt)if(ot.indexOf(ot[lt]+"_"+pt)==-1){ot[lt]+="_"+pt;break}}}}var ft=safe_decode_range(rt["!ref"]),mt=[],xt=[],gt=[];for(lt=0;lt<=ft.e.c-ft.s.c;++lt){var yt="",_t="",Et=0,wt=[];for(pt=0;pt<ct.length;++pt)ct[pt][lt]!=null&&wt.push(ct[pt][lt]);if(wt.length==0||ot[lt]==null){mt[lt]="?";continue}for(pt=0;pt<wt.length;++pt){switch(typeof wt[pt]){case"number":_t="B";break;case"string":_t="C";break;case"boolean":_t="L";break;case"object":_t=wt[pt]instanceof Date?"D":"C";break;default:_t="C"}Et=Math.max(Et,String(wt[pt]).length),yt=yt&&yt!=_t?"C":_t}Et>250&&(Et=250),_t=((ut[lt]||{}).DBF||{}).type,_t=="C"&&ut[lt].DBF.len>Et&&(Et=ut[lt].DBF.len),yt=="B"&&_t=="N"&&(yt="N",gt[lt]=ut[lt].DBF.dec,Et=ut[lt].DBF.len),xt[lt]=yt=="C"||_t=="N"?Et:et[yt]||0,ht+=xt[lt],mt[lt]=yt}var $t=it.next(32);for($t.write_shift(4,318902576),$t.write_shift(4,ct.length),$t.write_shift(2,296+32*dt),$t.write_shift(2,ht),lt=0;lt<4;++lt)$t.write_shift(4,0);for($t.write_shift(4,0|(+o[current_ansi]||3)<<8),lt=0,pt=0;lt<ot.length;++lt)if(ot[lt]!=null){var jt=it.next(32),Tt=(ot[lt].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);jt.write_shift(1,Tt,"sbcs"),jt.write_shift(1,mt[lt]=="?"?"C":mt[lt],"sbcs"),jt.write_shift(4,pt),jt.write_shift(1,xt[lt]||et[mt[lt]]||0),jt.write_shift(1,gt[lt]||0),jt.write_shift(1,2),jt.write_shift(4,0),jt.write_shift(1,0),jt.write_shift(4,0),jt.write_shift(4,0),pt+=xt[lt]||et[mt[lt]]||0}var kt=it.next(264);for(kt.write_shift(4,13),lt=0;lt<65;++lt)kt.write_shift(4,0);for(lt=0;lt<ct.length;++lt){var Pt=it.next(ht);for(Pt.write_shift(1,0),pt=0;pt<ot.length;++pt)if(ot[pt]!=null)switch(mt[pt]){case"L":Pt.write_shift(1,ct[lt][pt]==null?63:ct[lt][pt]?84:70);break;case"B":Pt.write_shift(8,ct[lt][pt]||0,"f");break;case"N":var St="0";for(typeof ct[lt][pt]=="number"&&(St=ct[lt][pt].toFixed(gt[pt]||0)),dt=0;dt<xt[pt]-St.length;++dt)Pt.write_shift(1,32);Pt.write_shift(1,St,"sbcs");break;case"D":ct[lt][pt]?(Pt.write_shift(4,("0000"+ct[lt][pt].getFullYear()).slice(-4),"sbcs"),Pt.write_shift(2,("00"+(ct[lt][pt].getMonth()+1)).slice(-2),"sbcs"),Pt.write_shift(2,("00"+ct[lt][pt].getDate()).slice(-2),"sbcs")):Pt.write_shift(8,"00000000","sbcs");break;case"C":var Rt=String(ct[lt][pt]!=null?ct[lt][pt]:"").slice(0,xt[pt]);for(Pt.write_shift(1,Rt,"sbcs"),dt=0;dt<xt[pt]-Rt.length;++dt)Pt.write_shift(1,32);break}}return it.next(1).write_shift(1,26),it.end()}return{to_workbook:_e,to_sheet:j,from_sheet:tt}}(),SYLK=function(){var i={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},o=new RegExp("\x1BN("+keys(i).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),_=function(ot,ct){var ut=i[ct];return typeof ut=="number"?_getansi(ut):ut},j=function(ot,ct,ut){var lt=ct.charCodeAt(0)-32<<4|ut.charCodeAt(0)-48;return lt==59?ot:_getansi(lt)};i["|"]=254;function _e(ot,ct){switch(ct.type){case"base64":return et(Base64_decode(ot),ct);case"binary":return et(ot,ct);case"buffer":return et(has_buf&&Buffer.isBuffer(ot)?ot.toString("binary"):a2s(ot),ct);case"array":return et(cc2str(ot),ct)}throw new Error("Unrecognized type "+ct.type)}function et(ot,ct){var ut=ot.split(/[\n\r]+/),lt=-1,pt=-1,dt=0,ht=0,ft=[],mt=[],xt=null,gt={},yt=[],_t=[],Et=[],wt=0,$t;for(+ct.codepage>=0&&set_cp(+ct.codepage);dt!==ut.length;++dt){wt=0;var jt=ut[dt].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,j).replace(o,_),Tt=jt.replace(/;;/g,"\0").split(";").map(function(Dt){return Dt.replace(/\u0000/g,";")}),kt=Tt[0],Pt;if(jt.length>0)switch(kt){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Tt[1].charAt(0)=="P"&&mt.push(jt.slice(3).replace(/;;/g,";"));break;case"C":var St=!1,Rt=!1,bt=!1,vt=!1,At=-1,Ot=-1;for(ht=1;ht<Tt.length;++ht)switch(Tt[ht].charAt(0)){case"A":break;case"X":pt=parseInt(Tt[ht].slice(1))-1,Rt=!0;break;case"Y":for(lt=parseInt(Tt[ht].slice(1))-1,Rt||(pt=0),$t=ft.length;$t<=lt;++$t)ft[$t]=[];break;case"K":Pt=Tt[ht].slice(1),Pt.charAt(0)==='"'?Pt=Pt.slice(1,Pt.length-1):Pt==="TRUE"?Pt=!0:Pt==="FALSE"?Pt=!1:isNaN(fuzzynum(Pt))?isNaN(fuzzydate(Pt).getDate())||(Pt=parseDate(Pt)):(Pt=fuzzynum(Pt),xt!==null&&fmt_is_date(xt)&&(Pt=numdate(Pt))),St=!0;break;case"E":vt=!0;var Ct=rc_to_a1(Tt[ht].slice(1),{r:lt,c:pt});ft[lt][pt]=[ft[lt][pt],Ct];break;case"S":bt=!0,ft[lt][pt]=[ft[lt][pt],"S5S"];break;case"G":break;case"R":At=parseInt(Tt[ht].slice(1))-1;break;case"C":Ot=parseInt(Tt[ht].slice(1))-1;break;default:if(ct&&ct.WTF)throw new Error("SYLK bad record "+jt)}if(St&&(ft[lt][pt]&&ft[lt][pt].length==2?ft[lt][pt][0]=Pt:ft[lt][pt]=Pt,xt=null),bt){if(vt)throw new Error("SYLK shared formula cannot have own formula");var Lt=At>-1&&ft[At][Ot];if(!Lt||!Lt[1])throw new Error("SYLK shared formula cannot find base");ft[lt][pt][1]=shift_formula_str(Lt[1],{r:lt-At,c:pt-Ot})}break;case"F":var It=0;for(ht=1;ht<Tt.length;++ht)switch(Tt[ht].charAt(0)){case"X":pt=parseInt(Tt[ht].slice(1))-1,++It;break;case"Y":for(lt=parseInt(Tt[ht].slice(1))-1,$t=ft.length;$t<=lt;++$t)ft[$t]=[];break;case"M":wt=parseInt(Tt[ht].slice(1))/20;break;case"F":break;case"G":break;case"P":xt=mt[parseInt(Tt[ht].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(Et=Tt[ht].slice(1).split(" "),$t=parseInt(Et[0],10);$t<=parseInt(Et[1],10);++$t)wt=parseInt(Et[2],10),_t[$t-1]=wt===0?{hidden:!0}:{wch:wt},process_col(_t[$t-1]);break;case"C":pt=parseInt(Tt[ht].slice(1))-1,_t[pt]||(_t[pt]={});break;case"R":lt=parseInt(Tt[ht].slice(1))-1,yt[lt]||(yt[lt]={}),wt>0?(yt[lt].hpt=wt,yt[lt].hpx=pt2px(wt)):wt===0&&(yt[lt].hidden=!0);break;default:if(ct&&ct.WTF)throw new Error("SYLK bad record "+jt)}It<1&&(xt=null);break;default:if(ct&&ct.WTF)throw new Error("SYLK bad record "+jt)}}return yt.length>0&&(gt["!rows"]=yt),_t.length>0&&(gt["!cols"]=_t),ct&&ct.sheetRows&&(ft=ft.slice(0,ct.sheetRows)),[ft,gt]}function tt(ot,ct){var ut=_e(ot,ct),lt=ut[0],pt=ut[1],dt=aoa_to_sheet(lt,ct);return keys(pt).forEach(function(ht){dt[ht]=pt[ht]}),dt}function rt(ot,ct){return sheet_to_workbook(tt(ot,ct),ct)}function nt(ot,ct,ut,lt){var pt="C;Y"+(ut+1)+";X"+(lt+1)+";K";switch(ot.t){case"n":pt+=ot.v||0,ot.f&&!ot.F&&(pt+=";E"+a1_to_rc(ot.f,{r:ut,c:lt}));break;case"b":pt+=ot.v?"TRUE":"FALSE";break;case"e":pt+=ot.w||ot.v;break;case"d":pt+='"'+(ot.w||ot.v)+'"';break;case"s":pt+='"'+ot.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return pt}function st(ot,ct){ct.forEach(function(ut,lt){var pt="F;W"+(lt+1)+" "+(lt+1)+" ";ut.hidden?pt+="0":(typeof ut.width=="number"&&!ut.wpx&&(ut.wpx=width2px(ut.width)),typeof ut.wpx=="number"&&!ut.wch&&(ut.wch=px2char(ut.wpx)),typeof ut.wch=="number"&&(pt+=Math.round(ut.wch))),pt.charAt(pt.length-1)!=" "&&ot.push(pt)})}function it(ot,ct){ct.forEach(function(ut,lt){var pt="F;";ut.hidden?pt+="M0;":ut.hpt?pt+="M"+20*ut.hpt+";":ut.hpx&&(pt+="M"+20*px2pt(ut.hpx)+";"),pt.length>2&&ot.push(pt+"R"+(lt+1))})}function at(ot,ct){var ut=["ID;PWXL;N;E"],lt=[],pt=safe_decode_range(ot["!ref"]),dt,ht=Array.isArray(ot),ft=`\r
`;ut.push("P;PGeneral"),ut.push("F;P0;DG0G8;M255"),ot["!cols"]&&st(ut,ot["!cols"]),ot["!rows"]&&it(ut,ot["!rows"]),ut.push("B;Y"+(pt.e.r-pt.s.r+1)+";X"+(pt.e.c-pt.s.c+1)+";D"+[pt.s.c,pt.s.r,pt.e.c,pt.e.r].join(" "));for(var mt=pt.s.r;mt<=pt.e.r;++mt)for(var xt=pt.s.c;xt<=pt.e.c;++xt){var gt=encode_cell({r:mt,c:xt});dt=ht?(ot[mt]||[])[xt]:ot[gt],!(!dt||dt.v==null&&(!dt.f||dt.F))&&lt.push(nt(dt,ot,mt,xt))}return ut.join(ft)+ft+lt.join(ft)+ft+"E"+ft}return{to_workbook:rt,to_sheet:tt,from_sheet:at}}(),DIF=function(){function i(et,tt){switch(tt.type){case"base64":return o(Base64_decode(et),tt);case"binary":return o(et,tt);case"buffer":return o(has_buf&&Buffer.isBuffer(et)?et.toString("binary"):a2s(et),tt);case"array":return o(cc2str(et),tt)}throw new Error("Unrecognized type "+tt.type)}function o(et,tt){for(var rt=et.split(`
`),nt=-1,st=-1,it=0,at=[];it!==rt.length;++it){if(rt[it].trim()==="BOT"){at[++nt]=[],st=0;continue}if(!(nt<0)){var ot=rt[it].trim().split(","),ct=ot[0],ut=ot[1];++it;for(var lt=rt[it]||"";(lt.match(/["]/g)||[]).length&1&&it<rt.length-1;)lt+=`
`+rt[++it];switch(lt=lt.trim(),+ct){case-1:if(lt==="BOT"){at[++nt]=[],st=0;continue}else if(lt!=="EOD")throw new Error("Unrecognized DIF special command "+lt);break;case 0:lt==="TRUE"?at[nt][st]=!0:lt==="FALSE"?at[nt][st]=!1:isNaN(fuzzynum(ut))?isNaN(fuzzydate(ut).getDate())?at[nt][st]=ut:at[nt][st]=parseDate(ut):at[nt][st]=fuzzynum(ut),++st;break;case 1:lt=lt.slice(1,lt.length-1),lt=lt.replace(/""/g,'"'),lt&&lt.match(/^=".*"$/)&&(lt=lt.slice(2,-1)),at[nt][st++]=lt!==""?lt:null;break}if(lt==="EOD")break}}return tt&&tt.sheetRows&&(at=at.slice(0,tt.sheetRows)),at}function _(et,tt){return aoa_to_sheet(i(et,tt),tt)}function j(et,tt){return sheet_to_workbook(_(et,tt),tt)}var _e=function(){var et=function(nt,st,it,at,ot){nt.push(st),nt.push(it+","+at),nt.push('"'+ot.replace(/"/g,'""')+'"')},tt=function(nt,st,it,at){nt.push(st+","+it),nt.push(st==1?'"'+at.replace(/"/g,'""')+'"':at)};return function(nt){var st=[],it=safe_decode_range(nt["!ref"]),at,ot=Array.isArray(nt);et(st,"TABLE",0,1,"sheetjs"),et(st,"VECTORS",0,it.e.r-it.s.r+1,""),et(st,"TUPLES",0,it.e.c-it.s.c+1,""),et(st,"DATA",0,0,"");for(var ct=it.s.r;ct<=it.e.r;++ct){tt(st,-1,0,"BOT");for(var ut=it.s.c;ut<=it.e.c;++ut){var lt=encode_cell({r:ct,c:ut});if(at=ot?(nt[ct]||[])[ut]:nt[lt],!at){tt(st,1,0,"");continue}switch(at.t){case"n":var pt=at.w;!pt&&at.v!=null&&(pt=at.v),pt==null?at.f&&!at.F?tt(st,1,0,"="+at.f):tt(st,1,0,""):tt(st,0,pt,"V");break;case"b":tt(st,0,at.v?1:0,at.v?"TRUE":"FALSE");break;case"s":tt(st,1,0,isNaN(at.v)?at.v:'="'+at.v+'"');break;case"d":at.w||(at.w=SSF_format(at.z||table_fmt[14],datenum(parseDate(at.v)))),tt(st,0,at.w,"V");break;default:tt(st,1,0,"")}}}tt(st,-1,0,"EOD");var dt=`\r
`,ht=st.join(dt);return ht}}();return{to_workbook:j,to_sheet:_,from_sheet:_e}}(),ETH=function(){function i(at){return at.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function o(at){return at.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function _(at,ot){for(var ct=at.split(`
`),ut=-1,lt=-1,pt=0,dt=[];pt!==ct.length;++pt){var ht=ct[pt].trim().split(":");if(ht[0]==="cell"){var ft=decode_cell(ht[1]);if(dt.length<=ft.r)for(ut=dt.length;ut<=ft.r;++ut)dt[ut]||(dt[ut]=[]);switch(ut=ft.r,lt=ft.c,ht[2]){case"t":dt[ut][lt]=i(ht[3]);break;case"v":dt[ut][lt]=+ht[3];break;case"vtf":var mt=ht[ht.length-1];case"vtc":switch(ht[3]){case"nl":dt[ut][lt]=!!+ht[4];break;default:dt[ut][lt]=+ht[4];break}ht[2]=="vtf"&&(dt[ut][lt]=[dt[ut][lt],mt])}}}return ot&&ot.sheetRows&&(dt=dt.slice(0,ot.sheetRows)),dt}function j(at,ot){return aoa_to_sheet(_(at,ot),ot)}function _e(at,ot){return sheet_to_workbook(j(at,ot),ot)}var et=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),tt=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,rt=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),nt="--SocialCalcSpreadsheetControlSave--";function st(at){if(!at||!at["!ref"])return"";for(var ot=[],ct=[],ut,lt="",pt=decode_range(at["!ref"]),dt=Array.isArray(at),ht=pt.s.r;ht<=pt.e.r;++ht)for(var ft=pt.s.c;ft<=pt.e.c;++ft)if(lt=encode_cell({r:ht,c:ft}),ut=dt?(at[ht]||[])[ft]:at[lt],!(!ut||ut.v==null||ut.t==="z")){switch(ct=["cell",lt,"t"],ut.t){case"s":case"str":ct.push(o(ut.v));break;case"n":ut.f?(ct[2]="vtf",ct[3]="n",ct[4]=ut.v,ct[5]=o(ut.f)):(ct[2]="v",ct[3]=ut.v);break;case"b":ct[2]="vt"+(ut.f?"f":"c"),ct[3]="nl",ct[4]=ut.v?"1":"0",ct[5]=o(ut.f||(ut.v?"TRUE":"FALSE"));break;case"d":var mt=datenum(parseDate(ut.v));ct[2]="vtc",ct[3]="nd",ct[4]=""+mt,ct[5]=ut.w||SSF_format(ut.z||table_fmt[14],mt);break;case"e":continue}ot.push(ct.join(":"))}return ot.push("sheet:c:"+(pt.e.c-pt.s.c+1)+":r:"+(pt.e.r-pt.s.r+1)+":tvf:1"),ot.push("valueformat:1:text-wiki"),ot.join(`
`)}function it(at){return[et,tt,rt,tt,st(at),nt].join(`
`)}return{to_workbook:_e,to_sheet:j,from_sheet:it}}(),PRN=function(){function i(it,at,ot,ct,ut){ut.raw?at[ot][ct]=it:it===""||(it==="TRUE"?at[ot][ct]=!0:it==="FALSE"?at[ot][ct]=!1:isNaN(fuzzynum(it))?isNaN(fuzzydate(it).getDate())?at[ot][ct]=it:at[ot][ct]=parseDate(it):at[ot][ct]=fuzzynum(it))}function o(it,at){var ot=at||{},ct=[];if(!it||it.length===0)return ct;for(var ut=it.split(/[\r\n]/),lt=ut.length-1;lt>=0&&ut[lt].length===0;)--lt;for(var pt=10,dt=0,ht=0;ht<=lt;++ht)dt=ut[ht].indexOf(" "),dt==-1?dt=ut[ht].length:dt++,pt=Math.max(pt,dt);for(ht=0;ht<=lt;++ht){ct[ht]=[];var ft=0;for(i(ut[ht].slice(0,pt).trim(),ct,ht,ft,ot),ft=1;ft<=(ut[ht].length-pt)/10+1;++ft)i(ut[ht].slice(pt+(ft-1)*10,pt+ft*10).trim(),ct,ht,ft,ot)}return ot.sheetRows&&(ct=ct.slice(0,ot.sheetRows)),ct}var _={44:",",9:"	",59:";",124:"|"},j={44:3,9:2,59:1,124:0};function _e(it){for(var at={},ot=!1,ct=0,ut=0;ct<it.length;++ct)(ut=it.charCodeAt(ct))==34?ot=!ot:!ot&&ut in _&&(at[ut]=(at[ut]||0)+1);ut=[];for(ct in at)Object.prototype.hasOwnProperty.call(at,ct)&&ut.push([at[ct],ct]);if(!ut.length){at=j;for(ct in at)Object.prototype.hasOwnProperty.call(at,ct)&&ut.push([at[ct],ct])}return ut.sort(function(lt,pt){return lt[0]-pt[0]||j[lt[1]]-j[pt[1]]}),_[ut.pop()[1]]||44}function et(it,at){var ot=at||{},ct="",ut=ot.dense?[]:{},lt={s:{c:0,r:0},e:{c:0,r:0}};it.slice(0,4)=="sep="?it.charCodeAt(5)==13&&it.charCodeAt(6)==10?(ct=it.charAt(4),it=it.slice(7)):it.charCodeAt(5)==13||it.charCodeAt(5)==10?(ct=it.charAt(4),it=it.slice(6)):ct=_e(it.slice(0,1024)):ot&&ot.FS?ct=ot.FS:ct=_e(it.slice(0,1024));var pt=0,dt=0,ht=0,ft=0,mt=0,xt=ct.charCodeAt(0),gt=!1,yt=0,_t=it.charCodeAt(0);it=it.replace(/\r\n/mg,`
`);var Et=ot.dateNF!=null?dateNF_regex(ot.dateNF):null;function wt(){var $t=it.slice(ft,mt),jt={};if($t.charAt(0)=='"'&&$t.charAt($t.length-1)=='"'&&($t=$t.slice(1,-1).replace(/""/g,'"')),$t.length===0)jt.t="z";else if(ot.raw)jt.t="s",jt.v=$t;else if($t.trim().length===0)jt.t="s",jt.v=$t;else if($t.charCodeAt(0)==61)$t.charCodeAt(1)==34&&$t.charCodeAt($t.length-1)==34?(jt.t="s",jt.v=$t.slice(2,-1).replace(/""/g,'"')):fuzzyfmla($t)?(jt.t="n",jt.f=$t.slice(1)):(jt.t="s",jt.v=$t);else if($t=="TRUE")jt.t="b",jt.v=!0;else if($t=="FALSE")jt.t="b",jt.v=!1;else if(!isNaN(ht=fuzzynum($t)))jt.t="n",ot.cellText!==!1&&(jt.w=$t),jt.v=ht;else if(!isNaN(fuzzydate($t).getDate())||Et&&$t.match(Et)){jt.z=ot.dateNF||table_fmt[14];var Tt=0;Et&&$t.match(Et)&&($t=dateNF_fix($t,ot.dateNF,$t.match(Et)||[]),Tt=1),ot.cellDates?(jt.t="d",jt.v=parseDate($t,Tt)):(jt.t="n",jt.v=datenum(parseDate($t,Tt))),ot.cellText!==!1&&(jt.w=SSF_format(jt.z,jt.v instanceof Date?datenum(jt.v):jt.v)),ot.cellNF||delete jt.z}else jt.t="s",jt.v=$t;if(jt.t=="z"||(ot.dense?(ut[pt]||(ut[pt]=[]),ut[pt][dt]=jt):ut[encode_cell({c:dt,r:pt})]=jt),ft=mt+1,_t=it.charCodeAt(ft),lt.e.c<dt&&(lt.e.c=dt),lt.e.r<pt&&(lt.e.r=pt),yt==xt)++dt;else if(dt=0,++pt,ot.sheetRows&&ot.sheetRows<=pt)return!0}e:for(;mt<it.length;++mt)switch(yt=it.charCodeAt(mt)){case 34:_t===34&&(gt=!gt);break;case xt:case 10:case 13:if(!gt&&wt())break e;break}return mt-ft>0&&wt(),ut["!ref"]=encode_range(lt),ut}function tt(it,at){return!(at&&at.PRN)||at.FS||it.slice(0,4)=="sep="||it.indexOf("	")>=0||it.indexOf(",")>=0||it.indexOf(";")>=0?et(it,at):aoa_to_sheet(o(it,at),at)}function rt(it,at){var ot="",ct=at.type=="string"?[0,0,0,0]:firstbyte(it,at);switch(at.type){case"base64":ot=Base64_decode(it);break;case"binary":ot=it;break;case"buffer":at.codepage==65001?ot=it.toString("utf8"):at.codepage&&typeof $cptable<"u"||(ot=has_buf&&Buffer.isBuffer(it)?it.toString("binary"):a2s(it));break;case"array":ot=cc2str(it);break;case"string":ot=it;break;default:throw new Error("Unrecognized type "+at.type)}return ct[0]==239&&ct[1]==187&&ct[2]==191?ot=utf8read(ot.slice(3)):at.type!="string"&&at.type!="buffer"&&at.codepage==65001?ot=utf8read(ot):at.type=="binary"&&typeof $cptable<"u",ot.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(at.type=="string"?ot:utf8read(ot),at):tt(ot,at)}function nt(it,at){return sheet_to_workbook(rt(it,at),at)}function st(it){for(var at=[],ot=safe_decode_range(it["!ref"]),ct,ut=Array.isArray(it),lt=ot.s.r;lt<=ot.e.r;++lt){for(var pt=[],dt=ot.s.c;dt<=ot.e.c;++dt){var ht=encode_cell({r:lt,c:dt});if(ct=ut?(it[lt]||[])[dt]:it[ht],!ct||ct.v==null){pt.push("          ");continue}for(var ft=(ct.w||(format_cell(ct),ct.w)||"").slice(0,10);ft.length<10;)ft+=" ";pt.push(ft+(dt===0?" ":""))}at.push(pt.join(""))}return at.join(`
`)}return{to_workbook:nt,to_sheet:rt,from_sheet:st}}();function read_wb_ID(i,o){var _=o||{},j=!!_.WTF;_.WTF=!0;try{var _e=SYLK.to_workbook(i,_);return _.WTF=j,_e}catch(et){if(_.WTF=j,!et.message.match(/SYLK bad record ID/)&&j)throw et;return PRN.to_workbook(i,o)}}var WK_=function(){function i(Ct,Lt,It){if(Ct){prep_blob(Ct,Ct.l||0);for(var Dt=It.Enum||At;Ct.l<Ct.length;){var Zt=Ct.read_shift(2),Qt=Dt[Zt]||Dt[65535],Yt=Ct.read_shift(2),Ft=Ct.l+Yt,Kt=Qt.f&&Qt.f(Ct,Yt,It);if(Ct.l=Ft,Lt(Kt,Qt,Zt))return}}}function o(Ct,Lt){switch(Lt.type){case"base64":return _(s2a(Base64_decode(Ct)),Lt);case"binary":return _(s2a(Ct),Lt);case"buffer":case"array":return _(Ct,Lt)}throw"Unsupported type "+Lt.type}function _(Ct,Lt){if(!Ct)return Ct;var It=Lt||{},Dt=It.dense?[]:{},Zt="Sheet1",Qt="",Yt=0,Ft={},Kt=[],er=[],Nt={s:{r:0,c:0},e:{r:0,c:0}},lr=It.sheetRows||0;if(Ct[2]==0&&(Ct[3]==8||Ct[3]==9)&&Ct.length>=16&&Ct[14]==5&&Ct[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Ct[2]==2)It.Enum=At,i(Ct,function(Bt,tr,ar){switch(ar){case 0:It.vers=Bt,Bt>=4096&&(It.qpro=!0);break;case 6:Nt=Bt;break;case 204:Bt&&(Qt=Bt);break;case 222:Qt=Bt;break;case 15:case 51:It.qpro||(Bt[1].v=Bt[1].v.slice(1));case 13:case 14:case 16:ar==14&&(Bt[2]&112)==112&&(Bt[2]&15)>1&&(Bt[2]&15)<15&&(Bt[1].z=It.dateNF||table_fmt[14],It.cellDates&&(Bt[1].t="d",Bt[1].v=numdate(Bt[1].v))),It.qpro&&Bt[3]>Yt&&(Dt["!ref"]=encode_range(Nt),Ft[Zt]=Dt,Kt.push(Zt),Dt=It.dense?[]:{},Nt={s:{r:0,c:0},e:{r:0,c:0}},Yt=Bt[3],Zt=Qt||"Sheet"+(Yt+1),Qt="");var hr=It.dense?(Dt[Bt[0].r]||[])[Bt[0].c]:Dt[encode_cell(Bt[0])];if(hr){hr.t=Bt[1].t,hr.v=Bt[1].v,Bt[1].z!=null&&(hr.z=Bt[1].z),Bt[1].f!=null&&(hr.f=Bt[1].f);break}It.dense?(Dt[Bt[0].r]||(Dt[Bt[0].r]=[]),Dt[Bt[0].r][Bt[0].c]=Bt[1]):Dt[encode_cell(Bt[0])]=Bt[1];break}},It);else if(Ct[2]==26||Ct[2]==14)It.Enum=Ot,Ct[2]==14&&(It.qpro=!0,Ct.l=0),i(Ct,function(Bt,tr,ar){switch(ar){case 204:Zt=Bt;break;case 22:Bt[1].v=Bt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Bt[3]>Yt&&(Dt["!ref"]=encode_range(Nt),Ft[Zt]=Dt,Kt.push(Zt),Dt=It.dense?[]:{},Nt={s:{r:0,c:0},e:{r:0,c:0}},Yt=Bt[3],Zt="Sheet"+(Yt+1)),lr>0&&Bt[0].r>=lr)break;It.dense?(Dt[Bt[0].r]||(Dt[Bt[0].r]=[]),Dt[Bt[0].r][Bt[0].c]=Bt[1]):Dt[encode_cell(Bt[0])]=Bt[1],Nt.e.c<Bt[0].c&&(Nt.e.c=Bt[0].c),Nt.e.r<Bt[0].r&&(Nt.e.r=Bt[0].r);break;case 27:Bt[14e3]&&(er[Bt[14e3][0]]=Bt[14e3][1]);break;case 1537:er[Bt[0]]=Bt[1],Bt[0]==Yt&&(Zt=Bt[1]);break}},It);else throw new Error("Unrecognized LOTUS BOF "+Ct[2]);if(Dt["!ref"]=encode_range(Nt),Ft[Qt||Zt]=Dt,Kt.push(Qt||Zt),!er.length)return{SheetNames:Kt,Sheets:Ft};for(var Wt={},Ut=[],Jt=0;Jt<er.length;++Jt)Ft[Kt[Jt]]?(Ut.push(er[Jt]||Kt[Jt]),Wt[er[Jt]]=Ft[er[Jt]]||Ft[Kt[Jt]]):(Ut.push(er[Jt]),Wt[er[Jt]]={"!ref":"A1"});return{SheetNames:Ut,Sheets:Wt}}function j(Ct,Lt){var It=Lt||{};if(+It.codepage>=0&&set_cp(+It.codepage),It.type=="string")throw new Error("Cannot write WK1 to JS string");var Dt=buf_array(),Zt=safe_decode_range(Ct["!ref"]),Qt=Array.isArray(Ct),Yt=[];write_biff_rec(Dt,0,et(1030)),write_biff_rec(Dt,6,nt(Zt));for(var Ft=Math.min(Zt.e.r,8191),Kt=Zt.s.r;Kt<=Ft;++Kt)for(var er=encode_row(Kt),Nt=Zt.s.c;Nt<=Zt.e.c;++Nt){Kt===Zt.s.r&&(Yt[Nt]=encode_col(Nt));var lr=Yt[Nt]+er,Wt=Qt?(Ct[Kt]||[])[Nt]:Ct[lr];if(!(!Wt||Wt.t=="z"))if(Wt.t=="n")(Wt.v|0)==Wt.v&&Wt.v>=-32768&&Wt.v<=32767?write_biff_rec(Dt,13,ct(Kt,Nt,Wt.v)):write_biff_rec(Dt,14,lt(Kt,Nt,Wt.v));else{var Ut=format_cell(Wt);write_biff_rec(Dt,15,at(Kt,Nt,Ut.slice(0,239)))}}return write_biff_rec(Dt,1),Dt.end()}function _e(Ct,Lt){var It=Lt||{};if(+It.codepage>=0&&set_cp(+It.codepage),It.type=="string")throw new Error("Cannot write WK3 to JS string");var Dt=buf_array();write_biff_rec(Dt,0,tt(Ct));for(var Zt=0,Qt=0;Zt<Ct.SheetNames.length;++Zt)(Ct.Sheets[Ct.SheetNames[Zt]]||{})["!ref"]&&write_biff_rec(Dt,27,vt(Ct.SheetNames[Zt],Qt++));var Yt=0;for(Zt=0;Zt<Ct.SheetNames.length;++Zt){var Ft=Ct.Sheets[Ct.SheetNames[Zt]];if(!(!Ft||!Ft["!ref"])){for(var Kt=safe_decode_range(Ft["!ref"]),er=Array.isArray(Ft),Nt=[],lr=Math.min(Kt.e.r,8191),Wt=Kt.s.r;Wt<=lr;++Wt)for(var Ut=encode_row(Wt),Jt=Kt.s.c;Jt<=Kt.e.c;++Jt){Wt===Kt.s.r&&(Nt[Jt]=encode_col(Jt));var Bt=Nt[Jt]+Ut,tr=er?(Ft[Wt]||[])[Jt]:Ft[Bt];if(!(!tr||tr.t=="z"))if(tr.t=="n")write_biff_rec(Dt,23,wt(Wt,Jt,Yt,tr.v));else{var ar=format_cell(tr);write_biff_rec(Dt,22,yt(Wt,Jt,Yt,ar.slice(0,239)))}}++Yt}}return write_biff_rec(Dt,1),Dt.end()}function et(Ct){var Lt=new_buf(2);return Lt.write_shift(2,Ct),Lt}function tt(Ct){var Lt=new_buf(26);Lt.write_shift(2,4096),Lt.write_shift(2,4),Lt.write_shift(4,0);for(var It=0,Dt=0,Zt=0,Qt=0;Qt<Ct.SheetNames.length;++Qt){var Yt=Ct.SheetNames[Qt],Ft=Ct.Sheets[Yt];if(!(!Ft||!Ft["!ref"])){++Zt;var Kt=decode_range(Ft["!ref"]);It<Kt.e.r&&(It=Kt.e.r),Dt<Kt.e.c&&(Dt=Kt.e.c)}}return It>8191&&(It=8191),Lt.write_shift(2,It),Lt.write_shift(1,Zt),Lt.write_shift(1,Dt),Lt.write_shift(2,0),Lt.write_shift(2,0),Lt.write_shift(1,1),Lt.write_shift(1,2),Lt.write_shift(4,0),Lt.write_shift(4,0),Lt}function rt(Ct,Lt,It){var Dt={s:{c:0,r:0},e:{c:0,r:0}};return Lt==8&&It.qpro?(Dt.s.c=Ct.read_shift(1),Ct.l++,Dt.s.r=Ct.read_shift(2),Dt.e.c=Ct.read_shift(1),Ct.l++,Dt.e.r=Ct.read_shift(2),Dt):(Dt.s.c=Ct.read_shift(2),Dt.s.r=Ct.read_shift(2),Lt==12&&It.qpro&&(Ct.l+=2),Dt.e.c=Ct.read_shift(2),Dt.e.r=Ct.read_shift(2),Lt==12&&It.qpro&&(Ct.l+=2),Dt.s.c==65535&&(Dt.s.c=Dt.e.c=Dt.s.r=Dt.e.r=0),Dt)}function nt(Ct){var Lt=new_buf(8);return Lt.write_shift(2,Ct.s.c),Lt.write_shift(2,Ct.s.r),Lt.write_shift(2,Ct.e.c),Lt.write_shift(2,Ct.e.r),Lt}function st(Ct,Lt,It){var Dt=[{c:0,r:0},{t:"n",v:0},0,0];return It.qpro&&It.vers!=20768?(Dt[0].c=Ct.read_shift(1),Dt[3]=Ct.read_shift(1),Dt[0].r=Ct.read_shift(2),Ct.l+=2):(Dt[2]=Ct.read_shift(1),Dt[0].c=Ct.read_shift(2),Dt[0].r=Ct.read_shift(2)),Dt}function it(Ct,Lt,It){var Dt=Ct.l+Lt,Zt=st(Ct,Lt,It);if(Zt[1].t="s",It.vers==20768){Ct.l++;var Qt=Ct.read_shift(1);return Zt[1].v=Ct.read_shift(Qt,"utf8"),Zt}return It.qpro&&Ct.l++,Zt[1].v=Ct.read_shift(Dt-Ct.l,"cstr"),Zt}function at(Ct,Lt,It){var Dt=new_buf(7+It.length);Dt.write_shift(1,255),Dt.write_shift(2,Lt),Dt.write_shift(2,Ct),Dt.write_shift(1,39);for(var Zt=0;Zt<Dt.length;++Zt){var Qt=It.charCodeAt(Zt);Dt.write_shift(1,Qt>=128?95:Qt)}return Dt.write_shift(1,0),Dt}function ot(Ct,Lt,It){var Dt=st(Ct,Lt,It);return Dt[1].v=Ct.read_shift(2,"i"),Dt}function ct(Ct,Lt,It){var Dt=new_buf(7);return Dt.write_shift(1,255),Dt.write_shift(2,Lt),Dt.write_shift(2,Ct),Dt.write_shift(2,It,"i"),Dt}function ut(Ct,Lt,It){var Dt=st(Ct,Lt,It);return Dt[1].v=Ct.read_shift(8,"f"),Dt}function lt(Ct,Lt,It){var Dt=new_buf(13);return Dt.write_shift(1,255),Dt.write_shift(2,Lt),Dt.write_shift(2,Ct),Dt.write_shift(8,It,"f"),Dt}function pt(Ct,Lt,It){var Dt=Ct.l+Lt,Zt=st(Ct,Lt,It);if(Zt[1].v=Ct.read_shift(8,"f"),It.qpro)Ct.l=Dt;else{var Qt=Ct.read_shift(2);mt(Ct.slice(Ct.l,Ct.l+Qt),Zt),Ct.l+=Qt}return Zt}function dt(Ct,Lt,It){var Dt=Lt&32768;return Lt&=-32769,Lt=(Dt?Ct:0)+(Lt>=8192?Lt-16384:Lt),(Dt?"":"$")+(It?encode_col(Lt):encode_row(Lt))}var ht={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},ft=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function mt(Ct,Lt){prep_blob(Ct,0);for(var It=[],Dt=0,Zt="",Qt="",Yt="",Ft="";Ct.l<Ct.length;){var Kt=Ct[Ct.l++];switch(Kt){case 0:It.push(Ct.read_shift(8,"f"));break;case 1:Qt=dt(Lt[0].c,Ct.read_shift(2),!0),Zt=dt(Lt[0].r,Ct.read_shift(2),!1),It.push(Qt+Zt);break;case 2:{var er=dt(Lt[0].c,Ct.read_shift(2),!0),Nt=dt(Lt[0].r,Ct.read_shift(2),!1);Qt=dt(Lt[0].c,Ct.read_shift(2),!0),Zt=dt(Lt[0].r,Ct.read_shift(2),!1),It.push(er+Nt+":"+Qt+Zt)}break;case 3:if(Ct.l<Ct.length){console.error("WK1 premature formula end");return}break;case 4:It.push("("+It.pop()+")");break;case 5:It.push(Ct.read_shift(2));break;case 6:{for(var lr="";Kt=Ct[Ct.l++];)lr+=String.fromCharCode(Kt);It.push('"'+lr.replace(/"/g,'""')+'"')}break;case 8:It.push("-"+It.pop());break;case 23:It.push("+"+It.pop());break;case 22:It.push("NOT("+It.pop()+")");break;case 20:case 21:Ft=It.pop(),Yt=It.pop(),It.push(["AND","OR"][Kt-20]+"("+Yt+","+Ft+")");break;default:if(Kt<32&&ft[Kt])Ft=It.pop(),Yt=It.pop(),It.push(Yt+ft[Kt]+Ft);else if(ht[Kt]){if(Dt=ht[Kt][1],Dt==69&&(Dt=Ct[Ct.l++]),Dt>It.length){console.error("WK1 bad formula parse 0x"+Kt.toString(16)+":|"+It.join("|")+"|");return}var Wt=It.slice(-Dt);It.length-=Dt,It.push(ht[Kt][0]+"("+Wt.join(",")+")")}else return Kt<=7?console.error("WK1 invalid opcode "+Kt.toString(16)):Kt<=24?console.error("WK1 unsupported op "+Kt.toString(16)):Kt<=30?console.error("WK1 invalid opcode "+Kt.toString(16)):Kt<=115?console.error("WK1 unsupported function opcode "+Kt.toString(16)):console.error("WK1 unrecognized opcode "+Kt.toString(16))}}It.length==1?Lt[1].f=""+It[0]:console.error("WK1 bad formula parse |"+It.join("|")+"|")}function xt(Ct){var Lt=[{c:0,r:0},{t:"n",v:0},0];return Lt[0].r=Ct.read_shift(2),Lt[3]=Ct[Ct.l++],Lt[0].c=Ct[Ct.l++],Lt}function gt(Ct,Lt){var It=xt(Ct);return It[1].t="s",It[1].v=Ct.read_shift(Lt-4,"cstr"),It}function yt(Ct,Lt,It,Dt){var Zt=new_buf(6+Dt.length);Zt.write_shift(2,Ct),Zt.write_shift(1,It),Zt.write_shift(1,Lt),Zt.write_shift(1,39);for(var Qt=0;Qt<Dt.length;++Qt){var Yt=Dt.charCodeAt(Qt);Zt.write_shift(1,Yt>=128?95:Yt)}return Zt.write_shift(1,0),Zt}function _t(Ct,Lt){var It=xt(Ct);It[1].v=Ct.read_shift(2);var Dt=It[1].v>>1;if(It[1].v&1)switch(Dt&7){case 0:Dt=(Dt>>3)*5e3;break;case 1:Dt=(Dt>>3)*500;break;case 2:Dt=(Dt>>3)/20;break;case 3:Dt=(Dt>>3)/200;break;case 4:Dt=(Dt>>3)/2e3;break;case 5:Dt=(Dt>>3)/2e4;break;case 6:Dt=(Dt>>3)/16;break;case 7:Dt=(Dt>>3)/64;break}return It[1].v=Dt,It}function Et(Ct,Lt){var It=xt(Ct),Dt=Ct.read_shift(4),Zt=Ct.read_shift(4),Qt=Ct.read_shift(2);if(Qt==65535)return Dt===0&&Zt===3221225472?(It[1].t="e",It[1].v=15):Dt===0&&Zt===3489660928?(It[1].t="e",It[1].v=42):It[1].v=0,It;var Yt=Qt&32768;return Qt=(Qt&32767)-16446,It[1].v=(1-Yt*2)*(Zt*Math.pow(2,Qt+32)+Dt*Math.pow(2,Qt)),It}function wt(Ct,Lt,It,Dt){var Zt=new_buf(14);if(Zt.write_shift(2,Ct),Zt.write_shift(1,It),Zt.write_shift(1,Lt),Dt==0)return Zt.write_shift(4,0),Zt.write_shift(4,0),Zt.write_shift(2,65535),Zt;var Qt=0,Yt=0,Ft=0,Kt=0;return Dt<0&&(Qt=1,Dt=-Dt),Yt=Math.log2(Dt)|0,Dt/=Math.pow(2,Yt-31),Kt=Dt>>>0,Kt&2147483648||(Dt/=2,++Yt,Kt=Dt>>>0),Dt-=Kt,Kt|=2147483648,Kt>>>=0,Dt*=Math.pow(2,32),Ft=Dt>>>0,Zt.write_shift(4,Ft),Zt.write_shift(4,Kt),Yt+=16383+(Qt?32768:0),Zt.write_shift(2,Yt),Zt}function $t(Ct,Lt){var It=Et(Ct);return Ct.l+=Lt-14,It}function jt(Ct,Lt){var It=xt(Ct),Dt=Ct.read_shift(4);return It[1].v=Dt>>6,It}function Tt(Ct,Lt){var It=xt(Ct),Dt=Ct.read_shift(8,"f");return It[1].v=Dt,It}function kt(Ct,Lt){var It=Tt(Ct);return Ct.l+=Lt-10,It}function Pt(Ct,Lt){return Ct[Ct.l+Lt-1]==0?Ct.read_shift(Lt,"cstr"):""}function St(Ct,Lt){var It=Ct[Ct.l++];It>Lt-1&&(It=Lt-1);for(var Dt="";Dt.length<It;)Dt+=String.fromCharCode(Ct[Ct.l++]);return Dt}function Rt(Ct,Lt,It){if(!(!It.qpro||Lt<21)){var Dt=Ct.read_shift(1);Ct.l+=17,Ct.l+=1,Ct.l+=2;var Zt=Ct.read_shift(Lt-21,"cstr");return[Dt,Zt]}}function bt(Ct,Lt){for(var It={},Dt=Ct.l+Lt;Ct.l<Dt;){var Zt=Ct.read_shift(2);if(Zt==14e3){for(It[Zt]=[0,""],It[Zt][0]=Ct.read_shift(2);Ct[Ct.l];)It[Zt][1]+=String.fromCharCode(Ct[Ct.l]),Ct.l++;Ct.l++}}return It}function vt(Ct,Lt){var It=new_buf(5+Ct.length);It.write_shift(2,14e3),It.write_shift(2,Lt);for(var Dt=0;Dt<Ct.length;++Dt){var Zt=Ct.charCodeAt(Dt);It[It.l++]=Zt>127?95:Zt}return It[It.l++]=0,It}var At={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:rt},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:ot},14:{n:"NUMBER",f:ut},15:{n:"LABEL",f:it},16:{n:"FORMULA",f:pt},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:it},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Pt},222:{n:"SHEETNAMELP",f:St},65535:{n:""}},Ot={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:gt},23:{n:"NUMBER17",f:Et},24:{n:"NUMBER18",f:_t},25:{n:"FORMULA19",f:$t},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:bt},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:jt},38:{n:"??"},39:{n:"NUMBER27",f:Tt},40:{n:"FORMULA28",f:kt},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Pt},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Rt},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:j,book_to_wk3:_e,to_workbook:o}}();function parse_rpr(i){var o={},_=i.match(tagregex),j=0,_e=!1;if(_)for(;j!=_.length;++j){var et=parsexmltag(_[j]);switch(et[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!et.val)break;case"<shadow>":case"<shadow/>":o.shadow=1;break;case"</shadow>":break;case"<charset":if(et.val=="1")break;o.cp=CS2CP[parseInt(et.val,10)];break;case"<outline":if(!et.val)break;case"<outline>":case"<outline/>":o.outline=1;break;case"</outline>":break;case"<rFont":o.name=et.val;break;case"<sz":o.sz=et.val;break;case"<strike":if(!et.val)break;case"<strike>":case"<strike/>":o.strike=1;break;case"</strike>":break;case"<u":if(!et.val)break;switch(et.val){case"double":o.uval="double";break;case"singleAccounting":o.uval="single-accounting";break;case"doubleAccounting":o.uval="double-accounting";break}case"<u>":case"<u/>":o.u=1;break;case"</u>":break;case"<b":if(et.val=="0")break;case"<b>":case"<b/>":o.b=1;break;case"</b>":break;case"<i":if(et.val=="0")break;case"<i>":case"<i/>":o.i=1;break;case"</i>":break;case"<color":et.rgb&&(o.color=et.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":o.family=et.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":o.valign=et.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":_e=!0;break;case"</ext>":_e=!1;break;default:if(et[0].charCodeAt(1)!==47&&!_e)throw new Error("Unrecognized rich format "+et[0])}}return o}var parse_rs=function(){var i=matchtag("t"),o=matchtag("rPr");function _(et){var tt=et.match(i);if(!tt)return{t:"s",v:""};var rt={t:"s",v:unescapexml(tt[1])},nt=et.match(o);return nt&&(rt.s=parse_rpr(nt[1])),rt}var j=/<(?:\w+:)?r>/g,_e=/<\/(?:\w+:)?r>/;return function(tt){return tt.replace(j,"").split(_e).map(_).filter(function(rt){return rt.v})}}(),rs_to_html=function(){var o=/(\r\n|\n)/g;function _(_e,et,tt){var rt=[];_e.u&&rt.push("text-decoration: underline;"),_e.uval&&rt.push("text-underline-style:"+_e.uval+";"),_e.sz&&rt.push("font-size:"+_e.sz+"pt;"),_e.outline&&rt.push("text-effect: outline;"),_e.shadow&&rt.push("text-shadow: auto;"),et.push('<span style="'+rt.join("")+'">'),_e.b&&(et.push("<b>"),tt.push("</b>")),_e.i&&(et.push("<i>"),tt.push("</i>")),_e.strike&&(et.push("<s>"),tt.push("</s>"));var nt=_e.valign||"";return nt=="superscript"||nt=="super"?nt="sup":nt=="subscript"&&(nt="sub"),nt!=""&&(et.push("<"+nt+">"),tt.push("</"+nt+">")),tt.push("</span>"),_e}function j(_e){var et=[[],_e.v,[]];return _e.v?(_e.s&&_(_e.s,et[0],et[2]),et[0].join("")+et[1].replace(o,"<br/>")+et[2].join("")):""}return function(et){return et.map(j).join("")}}(),sitregex=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sirregex=/<(?:\w+:)?r>/,sirphregex=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function parse_si(i,o){var _=o?o.cellHTML:!0,j={};return i?(i.match(/^\s*<(?:\w+:)?t[^>]*>/)?(j.t=unescapexml(utf8read(i.slice(i.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),j.r=utf8read(i),_&&(j.h=escapehtml(j.t))):i.match(sirregex)&&(j.r=utf8read(i),j.t=unescapexml(utf8read((i.replace(sirphregex,"").match(sitregex)||[]).join("").replace(tagregex,""))),_&&(j.h=rs_to_html(parse_rs(j.r)))),j):{t:""}}var sstr0=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,sstr1=/<(?:\w+:)?(?:si|sstItem)>/g,sstr2=/<\/(?:\w+:)?(?:si|sstItem)>/;function parse_sst_xml(i,o){var _=[],j="";if(!i)return _;var _e=i.match(sstr0);if(_e){j=_e[2].replace(sstr1,"").split(sstr2);for(var et=0;et!=j.length;++et){var tt=parse_si(j[et].trim(),o);tt!=null&&(_[_.length]=tt)}_e=parsexmltag(_e[1]),_.Count=_e.count,_.Unique=_e.uniqueCount}return _}var straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(i,o){if(!o.bookSST)return"";var _=[XML_HEADER];_[_.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:i.Count,uniqueCount:i.Unique});for(var j=0;j!=i.length;++j)if(i[j]!=null){var _e=i[j],et="<si>";_e.r?et+=_e.r:(et+="<t",_e.t||(_e.t=""),_e.t.match(straywsregex)&&(et+=' xml:space="preserve"'),et+=">"+escapexml(_e.t)+"</t>"),et+="</si>",_[_.length]=et}return _.length>2&&(_[_.length]="</sst>",_[1]=_[1].replace("/>",">")),_.join("")}function parse_BrtBeginSst(i){return[i.read_shift(4),i.read_shift(4)]}function parse_sst_bin(i,o){var _=[],j=!1;return recordhopper(i,function(et,tt,rt){switch(rt){case 159:_.Count=et[0],_.Unique=et[1];break;case 19:_.push(et);break;case 160:return!0;case 35:j=!0;break;case 36:j=!1;break;default:if(tt.T,!j||o.WTF)throw new Error("Unexpected record 0x"+rt.toString(16))}}),_}function write_BrtBeginSst(i,o){return o||(o=new_buf(8)),o.write_shift(4,i.Count),o.write_shift(4,i.Unique),o}var write_BrtSSTItem=write_RichStr;function write_sst_bin(i){var o=buf_array();write_record(o,159,write_BrtBeginSst(i));for(var _=0;_<i.length;++_)write_record(o,19,write_BrtSSTItem(i[_]));return write_record(o,160),o.end()}function _JS2ANSI(i){for(var o=[],_=i.split(""),j=0;j<_.length;++j)o[j]=_[j].charCodeAt(0);return o}function parse_CRYPTOVersion(i,o){var _={};return _.Major=i.read_shift(2),_.Minor=i.read_shift(2),o>=4&&(i.l+=o-4),_}function parse_DataSpaceVersionInfo(i){var o={};return o.id=i.read_shift(0,"lpp4"),o.R=parse_CRYPTOVersion(i,4),o.U=parse_CRYPTOVersion(i,4),o.W=parse_CRYPTOVersion(i,4),o}function parse_DataSpaceMapEntry(i){for(var o=i.read_shift(4),_=i.l+o-4,j={},_e=i.read_shift(4),et=[];_e-- >0;)et.push({t:i.read_shift(4),v:i.read_shift(0,"lpp4")});if(j.name=i.read_shift(0,"lpp4"),j.comps=et,i.l!=_)throw new Error("Bad DataSpaceMapEntry: "+i.l+" != "+_);return j}function parse_DataSpaceMap(i){var o=[];i.l+=4;for(var _=i.read_shift(4);_-- >0;)o.push(parse_DataSpaceMapEntry(i));return o}function parse_DataSpaceDefinition(i){var o=[];i.l+=4;for(var _=i.read_shift(4);_-- >0;)o.push(i.read_shift(0,"lpp4"));return o}function parse_TransformInfoHeader(i){var o={};return i.read_shift(4),i.l+=4,o.id=i.read_shift(0,"lpp4"),o.name=i.read_shift(0,"lpp4"),o.R=parse_CRYPTOVersion(i,4),o.U=parse_CRYPTOVersion(i,4),o.W=parse_CRYPTOVersion(i,4),o}function parse_Primary(i){var o=parse_TransformInfoHeader(i);if(o.ename=i.read_shift(0,"8lpp4"),o.blksz=i.read_shift(4),o.cmode=i.read_shift(4),i.read_shift(4)!=4)throw new Error("Bad !Primary record");return o}function parse_EncryptionHeader(i,o){var _=i.l+o,j={};j.Flags=i.read_shift(4)&63,i.l+=4,j.AlgID=i.read_shift(4);var _e=!1;switch(j.AlgID){case 26126:case 26127:case 26128:_e=j.Flags==36;break;case 26625:_e=j.Flags==4;break;case 0:_e=j.Flags==16||j.Flags==4||j.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+j.AlgID}if(!_e)throw new Error("Encryption Flags/AlgID mismatch");return j.AlgIDHash=i.read_shift(4),j.KeySize=i.read_shift(4),j.ProviderType=i.read_shift(4),i.l+=8,j.CSPName=i.read_shift(_-i.l>>1,"utf16le"),i.l=_,j}function parse_EncryptionVerifier(i,o){var _={},j=i.l+o;return i.l+=4,_.Salt=i.slice(i.l,i.l+16),i.l+=16,_.Verifier=i.slice(i.l,i.l+16),i.l+=16,i.read_shift(4),_.VerifierHash=i.slice(i.l,j),i.l=j,_}function parse_EncryptionInfo(i){var o=parse_CRYPTOVersion(i);switch(o.Minor){case 2:return[o.Minor,parse_EncInfoStd(i)];case 3:return[o.Minor,parse_EncInfoExt()];case 4:return[o.Minor,parse_EncInfoAgl(i)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+o.Minor)}function parse_EncInfoStd(i){var o=i.read_shift(4);if((o&63)!=36)throw new Error("EncryptionInfo mismatch");var _=i.read_shift(4),j=parse_EncryptionHeader(i,_),_e=parse_EncryptionVerifier(i,i.length-i.l);return{t:"Std",h:j,v:_e}}function parse_EncInfoExt(){throw new Error("File is password-protected: ECMA-376 Extensible")}function parse_EncInfoAgl(i){var o=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];i.l+=4;var _=i.read_shift(i.length-i.l,"utf8"),j={};return _.replace(tagregex,function(et){var tt=parsexmltag(et);switch(strip_ns(tt[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":o.forEach(function(rt){j[rt]=tt[rt]});break;case"<dataIntegrity":j.encryptedHmacKey=tt.encryptedHmacKey,j.encryptedHmacValue=tt.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":j.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":j.uri=tt.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":j.encs.push(tt);break;default:throw tt[0]}}),j}function parse_RC4CryptoHeader(i,o){var _={},j=_.EncryptionVersionInfo=parse_CRYPTOVersion(i,4);if(o-=4,j.Minor!=2)throw new Error("unrecognized minor version code: "+j.Minor);if(j.Major>4||j.Major<2)throw new Error("unrecognized major version code: "+j.Major);_.Flags=i.read_shift(4),o-=4;var _e=i.read_shift(4);return o-=4,_.EncryptionHeader=parse_EncryptionHeader(i,_e),o-=_e,_.EncryptionVerifier=parse_EncryptionVerifier(i,o),_}function parse_RC4Header(i){var o={},_=o.EncryptionVersionInfo=parse_CRYPTOVersion(i,4);if(_.Major!=1||_.Minor!=1)throw"unrecognized version code "+_.Major+" : "+_.Minor;return o.Salt=i.read_shift(16),o.EncryptedVerifier=i.read_shift(16),o.EncryptedVerifierHash=i.read_shift(16),o}function crypto_CreatePasswordVerifier_Method1(i){var o=0,_,j=_JS2ANSI(i),_e=j.length+1,et,tt,rt,nt,st;for(_=new_raw_buf(_e),_[0]=j.length,et=1;et!=_e;++et)_[et]=j[et-1];for(et=_e-1;et>=0;--et)tt=_[et],rt=o&16384?1:0,nt=o<<1&32767,st=rt|nt,o=st^tt;return o^52811}var crypto_CreateXorArray_Method1=function(){var i=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],o=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],_=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],j=function(tt){return(tt/2|tt*128)&255},_e=function(tt,rt){return j(tt^rt)},et=function(tt){for(var rt=o[tt.length-1],nt=104,st=tt.length-1;st>=0;--st)for(var it=tt[st],at=0;at!=7;++at)it&64&&(rt^=_[nt]),it*=2,--nt;return rt};return function(tt){for(var rt=_JS2ANSI(tt),nt=et(rt),st=rt.length,it=new_raw_buf(16),at=0;at!=16;++at)it[at]=0;var ot,ct,ut;for((st&1)===1&&(ot=nt>>8,it[st]=_e(i[0],ot),--st,ot=nt&255,ct=rt[rt.length-1],it[st]=_e(ct,ot));st>0;)--st,ot=nt>>8,it[st]=_e(rt[st],ot),--st,ot=nt&255,it[st]=_e(rt[st],ot);for(st=15,ut=15-rt.length;ut>0;)ot=nt>>8,it[st]=_e(i[ut],ot),--st,--ut,ot=nt&255,it[st]=_e(rt[st],ot),--st,--ut;return it}}(),crypto_DecryptData_Method1=function(i,o,_,j,_e){_e||(_e=o),j||(j=crypto_CreateXorArray_Method1(i));var et,tt;for(et=0;et!=o.length;++et)tt=o[et],tt^=j[_],tt=(tt>>5|tt<<3)&255,_e[et]=tt,++_;return[_e,_,j]},crypto_MakeXorDecryptor=function(i){var o=0,_=crypto_CreateXorArray_Method1(i);return function(j){var _e=crypto_DecryptData_Method1("",j,o,_);return o=_e[1],_e[0]}};function parse_XORObfuscation(i,o,_,j){var _e={key:parseuint16(i),verificationBytes:parseuint16(i)};return _.password&&(_e.verifier=crypto_CreatePasswordVerifier_Method1(_.password)),j.valid=_e.verificationBytes===_e.verifier,j.valid&&(j.insitu=crypto_MakeXorDecryptor(_.password)),_e}function parse_FilePassHeader(i,o,_){var j=_||{};return j.Info=i.read_shift(2),i.l-=2,j.Info===1?j.Data=parse_RC4Header(i):j.Data=parse_RC4CryptoHeader(i,o),j}function parse_FilePass(i,o,_){var j={Type:_.biff>=8?i.read_shift(2):0};return j.Type?parse_FilePassHeader(i,o-2,j):parse_XORObfuscation(i,_.biff>=8?o:o-2,_,j),j}var RTF=function(){function i(_e,et){switch(et.type){case"base64":return o(Base64_decode(_e),et);case"binary":return o(_e,et);case"buffer":return o(has_buf&&Buffer.isBuffer(_e)?_e.toString("binary"):a2s(_e),et);case"array":return o(cc2str(_e),et)}throw new Error("Unrecognized type "+et.type)}function o(_e,et){var tt=et||{},rt=tt.dense?[]:{},nt=_e.match(/\\trowd.*?\\row\b/g);if(!nt.length)throw new Error("RTF missing table");var st={s:{c:0,r:0},e:{c:0,r:nt.length-1}};return nt.forEach(function(it,at){Array.isArray(rt)&&(rt[at]=[]);for(var ot=/\\\w+\b/g,ct=0,ut,lt=-1;ut=ot.exec(it);){switch(ut[0]){case"\\cell":var pt=it.slice(ct,ot.lastIndex-ut[0].length);if(pt[0]==" "&&(pt=pt.slice(1)),++lt,pt.length){var dt={v:pt,t:"s"};Array.isArray(rt)?rt[at][lt]=dt:rt[encode_cell({r:at,c:lt})]=dt}break}ct=ot.lastIndex}lt>st.e.c&&(st.e.c=lt)}),rt["!ref"]=encode_range(st),rt}function _(_e,et){return sheet_to_workbook(i(_e,et),et)}function j(_e){for(var et=["{\\rtf1\\ansi"],tt=safe_decode_range(_e["!ref"]),rt,nt=Array.isArray(_e),st=tt.s.r;st<=tt.e.r;++st){et.push("\\trowd\\trautofit1");for(var it=tt.s.c;it<=tt.e.c;++it)et.push("\\cellx"+(it+1));for(et.push("\\pard\\intbl"),it=tt.s.c;it<=tt.e.c;++it){var at=encode_cell({r:st,c:it});rt=nt?(_e[st]||[])[it]:_e[at],!(!rt||rt.v==null&&(!rt.f||rt.F))&&(et.push(" "+(rt.w||(format_cell(rt),rt.w))),et.push("\\cell"))}et.push("\\pard\\intbl\\row")}return et.join("")+"}"}return{to_workbook:_,to_sheet:i,from_sheet:j}}();function hex2RGB(i){var o=i.slice(i[0]==="#"?1:0).slice(0,6);return[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)]}function rgb2Hex(i){for(var o=0,_=1;o!=3;++o)_=_*256+(i[o]>255?255:i[o]<0?0:i[o]);return _.toString(16).toUpperCase().slice(1)}function rgb2HSL(i){var o=i[0]/255,_=i[1]/255,j=i[2]/255,_e=Math.max(o,_,j),et=Math.min(o,_,j),tt=_e-et;if(tt===0)return[0,0,o];var rt=0,nt=0,st=_e+et;switch(nt=tt/(st>1?2-st:st),_e){case o:rt=((_-j)/tt+6)%6;break;case _:rt=(j-o)/tt+2;break;case j:rt=(o-_)/tt+4;break}return[rt/6,nt,st/2]}function hsl2RGB(i){var o=i[0],_=i[1],j=i[2],_e=_*2*(j<.5?j:1-j),et=j-_e/2,tt=[et,et,et],rt=6*o,nt;if(_!==0)switch(rt|0){case 0:case 6:nt=_e*rt,tt[0]+=_e,tt[1]+=nt;break;case 1:nt=_e*(2-rt),tt[0]+=nt,tt[1]+=_e;break;case 2:nt=_e*(rt-2),tt[1]+=_e,tt[2]+=nt;break;case 3:nt=_e*(4-rt),tt[1]+=nt,tt[2]+=_e;break;case 4:nt=_e*(rt-4),tt[2]+=_e,tt[0]+=nt;break;case 5:nt=_e*(6-rt),tt[2]+=nt,tt[0]+=_e;break}for(var st=0;st!=3;++st)tt[st]=Math.round(tt[st]*255);return tt}function rgb_tint(i,o){if(o===0)return i;var _=rgb2HSL(hex2RGB(i));return o<0?_[2]=_[2]*(1+o):_[2]=1-(1-_[2])*(1-o),rgb2Hex(hsl2RGB(_))}var DEF_MDW=6,MAX_MDW=15,MIN_MDW=1,MDW=DEF_MDW;function width2px(i){return Math.floor((i+Math.round(128/MDW)/256)*MDW)}function px2char(i){return Math.floor((i-5)/MDW*100+.5)/100}function char2width(i){return Math.round((i*MDW+5)/MDW*256)/256}function cycle_width(i){return char2width(px2char(width2px(i)))}function find_mdw_colw(i){var o=Math.abs(i-cycle_width(i)),_=MDW;if(o>.005)for(MDW=MIN_MDW;MDW<MAX_MDW;++MDW)Math.abs(i-cycle_width(i))<=o&&(o=Math.abs(i-cycle_width(i)),_=MDW);MDW=_}function process_col(i){i.width?(i.wpx=width2px(i.width),i.wch=px2char(i.wpx),i.MDW=MDW):i.wpx?(i.wch=px2char(i.wpx),i.width=char2width(i.wch),i.MDW=MDW):typeof i.wch=="number"&&(i.width=char2width(i.wch),i.wpx=width2px(i.width),i.MDW=MDW),i.customWidth&&delete i.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(i){return i*96/PPI}function pt2px(i){return i*PPI/96}var XLMLPatternTypeMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function parse_borders(i,o,_,j){o.Borders=[];var _e={},et=!1;(i[0].match(tagregex)||[]).forEach(function(tt){var rt=parsexmltag(tt);switch(strip_ns(rt[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":_e={},rt.diagonalUp&&(_e.diagonalUp=parsexmlbool(rt.diagonalUp)),rt.diagonalDown&&(_e.diagonalDown=parsexmlbool(rt.diagonalDown)),o.Borders.push(_e);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":et=!0;break;case"</ext>":et=!1;break;default:if(j&&j.WTF&&!et)throw new Error("unrecognized "+rt[0]+" in borders")}})}function parse_fills(i,o,_,j){o.Fills=[];var _e={},et=!1;(i[0].match(tagregex)||[]).forEach(function(tt){var rt=parsexmltag(tt);switch(strip_ns(rt[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":_e={},o.Fills.push(_e);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":o.Fills.push(_e),_e={};break;case"<patternFill":case"<patternFill>":rt.patternType&&(_e.patternType=rt.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":_e.bgColor||(_e.bgColor={}),rt.indexed&&(_e.bgColor.indexed=parseInt(rt.indexed,10)),rt.theme&&(_e.bgColor.theme=parseInt(rt.theme,10)),rt.tint&&(_e.bgColor.tint=parseFloat(rt.tint)),rt.rgb&&(_e.bgColor.rgb=rt.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":_e.fgColor||(_e.fgColor={}),rt.theme&&(_e.fgColor.theme=parseInt(rt.theme,10)),rt.tint&&(_e.fgColor.tint=parseFloat(rt.tint)),rt.rgb!=null&&(_e.fgColor.rgb=rt.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":et=!0;break;case"</ext>":et=!1;break;default:if(j&&j.WTF&&!et)throw new Error("unrecognized "+rt[0]+" in fills")}})}function parse_fonts(i,o,_,j){o.Fonts=[];var _e={},et=!1;(i[0].match(tagregex)||[]).forEach(function(tt){var rt=parsexmltag(tt);switch(strip_ns(rt[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":o.Fonts.push(_e),_e={};break;case"<name":rt.val&&(_e.name=utf8read(rt.val));break;case"<name/>":case"</name>":break;case"<b":_e.bold=rt.val?parsexmlbool(rt.val):1;break;case"<b/>":_e.bold=1;break;case"<i":_e.italic=rt.val?parsexmlbool(rt.val):1;break;case"<i/>":_e.italic=1;break;case"<u":switch(rt.val){case"none":_e.underline=0;break;case"single":_e.underline=1;break;case"double":_e.underline=2;break;case"singleAccounting":_e.underline=33;break;case"doubleAccounting":_e.underline=34;break}break;case"<u/>":_e.underline=1;break;case"<strike":_e.strike=rt.val?parsexmlbool(rt.val):1;break;case"<strike/>":_e.strike=1;break;case"<outline":_e.outline=rt.val?parsexmlbool(rt.val):1;break;case"<outline/>":_e.outline=1;break;case"<shadow":_e.shadow=rt.val?parsexmlbool(rt.val):1;break;case"<shadow/>":_e.shadow=1;break;case"<condense":_e.condense=rt.val?parsexmlbool(rt.val):1;break;case"<condense/>":_e.condense=1;break;case"<extend":_e.extend=rt.val?parsexmlbool(rt.val):1;break;case"<extend/>":_e.extend=1;break;case"<sz":rt.val&&(_e.sz=+rt.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":rt.val&&(_e.vertAlign=rt.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":rt.val&&(_e.family=parseInt(rt.val,10));break;case"<family/>":case"</family>":break;case"<scheme":rt.val&&(_e.scheme=rt.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(rt.val=="1")break;rt.codepage=CS2CP[parseInt(rt.val,10)];break;case"<color":if(_e.color||(_e.color={}),rt.auto&&(_e.color.auto=parsexmlbool(rt.auto)),rt.rgb)_e.color.rgb=rt.rgb.slice(-6);else if(rt.indexed){_e.color.index=parseInt(rt.indexed,10);var nt=XLSIcv[_e.color.index];_e.color.index==81&&(nt=XLSIcv[1]),nt||(nt=XLSIcv[1]),_e.color.rgb=nt[0].toString(16)+nt[1].toString(16)+nt[2].toString(16)}else rt.theme&&(_e.color.theme=parseInt(rt.theme,10),rt.tint&&(_e.color.tint=parseFloat(rt.tint)),rt.theme&&_.themeElements&&_.themeElements.clrScheme&&(_e.color.rgb=rgb_tint(_.themeElements.clrScheme[_e.color.theme].rgb,_e.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":et=!0;break;case"</AlternateContent>":et=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":et=!0;break;case"</ext>":et=!1;break;default:if(j&&j.WTF&&!et)throw new Error("unrecognized "+rt[0]+" in fonts")}})}function parse_numFmts(i,o,_){o.NumberFmt=[];for(var j=keys(table_fmt),_e=0;_e<j.length;++_e)o.NumberFmt[j[_e]]=table_fmt[j[_e]];var et=i[0].match(tagregex);if(et)for(_e=0;_e<et.length;++_e){var tt=parsexmltag(et[_e]);switch(strip_ns(tt[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var rt=unescapexml(utf8read(tt.formatCode)),nt=parseInt(tt.numFmtId,10);if(o.NumberFmt[nt]=rt,nt>0){if(nt>392){for(nt=392;nt>60&&o.NumberFmt[nt]!=null;--nt);o.NumberFmt[nt]=rt}SSF_load(rt,nt)}}break;case"</numFmt>":break;default:if(_.WTF)throw new Error("unrecognized "+tt[0]+" in numFmts")}}}function write_numFmts(i){var o=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(_){for(var j=_[0];j<=_[1];++j)i[j]!=null&&(o[o.length]=writextag("numFmt",null,{numFmtId:j,formatCode:escapexml(i[j])}))}),o.length===1?"":(o[o.length]="</numFmts>",o[0]=writextag("numFmts",null,{count:o.length-2}).replace("/>",">"),o.join(""))}var cellXF_uint=["numFmtId","fillId","fontId","borderId","xfId"],cellXF_bool=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function parse_cellXfs(i,o,_){o.CellXf=[];var j,_e=!1;(i[0].match(tagregex)||[]).forEach(function(et){var tt=parsexmltag(et),rt=0;switch(strip_ns(tt[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(j=tt,delete j[0],rt=0;rt<cellXF_uint.length;++rt)j[cellXF_uint[rt]]&&(j[cellXF_uint[rt]]=parseInt(j[cellXF_uint[rt]],10));for(rt=0;rt<cellXF_bool.length;++rt)j[cellXF_bool[rt]]&&(j[cellXF_bool[rt]]=parsexmlbool(j[cellXF_bool[rt]]));if(o.NumberFmt&&j.numFmtId>392){for(rt=392;rt>60;--rt)if(o.NumberFmt[j.numFmtId]==o.NumberFmt[rt]){j.numFmtId=rt;break}}o.CellXf.push(j);break;case"</xf>":break;case"<alignment":case"<alignment/>":var nt={};tt.vertical&&(nt.vertical=tt.vertical),tt.horizontal&&(nt.horizontal=tt.horizontal),tt.textRotation!=null&&(nt.textRotation=tt.textRotation),tt.indent&&(nt.indent=tt.indent),tt.wrapText&&(nt.wrapText=parsexmlbool(tt.wrapText)),j.alignment=nt;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":_e=!0;break;case"</AlternateContent>":_e=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":_e=!0;break;case"</ext>":_e=!1;break;default:if(_&&_.WTF&&!_e)throw new Error("unrecognized "+tt[0]+" in cellXfs")}})}function write_cellXfs(i){var o=[];return o[o.length]=writextag("cellXfs",null),i.forEach(function(_){o[o.length]=writextag("xf",null,_)}),o[o.length]="</cellXfs>",o.length===2?"":(o[0]=writextag("cellXfs",null,{count:o.length-2}).replace("/>",">"),o.join(""))}var parse_sty_xml=function(){var o=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,_=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,j=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,_e=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,et=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(rt,nt,st){var it={};if(!rt)return it;rt=rt.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var at;return(at=rt.match(o))&&parse_numFmts(at,it,st),(at=rt.match(_e))&&parse_fonts(at,it,nt,st),(at=rt.match(j))&&parse_fills(at,it,nt,st),(at=rt.match(et))&&parse_borders(at,it,nt,st),(at=rt.match(_))&&parse_cellXfs(at,it,st),it}}();function write_sty_xml(i,o){var _=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],j;return i.SSF&&(j=write_numFmts(i.SSF))!=null&&(_[_.length]=j),_[_.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',_[_.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',_[_.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',_[_.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(j=write_cellXfs(o.cellXfs))&&(_[_.length]=j),_[_.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',_[_.length]='<dxfs count="0"/>',_[_.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',_.length>2&&(_[_.length]="</styleSheet>",_[1]=_[1].replace("/>",">")),_.join("")}function parse_BrtFmt(i,o){var _=i.read_shift(2),j=parse_XLWideString(i);return[_,j]}function write_BrtFmt(i,o,_){_||(_=new_buf(6+4*o.length)),_.write_shift(2,i),write_XLWideString(o,_);var j=_.length>_.l?_.slice(0,_.l):_;return _.l==null&&(_.l=_.length),j}function parse_BrtFont(i,o,_){var j={};j.sz=i.read_shift(2)/20;var _e=parse_FontFlags(i);_e.fItalic&&(j.italic=1),_e.fCondense&&(j.condense=1),_e.fExtend&&(j.extend=1),_e.fShadow&&(j.shadow=1),_e.fOutline&&(j.outline=1),_e.fStrikeout&&(j.strike=1);var et=i.read_shift(2);switch(et===700&&(j.bold=1),i.read_shift(2)){case 1:j.vertAlign="superscript";break;case 2:j.vertAlign="subscript";break}var tt=i.read_shift(1);tt!=0&&(j.underline=tt);var rt=i.read_shift(1);rt>0&&(j.family=rt);var nt=i.read_shift(1);switch(nt>0&&(j.charset=nt),i.l++,j.color=parse_BrtColor(i),i.read_shift(1)){case 1:j.scheme="major";break;case 2:j.scheme="minor";break}return j.name=parse_XLWideString(i),j}function write_BrtFont(i,o){o||(o=new_buf(25+4*32)),o.write_shift(2,i.sz*20),write_FontFlags(i,o),o.write_shift(2,i.bold?700:400);var _=0;i.vertAlign=="superscript"?_=1:i.vertAlign=="subscript"&&(_=2),o.write_shift(2,_),o.write_shift(1,i.underline||0),o.write_shift(1,i.family||0),o.write_shift(1,i.charset||0),o.write_shift(1,0),write_BrtColor(i.color,o);var j=0;return j=2,o.write_shift(1,j),write_XLWideString(i.name,o),o.length>o.l?o.slice(0,o.l):o}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(i,o){o||(o=new_buf(4*3+8*7+16*1)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var _=rev_XLSBFillPTNames[i.patternType];_==null&&(_=40),o.write_shift(4,_);var j=0;if(_!=40)for(write_BrtColor({auto:1},o),write_BrtColor({auto:1},o);j<12;++j)o.write_shift(4,0);else{for(;j<4;++j)o.write_shift(4,0);for(;j<12;++j)o.write_shift(4,0)}return o.length>o.l?o.slice(0,o.l):o}function parse_BrtXF(i,o){var _=i.l+o,j=i.read_shift(2),_e=i.read_shift(2);return i.l=_,{ixfe:j,numFmtId:_e}}function write_BrtXF(i,o,_){_||(_=new_buf(16)),_.write_shift(2,o||0),_.write_shift(2,i.numFmtId||0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(1,0),_.write_shift(1,0);var j=0;return _.write_shift(1,j),_.write_shift(1,0),_.write_shift(1,0),_.write_shift(1,0),_}function write_Blxf(i,o){return o||(o=new_buf(10)),o.write_shift(1,0),o.write_shift(1,0),o.write_shift(4,0),o.write_shift(4,0),o}var parse_BrtBorder=parsenoop;function write_BrtBorder(i,o){return o||(o=new_buf(51)),o.write_shift(1,0),write_Blxf(null,o),write_Blxf(null,o),write_Blxf(null,o),write_Blxf(null,o),write_Blxf(null,o),o.length>o.l?o.slice(0,o.l):o}function write_BrtStyle(i,o){return o||(o=new_buf(12+4*10)),o.write_shift(4,i.xfId),o.write_shift(2,1),o.write_shift(1,0),o.write_shift(1,0),write_XLNullableWideString(i.name||"",o),o.length>o.l?o.slice(0,o.l):o}function write_BrtBeginTableStyles(i,o,_){var j=new_buf(2052);return j.write_shift(4,i),write_XLNullableWideString(o,j),write_XLNullableWideString(_,j),j.length>j.l?j.slice(0,j.l):j}function parse_sty_bin(i,o,_){var j={};j.NumberFmt=[];for(var _e in table_fmt)j.NumberFmt[_e]=table_fmt[_e];j.CellXf=[],j.Fonts=[];var et=[],tt=!1;return recordhopper(i,function(nt,st,it){switch(it){case 44:j.NumberFmt[nt[0]]=nt[1],SSF_load(nt[1],nt[0]);break;case 43:j.Fonts.push(nt),nt.color.theme!=null&&o&&o.themeElements&&o.themeElements.clrScheme&&(nt.color.rgb=rgb_tint(o.themeElements.clrScheme[nt.color.theme].rgb,nt.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:et[et.length-1]==617&&j.CellXf.push(nt);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:tt=!0;break;case 36:tt=!1;break;case 37:et.push(it),tt=!0;break;case 38:et.pop(),tt=!1;break;default:if(st.T>0)et.push(it);else if(st.T<0)et.pop();else if(!tt||_.WTF&&et[et.length-1]!=37)throw new Error("Unexpected record 0x"+it.toString(16))}}),j}function write_FMTS_bin(i,o){if(o){var _=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(j){for(var _e=j[0];_e<=j[1];++_e)o[_e]!=null&&++_}),_!=0&&(write_record(i,615,write_UInt32LE(_)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(j){for(var _e=j[0];_e<=j[1];++_e)o[_e]!=null&&write_record(i,44,write_BrtFmt(_e,o[_e]))}),write_record(i,616))}}function write_FONTS_bin(i){var o=1;write_record(i,611,write_UInt32LE(o)),write_record(i,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(i,612)}function write_FILLS_bin(i){var o=2;write_record(i,603,write_UInt32LE(o)),write_record(i,45,write_BrtFill({patternType:"none"})),write_record(i,45,write_BrtFill({patternType:"gray125"})),write_record(i,604)}function write_BORDERS_bin(i){var o=1;write_record(i,613,write_UInt32LE(o)),write_record(i,46,write_BrtBorder()),write_record(i,614)}function write_CELLSTYLEXFS_bin(i){var o=1;write_record(i,626,write_UInt32LE(o)),write_record(i,47,write_BrtXF({numFmtId:0},65535)),write_record(i,627)}function write_CELLXFS_bin(i,o){write_record(i,617,write_UInt32LE(o.length)),o.forEach(function(_){write_record(i,47,write_BrtXF(_,0))}),write_record(i,618)}function write_STYLES_bin(i){var o=1;write_record(i,619,write_UInt32LE(o)),write_record(i,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(i,620)}function write_DXFS_bin(i){var o=0;write_record(i,505,write_UInt32LE(o)),write_record(i,506)}function write_TABLESTYLES_bin(i){var o=0;write_record(i,508,write_BrtBeginTableStyles(o,"TableStyleMedium9","PivotStyleMedium4")),write_record(i,509)}function write_sty_bin(i,o){var _=buf_array();return write_record(_,278),write_FMTS_bin(_,i.SSF),write_FONTS_bin(_),write_FILLS_bin(_),write_BORDERS_bin(_),write_CELLSTYLEXFS_bin(_),write_CELLXFS_bin(_,o.cellXfs),write_STYLES_bin(_),write_DXFS_bin(_),write_TABLESTYLES_bin(_),write_record(_,279),_.end()}var XLSXThemeClrScheme=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function parse_clrScheme(i,o,_){o.themeElements.clrScheme=[];var j={};(i[0].match(tagregex)||[]).forEach(function(_e){var et=parsexmltag(_e);switch(et[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":j.rgb=et.val;break;case"<a:sysClr":j.rgb=et.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":et[0].charAt(1)==="/"?(o.themeElements.clrScheme[XLSXThemeClrScheme.indexOf(et[0])]=j,j={}):j.name=et[0].slice(3,et[0].length-1);break;default:if(_&&_.WTF)throw new Error("Unrecognized "+et[0]+" in clrScheme")}})}function parse_fontScheme(){}function parse_fmtScheme(){}var clrsregex=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fntsregex=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fmtsregex=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function parse_themeElements(i,o,_){o.themeElements={};var j;[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach(function(_e){if(!(j=i.match(_e[1])))throw new Error(_e[0]+" not found in themeElements");_e[2](j,o,_)})}var themeltregex=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function parse_theme_xml(i,o){(!i||i.length===0)&&(i=write_theme());var _,j={};if(!(_=i.match(themeltregex)))throw new Error("themeElements not found in theme");return parse_themeElements(_[0],j,o),j.raw=i,j}function write_theme(i,o){if(o&&o.themeXLSX)return o.themeXLSX;if(i&&typeof i.raw=="string")return i.raw;var _=[XML_HEADER];return _[_.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',_[_.length]="<a:themeElements>",_[_.length]='<a:clrScheme name="Office">',_[_.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',_[_.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',_[_.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',_[_.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',_[_.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',_[_.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',_[_.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',_[_.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',_[_.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',_[_.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',_[_.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',_[_.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',_[_.length]="</a:clrScheme>",_[_.length]='<a:fontScheme name="Office">',_[_.length]="<a:majorFont>",_[_.length]='<a:latin typeface="Cambria"/>',_[_.length]='<a:ea typeface=""/>',_[_.length]='<a:cs typeface=""/>',_[_.length]='<a:font script="Jpan" typeface=" "/>',_[_.length]='<a:font script="Hang" typeface=" "/>',_[_.length]='<a:font script="Hans" typeface=""/>',_[_.length]='<a:font script="Hant" typeface=""/>',_[_.length]='<a:font script="Arab" typeface="Times New Roman"/>',_[_.length]='<a:font script="Hebr" typeface="Times New Roman"/>',_[_.length]='<a:font script="Thai" typeface="Tahoma"/>',_[_.length]='<a:font script="Ethi" typeface="Nyala"/>',_[_.length]='<a:font script="Beng" typeface="Vrinda"/>',_[_.length]='<a:font script="Gujr" typeface="Shruti"/>',_[_.length]='<a:font script="Khmr" typeface="MoolBoran"/>',_[_.length]='<a:font script="Knda" typeface="Tunga"/>',_[_.length]='<a:font script="Guru" typeface="Raavi"/>',_[_.length]='<a:font script="Cans" typeface="Euphemia"/>',_[_.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',_[_.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',_[_.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',_[_.length]='<a:font script="Thaa" typeface="MV Boli"/>',_[_.length]='<a:font script="Deva" typeface="Mangal"/>',_[_.length]='<a:font script="Telu" typeface="Gautami"/>',_[_.length]='<a:font script="Taml" typeface="Latha"/>',_[_.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',_[_.length]='<a:font script="Orya" typeface="Kalinga"/>',_[_.length]='<a:font script="Mlym" typeface="Kartika"/>',_[_.length]='<a:font script="Laoo" typeface="DokChampa"/>',_[_.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',_[_.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',_[_.length]='<a:font script="Viet" typeface="Times New Roman"/>',_[_.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',_[_.length]='<a:font script="Geor" typeface="Sylfaen"/>',_[_.length]="</a:majorFont>",_[_.length]="<a:minorFont>",_[_.length]='<a:latin typeface="Calibri"/>',_[_.length]='<a:ea typeface=""/>',_[_.length]='<a:cs typeface=""/>',_[_.length]='<a:font script="Jpan" typeface=" "/>',_[_.length]='<a:font script="Hang" typeface=" "/>',_[_.length]='<a:font script="Hans" typeface=""/>',_[_.length]='<a:font script="Hant" typeface=""/>',_[_.length]='<a:font script="Arab" typeface="Arial"/>',_[_.length]='<a:font script="Hebr" typeface="Arial"/>',_[_.length]='<a:font script="Thai" typeface="Tahoma"/>',_[_.length]='<a:font script="Ethi" typeface="Nyala"/>',_[_.length]='<a:font script="Beng" typeface="Vrinda"/>',_[_.length]='<a:font script="Gujr" typeface="Shruti"/>',_[_.length]='<a:font script="Khmr" typeface="DaunPenh"/>',_[_.length]='<a:font script="Knda" typeface="Tunga"/>',_[_.length]='<a:font script="Guru" typeface="Raavi"/>',_[_.length]='<a:font script="Cans" typeface="Euphemia"/>',_[_.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',_[_.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',_[_.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',_[_.length]='<a:font script="Thaa" typeface="MV Boli"/>',_[_.length]='<a:font script="Deva" typeface="Mangal"/>',_[_.length]='<a:font script="Telu" typeface="Gautami"/>',_[_.length]='<a:font script="Taml" typeface="Latha"/>',_[_.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',_[_.length]='<a:font script="Orya" typeface="Kalinga"/>',_[_.length]='<a:font script="Mlym" typeface="Kartika"/>',_[_.length]='<a:font script="Laoo" typeface="DokChampa"/>',_[_.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',_[_.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',_[_.length]='<a:font script="Viet" typeface="Arial"/>',_[_.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',_[_.length]='<a:font script="Geor" typeface="Sylfaen"/>',_[_.length]="</a:minorFont>",_[_.length]="</a:fontScheme>",_[_.length]='<a:fmtScheme name="Office">',_[_.length]="<a:fillStyleLst>",_[_.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',_[_.length]='<a:gradFill rotWithShape="1">',_[_.length]="<a:gsLst>",_[_.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',_[_.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',_[_.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',_[_.length]="</a:gsLst>",_[_.length]='<a:lin ang="16200000" scaled="1"/>',_[_.length]="</a:gradFill>",_[_.length]='<a:gradFill rotWithShape="1">',_[_.length]="<a:gsLst>",_[_.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',_[_.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',_[_.length]="</a:gsLst>",_[_.length]='<a:lin ang="16200000" scaled="0"/>',_[_.length]="</a:gradFill>",_[_.length]="</a:fillStyleLst>",_[_.length]="<a:lnStyleLst>",_[_.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',_[_.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',_[_.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',_[_.length]="</a:lnStyleLst>",_[_.length]="<a:effectStyleLst>",_[_.length]="<a:effectStyle>",_[_.length]="<a:effectLst>",_[_.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',_[_.length]="</a:effectLst>",_[_.length]="</a:effectStyle>",_[_.length]="<a:effectStyle>",_[_.length]="<a:effectLst>",_[_.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',_[_.length]="</a:effectLst>",_[_.length]="</a:effectStyle>",_[_.length]="<a:effectStyle>",_[_.length]="<a:effectLst>",_[_.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',_[_.length]="</a:effectLst>",_[_.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',_[_.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',_[_.length]="</a:effectStyle>",_[_.length]="</a:effectStyleLst>",_[_.length]="<a:bgFillStyleLst>",_[_.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',_[_.length]='<a:gradFill rotWithShape="1">',_[_.length]="<a:gsLst>",_[_.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',_[_.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',_[_.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',_[_.length]="</a:gsLst>",_[_.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',_[_.length]="</a:gradFill>",_[_.length]='<a:gradFill rotWithShape="1">',_[_.length]="<a:gsLst>",_[_.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',_[_.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',_[_.length]="</a:gsLst>",_[_.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',_[_.length]="</a:gradFill>",_[_.length]="</a:bgFillStyleLst>",_[_.length]="</a:fmtScheme>",_[_.length]="</a:themeElements>",_[_.length]="<a:objectDefaults>",_[_.length]="<a:spDef>",_[_.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',_[_.length]="</a:spDef>",_[_.length]="<a:lnDef>",_[_.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',_[_.length]="</a:lnDef>",_[_.length]="</a:objectDefaults>",_[_.length]="<a:extraClrSchemeLst/>",_[_.length]="</a:theme>",_.join("")}function parse_Theme(i,o,_){var j=i.l+o,_e=i.read_shift(4);if(_e!==124226){if(!_.cellStyles){i.l=j;return}var et=i.slice(i.l);i.l=j;var tt;try{tt=zip_read(et,{type:"array"})}catch{return}var rt=getzipstr(tt,"theme/theme/theme1.xml",!0);if(rt)return parse_theme_xml(rt,_)}}function parse_ColorTheme(i){return i.read_shift(4)}function parse_FullColorExt(i){var o={};switch(o.xclrType=i.read_shift(2),o.nTintShade=i.read_shift(2),o.xclrType){case 0:i.l+=4;break;case 1:o.xclrValue=parse_IcvXF(i,4);break;case 2:o.xclrValue=parse_LongRGBA(i);break;case 3:o.xclrValue=parse_ColorTheme(i);break;case 4:i.l+=4;break}return i.l+=8,o}function parse_IcvXF(i,o){return parsenoop(i,o)}function parse_XFExtGradient(i,o){return parsenoop(i,o)}function parse_ExtProp(i){var o=i.read_shift(2),_=i.read_shift(2)-4,j=[o];switch(o){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:j[1]=parse_FullColorExt(i);break;case 6:j[1]=parse_XFExtGradient(i,_);break;case 14:case 15:j[1]=i.read_shift(_===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+o+" "+_)}return j}function parse_XFExt(i,o){var _=i.l+o;i.l+=2;var j=i.read_shift(2);i.l+=2;for(var _e=i.read_shift(2),et=[];_e-- >0;)et.push(parse_ExtProp(i,_-i.l));return{ixfe:j,ext:et}}function update_xfext(i,o){o.forEach(function(_){switch(_[0]){}})}function parse_BrtMdtinfo(i,o){return{flags:i.read_shift(4),version:i.read_shift(4),name:parse_XLWideString(i)}}function write_BrtMdtinfo(i){var o=new_buf(12+2*i.name.length);return o.write_shift(4,i.flags),o.write_shift(4,i.version),write_XLWideString(i.name,o),o.slice(0,o.l)}function parse_BrtMdb(i){for(var o=[],_=i.read_shift(4);_-- >0;)o.push([i.read_shift(4),i.read_shift(4)]);return o}function write_BrtMdb(i){var o=new_buf(4+8*i.length);o.write_shift(4,i.length);for(var _=0;_<i.length;++_)o.write_shift(4,i[_][0]),o.write_shift(4,i[_][1]);return o}function write_BrtBeginEsfmd(i,o){var _=new_buf(8+2*o.length);return _.write_shift(4,i),write_XLWideString(o,_),_.slice(0,_.l)}function parse_BrtBeginEsmdb(i){return i.l+=4,i.read_shift(4)!=0}function write_BrtBeginEsmdb(i,o){var _=new_buf(8);return _.write_shift(4,i),_.write_shift(4,1),_}function parse_xlmeta_bin(i,o,_){var j={Types:[],Cell:[],Value:[]},_e=_||{},et=[],tt=!1,rt=2;return recordhopper(i,function(nt,st,it){switch(it){case 335:j.Types.push({name:nt.name});break;case 51:nt.forEach(function(at){rt==1?j.Cell.push({type:j.Types[at[0]-1].name,index:at[1]}):rt==0&&j.Value.push({type:j.Types[at[0]-1].name,index:at[1]})});break;case 337:rt=nt?1:0;break;case 338:rt=2;break;case 35:et.push(it),tt=!0;break;case 36:et.pop(),tt=!1;break;default:if(!st.T){if(!tt||_e.WTF&&et[et.length-1]!=35)throw new Error("Unexpected record 0x"+it.toString(16))}}}),j}function write_xlmeta_bin(){var i=buf_array();return write_record(i,332),write_record(i,334,write_UInt32LE(1)),write_record(i,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(i,336),write_record(i,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(i,52),write_record(i,35,write_UInt32LE(514)),write_record(i,4096,write_UInt32LE(0)),write_record(i,4097,writeuint16(1)),write_record(i,36),write_record(i,53),write_record(i,340),write_record(i,337,write_BrtBeginEsmdb(1)),write_record(i,51,write_BrtMdb([[1,0]])),write_record(i,338),write_record(i,333),i.end()}function parse_xlmeta_xml(i,o,_){var j={Types:[],Cell:[],Value:[]};if(!i)return j;var _e=!1,et=2,tt;return i.replace(tagregex,function(rt){var nt=parsexmltag(rt);switch(strip_ns(nt[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":j.Types.push({name:nt.name});break;case"</metadataType>":break;case"<futureMetadata":for(var st=0;st<j.Types.length;++st)j.Types[st].name==nt.name&&(tt=j.Types[st]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":et==1?j.Cell.push({type:j.Types[nt.t-1].name,index:+nt.v}):et==0&&j.Value.push({type:j.Types[nt.t-1].name,index:+nt.v});break;case"</rc>":break;case"<cellMetadata":et=1;break;case"</cellMetadata>":et=2;break;case"<valueMetadata":et=0;break;case"</valueMetadata>":et=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":_e=!0;break;case"</ext>":_e=!1;break;case"<rvb":if(!tt)break;tt.offsets||(tt.offsets=[]),tt.offsets.push(+nt.i);break;default:if(!_e&&_.WTF)throw new Error("unrecognized "+nt[0]+" in metadata")}return rt}),j}function write_xlmeta_xml(){var i=[XML_HEADER];return i.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),i.join("")}function parse_cc_xml(i){var o=[];if(!i)return o;var _=1;return(i.match(tagregex)||[]).forEach(function(j){var _e=parsexmltag(j);switch(_e[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete _e[0],_e.i?_=_e.i:_e.i=_,o.push(_e);break}}),o}function parse_BrtCalcChainItem$(i){var o={};o.i=i.read_shift(4);var _={};_.r=i.read_shift(4),_.c=i.read_shift(4),o.r=encode_cell(_);var j=i.read_shift(1);return j&2&&(o.l="1"),j&8&&(o.a="1"),o}function parse_cc_bin(i,o,_){var j=[];return recordhopper(i,function(et,tt,rt){switch(rt){case 63:j.push(et);break;default:if(!tt.T)throw new Error("Unexpected record 0x"+rt.toString(16))}}),j}function parse_xlink_xml(){}function parse_xlink_bin(i,o,_,j){if(!i)return i;var _e=j||{},et=!1;recordhopper(i,function(rt,nt,st){switch(st){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:et=!0;break;case 36:et=!1;break;default:if(!nt.T){if(!et||_e.WTF)throw new Error("Unexpected record 0x"+st.toString(16))}}},_e)}function parse_drawing(i,o){if(!i)return"??";var _=(i.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return o["!id"][_].Target}var _shapeid=1024;function write_comments_vml(i,o){for(var _=[21600,21600],j=["m0,0l0",_[1],_[0],_[1],_[0],"0xe"].join(","),_e=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:i}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:_.join(","),path:j})];_shapeid<i*1e3;)_shapeid+=1e3;return o.forEach(function(et){var tt=decode_cell(et[0]),rt={color2:"#BEFF82",type:"gradient"};rt.type=="gradient"&&(rt.angle="-180");var nt=rt.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,st=writextag("v:fill",nt,rt),it={on:"t",obscured:"t"};++_shapeid,_e=_e.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(et[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",st,writextag("v:shadow",null,it),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[tt.c+1,0,tt.r+1,0,tt.c+3,20,tt.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(tt.r)),writetag("x:Column",String(tt.c)),et[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),_e.push("</xml>"),_e.join("")}function sheet_insert_comments(i,o,_,j){var _e=Array.isArray(i),et;o.forEach(function(tt){var rt=decode_cell(tt.ref);if(_e?(i[rt.r]||(i[rt.r]=[]),et=i[rt.r][rt.c]):et=i[tt.ref],!et){et={t:"z"},_e?i[rt.r][rt.c]=et:i[tt.ref]=et;var nt=safe_decode_range(i["!ref"]||"BDWGO1000001:A1");nt.s.r>rt.r&&(nt.s.r=rt.r),nt.e.r<rt.r&&(nt.e.r=rt.r),nt.s.c>rt.c&&(nt.s.c=rt.c),nt.e.c<rt.c&&(nt.e.c=rt.c);var st=encode_range(nt);st!==i["!ref"]&&(i["!ref"]=st)}et.c||(et.c=[]);var it={a:tt.author,t:tt.t,r:tt.r,T:_};tt.h&&(it.h=tt.h);for(var at=et.c.length-1;at>=0;--at){if(!_&&et.c[at].T)return;_&&!et.c[at].T&&et.c.splice(at,1)}if(_&&j){for(at=0;at<j.length;++at)if(it.a==j[at].id){it.a=j[at].name||it.a;break}}et.c.push(it)})}function parse_comments_xml(i,o){if(i.match(/<(?:\w+:)?comments *\/>/))return[];var _=[],j=[],_e=i.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);_e&&_e[1]&&_e[1].split(/<\/\w*:?author>/).forEach(function(tt){if(!(tt===""||tt.trim()==="")){var rt=tt.match(/<(?:\w+:)?author[^>]*>(.*)/);rt&&_.push(rt[1])}});var et=i.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return et&&et[1]&&et[1].split(/<\/\w*:?comment>/).forEach(function(tt){if(!(tt===""||tt.trim()==="")){var rt=tt.match(/<(?:\w+:)?comment[^>]*>/);if(rt){var nt=parsexmltag(rt[0]),st={author:nt.authorId&&_[nt.authorId]||"sheetjsghost",ref:nt.ref,guid:nt.guid},it=decode_cell(nt.ref);if(!(o.sheetRows&&o.sheetRows<=it.r)){var at=tt.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),ot=!!at&&!!at[1]&&parse_si(at[1])||{r:"",t:"",h:""};st.r=ot.r,ot.r=="<t></t>"&&(ot.t=ot.h=""),st.t=(ot.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),o.cellHTML&&(st.h=ot.h),j.push(st)}}}}),j}function write_comments_xml(i){var o=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],_=[];return o.push("<authors>"),i.forEach(function(j){j[1].forEach(function(_e){var et=escapexml(_e.a);_.indexOf(et)==-1&&(_.push(et),o.push("<author>"+et+"</author>")),_e.T&&_e.ID&&_.indexOf("tc="+_e.ID)==-1&&(_.push("tc="+_e.ID),o.push("<author>tc="+_e.ID+"</author>"))})}),_.length==0&&(_.push("SheetJ5"),o.push("<author>SheetJ5</author>")),o.push("</authors>"),o.push("<commentList>"),i.forEach(function(j){var _e=0,et=[];if(j[1][0]&&j[1][0].T&&j[1][0].ID?_e=_.indexOf("tc="+j[1][0].ID):j[1].forEach(function(nt){nt.a&&(_e=_.indexOf(escapexml(nt.a))),et.push(nt.t||"")}),o.push('<comment ref="'+j[0]+'" authorId="'+_e+'"><text>'),et.length<=1)o.push(writetag("t",escapexml(et[0]||"")));else{for(var tt=`Comment:
    `+et[0]+`
`,rt=1;rt<et.length;++rt)tt+=`Reply:
    `+et[rt]+`
`;o.push(writetag("t",escapexml(tt)))}o.push("</text></comment>")}),o.push("</commentList>"),o.length>2&&(o[o.length]="</comments>",o[1]=o[1].replace("/>",">")),o.join("")}function parse_tcmnt_xml(i,o){var _=[],j=!1,_e={},et=0;return i.replace(tagregex,function(rt,nt){var st=parsexmltag(rt);switch(strip_ns(st[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":_e={author:st.personId,guid:st.id,ref:st.ref,T:1};break;case"</threadedComment>":_e.t!=null&&_.push(_e);break;case"<text>":case"<text":et=nt+rt.length;break;case"</text>":_e.t=i.slice(et,nt).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":j=!0;break;case"</mentions>":j=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":j=!0;break;case"</ext>":j=!1;break;default:if(!j&&o.WTF)throw new Error("unrecognized "+st[0]+" in threaded comments")}return rt}),_}function write_tcmnt_xml(i,o,_){var j=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return i.forEach(function(_e){var et="";(_e[1]||[]).forEach(function(tt,rt){if(!tt.T){delete tt.ID;return}tt.a&&o.indexOf(tt.a)==-1&&o.push(tt.a);var nt={ref:_e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+_.tcid++).slice(-12)+"}"};rt==0?et=nt.id:nt.parentId=et,tt.ID=nt.id,tt.a&&(nt.personId="{54EE7950-7262-4200-6969-"+("000000000000"+o.indexOf(tt.a)).slice(-12)+"}"),j.push(writextag("threadedComment",writetag("text",tt.t||""),nt))})}),j.push("</ThreadedComments>"),j.join("")}function parse_people_xml(i,o){var _=[],j=!1;return i.replace(tagregex,function(et){var tt=parsexmltag(et);switch(strip_ns(tt[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":_.push({name:tt.displayname,id:tt.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":j=!0;break;case"</ext>":j=!1;break;default:if(!j&&o.WTF)throw new Error("unrecognized "+tt[0]+" in threaded comments")}return et}),_}function write_people_xml(i){var o=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return i.forEach(function(_,j){o.push(writextag("person",null,{displayName:_,id:"{54EE7950-7262-4200-6969-"+("000000000000"+j).slice(-12)+"}",userId:_,providerId:"None"}))}),o.push("</personList>"),o.join("")}function parse_BrtBeginComment(i){var o={};o.iauthor=i.read_shift(4);var _=parse_UncheckedRfX(i);return o.rfx=_.s,o.ref=encode_cell(_.s),i.l+=16,o}function write_BrtBeginComment(i,o){return o==null&&(o=new_buf(36)),o.write_shift(4,i[1].iauthor),write_UncheckedRfX(i[0],o),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(i){return write_XLWideString(i.slice(0,54))}function parse_comments_bin(i,o){var _=[],j=[],_e={},et=!1;return recordhopper(i,function(rt,nt,st){switch(st){case 632:j.push(rt);break;case 635:_e=rt;break;case 637:_e.t=rt.t,_e.h=rt.h,_e.r=rt.r;break;case 636:if(_e.author=j[_e.iauthor],delete _e.iauthor,o.sheetRows&&_e.rfx&&o.sheetRows<=_e.rfx.r)break;_e.t||(_e.t=""),delete _e.rfx,_.push(_e);break;case 3072:break;case 35:et=!0;break;case 36:et=!1;break;case 37:break;case 38:break;default:if(!nt.T){if(!et||o.WTF)throw new Error("Unexpected record 0x"+st.toString(16))}}}),_}function write_comments_bin(i){var o=buf_array(),_=[];return write_record(o,628),write_record(o,630),i.forEach(function(j){j[1].forEach(function(_e){_.indexOf(_e.a)>-1||(_.push(_e.a.slice(0,54)),write_record(o,632,write_BrtCommentAuthor(_e.a)))})}),write_record(o,631),write_record(o,633),i.forEach(function(j){j[1].forEach(function(_e){_e.iauthor=_.indexOf(_e.a);var et={s:decode_cell(j[0]),e:decode_cell(j[0])};write_record(o,635,write_BrtBeginComment([et,_e])),_e.t&&_e.t.length>0&&write_record(o,637,write_BrtCommentText(_e)),write_record(o,636),delete _e.iauthor})}),write_record(o,634),write_record(o,629),o.end()}var CT_VBA="application/vnd.ms-office.vbaProject";function make_vba_xls(i){var o=CFB.utils.cfb_new({root:"R"});return i.FullPaths.forEach(function(_,j){if(!(_.slice(-1)==="/"||!_.match(/_VBA_PROJECT_CUR/))){var _e=_.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");CFB.utils.cfb_add(o,_e,i.FileIndex[j].content)}}),CFB.write(o)}function fill_vba_xls(i,o){o.FullPaths.forEach(function(_,j){if(j!=0){var _e=_.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");_e.slice(-1)!=="/"&&CFB.utils.cfb_add(i,_e,o.FileIndex[j].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"];function parse_ds_bin(){return{"!type":"dialog"}}function parse_ds_xml(){return{"!type":"dialog"}}function parse_ms_bin(){return{"!type":"macro"}}function parse_ms_xml(){return{"!type":"macro"}}var rc_to_a1=function(){var i=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,o={r:0,c:0};function _(j,_e,et,tt){var rt=!1,nt=!1;et.length==0?nt=!0:et.charAt(0)=="["&&(nt=!0,et=et.slice(1,-1)),tt.length==0?rt=!0:tt.charAt(0)=="["&&(rt=!0,tt=tt.slice(1,-1));var st=et.length>0?parseInt(et,10)|0:0,it=tt.length>0?parseInt(tt,10)|0:0;return rt?it+=o.c:--it,nt?st+=o.r:--st,_e+(rt?"":"$")+encode_col(it)+(nt?"":"$")+encode_row(st)}return function(_e,et){return o=et,_e.replace(i,_)}}(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=function(){return function(o,_){return o.replace(crefregex,function(j,_e,et,tt,rt,nt){var st=decode_col(tt)-(et?0:_.c),it=decode_row(nt)-(rt?0:_.r),at=it==0?"":rt?it+1:"["+it+"]",ot=st==0?"":et?st+1:"["+st+"]";return _e+"R"+at+"C"+ot})}}();function shift_formula_str(i,o){return i.replace(crefregex,function(_,j,_e,et,tt,rt){return j+(_e=="$"?_e+et:encode_col(decode_col(et)+o.c))+(tt=="$"?tt+rt:encode_row(decode_row(rt)+o.r))})}function shift_formula_xlsx(i,o,_){var j=decode_range(o),_e=j.s,et=decode_cell(_),tt={r:et.r-_e.r,c:et.c-_e.c};return shift_formula_str(i,tt)}function fuzzyfmla(i){return i.length!=1}function _xlfn(i){return i.replace(/_xlfn\./g,"")}function parseread1(i){i.l+=1}function parse_ColRelU(i,o){var _=i.read_shift(2);return[_&16383,_>>14&1,_>>15&1]}function parse_RgceArea(i,o,_){var j=2;if(_){if(_.biff>=2&&_.biff<=5)return parse_RgceArea_BIFF2(i);_.biff==12&&(j=4)}var _e=i.read_shift(j),et=i.read_shift(j),tt=parse_ColRelU(i),rt=parse_ColRelU(i);return{s:{r:_e,c:tt[0],cRel:tt[1],rRel:tt[2]},e:{r:et,c:rt[0],cRel:rt[1],rRel:rt[2]}}}function parse_RgceArea_BIFF2(i){var o=parse_ColRelU(i),_=parse_ColRelU(i),j=i.read_shift(1),_e=i.read_shift(1);return{s:{r:o[0],c:j,cRel:o[1],rRel:o[2]},e:{r:_[0],c:_e,cRel:_[1],rRel:_[2]}}}function parse_RgceAreaRel(i,o,_){if(_.biff<8)return parse_RgceArea_BIFF2(i);var j=i.read_shift(_.biff==12?4:2),_e=i.read_shift(_.biff==12?4:2),et=parse_ColRelU(i),tt=parse_ColRelU(i);return{s:{r:j,c:et[0],cRel:et[1],rRel:et[2]},e:{r:_e,c:tt[0],cRel:tt[1],rRel:tt[2]}}}function parse_RgceLoc(i,o,_){if(_&&_.biff>=2&&_.biff<=5)return parse_RgceLoc_BIFF2(i);var j=i.read_shift(_&&_.biff==12?4:2),_e=parse_ColRelU(i);return{r:j,c:_e[0],cRel:_e[1],rRel:_e[2]}}function parse_RgceLoc_BIFF2(i){var o=parse_ColRelU(i),_=i.read_shift(1);return{r:o[0],c:_,cRel:o[1],rRel:o[2]}}function parse_RgceElfLoc(i){var o=i.read_shift(2),_=i.read_shift(2);return{r:o,c:_&255,fQuoted:!!(_&16384),cRel:_>>15,rRel:_>>15}}function parse_RgceLocRel(i,o,_){var j=_&&_.biff?_.biff:8;if(j>=2&&j<=5)return parse_RgceLocRel_BIFF2(i);var _e=i.read_shift(j>=12?4:2),et=i.read_shift(2),tt=(et&16384)>>14,rt=(et&32768)>>15;if(et&=16383,rt==1)for(;_e>524287;)_e-=1048576;if(tt==1)for(;et>8191;)et=et-16384;return{r:_e,c:et,cRel:tt,rRel:rt}}function parse_RgceLocRel_BIFF2(i){var o=i.read_shift(2),_=i.read_shift(1),j=(o&32768)>>15,_e=(o&16384)>>14;return o&=16383,j==1&&o>=8192&&(o=o-16384),_e==1&&_>=128&&(_=_-256),{r:o,c:_,cRel:_e,rRel:j}}function parse_PtgArea(i,o,_){var j=(i[i.l++]&96)>>5,_e=parse_RgceArea(i,_.biff>=2&&_.biff<=5?6:8,_);return[j,_e]}function parse_PtgArea3d(i,o,_){var j=(i[i.l++]&96)>>5,_e=i.read_shift(2,"i"),et=8;if(_)switch(_.biff){case 5:i.l+=12,et=6;break;case 12:et=12;break}var tt=parse_RgceArea(i,et,_);return[j,_e,tt]}function parse_PtgAreaErr(i,o,_){var j=(i[i.l++]&96)>>5;return i.l+=_&&_.biff>8?12:_.biff<8?6:8,[j]}function parse_PtgAreaErr3d(i,o,_){var j=(i[i.l++]&96)>>5,_e=i.read_shift(2),et=8;if(_)switch(_.biff){case 5:i.l+=12,et=6;break;case 12:et=12;break}return i.l+=et,[j,_e]}function parse_PtgAreaN(i,o,_){var j=(i[i.l++]&96)>>5,_e=parse_RgceAreaRel(i,o-1,_);return[j,_e]}function parse_PtgArray(i,o,_){var j=(i[i.l++]&96)>>5;return i.l+=_.biff==2?6:_.biff==12?14:7,[j]}function parse_PtgAttrBaxcel(i){var o=i[i.l+1]&1,_=1;return i.l+=4,[o,_]}function parse_PtgAttrChoose(i,o,_){i.l+=2;for(var j=i.read_shift(_&&_.biff==2?1:2),_e=[],et=0;et<=j;++et)_e.push(i.read_shift(_&&_.biff==2?1:2));return _e}function parse_PtgAttrGoto(i,o,_){var j=i[i.l+1]&255?1:0;return i.l+=2,[j,i.read_shift(_&&_.biff==2?1:2)]}function parse_PtgAttrIf(i,o,_){var j=i[i.l+1]&255?1:0;return i.l+=2,[j,i.read_shift(_&&_.biff==2?1:2)]}function parse_PtgAttrIfError(i){var o=i[i.l+1]&255?1:0;return i.l+=2,[o,i.read_shift(2)]}function parse_PtgAttrSemi(i,o,_){var j=i[i.l+1]&255?1:0;return i.l+=_&&_.biff==2?3:4,[j]}function parse_PtgAttrSpaceType(i){var o=i.read_shift(1),_=i.read_shift(1);return[o,_]}function parse_PtgAttrSpace(i){return i.read_shift(2),parse_PtgAttrSpaceType(i)}function parse_PtgAttrSpaceSemi(i){return i.read_shift(2),parse_PtgAttrSpaceType(i)}function parse_PtgRef(i,o,_){var j=(i[i.l]&96)>>5;i.l+=1;var _e=parse_RgceLoc(i,0,_);return[j,_e]}function parse_PtgRefN(i,o,_){var j=(i[i.l]&96)>>5;i.l+=1;var _e=parse_RgceLocRel(i,0,_);return[j,_e]}function parse_PtgRef3d(i,o,_){var j=(i[i.l]&96)>>5;i.l+=1;var _e=i.read_shift(2);_&&_.biff==5&&(i.l+=12);var et=parse_RgceLoc(i,0,_);return[j,_e,et]}function parse_PtgFunc(i,o,_){var j=(i[i.l]&96)>>5;i.l+=1;var _e=i.read_shift(_&&_.biff<=3?1:2);return[FtabArgc[_e],Ftab[_e],j]}function parse_PtgFuncVar(i,o,_){var j=i[i.l++],_e=i.read_shift(1),et=_&&_.biff<=3?[j==88?-1:0,i.read_shift(1)]:parsetab(i);return[_e,(et[0]===0?Ftab:Cetab)[et[1]]]}function parsetab(i){return[i[i.l+1]>>7,i.read_shift(2)&32767]}function parse_PtgAttrSum(i,o,_){i.l+=_&&_.biff==2?3:4}function parse_PtgExp(i,o,_){if(i.l++,_&&_.biff==12)return[i.read_shift(4,"i"),0];var j=i.read_shift(2),_e=i.read_shift(_&&_.biff==2?1:2);return[j,_e]}function parse_PtgErr(i){return i.l++,BErr[i.read_shift(1)]}function parse_PtgInt(i){return i.l++,i.read_shift(2)}function parse_PtgBool(i){return i.l++,i.read_shift(1)!==0}function parse_PtgNum(i){return i.l++,parse_Xnum(i)}function parse_PtgStr(i,o,_){return i.l++,parse_ShortXLUnicodeString(i,o-1,_)}function parse_SerAr(i,o){var _=[i.read_shift(1)];if(o==12)switch(_[0]){case 2:_[0]=4;break;case 4:_[0]=16;break;case 0:_[0]=1;break;case 1:_[0]=2;break}switch(_[0]){case 4:_[1]=parsebool(i,1)?"TRUE":"FALSE",o!=12&&(i.l+=7);break;case 37:case 16:_[1]=BErr[i[i.l]],i.l+=o==12?4:8;break;case 0:i.l+=8;break;case 1:_[1]=parse_Xnum(i);break;case 2:_[1]=parse_XLUnicodeString2(i,0,{biff:o>0&&o<8?2:o});break;default:throw new Error("Bad SerAr: "+_[0])}return _}function parse_PtgExtraMem(i,o,_){for(var j=i.read_shift(_.biff==12?4:2),_e=[],et=0;et!=j;++et)_e.push((_.biff==12?parse_UncheckedRfX:parse_Ref8U)(i));return _e}function parse_PtgExtraArray(i,o,_){var j=0,_e=0;_.biff==12?(j=i.read_shift(4),_e=i.read_shift(4)):(_e=1+i.read_shift(1),j=1+i.read_shift(2)),_.biff>=2&&_.biff<8&&(--j,--_e==0&&(_e=256));for(var et=0,tt=[];et!=j&&(tt[et]=[]);++et)for(var rt=0;rt!=_e;++rt)tt[et][rt]=parse_SerAr(i,_.biff);return tt}function parse_PtgName(i,o,_){var j=i.read_shift(1)>>>5&3,_e=!_||_.biff>=8?4:2,et=i.read_shift(_e);switch(_.biff){case 2:i.l+=5;break;case 3:case 4:i.l+=8;break;case 5:i.l+=12;break}return[j,0,et]}function parse_PtgNameX(i,o,_){if(_.biff==5)return parse_PtgNameX_BIFF5(i);var j=i.read_shift(1)>>>5&3,_e=i.read_shift(2),et=i.read_shift(4);return[j,_e,et]}function parse_PtgNameX_BIFF5(i){var o=i.read_shift(1)>>>5&3,_=i.read_shift(2,"i");i.l+=8;var j=i.read_shift(2);return i.l+=12,[o,_,j]}function parse_PtgMemArea(i,o,_){var j=i.read_shift(1)>>>5&3;i.l+=_&&_.biff==2?3:4;var _e=i.read_shift(_&&_.biff==2?1:2);return[j,_e]}function parse_PtgMemFunc(i,o,_){var j=i.read_shift(1)>>>5&3,_e=i.read_shift(_&&_.biff==2?1:2);return[j,_e]}function parse_PtgRefErr(i,o,_){var j=i.read_shift(1)>>>5&3;return i.l+=4,_.biff<8&&i.l--,_.biff==12&&(i.l+=2),[j]}function parse_PtgRefErr3d(i,o,_){var j=(i[i.l++]&96)>>5,_e=i.read_shift(2),et=4;if(_)switch(_.biff){case 5:et=15;break;case 12:et=6;break}return i.l+=et,[j,_e]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(i,o,_){return i.l+=2,[parse_RgceElfLoc(i)]}function parse_PtgElfNoop(i){return i.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(i){return i.l+=2,[parseuint16(i),i.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(i){i.l+=2;var o=i.read_shift(2),_=i.read_shift(2),j=i.read_shift(4),_e=i.read_shift(2),et=i.read_shift(2),tt=PtgListRT[_>>2&31];return{ixti:o,coltype:_&3,rt:tt,idx:j,c:_e,C:et}}function parse_PtgSxName(i){return i.l+=2,[i.read_shift(4)]}function parse_PtgSheet(i,o,_){return i.l+=5,i.l+=2,i.l+=_.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(i,o,_){return i.l+=_.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(i){var o=i.read_shift(1)>>>5&3,_=i.read_shift(2);return[o,_]}function parse_PtgMemNoMemN(i){var o=i.read_shift(1)>>>5&3,_=i.read_shift(2);return[o,_]}function parse_PtgAttrNoop(i){return i.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(i,o,_,j){if(j.biff<8)return parsenoop(i,o);for(var _e=i.l+o,et=[],tt=0;tt!==_.length;++tt)switch(_[tt][0]){case"PtgArray":_[tt][1]=parse_PtgExtraArray(i,0,j),et.push(_[tt][1]);break;case"PtgMemArea":_[tt][2]=parse_PtgExtraMem(i,_[tt][1],j),et.push(_[tt][2]);break;case"PtgExp":j&&j.biff==12&&(_[tt][1][1]=i.read_shift(4),et.push(_[tt][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+_[tt][0]}return o=_e-i.l,o!==0&&et.push(parsenoop(i,o)),et}function parse_Rgce(i,o,_){for(var j=i.l+o,_e,et,tt=[];j!=i.l;)o=j-i.l,et=i[i.l],_e=PtgTypes[et]||PtgTypes[PtgDupes[et]],(et===24||et===25)&&(_e=(et===24?Ptg18:Ptg19)[i[i.l+1]]),!_e||!_e.f?parsenoop(i,o):tt.push([_e.n,_e.f(i,o,_)]);return tt}function stringify_array(i){for(var o=[],_=0;_<i.length;++_){for(var j=i[_],_e=[],et=0;et<j.length;++et){var tt=j[et];if(tt)switch(tt[0]){case 2:_e.push('"'+tt[1].replace(/"/g,'""')+'"');break;default:_e.push(tt[1])}else _e.push("")}o.push(_e.join(","))}return o.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(i,o){if(!i&&!(o&&o.biff<=5&&o.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(i)?"'"+i+"'":i}function get_ixti_raw(i,o,_){if(!i)return"SH33TJSERR0";if(_.biff>8&&(!i.XTI||!i.XTI[o]))return i.SheetNames[o];if(!i.XTI)return"SH33TJSERR6";var j=i.XTI[o];if(_.biff<8)return o>1e4&&(o-=65536),o<0&&(o=-o),o==0?"":i.XTI[o-1];if(!j)return"SH33TJSERR1";var _e="";if(_.biff>8)switch(i[j[0]][0]){case 357:return _e=j[1]==-1?"#REF":i.SheetNames[j[1]],j[1]==j[2]?_e:_e+":"+i.SheetNames[j[2]];case 358:return _.SID!=null?i.SheetNames[_.SID]:"SH33TJSSAME"+i[j[0]][0];case 355:default:return"SH33TJSSRC"+i[j[0]][0]}switch(i[j[0]][0][0]){case 1025:return _e=j[1]==-1?"#REF":i.SheetNames[j[1]]||"SH33TJSERR3",j[1]==j[2]?_e:_e+":"+i.SheetNames[j[2]];case 14849:return i[j[0]].slice(1).map(function(et){return et.Name}).join(";;");default:return i[j[0]][0][3]?(_e=j[1]==-1?"#REF":i[j[0]][0][3][j[1]]||"SH33TJSERR4",j[1]==j[2]?_e:_e+":"+i[j[0]][0][3][j[2]]):"SH33TJSERR2"}}function get_ixti(i,o,_){var j=get_ixti_raw(i,o,_);return j=="#REF"?j:formula_quote_sheet_name(j,_)}function stringify_formula(i,o,_,j,_e){var et=_e&&_e.biff||8,tt={s:{c:0,r:0}},rt=[],nt,st,it,at=0,ot=0,ct,ut="";if(!i[0]||!i[0][0])return"";for(var lt=-1,pt="",dt=0,ht=i[0].length;dt<ht;++dt){var ft=i[0][dt];switch(ft[0]){case"PtgUminus":rt.push("-"+rt.pop());break;case"PtgUplus":rt.push("+"+rt.pop());break;case"PtgPercent":rt.push(rt.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(nt=rt.pop(),st=rt.pop(),lt>=0){switch(i[0][lt][1][0]){case 0:pt=fill(" ",i[0][lt][1][1]);break;case 1:pt=fill("\r",i[0][lt][1][1]);break;default:if(pt="",_e.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][lt][1][0])}st=st+pt,lt=-1}rt.push(st+PtgBinOp[ft[0]]+nt);break;case"PtgIsect":nt=rt.pop(),st=rt.pop(),rt.push(st+" "+nt);break;case"PtgUnion":nt=rt.pop(),st=rt.pop(),rt.push(st+","+nt);break;case"PtgRange":nt=rt.pop(),st=rt.pop(),rt.push(st+":"+nt);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":it=shift_cell_xls(ft[1][1],tt,_e),rt.push(encode_cell_xls(it,et));break;case"PtgRefN":it=_?shift_cell_xls(ft[1][1],_,_e):ft[1][1],rt.push(encode_cell_xls(it,et));break;case"PtgRef3d":at=ft[1][1],it=shift_cell_xls(ft[1][2],tt,_e),ut=get_ixti(j,at,_e),rt.push(ut+"!"+encode_cell_xls(it,et));break;case"PtgFunc":case"PtgFuncVar":var mt=ft[1][0],xt=ft[1][1];mt||(mt=0),mt&=127;var gt=mt==0?[]:rt.slice(-mt);rt.length-=mt,xt==="User"&&(xt=gt.shift()),rt.push(xt+"("+gt.join(",")+")");break;case"PtgBool":rt.push(ft[1]?"TRUE":"FALSE");break;case"PtgInt":rt.push(ft[1]);break;case"PtgNum":rt.push(String(ft[1]));break;case"PtgStr":rt.push('"'+ft[1].replace(/"/g,'""')+'"');break;case"PtgErr":rt.push(ft[1]);break;case"PtgAreaN":ct=shift_range_xls(ft[1][1],_?{s:_}:tt,_e),rt.push(encode_range_xls(ct,_e));break;case"PtgArea":ct=shift_range_xls(ft[1][1],tt,_e),rt.push(encode_range_xls(ct,_e));break;case"PtgArea3d":at=ft[1][1],ct=ft[1][2],ut=get_ixti(j,at,_e),rt.push(ut+"!"+encode_range_xls(ct,_e));break;case"PtgAttrSum":rt.push("SUM("+rt.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":ot=ft[1][2];var yt=(j.names||[])[ot-1]||(j[0]||[])[ot],_t=yt?yt.Name:"SH33TJSNAME"+String(ot);_t&&_t.slice(0,6)=="_xlfn."&&!_e.xlfn&&(_t=_t.slice(6)),rt.push(_t);break;case"PtgNameX":var Et=ft[1][1];ot=ft[1][2];var wt;if(_e.biff<=5)Et<0&&(Et=-Et),j[Et]&&(wt=j[Et][ot]);else{var $t="";if(((j[Et]||[])[0]||[])[0]==14849||(((j[Et]||[])[0]||[])[0]==1025?j[Et][ot]&&j[Et][ot].itab>0&&($t=j.SheetNames[j[Et][ot].itab-1]+"!"):$t=j.SheetNames[ot-1]+"!"),j[Et]&&j[Et][ot])$t+=j[Et][ot].Name;else if(j[0]&&j[0][ot])$t+=j[0][ot].Name;else{var jt=(get_ixti_raw(j,Et,_e)||"").split(";;");jt[ot-1]?$t=jt[ot-1]:$t+="SH33TJSERRX"}rt.push($t);break}wt||(wt={Name:"SH33TJSERRY"}),rt.push(wt.Name);break;case"PtgParen":var Tt="(",kt=")";if(lt>=0){switch(pt="",i[0][lt][1][0]){case 2:Tt=fill(" ",i[0][lt][1][1])+Tt;break;case 3:Tt=fill("\r",i[0][lt][1][1])+Tt;break;case 4:kt=fill(" ",i[0][lt][1][1])+kt;break;case 5:kt=fill("\r",i[0][lt][1][1])+kt;break;default:if(_e.WTF)throw new Error("Unexpected PtgAttrSpaceType "+i[0][lt][1][0])}lt=-1}rt.push(Tt+rt.pop()+kt);break;case"PtgRefErr":rt.push("#REF!");break;case"PtgRefErr3d":rt.push("#REF!");break;case"PtgExp":it={c:ft[1][1],r:ft[1][0]};var Pt={c:_.c,r:_.r};if(j.sharedf[encode_cell(it)]){var St=j.sharedf[encode_cell(it)];rt.push(stringify_formula(St,tt,Pt,j,_e))}else{var Rt=!1;for(nt=0;nt!=j.arrayf.length;++nt)if(st=j.arrayf[nt],!(it.c<st[0].s.c||it.c>st[0].e.c)&&!(it.r<st[0].s.r||it.r>st[0].e.r)){rt.push(stringify_formula(st[1],tt,Pt,j,_e)),Rt=!0;break}Rt||rt.push(ft[1])}break;case"PtgArray":rt.push("{"+stringify_array(ft[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":lt=dt;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":rt.push("");break;case"PtgAreaErr":rt.push("#REF!");break;case"PtgAreaErr3d":rt.push("#REF!");break;case"PtgList":rt.push("Table"+ft[1].idx+"[#"+ft[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(ft));default:throw new Error("Unrecognized Formula Token: "+String(ft))}var bt=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(_e.biff!=3&&lt>=0&&bt.indexOf(i[0][dt][0])==-1){ft=i[0][lt];var vt=!0;switch(ft[1][0]){case 4:vt=!1;case 0:pt=fill(" ",ft[1][1]);break;case 5:vt=!1;case 1:pt=fill("\r",ft[1][1]);break;default:if(pt="",_e.WTF)throw new Error("Unexpected PtgAttrSpaceType "+ft[1][0])}rt.push((vt?pt:"")+rt.pop()+(vt?"":pt)),lt=-1}}if(rt.length>1&&_e.WTF)throw new Error("bad formula stack");return rt[0]}function parse_ArrayParsedFormula(i,o,_){var j=i.l+o,_e=_.biff==2?1:2,et,tt=i.read_shift(_e);if(tt==65535)return[[],parsenoop(i,o-2)];var rt=parse_Rgce(i,tt,_);return o!==tt+_e&&(et=parse_RgbExtra(i,o-tt-_e,rt,_)),i.l=j,[rt,et]}function parse_XLSCellParsedFormula(i,o,_){var j=i.l+o,_e=_.biff==2?1:2,et,tt=i.read_shift(_e);if(tt==65535)return[[],parsenoop(i,o-2)];var rt=parse_Rgce(i,tt,_);return o!==tt+_e&&(et=parse_RgbExtra(i,o-tt-_e,rt,_)),i.l=j,[rt,et]}function parse_NameParsedFormula(i,o,_,j){var _e=i.l+o,et=parse_Rgce(i,j,_),tt;return _e!==i.l&&(tt=parse_RgbExtra(i,_e-i.l,et,_)),[et,tt]}function parse_SharedParsedFormula(i,o,_){var j=i.l+o,_e,et=i.read_shift(2),tt=parse_Rgce(i,et,_);return et==65535?[[],parsenoop(i,o-2)]:(o!==et+2&&(_e=parse_RgbExtra(i,j-et-2,tt,_)),[tt,_e])}function parse_FormulaValue(i){var o;if(__readUInt16LE(i,i.l+6)!==65535)return[parse_Xnum(i),"n"];switch(i[i.l]){case 0:return i.l+=8,["String","s"];case 1:return o=i[i.l+2]===1,i.l+=8,[o,"b"];case 2:return o=i[i.l+2],i.l+=8,[o,"e"];case 3:return i.l+=8,["","s"]}return[]}function write_FormulaValue(i){if(i==null){var o=new_buf(8);return o.write_shift(1,3),o.write_shift(1,0),o.write_shift(2,0),o.write_shift(2,0),o.write_shift(2,65535),o}else if(typeof i=="number")return write_Xnum(i);return write_Xnum(0)}function parse_Formula(i,o,_){var j=i.l+o,_e=parse_XLSCell(i);_.biff==2&&++i.l;var et=parse_FormulaValue(i),tt=i.read_shift(1);_.biff!=2&&(i.read_shift(1),_.biff>=5&&i.read_shift(4));var rt=parse_XLSCellParsedFormula(i,j-i.l,_);return{cell:_e,val:et[0],formula:rt,shared:tt>>3&1,tt:et[1]}}function write_Formula(i,o,_,j,_e){var et=write_XLSCell(o,_,_e),tt=write_FormulaValue(i.v),rt=new_buf(6),nt=33;rt.write_shift(2,nt),rt.write_shift(4,0);for(var st=new_buf(i.bf.length),it=0;it<i.bf.length;++it)st[it]=i.bf[it];var at=bconcat([et,tt,rt,st]);return at}function parse_XLSBParsedFormula(i,o,_){var j=i.read_shift(4),_e=parse_Rgce(i,j,_),et=i.read_shift(4),tt=et>0?parse_RgbExtra(i,et,_e,_):null;return[_e,tt]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ods_to_csf_formula(i){return i.slice(0,3)=="of:"&&(i=i.slice(3)),i.charCodeAt(0)==61&&(i=i.slice(1),i.charCodeAt(0)==61&&(i=i.slice(1))),i=i.replace(/COM\.MICROSOFT\./g,""),i=i.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(o,_){return _.replace(/\./g,"")}),i=i.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),i.replace(/[;~]/g,",").replace(/\|/g,";")}function csf_to_ods_formula(i){var o="of:="+i.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return o.replace(/;/g,"|").replace(/,/g,";")}function ods_to_csf_3D(i){var o=i.split(":"),_=o[0].split(".")[0];return[_,o[0].split(".")[1]+(o.length>1?":"+(o[1].split(".")[1]||o[1].split(".")[0]):"")]}function csf_to_ods_3D(i){return i.replace(/\./,"!")}var strs={},_ssfopts={},browser_has_Map=typeof Map<"u";function get_sst_id(i,o,_){var j=0,_e=i.length;if(_){if(browser_has_Map?_.has(o):Object.prototype.hasOwnProperty.call(_,o)){for(var et=browser_has_Map?_.get(o):_[o];j<et.length;++j)if(i[et[j]].t===o)return i.Count++,et[j]}}else for(;j<_e;++j)if(i[j].t===o)return i.Count++,j;return i[_e]={t:o},i.Count++,i.Unique++,_&&(browser_has_Map?(_.has(o)||_.set(o,[]),_.get(o).push(_e)):(Object.prototype.hasOwnProperty.call(_,o)||(_[o]=[]),_[o].push(_e))),_e}function col_obj_w(i,o){var _={min:i+1,max:i+1},j=-1;return o.MDW&&(MDW=o.MDW),o.width!=null?_.customWidth=1:o.wpx!=null?j=px2char(o.wpx):o.wch!=null&&(j=o.wch),j>-1?(_.width=char2width(j),_.customWidth=1):o.width!=null&&(_.width=o.width),o.hidden&&(_.hidden=!0),o.level!=null&&(_.outlineLevel=_.level=o.level),_}function default_margins(i,o){if(i){var _=[.7,.7,.75,.75,.3,.3];o=="xlml"&&(_=[1,1,1,1,.5,.5]),i.left==null&&(i.left=_[0]),i.right==null&&(i.right=_[1]),i.top==null&&(i.top=_[2]),i.bottom==null&&(i.bottom=_[3]),i.header==null&&(i.header=_[4]),i.footer==null&&(i.footer=_[5])}}function get_cell_style(i,o,_){var j=_.revssf[o.z!=null?o.z:"General"],_e=60,et=i.length;if(j==null&&_.ssf){for(;_e<392;++_e)if(_.ssf[_e]==null){SSF_load(o.z,_e),_.ssf[_e]=o.z,_.revssf[o.z]=j=_e;break}}for(_e=0;_e!=et;++_e)if(i[_e].numFmtId===j)return _e;return i[et]={numFmtId:j,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},et}function safe_format(i,o,_,j,_e,et){try{j.cellNF&&(i.z=table_fmt[o])}catch(rt){if(j.WTF)throw rt}if(!(i.t==="z"&&!j.cellStyles)){if(i.t==="d"&&typeof i.v=="string"&&(i.v=parseDate(i.v)),(!j||j.cellText!==!1)&&i.t!=="z")try{if(table_fmt[o]==null&&SSF_load(SSFImplicit[o]||"General",o),i.t==="e")i.w=i.w||BErr[i.v];else if(o===0)if(i.t==="n")(i.v|0)===i.v?i.w=i.v.toString(10):i.w=SSF_general_num(i.v);else if(i.t==="d"){var tt=datenum(i.v);(tt|0)===tt?i.w=tt.toString(10):i.w=SSF_general_num(tt)}else{if(i.v===void 0)return"";i.w=SSF_general(i.v,_ssfopts)}else i.t==="d"?i.w=SSF_format(o,datenum(i.v),_ssfopts):i.w=SSF_format(o,i.v,_ssfopts)}catch(rt){if(j.WTF)throw rt}if(j.cellStyles&&_!=null)try{i.s=et.Fills[_],i.s.fgColor&&i.s.fgColor.theme&&!i.s.fgColor.rgb&&(i.s.fgColor.rgb=rgb_tint(_e.themeElements.clrScheme[i.s.fgColor.theme].rgb,i.s.fgColor.tint||0),j.WTF&&(i.s.fgColor.raw_rgb=_e.themeElements.clrScheme[i.s.fgColor.theme].rgb)),i.s.bgColor&&i.s.bgColor.theme&&(i.s.bgColor.rgb=rgb_tint(_e.themeElements.clrScheme[i.s.bgColor.theme].rgb,i.s.bgColor.tint||0),j.WTF&&(i.s.bgColor.raw_rgb=_e.themeElements.clrScheme[i.s.bgColor.theme].rgb))}catch(rt){if(j.WTF&&et.Fills)throw rt}}}function check_ws(i,o,_){if(i&&i["!ref"]){var j=safe_decode_range(i["!ref"]);if(j.e.c<j.s.c||j.e.r<j.s.r)throw new Error("Bad range ("+_+"): "+i["!ref"])}}function parse_ws_xml_dim(i,o){var _=safe_decode_range(o);_.s.r<=_.e.r&&_.s.c<=_.e.c&&_.s.r>=0&&_.s.c>=0&&(i["!ref"]=encode_range(_))}var mergecregex=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,sheetdataregex=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hlinkregex=/<(?:\w:)?hyperlink [^>]*>/mg,dimregex=/"(\w*:\w*)"/,colregex=/<(?:\w:)?col\b[^>]*[\/]?>/g,afregex=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,marginregex=/<(?:\w:)?pageMargins[^>]*\/>/g,sheetprregex=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sheetprregex2=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,svsregex=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function parse_ws_xml(i,o,_,j,_e,et,tt){if(!i)return i;j||(j={"!id":{}});var rt=o.dense?[]:{},nt={s:{r:2e6,c:2e6},e:{r:0,c:0}},st="",it="",at=i.match(sheetdataregex);at?(st=i.slice(0,at.index),it=i.slice(at.index+at[0].length)):st=it=i;var ot=st.match(sheetprregex);ot?parse_ws_xml_sheetpr(ot[0],rt,_e,_):(ot=st.match(sheetprregex2))&&parse_ws_xml_sheetpr2(ot[0],ot[1]||"",rt,_e,_);var ct=(st.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(ct>0){var ut=st.slice(ct,ct+50).match(dimregex);ut&&parse_ws_xml_dim(rt,ut[1])}var lt=st.match(svsregex);lt&&lt[1]&&parse_ws_xml_sheetviews(lt[1],_e);var pt=[];if(o.cellStyles){var dt=st.match(colregex);dt&&parse_ws_xml_cols(pt,dt)}at&&parse_ws_xml_data(at[1],rt,o,nt,et,tt);var ht=it.match(afregex);ht&&(rt["!autofilter"]=parse_ws_xml_autofilter(ht[0]));var ft=[],mt=it.match(mergecregex);if(mt)for(ct=0;ct!=mt.length;++ct)ft[ct]=safe_decode_range(mt[ct].slice(mt[ct].indexOf('"')+1));var xt=it.match(hlinkregex);xt&&parse_ws_xml_hlinks(rt,xt,j);var gt=it.match(marginregex);if(gt&&(rt["!margins"]=parse_ws_xml_margins(parsexmltag(gt[0]))),!rt["!ref"]&&nt.e.c>=nt.s.c&&nt.e.r>=nt.s.r&&(rt["!ref"]=encode_range(nt)),o.sheetRows>0&&rt["!ref"]){var yt=safe_decode_range(rt["!ref"]);o.sheetRows<=+yt.e.r&&(yt.e.r=o.sheetRows-1,yt.e.r>nt.e.r&&(yt.e.r=nt.e.r),yt.e.r<yt.s.r&&(yt.s.r=yt.e.r),yt.e.c>nt.e.c&&(yt.e.c=nt.e.c),yt.e.c<yt.s.c&&(yt.s.c=yt.e.c),rt["!fullref"]=rt["!ref"],rt["!ref"]=encode_range(yt))}return pt.length>0&&(rt["!cols"]=pt),ft.length>0&&(rt["!merges"]=ft),rt}function write_ws_xml_merges(i){if(i.length===0)return"";for(var o='<mergeCells count="'+i.length+'">',_=0;_!=i.length;++_)o+='<mergeCell ref="'+encode_range(i[_])+'"/>';return o+"</mergeCells>"}function parse_ws_xml_sheetpr(i,o,_,j){var _e=parsexmltag(i);_.Sheets[j]||(_.Sheets[j]={}),_e.codeName&&(_.Sheets[j].CodeName=unescapexml(utf8read(_e.codeName)))}function parse_ws_xml_sheetpr2(i,o,_,j,_e){parse_ws_xml_sheetpr(i.slice(0,i.indexOf(">")),_,j,_e)}function write_ws_xml_sheetpr(i,o,_,j,_e){var et=!1,tt={},rt=null;if(j.bookType!=="xlsx"&&o.vbaraw){var nt=o.SheetNames[_];try{o.Workbook&&(nt=o.Workbook.Sheets[_].CodeName||nt)}catch{}et=!0,tt.codeName=utf8write(escapexml(nt))}if(i&&i["!outline"]){var st={summaryBelow:1,summaryRight:1};i["!outline"].above&&(st.summaryBelow=0),i["!outline"].left&&(st.summaryRight=0),rt=(rt||"")+writextag("outlinePr",null,st)}!et&&!rt||(_e[_e.length]=writextag("sheetPr",rt,tt))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(i){var o={sheet:1};return sheetprot_deffalse.forEach(function(_){i[_]!=null&&i[_]&&(o[_]="1")}),sheetprot_deftrue.forEach(function(_){i[_]!=null&&!i[_]&&(o[_]="0")}),i.password&&(o.password=crypto_CreatePasswordVerifier_Method1(i.password).toString(16).toUpperCase()),writextag("sheetProtection",null,o)}function parse_ws_xml_hlinks(i,o,_){for(var j=Array.isArray(i),_e=0;_e!=o.length;++_e){var et=parsexmltag(utf8read(o[_e]),!0);if(!et.ref)return;var tt=((_||{})["!id"]||[])[et.id];tt?(et.Target=tt.Target,et.location&&(et.Target+="#"+unescapexml(et.location))):(et.Target="#"+unescapexml(et.location),tt={Target:et.Target,TargetMode:"Internal"}),et.Rel=tt,et.tooltip&&(et.Tooltip=et.tooltip,delete et.tooltip);for(var rt=safe_decode_range(et.ref),nt=rt.s.r;nt<=rt.e.r;++nt)for(var st=rt.s.c;st<=rt.e.c;++st){var it=encode_cell({c:st,r:nt});j?(i[nt]||(i[nt]=[]),i[nt][st]||(i[nt][st]={t:"z",v:void 0}),i[nt][st].l=et):(i[it]||(i[it]={t:"z",v:void 0}),i[it].l=et)}}}function parse_ws_xml_margins(i){var o={};return["left","right","top","bottom","header","footer"].forEach(function(_){i[_]&&(o[_]=parseFloat(i[_]))}),o}function write_ws_xml_margins(i){return default_margins(i),writextag("pageMargins",null,i)}function parse_ws_xml_cols(i,o){for(var _=!1,j=0;j!=o.length;++j){var _e=parsexmltag(o[j],!0);_e.hidden&&(_e.hidden=parsexmlbool(_e.hidden));var et=parseInt(_e.min,10)-1,tt=parseInt(_e.max,10)-1;for(_e.outlineLevel&&(_e.level=+_e.outlineLevel||0),delete _e.min,delete _e.max,_e.width=+_e.width,!_&&_e.width&&(_=!0,find_mdw_colw(_e.width)),process_col(_e);et<=tt;)i[et++]=dup(_e)}}function write_ws_xml_cols(i,o){for(var _=["<cols>"],j,_e=0;_e!=o.length;++_e)(j=o[_e])&&(_[_.length]=writextag("col",null,col_obj_w(_e,j)));return _[_.length]="</cols>",_.join("")}function parse_ws_xml_autofilter(i){var o={ref:(i.match(/ref="([^"]*)"/)||[])[1]};return o}function write_ws_xml_autofilter(i,o,_,j){var _e=typeof i.ref=="string"?i.ref:encode_range(i.ref);_.Workbook||(_.Workbook={Sheets:[]}),_.Workbook.Names||(_.Workbook.Names=[]);var et=_.Workbook.Names,tt=decode_range(_e);tt.s.r==tt.e.r&&(tt.e.r=decode_range(o["!ref"]).e.r,_e=encode_range(tt));for(var rt=0;rt<et.length;++rt){var nt=et[rt];if(nt.Name=="_xlnm._FilterDatabase"&&nt.Sheet==j){nt.Ref="'"+_.SheetNames[j]+"'!"+_e;break}}return rt==et.length&&et.push({Name:"_xlnm._FilterDatabase",Sheet:j,Ref:"'"+_.SheetNames[j]+"'!"+_e}),writextag("autoFilter",null,{ref:_e})}var sviewregex=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function parse_ws_xml_sheetviews(i,o){o.Views||(o.Views=[{}]),(i.match(sviewregex)||[]).forEach(function(_,j){var _e=parsexmltag(_);o.Views[j]||(o.Views[j]={}),+_e.zoomScale&&(o.Views[j].zoom=+_e.zoomScale),parsexmlbool(_e.rightToLeft)&&(o.Views[j].RTL=!0)})}function write_ws_xml_sheetviews(i,o,_,j){var _e={workbookViewId:"0"};return(((j||{}).Workbook||{}).Views||[])[0]&&(_e.rightToLeft=j.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,_e),{})}function write_ws_xml_cell(i,o,_,j){if(i.c&&_["!comments"].push([o,i.c]),i.v===void 0&&typeof i.f!="string"||i.t==="z"&&!i.f)return"";var _e="",et=i.t,tt=i.v;if(i.t!=="z")switch(i.t){case"b":_e=i.v?"1":"0";break;case"n":_e=""+i.v;break;case"e":_e=BErr[i.v];break;case"d":j&&j.cellDates?_e=parseDate(i.v,-1).toISOString():(i=dup(i),i.t="n",_e=""+(i.v=datenum(parseDate(i.v)))),typeof i.z>"u"&&(i.z=table_fmt[14]);break;default:_e=i.v;break}var rt=writetag("v",escapexml(_e)),nt={r:o},st=get_cell_style(j.cellXfs,i,j);switch(st!==0&&(nt.s=st),i.t){case"n":break;case"d":nt.t="d";break;case"b":nt.t="b";break;case"e":nt.t="e";break;case"z":break;default:if(i.v==null){delete i.t;break}if(i.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(j&&j.bookSST){rt=writetag("v",""+get_sst_id(j.Strings,i.v,j.revStrings)),nt.t="s";break}nt.t="str";break}if(i.t!=et&&(i.t=et,i.v=tt),typeof i.f=="string"&&i.f){var it=i.F&&i.F.slice(0,o.length)==o?{t:"array",ref:i.F}:null;rt=writextag("f",escapexml(i.f),it)+(i.v!=null?rt:"")}return i.l&&_["!links"].push([o,i.l]),i.D&&(nt.cm=1),writextag("c",rt,nt)}var parse_ws_xml_data=function(){var i=/<(?:\w+:)?c[ \/>]/,o=/<\/(?:\w+:)?row>/,_=/r=["']([^"']*)["']/,j=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,_e=/ref=["']([^"']*)["']/,et=matchtag("v"),tt=matchtag("f");return function(nt,st,it,at,ot,ct){for(var ut=0,lt="",pt=[],dt=[],ht=0,ft=0,mt=0,xt="",gt,yt,_t=0,Et=0,wt,$t,jt=0,Tt=0,kt=Array.isArray(ct.CellXf),Pt,St=[],Rt=[],bt=Array.isArray(st),vt=[],At={},Ot=!1,Ct=!!it.sheetStubs,Lt=nt.split(o),It=0,Dt=Lt.length;It!=Dt;++It){lt=Lt[It].trim();var Zt=lt.length;if(Zt!==0){var Qt=0;e:for(ut=0;ut<Zt;++ut)switch(lt[ut]){case">":if(lt[ut-1]!="/"){++ut;break e}if(it&&it.cellStyles){if(yt=parsexmltag(lt.slice(Qt,ut),!0),_t=yt.r!=null?parseInt(yt.r,10):_t+1,Et=-1,it.sheetRows&&it.sheetRows<_t)continue;At={},Ot=!1,yt.ht&&(Ot=!0,At.hpt=parseFloat(yt.ht),At.hpx=pt2px(At.hpt)),yt.hidden=="1"&&(Ot=!0,At.hidden=!0),yt.outlineLevel!=null&&(Ot=!0,At.level=+yt.outlineLevel),Ot&&(vt[_t-1]=At)}break;case"<":Qt=ut;break}if(Qt>=ut)break;if(yt=parsexmltag(lt.slice(Qt,ut),!0),_t=yt.r!=null?parseInt(yt.r,10):_t+1,Et=-1,!(it.sheetRows&&it.sheetRows<_t)){at.s.r>_t-1&&(at.s.r=_t-1),at.e.r<_t-1&&(at.e.r=_t-1),it&&it.cellStyles&&(At={},Ot=!1,yt.ht&&(Ot=!0,At.hpt=parseFloat(yt.ht),At.hpx=pt2px(At.hpt)),yt.hidden=="1"&&(Ot=!0,At.hidden=!0),yt.outlineLevel!=null&&(Ot=!0,At.level=+yt.outlineLevel),Ot&&(vt[_t-1]=At)),pt=lt.slice(ut).split(i);for(var Yt=0;Yt!=pt.length&&pt[Yt].trim().charAt(0)=="<";++Yt);for(pt=pt.slice(Yt),ut=0;ut!=pt.length;++ut)if(lt=pt[ut].trim(),lt.length!==0){if(dt=lt.match(_),ht=ut,ft=0,mt=0,lt="<c "+(lt.slice(0,1)=="<"?">":"")+lt,dt!=null&&dt.length===2){for(ht=0,xt=dt[1],ft=0;ft!=xt.length&&!((mt=xt.charCodeAt(ft)-64)<1||mt>26);++ft)ht=26*ht+mt;--ht,Et=ht}else++Et;for(ft=0;ft!=lt.length&&lt.charCodeAt(ft)!==62;++ft);if(++ft,yt=parsexmltag(lt.slice(0,ft),!0),yt.r||(yt.r=encode_cell({r:_t-1,c:Et})),xt=lt.slice(ft),gt={t:""},(dt=xt.match(et))!=null&&dt[1]!==""&&(gt.v=unescapexml(dt[1])),it.cellFormula){if((dt=xt.match(tt))!=null&&dt[1]!==""){if(gt.f=unescapexml(utf8read(dt[1])).replace(/\r\n/g,`
`),it.xlfn||(gt.f=_xlfn(gt.f)),dt[0].indexOf('t="array"')>-1)gt.F=(xt.match(_e)||[])[1],gt.F.indexOf(":")>-1&&St.push([safe_decode_range(gt.F),gt.F]);else if(dt[0].indexOf('t="shared"')>-1){$t=parsexmltag(dt[0]);var Ft=unescapexml(utf8read(dt[1]));it.xlfn||(Ft=_xlfn(Ft)),Rt[parseInt($t.si,10)]=[$t,Ft,yt.r]}}else(dt=xt.match(/<f[^>]*\/>/))&&($t=parsexmltag(dt[0]),Rt[$t.si]&&(gt.f=shift_formula_xlsx(Rt[$t.si][1],Rt[$t.si][2],yt.r)));var Kt=decode_cell(yt.r);for(ft=0;ft<St.length;++ft)Kt.r>=St[ft][0].s.r&&Kt.r<=St[ft][0].e.r&&Kt.c>=St[ft][0].s.c&&Kt.c<=St[ft][0].e.c&&(gt.F=St[ft][1])}if(yt.t==null&&gt.v===void 0)if(gt.f||gt.F)gt.v=0,gt.t="n";else if(Ct)gt.t="z";else continue;else gt.t=yt.t||"n";switch(at.s.c>Et&&(at.s.c=Et),at.e.c<Et&&(at.e.c=Et),gt.t){case"n":if(gt.v==""||gt.v==null){if(!Ct)continue;gt.t="z"}else gt.v=parseFloat(gt.v);break;case"s":if(typeof gt.v>"u"){if(!Ct)continue;gt.t="z"}else wt=strs[parseInt(gt.v,10)],gt.v=wt.t,gt.r=wt.r,it.cellHTML&&(gt.h=wt.h);break;case"str":gt.t="s",gt.v=gt.v!=null?utf8read(gt.v):"",it.cellHTML&&(gt.h=escapehtml(gt.v));break;case"inlineStr":dt=xt.match(j),gt.t="s",dt!=null&&(wt=parse_si(dt[1]))?(gt.v=wt.t,it.cellHTML&&(gt.h=wt.h)):gt.v="";break;case"b":gt.v=parsexmlbool(gt.v);break;case"d":it.cellDates?gt.v=parseDate(gt.v,1):(gt.v=datenum(parseDate(gt.v,1)),gt.t="n");break;case"e":(!it||it.cellText!==!1)&&(gt.w=gt.v),gt.v=RBErr[gt.v];break}if(jt=Tt=0,Pt=null,kt&&yt.s!==void 0&&(Pt=ct.CellXf[yt.s],Pt!=null&&(Pt.numFmtId!=null&&(jt=Pt.numFmtId),it.cellStyles&&Pt.fillId!=null&&(Tt=Pt.fillId))),safe_format(gt,jt,Tt,it,ot,ct),it.cellDates&&kt&&gt.t=="n"&&fmt_is_date(table_fmt[jt])&&(gt.t="d",gt.v=numdate(gt.v)),yt.cm&&it.xlmeta){var er=(it.xlmeta.Cell||[])[+yt.cm-1];er&&er.type=="XLDAPR"&&(gt.D=!0)}if(bt){var Nt=decode_cell(yt.r);st[Nt.r]||(st[Nt.r]=[]),st[Nt.r][Nt.c]=gt}else st[yt.r]=gt}}}}vt.length>0&&(st["!rows"]=vt)}}();function write_ws_xml_data(i,o,_,j){var _e=[],et=[],tt=safe_decode_range(i["!ref"]),rt="",nt,st="",it=[],at=0,ot=0,ct=i["!rows"],ut=Array.isArray(i),lt={r:st},pt,dt=-1;for(ot=tt.s.c;ot<=tt.e.c;++ot)it[ot]=encode_col(ot);for(at=tt.s.r;at<=tt.e.r;++at){for(et=[],st=encode_row(at),ot=tt.s.c;ot<=tt.e.c;++ot){nt=it[ot]+st;var ht=ut?(i[at]||[])[ot]:i[nt];ht!==void 0&&(rt=write_ws_xml_cell(ht,nt,i,o))!=null&&et.push(rt)}(et.length>0||ct&&ct[at])&&(lt={r:st},ct&&ct[at]&&(pt=ct[at],pt.hidden&&(lt.hidden=1),dt=-1,pt.hpx?dt=px2pt(pt.hpx):pt.hpt&&(dt=pt.hpt),dt>-1&&(lt.ht=dt,lt.customHeight=1),pt.level&&(lt.outlineLevel=pt.level)),_e[_e.length]=writextag("row",et.join(""),lt))}if(ct)for(;at<ct.length;++at)ct&&ct[at]&&(lt={r:at+1},pt=ct[at],pt.hidden&&(lt.hidden=1),dt=-1,pt.hpx?dt=px2pt(pt.hpx):pt.hpt&&(dt=pt.hpt),dt>-1&&(lt.ht=dt,lt.customHeight=1),pt.level&&(lt.outlineLevel=pt.level),_e[_e.length]=writextag("row","",lt));return _e.join("")}function write_ws_xml(i,o,_,j){var _e=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],et=_.SheetNames[i],tt=0,rt="",nt=_.Sheets[et];nt==null&&(nt={});var st=nt["!ref"]||"A1",it=safe_decode_range(st);if(it.e.c>16383||it.e.r>1048575){if(o.WTF)throw new Error("Range "+st+" exceeds format limit A1:XFD1048576");it.e.c=Math.min(it.e.c,16383),it.e.r=Math.min(it.e.c,1048575),st=encode_range(it)}j||(j={}),nt["!comments"]=[];var at=[];write_ws_xml_sheetpr(nt,_,i,o,_e),_e[_e.length]=writextag("dimension",null,{ref:st}),_e[_e.length]=write_ws_xml_sheetviews(nt,o,i,_),o.sheetFormat&&(_e[_e.length]=writextag("sheetFormatPr",null,{defaultRowHeight:o.sheetFormat.defaultRowHeight||"16",baseColWidth:o.sheetFormat.baseColWidth||"10",outlineLevelRow:o.sheetFormat.outlineLevelRow||"7"})),nt["!cols"]!=null&&nt["!cols"].length>0&&(_e[_e.length]=write_ws_xml_cols(nt,nt["!cols"])),_e[tt=_e.length]="<sheetData/>",nt["!links"]=[],nt["!ref"]!=null&&(rt=write_ws_xml_data(nt,o),rt.length>0&&(_e[_e.length]=rt)),_e.length>tt+1&&(_e[_e.length]="</sheetData>",_e[tt]=_e[tt].replace("/>",">")),nt["!protect"]&&(_e[_e.length]=write_ws_xml_protection(nt["!protect"])),nt["!autofilter"]!=null&&(_e[_e.length]=write_ws_xml_autofilter(nt["!autofilter"],nt,_,i)),nt["!merges"]!=null&&nt["!merges"].length>0&&(_e[_e.length]=write_ws_xml_merges(nt["!merges"]));var ot=-1,ct,ut=-1;return nt["!links"].length>0&&(_e[_e.length]="<hyperlinks>",nt["!links"].forEach(function(lt){lt[1].Target&&(ct={ref:lt[0]},lt[1].Target.charAt(0)!="#"&&(ut=add_rels(j,-1,escapexml(lt[1].Target).replace(/#.*$/,""),RELS.HLINK),ct["r:id"]="rId"+ut),(ot=lt[1].Target.indexOf("#"))>-1&&(ct.location=escapexml(lt[1].Target.slice(ot+1))),lt[1].Tooltip&&(ct.tooltip=escapexml(lt[1].Tooltip)),_e[_e.length]=writextag("hyperlink",null,ct))}),_e[_e.length]="</hyperlinks>"),delete nt["!links"],nt["!margins"]!=null&&(_e[_e.length]=write_ws_xml_margins(nt["!margins"])),(!o||o.ignoreEC||o.ignoreEC==null)&&(_e[_e.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:st}))),at.length>0&&(ut=add_rels(j,-1,"../drawings/drawing"+(i+1)+".xml",RELS.DRAW),_e[_e.length]=writextag("drawing",null,{"r:id":"rId"+ut}),nt["!drawing"]=at),nt["!comments"].length>0&&(ut=add_rels(j,-1,"../drawings/vmlDrawing"+(i+1)+".vml",RELS.VML),_e[_e.length]=writextag("legacyDrawing",null,{"r:id":"rId"+ut}),nt["!legacy"]=ut),_e.length>1&&(_e[_e.length]="</worksheet>",_e[1]=_e[1].replace("/>",">")),_e.join("")}function parse_BrtRowHdr(i,o){var _={},j=i.l+o;_.r=i.read_shift(4),i.l+=4;var _e=i.read_shift(2);i.l+=1;var et=i.read_shift(1);return i.l=j,et&7&&(_.level=et&7),et&16&&(_.hidden=!0),et&32&&(_.hpt=_e/20),_}function write_BrtRowHdr(i,o,_){var j=new_buf(145),_e=(_["!rows"]||[])[i]||{};j.write_shift(4,i),j.write_shift(4,0);var et=320;_e.hpx?et=px2pt(_e.hpx)*20:_e.hpt&&(et=_e.hpt*20),j.write_shift(2,et),j.write_shift(1,0);var tt=0;_e.level&&(tt|=_e.level),_e.hidden&&(tt|=16),(_e.hpx||_e.hpt)&&(tt|=32),j.write_shift(1,tt),j.write_shift(1,0);var rt=0,nt=j.l;j.l+=4;for(var st={r:i,c:0},it=0;it<16;++it)if(!(o.s.c>it+1<<10||o.e.c<it<<10)){for(var at=-1,ot=-1,ct=it<<10;ct<it+1<<10;++ct){st.c=ct;var ut=Array.isArray(_)?(_[st.r]||[])[st.c]:_[encode_cell(st)];ut&&(at<0&&(at=ct),ot=ct)}at<0||(++rt,j.write_shift(4,at),j.write_shift(4,ot))}var lt=j.l;return j.l=nt,j.write_shift(4,rt),j.l=lt,j.length>j.l?j.slice(0,j.l):j}function write_row_header(i,o,_,j){var _e=write_BrtRowHdr(j,_,o);(_e.length>17||(o["!rows"]||[])[j])&&write_record(i,0,_e)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(i,o){var _={},j=i[i.l];return++i.l,_.above=!(j&64),_.left=!(j&128),i.l+=18,_.name=parse_XLSBCodeName(i),_}function write_BrtWsProp(i,o,_){_==null&&(_=new_buf(84+4*i.length));var j=192;o&&(o.above&&(j&=-65),o.left&&(j&=-129)),_.write_shift(1,j);for(var _e=1;_e<3;++_e)_.write_shift(1,0);return write_BrtColor({auto:1},_),_.write_shift(-4,-1),_.write_shift(-4,-1),write_XLSBCodeName(i,_),_.slice(0,_.l)}function parse_BrtCellBlank(i){var o=parse_XLSBCell(i);return[o]}function write_BrtCellBlank(i,o,_){return _==null&&(_=new_buf(8)),write_XLSBCell(o,_)}function parse_BrtShortBlank(i){var o=parse_XLSBShortCell(i);return[o]}function write_BrtShortBlank(i,o,_){return _==null&&(_=new_buf(4)),write_XLSBShortCell(o,_)}function parse_BrtCellBool(i){var o=parse_XLSBCell(i),_=i.read_shift(1);return[o,_,"b"]}function write_BrtCellBool(i,o,_){return _==null&&(_=new_buf(9)),write_XLSBCell(o,_),_.write_shift(1,i.v?1:0),_}function parse_BrtShortBool(i){var o=parse_XLSBShortCell(i),_=i.read_shift(1);return[o,_,"b"]}function write_BrtShortBool(i,o,_){return _==null&&(_=new_buf(5)),write_XLSBShortCell(o,_),_.write_shift(1,i.v?1:0),_}function parse_BrtCellError(i){var o=parse_XLSBCell(i),_=i.read_shift(1);return[o,_,"e"]}function write_BrtCellError(i,o,_){return _==null&&(_=new_buf(9)),write_XLSBCell(o,_),_.write_shift(1,i.v),_}function parse_BrtShortError(i){var o=parse_XLSBShortCell(i),_=i.read_shift(1);return[o,_,"e"]}function write_BrtShortError(i,o,_){return _==null&&(_=new_buf(8)),write_XLSBShortCell(o,_),_.write_shift(1,i.v),_.write_shift(2,0),_.write_shift(1,0),_}function parse_BrtCellIsst(i){var o=parse_XLSBCell(i),_=i.read_shift(4);return[o,_,"s"]}function write_BrtCellIsst(i,o,_){return _==null&&(_=new_buf(12)),write_XLSBCell(o,_),_.write_shift(4,o.v),_}function parse_BrtShortIsst(i){var o=parse_XLSBShortCell(i),_=i.read_shift(4);return[o,_,"s"]}function write_BrtShortIsst(i,o,_){return _==null&&(_=new_buf(8)),write_XLSBShortCell(o,_),_.write_shift(4,o.v),_}function parse_BrtCellReal(i){var o=parse_XLSBCell(i),_=parse_Xnum(i);return[o,_,"n"]}function write_BrtCellReal(i,o,_){return _==null&&(_=new_buf(16)),write_XLSBCell(o,_),write_Xnum(i.v,_),_}function parse_BrtShortReal(i){var o=parse_XLSBShortCell(i),_=parse_Xnum(i);return[o,_,"n"]}function write_BrtShortReal(i,o,_){return _==null&&(_=new_buf(12)),write_XLSBShortCell(o,_),write_Xnum(i.v,_),_}function parse_BrtCellRk(i){var o=parse_XLSBCell(i),_=parse_RkNumber(i);return[o,_,"n"]}function write_BrtCellRk(i,o,_){return _==null&&(_=new_buf(12)),write_XLSBCell(o,_),write_RkNumber(i.v,_),_}function parse_BrtShortRk(i){var o=parse_XLSBShortCell(i),_=parse_RkNumber(i);return[o,_,"n"]}function write_BrtShortRk(i,o,_){return _==null&&(_=new_buf(8)),write_XLSBShortCell(o,_),write_RkNumber(i.v,_),_}function parse_BrtCellRString(i){var o=parse_XLSBCell(i),_=parse_RichStr(i);return[o,_,"is"]}function parse_BrtCellSt(i){var o=parse_XLSBCell(i),_=parse_XLWideString(i);return[o,_,"str"]}function write_BrtCellSt(i,o,_){return _==null&&(_=new_buf(12+4*i.v.length)),write_XLSBCell(o,_),write_XLWideString(i.v,_),_.length>_.l?_.slice(0,_.l):_}function parse_BrtShortSt(i){var o=parse_XLSBShortCell(i),_=parse_XLWideString(i);return[o,_,"str"]}function write_BrtShortSt(i,o,_){return _==null&&(_=new_buf(8+4*i.v.length)),write_XLSBShortCell(o,_),write_XLWideString(i.v,_),_.length>_.l?_.slice(0,_.l):_}function parse_BrtFmlaBool(i,o,_){var j=i.l+o,_e=parse_XLSBCell(i);_e.r=_["!row"];var et=i.read_shift(1),tt=[_e,et,"b"];if(_.cellFormula){i.l+=2;var rt=parse_XLSBCellParsedFormula(i,j-i.l,_);tt[3]=stringify_formula(rt,null,_e,_.supbooks,_)}else i.l=j;return tt}function parse_BrtFmlaError(i,o,_){var j=i.l+o,_e=parse_XLSBCell(i);_e.r=_["!row"];var et=i.read_shift(1),tt=[_e,et,"e"];if(_.cellFormula){i.l+=2;var rt=parse_XLSBCellParsedFormula(i,j-i.l,_);tt[3]=stringify_formula(rt,null,_e,_.supbooks,_)}else i.l=j;return tt}function parse_BrtFmlaNum(i,o,_){var j=i.l+o,_e=parse_XLSBCell(i);_e.r=_["!row"];var et=parse_Xnum(i),tt=[_e,et,"n"];if(_.cellFormula){i.l+=2;var rt=parse_XLSBCellParsedFormula(i,j-i.l,_);tt[3]=stringify_formula(rt,null,_e,_.supbooks,_)}else i.l=j;return tt}function parse_BrtFmlaString(i,o,_){var j=i.l+o,_e=parse_XLSBCell(i);_e.r=_["!row"];var et=parse_XLWideString(i),tt=[_e,et,"str"];if(_.cellFormula){i.l+=2;var rt=parse_XLSBCellParsedFormula(i,j-i.l,_);tt[3]=stringify_formula(rt,null,_e,_.supbooks,_)}else i.l=j;return tt}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(i,o){return o==null&&(o=new_buf(4)),o.write_shift(4,i),o}function parse_BrtHLink(i,o){var _=i.l+o,j=parse_UncheckedRfX(i),_e=parse_XLNullableWideString(i),et=parse_XLWideString(i),tt=parse_XLWideString(i),rt=parse_XLWideString(i);i.l=_;var nt={rfx:j,relId:_e,loc:et,display:rt};return tt&&(nt.Tooltip=tt),nt}function write_BrtHLink(i,o){var _=new_buf(50+4*(i[1].Target.length+(i[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(i[0]),e:decode_cell(i[0])},_),write_RelID("rId"+o,_);var j=i[1].Target.indexOf("#"),_e=j==-1?"":i[1].Target.slice(j+1);return write_XLWideString(_e||"",_),write_XLWideString(i[1].Tooltip||"",_),write_XLWideString("",_),_.slice(0,_.l)}function parse_BrtPane(){}function parse_BrtArrFmla(i,o,_){var j=i.l+o,_e=parse_RfX(i),et=i.read_shift(1),tt=[_e];if(tt[2]=et,_.cellFormula){var rt=parse_XLSBArrayParsedFormula(i,j-i.l,_);tt[1]=rt}else i.l=j;return tt}function parse_BrtShrFmla(i,o,_){var j=i.l+o,_e=parse_UncheckedRfX(i),et=[_e];if(_.cellFormula){var tt=parse_XLSBSharedParsedFormula(i,j-i.l,_);et[1]=tt,i.l=j}else i.l=j;return et}function write_BrtColInfo(i,o,_){_==null&&(_=new_buf(18));var j=col_obj_w(i,o);_.write_shift(-4,i),_.write_shift(-4,i),_.write_shift(4,(j.width||10)*256),_.write_shift(4,0);var _e=0;return o.hidden&&(_e|=1),typeof j.width=="number"&&(_e|=2),o.level&&(_e|=o.level<<8),_.write_shift(2,_e),_}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(i){var o={};return BrtMarginKeys.forEach(function(_){o[_]=parse_Xnum(i)}),o}function write_BrtMargins(i,o){return o==null&&(o=new_buf(6*8)),default_margins(i),BrtMarginKeys.forEach(function(_){write_Xnum(i[_],o)}),o}function parse_BrtBeginWsView(i){var o=i.read_shift(2);return i.l+=28,{RTL:o&32}}function write_BrtBeginWsView(i,o,_){_==null&&(_=new_buf(30));var j=924;return(((o||{}).Views||[])[0]||{}).RTL&&(j|=32),_.write_shift(2,j),_.write_shift(4,0),_.write_shift(4,0),_.write_shift(4,0),_.write_shift(1,0),_.write_shift(1,0),_.write_shift(2,0),_.write_shift(2,100),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(4,0),_}function write_BrtCellIgnoreEC(i){var o=new_buf(24);return o.write_shift(4,4),o.write_shift(4,1),write_UncheckedRfX(i,o),o}function write_BrtSheetProtection(i,o){return o==null&&(o=new_buf(16*4+2)),o.write_shift(2,i.password?crypto_CreatePasswordVerifier_Method1(i.password):0),o.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(_){_[1]?o.write_shift(4,i[_[0]]!=null&&!i[_[0]]?1:0):o.write_shift(4,i[_[0]]!=null&&i[_[0]]?0:1)}),o}function parse_BrtDVal(){}function parse_BrtDVal14(){}function parse_ws_bin(i,o,_,j,_e,et,tt){if(!i)return i;var rt=o||{};j||(j={"!id":{}});var nt=rt.dense?[]:{},st,it={s:{r:2e6,c:2e6},e:{r:0,c:0}},at=!1,ot=!1,ct,ut,lt,pt,dt,ht,ft,mt,xt,gt=[];rt.biff=12,rt["!row"]=0;var yt=0,_t=!1,Et=[],wt={},$t=rt.supbooks||_e.supbooks||[[]];if($t.sharedf=wt,$t.arrayf=Et,$t.SheetNames=_e.SheetNames||_e.Sheets.map(function(bt){return bt.name}),!rt.supbooks&&(rt.supbooks=$t,_e.Names))for(var jt=0;jt<_e.Names.length;++jt)$t[0][jt+1]=_e.Names[jt];var Tt=[],kt=[],Pt=!1;XLSBRecordEnum[16]={n:"BrtShortReal",f:parse_BrtShortReal};var St;if(recordhopper(i,function(vt,At,Ot){if(!ot)switch(Ot){case 148:st=vt;break;case 0:ct=vt,rt.sheetRows&&rt.sheetRows<=ct.r&&(ot=!0),mt=encode_row(pt=ct.r),rt["!row"]=ct.r,(vt.hidden||vt.hpt||vt.level!=null)&&(vt.hpt&&(vt.hpx=pt2px(vt.hpt)),kt[vt.r]=vt);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(ut={t:vt[2]},vt[2]){case"n":ut.v=vt[1];break;case"s":ft=strs[vt[1]],ut.v=ft.t,ut.r=ft.r;break;case"b":ut.v=!!vt[1];break;case"e":ut.v=vt[1],rt.cellText!==!1&&(ut.w=BErr[ut.v]);break;case"str":ut.t="s",ut.v=vt[1];break;case"is":ut.t="s",ut.v=vt[1].t;break}if((lt=tt.CellXf[vt[0].iStyleRef])&&safe_format(ut,lt.numFmtId,null,rt,et,tt),dt=vt[0].c==-1?dt+1:vt[0].c,rt.dense?(nt[pt]||(nt[pt]=[]),nt[pt][dt]=ut):nt[encode_col(dt)+mt]=ut,rt.cellFormula){for(_t=!1,yt=0;yt<Et.length;++yt){var Ct=Et[yt];ct.r>=Ct[0].s.r&&ct.r<=Ct[0].e.r&&dt>=Ct[0].s.c&&dt<=Ct[0].e.c&&(ut.F=encode_range(Ct[0]),_t=!0)}!_t&&vt.length>3&&(ut.f=vt[3])}if(it.s.r>ct.r&&(it.s.r=ct.r),it.s.c>dt&&(it.s.c=dt),it.e.r<ct.r&&(it.e.r=ct.r),it.e.c<dt&&(it.e.c=dt),rt.cellDates&&lt&&ut.t=="n"&&fmt_is_date(table_fmt[lt.numFmtId])){var Lt=SSF_parse_date_code(ut.v);Lt&&(ut.t="d",ut.v=new Date(Lt.y,Lt.m-1,Lt.d,Lt.H,Lt.M,Lt.S,Lt.u))}St&&(St.type=="XLDAPR"&&(ut.D=!0),St=void 0);break;case 1:case 12:if(!rt.sheetStubs||at)break;ut={t:"z",v:void 0},dt=vt[0].c==-1?dt+1:vt[0].c,rt.dense?(nt[pt]||(nt[pt]=[]),nt[pt][dt]=ut):nt[encode_col(dt)+mt]=ut,it.s.r>ct.r&&(it.s.r=ct.r),it.s.c>dt&&(it.s.c=dt),it.e.r<ct.r&&(it.e.r=ct.r),it.e.c<dt&&(it.e.c=dt),St&&(St.type=="XLDAPR"&&(ut.D=!0),St=void 0);break;case 176:gt.push(vt);break;case 49:St=((rt.xlmeta||{}).Cell||[])[vt-1];break;case 494:var It=j["!id"][vt.relId];for(It?(vt.Target=It.Target,vt.loc&&(vt.Target+="#"+vt.loc),vt.Rel=It):vt.relId==""&&(vt.Target="#"+vt.loc),pt=vt.rfx.s.r;pt<=vt.rfx.e.r;++pt)for(dt=vt.rfx.s.c;dt<=vt.rfx.e.c;++dt)rt.dense?(nt[pt]||(nt[pt]=[]),nt[pt][dt]||(nt[pt][dt]={t:"z",v:void 0}),nt[pt][dt].l=vt):(ht=encode_cell({c:dt,r:pt}),nt[ht]||(nt[ht]={t:"z",v:void 0}),nt[ht].l=vt);break;case 426:if(!rt.cellFormula)break;Et.push(vt),xt=rt.dense?nt[pt][dt]:nt[encode_col(dt)+mt],xt.f=stringify_formula(vt[1],it,{r:ct.r,c:dt},$t,rt),xt.F=encode_range(vt[0]);break;case 427:if(!rt.cellFormula)break;wt[encode_cell(vt[0].s)]=vt[1],xt=rt.dense?nt[pt][dt]:nt[encode_col(dt)+mt],xt.f=stringify_formula(vt[1],it,{r:ct.r,c:dt},$t,rt);break;case 60:if(!rt.cellStyles)break;for(;vt.e>=vt.s;)Tt[vt.e--]={width:vt.w/256,hidden:!!(vt.flags&1),level:vt.level},Pt||(Pt=!0,find_mdw_colw(vt.w/256)),process_col(Tt[vt.e+1]);break;case 161:nt["!autofilter"]={ref:encode_range(vt)};break;case 476:nt["!margins"]=vt;break;case 147:_e.Sheets[_]||(_e.Sheets[_]={}),vt.name&&(_e.Sheets[_].CodeName=vt.name),(vt.above||vt.left)&&(nt["!outline"]={above:vt.above,left:vt.left});break;case 137:_e.Views||(_e.Views=[{}]),_e.Views[0]||(_e.Views[0]={}),vt.RTL&&(_e.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:at=!0;break;case 36:at=!1;break;case 37:at=!0;break;case 38:at=!1;break;default:if(!At.T){if(!at||rt.WTF)throw new Error("Unexpected record 0x"+Ot.toString(16))}}},rt),delete rt.supbooks,delete rt["!row"],!nt["!ref"]&&(it.s.r<2e6||st&&(st.e.r>0||st.e.c>0||st.s.r>0||st.s.c>0))&&(nt["!ref"]=encode_range(st||it)),rt.sheetRows&&nt["!ref"]){var Rt=safe_decode_range(nt["!ref"]);rt.sheetRows<=+Rt.e.r&&(Rt.e.r=rt.sheetRows-1,Rt.e.r>it.e.r&&(Rt.e.r=it.e.r),Rt.e.r<Rt.s.r&&(Rt.s.r=Rt.e.r),Rt.e.c>it.e.c&&(Rt.e.c=it.e.c),Rt.e.c<Rt.s.c&&(Rt.s.c=Rt.e.c),nt["!fullref"]=nt["!ref"],nt["!ref"]=encode_range(Rt))}return gt.length>0&&(nt["!merges"]=gt),Tt.length>0&&(nt["!cols"]=Tt),kt.length>0&&(nt["!rows"]=kt),nt}function write_ws_bin_cell(i,o,_,j,_e,et,tt){if(o.v===void 0)return!1;var rt="";switch(o.t){case"b":rt=o.v?"1":"0";break;case"d":o=dup(o),o.z=o.z||table_fmt[14],o.v=datenum(parseDate(o.v)),o.t="n";break;case"n":case"e":rt=""+o.v;break;default:rt=o.v;break}var nt={r:_,c:j};switch(nt.s=get_cell_style(_e.cellXfs,o,_e),o.l&&et["!links"].push([encode_cell(nt),o.l]),o.c&&et["!comments"].push([encode_cell(nt),o.c]),o.t){case"s":case"str":return _e.bookSST?(rt=get_sst_id(_e.Strings,o.v,_e.revStrings),nt.t="s",nt.v=rt,tt?write_record(i,18,write_BrtShortIsst(o,nt)):write_record(i,7,write_BrtCellIsst(o,nt))):(nt.t="str",tt?write_record(i,17,write_BrtShortSt(o,nt)):write_record(i,6,write_BrtCellSt(o,nt))),!0;case"n":return o.v==(o.v|0)&&o.v>-1e3&&o.v<1e3?tt?write_record(i,13,write_BrtShortRk(o,nt)):write_record(i,2,write_BrtCellRk(o,nt)):tt?write_record(i,16,write_BrtShortReal(o,nt)):write_record(i,5,write_BrtCellReal(o,nt)),!0;case"b":return nt.t="b",tt?write_record(i,15,write_BrtShortBool(o,nt)):write_record(i,4,write_BrtCellBool(o,nt)),!0;case"e":return nt.t="e",tt?write_record(i,14,write_BrtShortError(o,nt)):write_record(i,3,write_BrtCellError(o,nt)),!0}return tt?write_record(i,12,write_BrtShortBlank(o,nt)):write_record(i,1,write_BrtCellBlank(o,nt)),!0}function write_CELLTABLE(i,o,_,j){var _e=safe_decode_range(o["!ref"]||"A1"),et,tt="",rt=[];write_record(i,145);var nt=Array.isArray(o),st=_e.e.r;o["!rows"]&&(st=Math.max(_e.e.r,o["!rows"].length-1));for(var it=_e.s.r;it<=st;++it){tt=encode_row(it),write_row_header(i,o,_e,it);var at=!1;if(it<=_e.e.r)for(var ot=_e.s.c;ot<=_e.e.c;++ot){it===_e.s.r&&(rt[ot]=encode_col(ot)),et=rt[ot]+tt;var ct=nt?(o[it]||[])[ot]:o[et];if(!ct){at=!1;continue}at=write_ws_bin_cell(i,ct,it,ot,j,o,at)}}write_record(i,146)}function write_MERGECELLS(i,o){!o||!o["!merges"]||(write_record(i,177,write_BrtBeginMergeCells(o["!merges"].length)),o["!merges"].forEach(function(_){write_record(i,176,write_BrtMergeCell(_))}),write_record(i,178))}function write_COLINFOS(i,o){!o||!o["!cols"]||(write_record(i,390),o["!cols"].forEach(function(_,j){_&&write_record(i,60,write_BrtColInfo(j,_))}),write_record(i,391))}function write_IGNOREECS(i,o){!o||!o["!ref"]||(write_record(i,648),write_record(i,649,write_BrtCellIgnoreEC(safe_decode_range(o["!ref"]))),write_record(i,650))}function write_HLINKS(i,o,_){o["!links"].forEach(function(j){if(j[1].Target){var _e=add_rels(_,-1,j[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(i,494,write_BrtHLink(j,_e))}}),delete o["!links"]}function write_LEGACYDRAWING(i,o,_,j){if(o["!comments"].length>0){var _e=add_rels(j,-1,"../drawings/vmlDrawing"+(_+1)+".vml",RELS.VML);write_record(i,551,write_RelID("rId"+_e)),o["!legacy"]=_e}}function write_AUTOFILTER(i,o,_,j){if(o["!autofilter"]){var _e=o["!autofilter"],et=typeof _e.ref=="string"?_e.ref:encode_range(_e.ref);_.Workbook||(_.Workbook={Sheets:[]}),_.Workbook.Names||(_.Workbook.Names=[]);var tt=_.Workbook.Names,rt=decode_range(et);rt.s.r==rt.e.r&&(rt.e.r=decode_range(o["!ref"]).e.r,et=encode_range(rt));for(var nt=0;nt<tt.length;++nt){var st=tt[nt];if(st.Name=="_xlnm._FilterDatabase"&&st.Sheet==j){st.Ref="'"+_.SheetNames[j]+"'!"+et;break}}nt==tt.length&&tt.push({Name:"_xlnm._FilterDatabase",Sheet:j,Ref:"'"+_.SheetNames[j]+"'!"+et}),write_record(i,161,write_UncheckedRfX(safe_decode_range(et))),write_record(i,162)}}function write_WSVIEWS2(i,o,_){write_record(i,133),write_record(i,137,write_BrtBeginWsView(o,_)),write_record(i,138),write_record(i,134)}function write_SHEETPROTECT(i,o){o["!protect"]&&write_record(i,535,write_BrtSheetProtection(o["!protect"]))}function write_ws_bin(i,o,_,j){var _e=buf_array(),et=_.SheetNames[i],tt=_.Sheets[et]||{},rt=et;try{_&&_.Workbook&&(rt=_.Workbook.Sheets[i].CodeName||rt)}catch{}var nt=safe_decode_range(tt["!ref"]||"A1");if(nt.e.c>16383||nt.e.r>1048575){if(o.WTF)throw new Error("Range "+(tt["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");nt.e.c=Math.min(nt.e.c,16383),nt.e.r=Math.min(nt.e.c,1048575)}return tt["!links"]=[],tt["!comments"]=[],write_record(_e,129),(_.vbaraw||tt["!outline"])&&write_record(_e,147,write_BrtWsProp(rt,tt["!outline"])),write_record(_e,148,write_BrtWsDim(nt)),write_WSVIEWS2(_e,tt,_.Workbook),write_COLINFOS(_e,tt),write_CELLTABLE(_e,tt,i,o),write_SHEETPROTECT(_e,tt),write_AUTOFILTER(_e,tt,_,i),write_MERGECELLS(_e,tt),write_HLINKS(_e,tt,j),tt["!margins"]&&write_record(_e,476,write_BrtMargins(tt["!margins"])),(!o||o.ignoreEC||o.ignoreEC==null)&&write_IGNOREECS(_e,tt),write_LEGACYDRAWING(_e,tt,i,j),write_record(_e,130),_e.end()}function parse_Cache(i){var o=[],_=i.match(/^<c:numCache>/),j;(i.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(et){var tt=et.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);tt&&(o[+tt[1]]=_?+tt[2]:tt[2])});var _e=unescapexml((i.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(i.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(et){j=et.replace(/<.*?>/g,"")}),[o,_e,j]}function parse_chart(i,o,_,j,_e,et){var tt=et||{"!type":"chart"};if(!i)return et;var rt=0,nt=0,st="A",it={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(i.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(at){var ot=parse_Cache(at);it.s.r=it.s.c=0,it.e.c=rt,st=encode_col(rt),ot[0].forEach(function(ct,ut){tt[st+encode_row(ut)]={t:"n",v:ct,z:ot[1]},nt=ut}),it.e.r<nt&&(it.e.r=nt),++rt}),rt>0&&(tt["!ref"]=encode_range(it)),tt}function parse_cs_xml(i,o,_,j,_e){if(!i)return i;j||(j={"!id":{}});var et={"!type":"chart","!drawel":null,"!rel":""},tt,rt=i.match(sheetprregex);return rt&&parse_ws_xml_sheetpr(rt[0],et,_e,_),(tt=i.match(/drawing r:id="(.*?)"/))&&(et["!rel"]=tt[1]),j["!id"][et["!rel"]]&&(et["!drawel"]=j["!id"][et["!rel"]]),et}function parse_BrtCsProp(i,o){i.l+=10;var _=parse_XLWideString(i);return{name:_}}function parse_cs_bin(i,o,_,j,_e){if(!i)return i;j||(j={"!id":{}});var et={"!type":"chart","!drawel":null,"!rel":""},tt=!1;return recordhopper(i,function(nt,st,it){switch(it){case 550:et["!rel"]=nt;break;case 651:_e.Sheets[_]||(_e.Sheets[_]={}),nt.name&&(_e.Sheets[_].CodeName=nt.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:tt=!0;break;case 36:tt=!1;break;case 37:break;case 38:break;default:if(!(st.T>0)){if(!(st.T<0)){if(!tt||o.WTF)throw new Error("Unexpected record 0x"+it.toString(16))}}}},o),j["!id"][et["!rel"]]&&(et["!drawel"]=j["!id"][et["!rel"]]),et}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],WBViewDef=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],SheetDef=[],CalcPrDef=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function push_defaults_array(i,o){for(var _=0;_!=i.length;++_)for(var j=i[_],_e=0;_e!=o.length;++_e){var et=o[_e];if(j[et[0]]==null)j[et[0]]=et[1];else switch(et[2]){case"bool":typeof j[et[0]]=="string"&&(j[et[0]]=parsexmlbool(j[et[0]]));break;case"int":typeof j[et[0]]=="string"&&(j[et[0]]=parseInt(j[et[0]],10));break}}}function push_defaults(i,o){for(var _=0;_!=o.length;++_){var j=o[_];if(i[j[0]]==null)i[j[0]]=j[1];else switch(j[2]){case"bool":typeof i[j[0]]=="string"&&(i[j[0]]=parsexmlbool(i[j[0]]));break;case"int":typeof i[j[0]]=="string"&&(i[j[0]]=parseInt(i[j[0]],10));break}}}function parse_wb_defaults(i){push_defaults(i.WBProps,WBPropsDef),push_defaults(i.CalcPr,CalcPrDef),push_defaults_array(i.WBView,WBViewDef),push_defaults_array(i.Sheets,SheetDef),_ssfopts.date1904=parsexmlbool(i.WBProps.date1904)}function safe1904(i){return!i.Workbook||!i.Workbook.WBProps?"false":parsexmlbool(i.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(i,o){if(i.length>31)throw new Error("Sheet names cannot exceed 31 chars");var _=!0;return badchars.forEach(function(j){if(i.indexOf(j)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),_}function check_wb_names(i,o,_){i.forEach(function(j,_e){check_ws_name(j);for(var et=0;et<_e;++et)if(j==i[et])throw new Error("Duplicate Sheet Name: "+j);if(_){var tt=o&&o[_e]&&o[_e].CodeName||j;if(tt.charCodeAt(0)==95&&tt.length>22)throw new Error("Bad Code Name: Worksheet"+tt)}})}function check_wb(i){if(!i||!i.SheetNames||!i.Sheets)throw new Error("Invalid Workbook");if(!i.SheetNames.length)throw new Error("Workbook is empty");var o=i.Workbook&&i.Workbook.Sheets||[];check_wb_names(i.SheetNames,o,!!i.vbaraw);for(var _=0;_<i.SheetNames.length;++_)check_ws(i.Sheets[i.SheetNames[_]],i.SheetNames[_],_)}var wbnsregex=/<\w+:workbook/;function parse_wb_xml(i,o){if(!i)throw new Error("Could not find file");var _={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},j=!1,_e="xmlns",et={},tt=0;if(i.replace(tagregex,function(nt,st){var it=parsexmltag(nt);switch(strip_ns(it[0])){case"<?xml":break;case"<workbook":nt.match(wbnsregex)&&(_e="xmlns"+nt.match(/<(\w+):/)[1]),_.xmlns=it[_e];break;case"</workbook>":break;case"<fileVersion":delete it[0],_.AppVersion=it;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":WBPropsDef.forEach(function(at){if(it[at[0]]!=null)switch(at[2]){case"bool":_.WBProps[at[0]]=parsexmlbool(it[at[0]]);break;case"int":_.WBProps[at[0]]=parseInt(it[at[0]],10);break;default:_.WBProps[at[0]]=it[at[0]]}}),it.codeName&&(_.WBProps.CodeName=utf8read(it.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete it[0],_.WBView.push(it);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(it.state){case"hidden":it.Hidden=1;break;case"veryHidden":it.Hidden=2;break;default:it.Hidden=0}delete it.state,it.name=unescapexml(utf8read(it.name)),delete it[0],_.Sheets.push(it);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":j=!0;break;case"</definedNames>":j=!1;break;case"<definedName":et={},et.Name=utf8read(it.name),it.comment&&(et.Comment=it.comment),it.localSheetId&&(et.Sheet=+it.localSheetId),parsexmlbool(it.hidden||"0")&&(et.Hidden=!0),tt=st+nt.length;break;case"</definedName>":et.Ref=unescapexml(utf8read(i.slice(tt,st))),_.Names.push(et);break;case"<definedName/>":break;case"<calcPr":delete it[0],_.CalcPr=it;break;case"<calcPr/>":delete it[0],_.CalcPr=it;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":j=!0;break;case"</ext>":j=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":j=!0;break;case"</AlternateContent>":j=!1;break;case"<revisionPtr":break;default:if(!j&&o.WTF)throw new Error("unrecognized "+it[0]+" in workbook")}return nt}),XMLNS_main.indexOf(_.xmlns)===-1)throw new Error("Unknown Namespace: "+_.xmlns);return parse_wb_defaults(_),_}function write_wb_xml(i){var o=[XML_HEADER];o[o.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var _=i.Workbook&&(i.Workbook.Names||[]).length>0,j={codeName:"ThisWorkbook"};i.Workbook&&i.Workbook.WBProps&&(WBPropsDef.forEach(function(rt){i.Workbook.WBProps[rt[0]]!=null&&i.Workbook.WBProps[rt[0]]!=rt[1]&&(j[rt[0]]=i.Workbook.WBProps[rt[0]])}),i.Workbook.WBProps.CodeName&&(j.codeName=i.Workbook.WBProps.CodeName,delete j.CodeName)),o[o.length]=writextag("workbookPr",null,j);var _e=i.Workbook&&i.Workbook.Sheets||[],et=0;if(_e&&_e[0]&&_e[0].Hidden){for(o[o.length]="<bookViews>",et=0;et!=i.SheetNames.length&&!(!_e[et]||!_e[et].Hidden);++et);et==i.SheetNames.length&&(et=0),o[o.length]='<workbookView firstSheet="'+et+'" activeTab="'+et+'"/>',o[o.length]="</bookViews>"}for(o[o.length]="<sheets>",et=0;et!=i.SheetNames.length;++et){var tt={name:escapexml(i.SheetNames[et].slice(0,31))};if(tt.sheetId=""+(et+1),tt["r:id"]="rId"+(et+1),_e[et])switch(_e[et].Hidden){case 1:tt.state="hidden";break;case 2:tt.state="veryHidden";break}o[o.length]=writextag("sheet",null,tt)}return o[o.length]="</sheets>",_&&(o[o.length]="<definedNames>",i.Workbook&&i.Workbook.Names&&i.Workbook.Names.forEach(function(rt){var nt={name:rt.Name};rt.Comment&&(nt.comment=rt.Comment),rt.Sheet!=null&&(nt.localSheetId=""+rt.Sheet),rt.Hidden&&(nt.hidden="1"),rt.Ref&&(o[o.length]=writextag("definedName",escapexml(rt.Ref),nt))}),o[o.length]="</definedNames>"),o.length>2&&(o[o.length]="</workbook>",o[1]=o[1].replace("/>",">")),o.join("")}function parse_BrtBundleSh(i,o){var _={};return _.Hidden=i.read_shift(4),_.iTabID=i.read_shift(4),_.strRelID=parse_RelID(i),_.name=parse_XLWideString(i),_}function write_BrtBundleSh(i,o){return o||(o=new_buf(127)),o.write_shift(4,i.Hidden),o.write_shift(4,i.iTabID),write_RelID(i.strRelID,o),write_XLWideString(i.name.slice(0,31),o),o.length>o.l?o.slice(0,o.l):o}function parse_BrtWbProp(i,o){var _={},j=i.read_shift(4);_.defaultThemeVersion=i.read_shift(4);var _e=o>8?parse_XLWideString(i):"";return _e.length>0&&(_.CodeName=_e),_.autoCompressPictures=!!(j&65536),_.backupFile=!!(j&64),_.checkCompatibility=!!(j&4096),_.date1904=!!(j&1),_.filterPrivacy=!!(j&8),_.hidePivotFieldList=!!(j&1024),_.promptedSolutions=!!(j&16),_.publishItems=!!(j&2048),_.refreshAllConnections=!!(j&262144),_.saveExternalLinkValues=!!(j&128),_.showBorderUnselectedTables=!!(j&4),_.showInkAnnotation=!!(j&32),_.showObjects=["all","placeholders","none"][j>>13&3],_.showPivotChartFilter=!!(j&32768),_.updateLinks=["userSet","never","always"][j>>8&3],_}function write_BrtWbProp(i,o){o||(o=new_buf(72));var _=0;return i&&i.filterPrivacy&&(_|=8),o.write_shift(4,_),o.write_shift(4,0),write_XLSBCodeName(i&&i.CodeName||"ThisWorkbook",o),o.slice(0,o.l)}function parse_BrtFRTArchID$(i,o){var _={};return i.read_shift(4),_.ArchID=i.read_shift(4),i.l+=o-8,_}function parse_BrtName(i,o,_){var j=i.l+o;i.l+=4,i.l+=1;var _e=i.read_shift(4),et=parse_XLNameWideString(i),tt=parse_XLSBNameParsedFormula(i,0,_),rt=parse_XLNullableWideString(i);i.l=j;var nt={Name:et,Ptg:tt};return _e<268435455&&(nt.Sheet=_e),rt&&(nt.Comment=rt),nt}function parse_wb_bin(i,o){var _={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},j=[],_e=!1;o||(o={}),o.biff=12;var et=[],tt=[[]];return tt.SheetNames=[],tt.XTI=[],XLSBRecordEnum[16]={n:"BrtFRTArchID$",f:parse_BrtFRTArchID$},recordhopper(i,function(nt,st,it){switch(it){case 156:tt.SheetNames.push(nt.name),_.Sheets.push(nt);break;case 153:_.WBProps=nt;break;case 39:nt.Sheet!=null&&(o.SID=nt.Sheet),nt.Ref=stringify_formula(nt.Ptg,null,null,tt,o),delete o.SID,delete nt.Ptg,et.push(nt);break;case 1036:break;case 357:case 358:case 355:case 667:tt[0].length?tt.push([it,nt]):tt[0]=[it,nt],tt[tt.length-1].XTI=[];break;case 362:tt.length===0&&(tt[0]=[],tt[0].XTI=[]),tt[tt.length-1].XTI=tt[tt.length-1].XTI.concat(nt),tt.XTI=tt.XTI.concat(nt);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:j.push(it),_e=!0;break;case 36:j.pop(),_e=!1;break;case 37:j.push(it),_e=!0;break;case 38:j.pop(),_e=!1;break;case 16:break;default:if(!st.T){if(!_e||o.WTF&&j[j.length-1]!=37&&j[j.length-1]!=35)throw new Error("Unexpected record 0x"+it.toString(16))}}},o),parse_wb_defaults(_),_.Names=et,_.supbooks=tt,_}function write_BUNDLESHS(i,o){write_record(i,143);for(var _=0;_!=o.SheetNames.length;++_){var j=o.Workbook&&o.Workbook.Sheets&&o.Workbook.Sheets[_]&&o.Workbook.Sheets[_].Hidden||0,_e={Hidden:j,iTabID:_+1,strRelID:"rId"+(_+1),name:o.SheetNames[_]};write_record(i,156,write_BrtBundleSh(_e))}write_record(i,144)}function write_BrtFileVersion(i,o){o||(o=new_buf(127));for(var _=0;_!=4;++_)o.write_shift(4,0);return write_XLWideString("SheetJS",o),write_XLWideString(XLSX.version,o),write_XLWideString(XLSX.version,o),write_XLWideString("7262",o),o.length>o.l?o.slice(0,o.l):o}function write_BrtBookView(i,o){o||(o=new_buf(29)),o.write_shift(-4,0),o.write_shift(-4,460),o.write_shift(4,28800),o.write_shift(4,17600),o.write_shift(4,500),o.write_shift(4,i),o.write_shift(4,i);var _=120;return o.write_shift(1,_),o.length>o.l?o.slice(0,o.l):o}function write_BOOKVIEWS(i,o){if(!(!o.Workbook||!o.Workbook.Sheets)){for(var _=o.Workbook.Sheets,j=0,_e=-1,et=-1;j<_.length;++j)!_[j]||!_[j].Hidden&&_e==-1?_e=j:_[j].Hidden==1&&et==-1&&(et=j);et>_e||(write_record(i,135),write_record(i,158,write_BrtBookView(_e)),write_record(i,136))}}function write_wb_bin(i,o){var _=buf_array();return write_record(_,131),write_record(_,128,write_BrtFileVersion()),write_record(_,153,write_BrtWbProp(i.Workbook&&i.Workbook.WBProps||null)),write_BOOKVIEWS(_,i),write_BUNDLESHS(_,i),write_record(_,132),_.end()}function parse_wb(i,o,_){return o.slice(-4)===".bin"?parse_wb_bin(i,_):parse_wb_xml(i,_)}function parse_ws(i,o,_,j,_e,et,tt,rt){return o.slice(-4)===".bin"?parse_ws_bin(i,j,_,_e,et,tt,rt):parse_ws_xml(i,j,_,_e,et,tt,rt)}function parse_cs(i,o,_,j,_e,et,tt,rt){return o.slice(-4)===".bin"?parse_cs_bin(i,j,_,_e,et):parse_cs_xml(i,j,_,_e,et)}function parse_ms(i,o,_,j,_e,et,tt,rt){return o.slice(-4)===".bin"?parse_ms_bin():parse_ms_xml()}function parse_ds(i,o,_,j,_e,et,tt,rt){return o.slice(-4)===".bin"?parse_ds_bin():parse_ds_xml()}function parse_sty(i,o,_,j){return o.slice(-4)===".bin"?parse_sty_bin(i,_,j):parse_sty_xml(i,_,j)}function parse_theme(i,o,_){return parse_theme_xml(i,_)}function parse_sst(i,o,_){return o.slice(-4)===".bin"?parse_sst_bin(i,_):parse_sst_xml(i,_)}function parse_cmnt(i,o,_){return o.slice(-4)===".bin"?parse_comments_bin(i,_):parse_comments_xml(i,_)}function parse_cc(i,o,_){return o.slice(-4)===".bin"?parse_cc_bin(i):parse_cc_xml(i)}function parse_xlink(i,o,_,j){return _.slice(-4)===".bin"?parse_xlink_bin(i,o,_,j):void 0}function parse_xlmeta(i,o,_){return o.slice(-4)===".bin"?parse_xlmeta_bin(i,o,_):parse_xlmeta_xml(i,o,_)}function write_wb(i,o,_){return(o.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(i)}function write_ws(i,o,_,j,_e){return(o.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(i,_,j,_e)}function write_sty(i,o,_){return(o.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(i,_)}function write_sst(i,o,_){return(o.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(i,_)}function write_cmnt(i,o,_){return(o.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(i)}function write_xlmeta(i){return(i.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xlml_parsexmltag(i,o){var _=i.split(/\s+/),j=[];if(j[0]=_[0],_.length===1)return j;var _e=i.match(attregexg2),et,tt,rt,nt;if(_e)for(nt=0;nt!=_e.length;++nt)et=_e[nt].match(attregex2),(tt=et[1].indexOf(":"))===-1?j[et[1]]=et[2].slice(1,et[2].length-1):(et[1].slice(0,6)==="xmlns:"?rt="xmlns"+et[1].slice(6):rt=et[1].slice(tt+1),j[rt]=et[2].slice(1,et[2].length-1));return j}function xlml_parsexmltagobj(i){var o=i.split(/\s+/),_={};if(o.length===1)return _;var j=i.match(attregexg2),_e,et,tt,rt;if(j)for(rt=0;rt!=j.length;++rt)_e=j[rt].match(attregex2),(et=_e[1].indexOf(":"))===-1?_[_e[1]]=_e[2].slice(1,_e[2].length-1):(_e[1].slice(0,6)==="xmlns:"?tt="xmlns"+_e[1].slice(6):tt=_e[1].slice(et+1),_[tt]=_e[2].slice(1,_e[2].length-1));return _}var XLMLFormatMap;function xlml_format(i,o){var _=XLMLFormatMap[i]||unescapexml(i);return _==="General"?SSF_general(o):SSF_format(_,o)}function xlml_set_custprop(i,o,_,j){var _e=j;switch((_[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":_e=parsexmlbool(j);break;case"i2":case"int":_e=parseInt(j,10);break;case"r4":case"float":_e=parseFloat(j);break;case"date":case"dateTime.tz":_e=parseDate(j);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+_[0])}i[unescapexml(o)]=_e}function safe_format_xlml(i,o,_){if(i.t!=="z"){if(!_||_.cellText!==!1)try{i.t==="e"?i.w=i.w||BErr[i.v]:o==="General"?i.t==="n"?(i.v|0)===i.v?i.w=i.v.toString(10):i.w=SSF_general_num(i.v):i.w=SSF_general(i.v):i.w=xlml_format(o||"General",i.v)}catch(et){if(_.WTF)throw et}try{var j=XLMLFormatMap[o]||o||"General";if(_.cellNF&&(i.z=j),_.cellDates&&i.t=="n"&&fmt_is_date(j)){var _e=SSF_parse_date_code(i.v);_e&&(i.t="d",i.v=new Date(_e.y,_e.m-1,_e.d,_e.H,_e.M,_e.S,_e.u))}}catch(et){if(_.WTF)throw et}}}function process_style_xlml(i,o,_){if(_.cellStyles&&o.Interior){var j=o.Interior;j.Pattern&&(j.patternType=XLMLPatternTypeMap[j.Pattern]||j.Pattern)}i[o.ID]=o}function parse_xlml_data(i,o,_,j,_e,et,tt,rt,nt,st){var it="General",at=j.StyleID,ot={};st=st||{};var ct=[],ut=0;for(at===void 0&&rt&&(at=rt.StyleID),at===void 0&&tt&&(at=tt.StyleID);et[at]!==void 0&&(et[at].nf&&(it=et[at].nf),et[at].Interior&&ct.push(et[at].Interior),!!et[at].Parent);)at=et[at].Parent;switch(_.Type){case"Boolean":j.t="b",j.v=parsexmlbool(i);break;case"String":j.t="s",j.r=xlml_fixstr(unescapexml(i)),j.v=i.indexOf("<")>-1?unescapexml(o||i).replace(/<.*?>/g,""):j.r;break;case"DateTime":i.slice(-1)!="Z"&&(i+="Z"),j.v=(parseDate(i)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),j.v!==j.v?j.v=unescapexml(i):j.v<60&&(j.v=j.v-1),(!it||it=="General")&&(it="yyyy-mm-dd");case"Number":j.v===void 0&&(j.v=+i),j.t||(j.t="n");break;case"Error":j.t="e",j.v=RBErr[i],st.cellText!==!1&&(j.w=i);break;default:i==""&&o==""?j.t="z":(j.t="s",j.v=xlml_fixstr(o||i));break}if(safe_format_xlml(j,it,st),st.cellFormula!==!1)if(j.Formula){var lt=unescapexml(j.Formula);lt.charCodeAt(0)==61&&(lt=lt.slice(1)),j.f=rc_to_a1(lt,_e),delete j.Formula,j.ArrayRange=="RC"?j.F=rc_to_a1("RC:RC",_e):j.ArrayRange&&(j.F=rc_to_a1(j.ArrayRange,_e),nt.push([safe_decode_range(j.F),j.F]))}else for(ut=0;ut<nt.length;++ut)_e.r>=nt[ut][0].s.r&&_e.r<=nt[ut][0].e.r&&_e.c>=nt[ut][0].s.c&&_e.c<=nt[ut][0].e.c&&(j.F=nt[ut][1]);st.cellStyles&&(ct.forEach(function(pt){!ot.patternType&&pt.patternType&&(ot.patternType=pt.patternType)}),j.s=ot),j.StyleID!==void 0&&(j.ixfe=j.StyleID)}function xlml_clean_comment(i){i.t=i.v||"",i.t=i.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),i.v=i.w=i.ixfe=void 0}function parse_xlml_xml(i,o){var _=o||{};make_ssf();var j=debom(xlml_normalize(i));(_.type=="binary"||_.type=="array"||_.type=="base64")&&(j=utf8read(j));var _e=j.slice(0,1024).toLowerCase(),et=!1;if(_e=_e.replace(/".*?"/g,""),(_e.indexOf(">")&1023)>Math.min(_e.indexOf(",")&1023,_e.indexOf(";")&1023)){var tt=dup(_);return tt.type="string",PRN.to_workbook(j,tt)}if(_e.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(tr){_e.indexOf("<"+tr)>=0&&(et=!0)}),et)return html_to_workbook(j,_);XLMLFormatMap={"General Number":"General","General Date":table_fmt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":table_fmt[15],"Short Date":table_fmt[14],"Long Time":table_fmt[19],"Medium Time":table_fmt[18],"Short Time":table_fmt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:table_fmt[2],Standard:table_fmt[4],Percent:table_fmt[10],Scientific:table_fmt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var rt,nt=[],st,it={},at=[],ot=_.dense?[]:{},ct="",ut={},lt={},pt=xlml_parsexmltag('<Data ss:Type="String">'),dt=0,ht=0,ft=0,mt={s:{r:2e6,c:2e6},e:{r:0,c:0}},xt={},gt={},yt="",_t=0,Et=[],wt={},$t={},jt=0,Tt=[],kt=[],Pt={},St=[],Rt,bt=!1,vt=[],At=[],Ot={},Ct=0,Lt=0,It={Sheets:[],WBProps:{date1904:!1}},Dt={};xlmlregex.lastIndex=0,j=j.replace(/<!--([\s\S]*?)-->/mg,"");for(var Zt="";rt=xlmlregex.exec(j);)switch(rt[3]=(Zt=rt[3]).toLowerCase()){case"data":if(Zt=="data"){if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"))}else rt[0].charAt(rt[0].length-2)!=="/"&&nt.push([rt[3],!0]);break}if(nt[nt.length-1][1])break;rt[1]==="/"?parse_xlml_data(j.slice(dt,rt.index),yt,pt,nt[nt.length-1][0]=="comment"?Pt:ut,{c:ht,r:ft},xt,St[ht],lt,vt,_):(yt="",pt=xlml_parsexmltag(rt[0]),dt=rt.index+rt[0].length);break;case"cell":if(rt[1]==="/")if(kt.length>0&&(ut.c=kt),(!_.sheetRows||_.sheetRows>ft)&&ut.v!==void 0&&(_.dense?(ot[ft]||(ot[ft]=[]),ot[ft][ht]=ut):ot[encode_col(ht)+encode_row(ft)]=ut),ut.HRef&&(ut.l={Target:unescapexml(ut.HRef)},ut.HRefScreenTip&&(ut.l.Tooltip=ut.HRefScreenTip),delete ut.HRef,delete ut.HRefScreenTip),(ut.MergeAcross||ut.MergeDown)&&(Ct=ht+(parseInt(ut.MergeAcross,10)|0),Lt=ft+(parseInt(ut.MergeDown,10)|0),Et.push({s:{c:ht,r:ft},e:{c:Ct,r:Lt}})),!_.sheetStubs)ut.MergeAcross?ht=Ct+1:++ht;else if(ut.MergeAcross||ut.MergeDown){for(var Qt=ht;Qt<=Ct;++Qt)for(var Yt=ft;Yt<=Lt;++Yt)(Qt>ht||Yt>ft)&&(_.dense?(ot[Yt]||(ot[Yt]=[]),ot[Yt][Qt]={t:"z"}):ot[encode_col(Qt)+encode_row(Yt)]={t:"z"});ht=Ct+1}else++ht;else ut=xlml_parsexmltagobj(rt[0]),ut.Index&&(ht=+ut.Index-1),ht<mt.s.c&&(mt.s.c=ht),ht>mt.e.c&&(mt.e.c=ht),rt[0].slice(-2)==="/>"&&++ht,kt=[];break;case"row":rt[1]==="/"||rt[0].slice(-2)==="/>"?(ft<mt.s.r&&(mt.s.r=ft),ft>mt.e.r&&(mt.e.r=ft),rt[0].slice(-2)==="/>"&&(lt=xlml_parsexmltag(rt[0]),lt.Index&&(ft=+lt.Index-1)),ht=0,++ft):(lt=xlml_parsexmltag(rt[0]),lt.Index&&(ft=+lt.Index-1),Ot={},(lt.AutoFitHeight=="0"||lt.Height)&&(Ot.hpx=parseInt(lt.Height,10),Ot.hpt=px2pt(Ot.hpx),At[ft]=Ot),lt.Hidden=="1"&&(Ot.hidden=!0,At[ft]=Ot));break;case"worksheet":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"));at.push(ct),mt.s.r<=mt.e.r&&mt.s.c<=mt.e.c&&(ot["!ref"]=encode_range(mt),_.sheetRows&&_.sheetRows<=mt.e.r&&(ot["!fullref"]=ot["!ref"],mt.e.r=_.sheetRows-1,ot["!ref"]=encode_range(mt))),Et.length&&(ot["!merges"]=Et),St.length>0&&(ot["!cols"]=St),At.length>0&&(ot["!rows"]=At),it[ct]=ot}else mt={s:{r:2e6,c:2e6},e:{r:0,c:0}},ft=ht=0,nt.push([rt[3],!1]),st=xlml_parsexmltag(rt[0]),ct=unescapexml(st.Name),ot=_.dense?[]:{},Et=[],vt=[],At=[],Dt={name:ct,Hidden:0},It.Sheets.push(Dt);break;case"table":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"))}else{if(rt[0].slice(-2)=="/>")break;nt.push([rt[3],!1]),St=[],bt=!1}break;case"style":rt[1]==="/"?process_style_xlml(xt,gt,_):gt=xlml_parsexmltag(rt[0]);break;case"numberformat":gt.nf=unescapexml(xlml_parsexmltag(rt[0]).Format||"General"),XLMLFormatMap[gt.nf]&&(gt.nf=XLMLFormatMap[gt.nf]);for(var Ft=0;Ft!=392&&table_fmt[Ft]!=gt.nf;++Ft);if(Ft==392){for(Ft=57;Ft!=392;++Ft)if(table_fmt[Ft]==null){SSF_load(gt.nf,Ft);break}}break;case"column":if(nt[nt.length-1][0]!=="table")break;if(Rt=xlml_parsexmltag(rt[0]),Rt.Hidden&&(Rt.hidden=!0,delete Rt.Hidden),Rt.Width&&(Rt.wpx=parseInt(Rt.Width,10)),!bt&&Rt.wpx>10){bt=!0,MDW=DEF_MDW;for(var Kt=0;Kt<St.length;++Kt)St[Kt]&&process_col(St[Kt])}bt&&process_col(Rt),St[Rt.Index-1||St.length]=Rt;for(var er=0;er<+Rt.Span;++er)St[St.length]=dup(Rt);break;case"namedrange":if(rt[1]==="/")break;It.Names||(It.Names=[]);var Nt=parsexmltag(rt[0]),lr={Name:Nt.Name,Ref:rc_to_a1(Nt.RefersTo.slice(1),{r:0,c:0})};It.Sheets.length>0&&(lr.Sheet=It.Sheets.length-1),It.Names.push(lr);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(rt[0].slice(-2)==="/>")break;rt[1]==="/"?yt+=j.slice(_t,rt.index):_t=rt.index+rt[0].length;break;case"interior":if(!_.cellStyles)break;gt.Interior=xlml_parsexmltag(rt[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(rt[0].slice(-2)==="/>")break;rt[1]==="/"?xlml_set_prop(wt,Zt,j.slice(jt,rt.index)):jt=rt.index+rt[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"))}else nt.push([rt[3],!1]);break;case"comment":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"));xlml_clean_comment(Pt),kt.push(Pt)}else nt.push([rt[3],!1]),st=xlml_parsexmltag(rt[0]),Pt={a:st.Author};break;case"autofilter":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"))}else if(rt[0].charAt(rt[0].length-2)!=="/"){var Wt=xlml_parsexmltag(rt[0]);ot["!autofilter"]={ref:rc_to_a1(Wt.Range).replace(/\$/g,"")},nt.push([rt[3],!0])}break;case"name":break;case"datavalidation":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"))}else rt[0].charAt(rt[0].length-2)!=="/"&&nt.push([rt[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(rt[1]==="/"){if((st=nt.pop())[0]!==rt[3])throw new Error("Bad state: "+st.join("|"))}else rt[0].charAt(rt[0].length-2)!=="/"&&nt.push([rt[3],!0]);break;case"null":break;default:if(nt.length==0&&rt[3]=="document"||nt.length==0&&rt[3]=="uof")return parse_fods(j,_);var Ut=!0;switch(nt[nt.length-1][0]){case"officedocumentsettings":switch(rt[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ut=!1}break;case"componentoptions":switch(rt[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ut=!1}break;case"excelworkbook":switch(rt[3]){case"date1904":It.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ut=!1}break;case"workbookoptions":switch(rt[3]){case"owcversion":break;case"height":break;case"width":break;default:Ut=!1}break;case"worksheetoptions":switch(rt[3]){case"visible":if(rt[0].slice(-2)!=="/>")if(rt[1]==="/")switch(j.slice(jt,rt.index)){case"SheetHidden":Dt.Hidden=1;break;case"SheetVeryHidden":Dt.Hidden=2;break}else jt=rt.index+rt[0].length;break;case"header":ot["!margins"]||default_margins(ot["!margins"]={},"xlml"),isNaN(+parsexmltag(rt[0]).Margin)||(ot["!margins"].header=+parsexmltag(rt[0]).Margin);break;case"footer":ot["!margins"]||default_margins(ot["!margins"]={},"xlml"),isNaN(+parsexmltag(rt[0]).Margin)||(ot["!margins"].footer=+parsexmltag(rt[0]).Margin);break;case"pagemargins":var Jt=parsexmltag(rt[0]);ot["!margins"]||default_margins(ot["!margins"]={},"xlml"),isNaN(+Jt.Top)||(ot["!margins"].top=+Jt.Top),isNaN(+Jt.Left)||(ot["!margins"].left=+Jt.Left),isNaN(+Jt.Right)||(ot["!margins"].right=+Jt.Right),isNaN(+Jt.Bottom)||(ot["!margins"].bottom=+Jt.Bottom);break;case"displayrighttoleft":It.Views||(It.Views=[]),It.Views[0]||(It.Views[0]={}),It.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":ot["!outline"]||(ot["!outline"]={}),ot["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":ot["!outline"]||(ot["!outline"]={}),ot["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ut=!1}break;case"pivottable":case"pivotcache":switch(rt[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ut=!1}break;case"pagebreaks":switch(rt[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ut=!1}break;case"autofilter":switch(rt[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ut=!1}break;case"querytable":switch(rt[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ut=!1}break;case"datavalidation":switch(rt[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ut=!1}break;case"sorting":case"conditionalformatting":switch(rt[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ut=!1}break;case"mapinfo":case"schema":case"data":switch(rt[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ut=!1}break;case"smarttags":break;default:Ut=!1;break}if(Ut||rt[3].match(/!\[CDATA/))break;if(!nt[nt.length-1][1])throw"Unrecognized tag: "+rt[3]+"|"+nt.join("|");if(nt[nt.length-1][0]==="customdocumentproperties"){if(rt[0].slice(-2)==="/>")break;rt[1]==="/"?xlml_set_custprop($t,Zt,Tt,j.slice(jt,rt.index)):(Tt=rt,jt=rt.index+rt[0].length);break}if(_.WTF)throw"Unrecognized tag: "+rt[3]+"|"+nt.join("|")}var Bt={};return!_.bookSheets&&!_.bookProps&&(Bt.Sheets=it),Bt.SheetNames=at,Bt.Workbook=It,Bt.SSF=dup(table_fmt),Bt.Props=wt,Bt.Custprops=$t,Bt}function parse_xlml(i,o){switch(fix_read_opts(o=o||{}),o.type||"base64"){case"base64":return parse_xlml_xml(Base64_decode(i),o);case"binary":case"buffer":case"file":return parse_xlml_xml(i,o);case"array":return parse_xlml_xml(a2s(i),o)}}function write_props_xlml(i,o){var _=[];return i.Props&&_.push(xlml_write_docprops(i.Props,o)),i.Custprops&&_.push(xlml_write_custprops(i.Props,i.Custprops)),_.join("")}function write_wb_xlml(){return""}function write_sty_xlml(i,o){var _=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return o.cellXfs.forEach(function(j,_e){var et=[];et.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[j.numFmtId])}));var tt={"ss:ID":"s"+(21+_e)};_.push(writextag("Style",et.join(""),tt))}),writextag("Styles",_.join(""))}function write_name_xlml(i){return writextag("NamedRange",null,{"ss:Name":i.Name,"ss:RefersTo":"="+a1_to_rc(i.Ref,{r:0,c:0})})}function write_names_xlml(i){if(!((i||{}).Workbook||{}).Names)return"";for(var o=i.Workbook.Names,_=[],j=0;j<o.length;++j){var _e=o[j];_e.Sheet==null&&(_e.Name.match(/^_xlfn\./)||_.push(write_name_xlml(_e)))}return writextag("Names",_.join(""))}function write_ws_xlml_names(i,o,_,j){if(!i||!((j||{}).Workbook||{}).Names)return"";for(var _e=j.Workbook.Names,et=[],tt=0;tt<_e.length;++tt){var rt=_e[tt];rt.Sheet==_&&(rt.Name.match(/^_xlfn\./)||et.push(write_name_xlml(rt)))}return et.join("")}function write_ws_xlml_wsopts(i,o,_,j){if(!i)return"";var _e=[];if(i["!margins"]&&(_e.push("<PageSetup>"),i["!margins"].header&&_e.push(writextag("Header",null,{"x:Margin":i["!margins"].header})),i["!margins"].footer&&_e.push(writextag("Footer",null,{"x:Margin":i["!margins"].footer})),_e.push(writextag("PageMargins",null,{"x:Bottom":i["!margins"].bottom||"0.75","x:Left":i["!margins"].left||"0.7","x:Right":i["!margins"].right||"0.7","x:Top":i["!margins"].top||"0.75"})),_e.push("</PageSetup>")),j&&j.Workbook&&j.Workbook.Sheets&&j.Workbook.Sheets[_])if(j.Workbook.Sheets[_].Hidden)_e.push(writextag("Visible",j.Workbook.Sheets[_].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var et=0;et<_&&!(j.Workbook.Sheets[et]&&!j.Workbook.Sheets[et].Hidden);++et);et==_&&_e.push("<Selected/>")}return((((j||{}).Workbook||{}).Views||[])[0]||{}).RTL&&_e.push("<DisplayRightToLeft/>"),i["!protect"]&&(_e.push(writetag("ProtectContents","True")),i["!protect"].objects&&_e.push(writetag("ProtectObjects","True")),i["!protect"].scenarios&&_e.push(writetag("ProtectScenarios","True")),i["!protect"].selectLockedCells!=null&&!i["!protect"].selectLockedCells?_e.push(writetag("EnableSelection","NoSelection")):i["!protect"].selectUnlockedCells!=null&&!i["!protect"].selectUnlockedCells&&_e.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(tt){i["!protect"][tt[0]]&&_e.push("<"+tt[1]+"/>")})),_e.length==0?"":writextag("WorksheetOptions",_e.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(i){return i.map(function(o){var _=xlml_unfixstr(o.t||""),j=writextag("ss:Data",_,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",j,{"ss:Author":o.a})}).join("")}function write_ws_xlml_cell(i,o,_,j,_e,et,tt){if(!i||i.v==null&&i.f==null)return"";var rt={};if(i.f&&(rt["ss:Formula"]="="+escapexml(a1_to_rc(i.f,tt))),i.F&&i.F.slice(0,o.length)==o){var nt=decode_cell(i.F.slice(o.length+1));rt["ss:ArrayRange"]="RC:R"+(nt.r==tt.r?"":"["+(nt.r-tt.r)+"]")+"C"+(nt.c==tt.c?"":"["+(nt.c-tt.c)+"]")}if(i.l&&i.l.Target&&(rt["ss:HRef"]=escapexml(i.l.Target),i.l.Tooltip&&(rt["x:HRefScreenTip"]=escapexml(i.l.Tooltip))),_["!merges"])for(var st=_["!merges"],it=0;it!=st.length;++it)st[it].s.c!=tt.c||st[it].s.r!=tt.r||(st[it].e.c>st[it].s.c&&(rt["ss:MergeAcross"]=st[it].e.c-st[it].s.c),st[it].e.r>st[it].s.r&&(rt["ss:MergeDown"]=st[it].e.r-st[it].s.r));var at="",ot="";switch(i.t){case"z":if(!j.sheetStubs)return"";break;case"n":at="Number",ot=String(i.v);break;case"b":at="Boolean",ot=i.v?"1":"0";break;case"e":at="Error",ot=BErr[i.v];break;case"d":at="DateTime",ot=new Date(i.v).toISOString(),i.z==null&&(i.z=i.z||table_fmt[14]);break;case"s":at="String",ot=escapexlml(i.v||"");break}var ct=get_cell_style(j.cellXfs,i,j);rt["ss:StyleID"]="s"+(21+ct),rt["ss:Index"]=tt.c+1;var ut=i.v!=null?ot:"",lt=i.t=="z"?"":'<Data ss:Type="'+at+'">'+ut+"</Data>";return(i.c||[]).length>0&&(lt+=write_ws_xlml_comment(i.c)),writextag("Cell",lt,rt)}function write_ws_xlml_row(i,o){var _='<Row ss:Index="'+(i+1)+'"';return o&&(o.hpt&&!o.hpx&&(o.hpx=pt2px(o.hpt)),o.hpx&&(_+=' ss:AutoFitHeight="0" ss:Height="'+o.hpx+'"'),o.hidden&&(_+=' ss:Hidden="1"')),_+">"}function write_ws_xlml_table(i,o,_,j){if(!i["!ref"])return"";var _e=safe_decode_range(i["!ref"]),et=i["!merges"]||[],tt=0,rt=[];i["!cols"]&&i["!cols"].forEach(function(pt,dt){process_col(pt);var ht=!!pt.width,ft=col_obj_w(dt,pt),mt={"ss:Index":dt+1};ht&&(mt["ss:Width"]=width2px(ft.width)),pt.hidden&&(mt["ss:Hidden"]="1"),rt.push(writextag("Column",null,mt))});for(var nt=Array.isArray(i),st=_e.s.r;st<=_e.e.r;++st){for(var it=[write_ws_xlml_row(st,(i["!rows"]||[])[st])],at=_e.s.c;at<=_e.e.c;++at){var ot=!1;for(tt=0;tt!=et.length;++tt)if(!(et[tt].s.c>at)&&!(et[tt].s.r>st)&&!(et[tt].e.c<at)&&!(et[tt].e.r<st)){(et[tt].s.c!=at||et[tt].s.r!=st)&&(ot=!0);break}if(!ot){var ct={r:st,c:at},ut=encode_cell(ct),lt=nt?(i[st]||[])[at]:i[ut];it.push(write_ws_xlml_cell(lt,ut,i,o,_,j,ct))}}it.push("</Row>"),it.length>2&&rt.push(it.join(""))}return rt.join("")}function write_ws_xlml(i,o,_){var j=[],_e=_.SheetNames[i],et=_.Sheets[_e],tt=et?write_ws_xlml_names(et,o,i,_):"";return tt.length>0&&j.push("<Names>"+tt+"</Names>"),tt=et?write_ws_xlml_table(et,o,i,_):"",tt.length>0&&j.push("<Table>"+tt+"</Table>"),j.push(write_ws_xlml_wsopts(et,o,i,_)),j.join("")}function write_xlml(i,o){o||(o={}),i.SSF||(i.SSF=dup(table_fmt)),i.SSF&&(make_ssf(),SSF_load_table(i.SSF),o.revssf=evert_num(i.SSF),o.revssf[i.SSF[65535]]=0,o.ssf=i.SSF,o.cellXfs=[],get_cell_style(o.cellXfs,{},{revssf:{General:0}}));var _=[];_.push(write_props_xlml(i,o)),_.push(write_wb_xlml()),_.push(""),_.push("");for(var j=0;j<i.SheetNames.length;++j)_.push(writextag("Worksheet",write_ws_xlml(j,o,i),{"ss:Name":escapexml(i.SheetNames[j])}));return _[2]=write_sty_xlml(i,o),_[3]=write_names_xlml(i),XML_HEADER+writextag("Workbook",_.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}function parse_compobj(i){var o={},_=i.content;if(_.l=28,o.AnsiUserType=_.read_shift(0,"lpstr-ansi"),o.AnsiClipboardFormat=parse_ClipboardFormatOrAnsiString(_),_.length-_.l<=4)return o;var j=_.read_shift(4);if(j==0||j>40||(_.l-=4,o.Reserved1=_.read_shift(0,"lpstr-ansi"),_.length-_.l<=4)||(j=_.read_shift(4),j!==1907505652)||(o.UnicodeClipboardFormat=parse_ClipboardFormatOrUnicodeString(_),j=_.read_shift(4),j==0||j>40))return o;_.l-=4,o.Reserved2=_.read_shift(0,"lpwstr")}var CONTINUE_RT=[60,1084,2066,2165,2175];function slurp(i,o,_,j,_e){var et=j,tt=[],rt=_.slice(_.l,_.l+et);if(_e&&_e.enc&&_e.enc.insitu&&rt.length>0)switch(i){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:_e.enc.insitu(rt)}tt.push(rt),_.l+=et;for(var nt=__readUInt16LE(_,_.l),st=XLSRecordEnum[nt],it=0;st!=null&&CONTINUE_RT.indexOf(nt)>-1;)et=__readUInt16LE(_,_.l+2),it=_.l+4,nt==2066?it+=4:(nt==2165||nt==2175)&&(it+=12),rt=_.slice(it,_.l+4+et),tt.push(rt),_.l+=4+et,st=XLSRecordEnum[nt=__readUInt16LE(_,_.l)];var at=bconcat(tt);prep_blob(at,0);var ot=0;at.lens=[];for(var ct=0;ct<tt.length;++ct)at.lens.push(ot),ot+=tt[ct].length;if(at.length<j)throw"XLS Record 0x"+i.toString(16)+" Truncated: "+at.length+" < "+j;return o.f(at,at.length,_e)}function safe_format_xf(i,o,_){if(i.t!=="z"&&i.XF){var j=0;try{j=i.z||i.XF.numFmtId||0,o.cellNF&&(i.z=table_fmt[j])}catch(et){if(o.WTF)throw et}if(!o||o.cellText!==!1)try{i.t==="e"?i.w=i.w||BErr[i.v]:j===0||j=="General"?i.t==="n"?(i.v|0)===i.v?i.w=i.v.toString(10):i.w=SSF_general_num(i.v):i.w=SSF_general(i.v):i.w=SSF_format(j,i.v,{date1904:!!_,dateNF:o&&o.dateNF})}catch(et){if(o.WTF)throw et}if(o.cellDates&&j&&i.t=="n"&&fmt_is_date(table_fmt[j]||String(j))){var _e=SSF_parse_date_code(i.v);_e&&(i.t="d",i.v=new Date(_e.y,_e.m-1,_e.d,_e.H,_e.M,_e.S,_e.u))}}}function make_cell(i,o,_){return{v:i,ixfe:o,t:_}}function parse_workbook(i,o){var _={opts:{}},j={},_e=o.dense?[]:{},et={},tt={},rt=null,nt=[],st="",it={},at,ot="",ct,ut,lt,pt,dt={},ht=[],ft,mt,xt=[],gt=[],yt={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_t={},Et=function(br){return br<8?XLSIcv[br]:br<64&&gt[br-8]||XLSIcv[br]},wt=function(br,$r,Nr){var Cr=$r.XF.data;if(!(!Cr||!Cr.patternType||!Nr||!Nr.cellStyles)){$r.s={},$r.s.patternType=Cr.patternType;var Fr;(Fr=rgb2Hex(Et(Cr.icvFore)))&&($r.s.fgColor={rgb:Fr}),(Fr=rgb2Hex(Et(Cr.icvBack)))&&($r.s.bgColor={rgb:Fr})}},$t=function(br,$r,Nr){if(!(Ot>1)&&!(Nr.sheetRows&&br.r>=Nr.sheetRows)){if(Nr.cellStyles&&$r.XF&&$r.XF.data&&wt(br,$r,Nr),delete $r.ixfe,delete $r.XF,at=br,ot=encode_cell(br),(!tt||!tt.s||!tt.e)&&(tt={s:{r:0,c:0},e:{r:0,c:0}}),br.r<tt.s.r&&(tt.s.r=br.r),br.c<tt.s.c&&(tt.s.c=br.c),br.r+1>tt.e.r&&(tt.e.r=br.r+1),br.c+1>tt.e.c&&(tt.e.c=br.c+1),Nr.cellFormula&&$r.f){for(var Cr=0;Cr<ht.length;++Cr)if(!(ht[Cr][0].s.c>br.c||ht[Cr][0].s.r>br.r)&&!(ht[Cr][0].e.c<br.c||ht[Cr][0].e.r<br.r)){$r.F=encode_range(ht[Cr][0]),(ht[Cr][0].s.c!=br.c||ht[Cr][0].s.r!=br.r)&&delete $r.f,$r.f&&($r.f=""+stringify_formula(ht[Cr][1],tt,br,vt,jt));break}}Nr.dense?(_e[br.r]||(_e[br.r]=[]),_e[br.r][br.c]=$r):_e[ot]=$r}},jt={enc:!1,sbcch:0,snames:[],sharedf:dt,arrayf:ht,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!o&&!!o.cellStyles,WTF:!!o&&!!o.wtf};o.password&&(jt.password=o.password);var Tt,kt=[],Pt=[],St=[],Rt=[],bt=!1,vt=[];vt.SheetNames=jt.snames,vt.sharedf=jt.sharedf,vt.arrayf=jt.arrayf,vt.names=[],vt.XTI=[];var At=0,Ot=0,Ct=0,Lt=[],It=[],Dt;jt.codepage=1200,set_cp(1200);for(var Zt=!1;i.l<i.length-1;){var Qt=i.l,Yt=i.read_shift(2);if(Yt===0&&At===10)break;var Ft=i.l===i.length?0:i.read_shift(2),Kt=XLSRecordEnum[Yt];if(Kt&&Kt.f){if(o.bookSheets&&At===133&&Yt!==133)break;if(At=Yt,Kt.r===2||Kt.r==12){var er=i.read_shift(2);if(Ft-=2,!jt.enc&&er!==Yt&&((er&255)<<8|er>>8)!==Yt)throw new Error("rt mismatch: "+er+"!="+Yt);Kt.r==12&&(i.l+=10,Ft-=10)}var Nt={};if(Yt===10?Nt=Kt.f(i,Ft,jt):Nt=slurp(Yt,Kt,i,Ft,jt),Ot==0&&[9,521,1033,2057].indexOf(At)===-1)continue;switch(Yt){case 34:_.opts.Date1904=yt.WBProps.date1904=Nt;break;case 134:_.opts.WriteProtect=!0;break;case 47:if(jt.enc||(i.l=0),jt.enc=Nt,!o.password)throw new Error("File is password-protected");if(Nt.valid==null)throw new Error("Encryption scheme unsupported");if(!Nt.valid)throw new Error("Password is incorrect");break;case 92:jt.lastuser=Nt;break;case 66:var lr=Number(Nt);switch(lr){case 21010:lr=1200;break;case 32768:lr=1e4;break;case 32769:lr=1252;break}set_cp(jt.codepage=lr),Zt=!0;break;case 317:jt.rrtabid=Nt;break;case 25:jt.winlocked=Nt;break;case 439:_.opts.RefreshAll=Nt;break;case 12:_.opts.CalcCount=Nt;break;case 16:_.opts.CalcDelta=Nt;break;case 17:_.opts.CalcIter=Nt;break;case 13:_.opts.CalcMode=Nt;break;case 14:_.opts.CalcPrecision=Nt;break;case 95:_.opts.CalcSaveRecalc=Nt;break;case 15:jt.CalcRefMode=Nt;break;case 2211:_.opts.FullCalc=Nt;break;case 129:Nt.fDialog&&(_e["!type"]="dialog"),Nt.fBelow||((_e["!outline"]||(_e["!outline"]={})).above=!0),Nt.fRight||((_e["!outline"]||(_e["!outline"]={})).left=!0);break;case 224:xt.push(Nt);break;case 430:vt.push([Nt]),vt[vt.length-1].XTI=[];break;case 35:case 547:vt[vt.length-1].push(Nt);break;case 24:case 536:Dt={Name:Nt.Name,Ref:stringify_formula(Nt.rgce,tt,null,vt,jt)},Nt.itab>0&&(Dt.Sheet=Nt.itab-1),vt.names.push(Dt),vt[0]||(vt[0]=[],vt[0].XTI=[]),vt[vt.length-1].push(Nt),Nt.Name=="_xlnm._FilterDatabase"&&Nt.itab>0&&Nt.rgce&&Nt.rgce[0]&&Nt.rgce[0][0]&&Nt.rgce[0][0][0]=="PtgArea3d"&&(It[Nt.itab-1]={ref:encode_range(Nt.rgce[0][0][1][2])});break;case 22:jt.ExternCount=Nt;break;case 23:vt.length==0&&(vt[0]=[],vt[0].XTI=[]),vt[vt.length-1].XTI=vt[vt.length-1].XTI.concat(Nt),vt.XTI=vt.XTI.concat(Nt);break;case 2196:if(jt.biff<8)break;Dt!=null&&(Dt.Comment=Nt[1]);break;case 18:_e["!protect"]=Nt;break;case 19:Nt!==0&&jt.WTF&&console.error("Password verifier: "+Nt);break;case 133:et[Nt.pos]=Nt,jt.snames.push(Nt.name);break;case 10:{if(--Ot)break;if(tt.e){if(tt.e.r>0&&tt.e.c>0){if(tt.e.r--,tt.e.c--,_e["!ref"]=encode_range(tt),o.sheetRows&&o.sheetRows<=tt.e.r){var Wt=tt.e.r;tt.e.r=o.sheetRows-1,_e["!fullref"]=_e["!ref"],_e["!ref"]=encode_range(tt),tt.e.r=Wt}tt.e.r++,tt.e.c++}kt.length>0&&(_e["!merges"]=kt),Pt.length>0&&(_e["!objects"]=Pt),St.length>0&&(_e["!cols"]=St),Rt.length>0&&(_e["!rows"]=Rt),yt.Sheets.push(_t)}st===""?it=_e:j[st]=_e,_e=o.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(jt.biff===8&&(jt.biff={9:2,521:3,1033:4}[Yt]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Nt.BIFFVer]||8),jt.biffguess=Nt.BIFFVer==0,Nt.BIFFVer==0&&Nt.dt==4096&&(jt.biff=5,Zt=!0,set_cp(jt.codepage=28591)),jt.biff==8&&Nt.BIFFVer==0&&Nt.dt==16&&(jt.biff=2),Ot++)break;if(_e=o.dense?[]:{},jt.biff<8&&!Zt&&(Zt=!0,set_cp(jt.codepage=o.codepage||1252)),jt.biff<5||Nt.BIFFVer==0&&Nt.dt==4096){st===""&&(st="Sheet1"),tt={s:{r:0,c:0},e:{r:0,c:0}};var Ut={pos:i.l-Ft,name:st};et[Ut.pos]=Ut,jt.snames.push(st)}else st=(et[Qt]||{name:""}).name;Nt.dt==32&&(_e["!type"]="chart"),Nt.dt==64&&(_e["!type"]="macro"),kt=[],Pt=[],jt.arrayf=ht=[],St=[],Rt=[],bt=!1,_t={Hidden:(et[Qt]||{hs:0}).hs,name:st}}break;case 515:case 3:case 2:_e["!type"]=="chart"&&(o.dense?(_e[Nt.r]||[])[Nt.c]:_e[encode_cell({c:Nt.c,r:Nt.r})])&&++Nt.c,ft={ixfe:Nt.ixfe,XF:xt[Nt.ixfe]||{},v:Nt.val,t:"n"},Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Nt.c,r:Nt.r},ft,o);break;case 5:case 517:ft={ixfe:Nt.ixfe,XF:xt[Nt.ixfe],v:Nt.val,t:Nt.t},Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Nt.c,r:Nt.r},ft,o);break;case 638:ft={ixfe:Nt.ixfe,XF:xt[Nt.ixfe],v:Nt.rknum,t:"n"},Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Nt.c,r:Nt.r},ft,o);break;case 189:for(var Jt=Nt.c;Jt<=Nt.C;++Jt){var Bt=Nt.rkrec[Jt-Nt.c][0];ft={ixfe:Bt,XF:xt[Bt],v:Nt.rkrec[Jt-Nt.c][1],t:"n"},Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Jt,r:Nt.r},ft,o)}break;case 6:case 518:case 1030:{if(Nt.val=="String"){rt=Nt;break}if(ft=make_cell(Nt.val,Nt.cell.ixfe,Nt.tt),ft.XF=xt[ft.ixfe],o.cellFormula){var tr=Nt.formula;if(tr&&tr[0]&&tr[0][0]&&tr[0][0][0]=="PtgExp"){var ar=tr[0][0][1][0],hr=tr[0][0][1][1],pr=encode_cell({r:ar,c:hr});dt[pr]?ft.f=""+stringify_formula(Nt.formula,tt,Nt.cell,vt,jt):ft.F=((o.dense?(_e[ar]||[])[hr]:_e[pr])||{}).F}else ft.f=""+stringify_formula(Nt.formula,tt,Nt.cell,vt,jt)}Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t(Nt.cell,ft,o),rt=Nt}break;case 7:case 519:if(rt)rt.val=Nt,ft=make_cell(Nt,rt.cell.ixfe,"s"),ft.XF=xt[ft.ixfe],o.cellFormula&&(ft.f=""+stringify_formula(rt.formula,tt,rt.cell,vt,jt)),Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t(rt.cell,ft,o),rt=null;else throw new Error("String record expects Formula");break;case 33:case 545:{ht.push(Nt);var yr=encode_cell(Nt[0].s);if(ct=o.dense?(_e[Nt[0].s.r]||[])[Nt[0].s.c]:_e[yr],o.cellFormula&&ct){if(!rt||!yr||!ct)break;ct.f=""+stringify_formula(Nt[1],tt,Nt[0],vt,jt),ct.F=encode_range(Nt[0])}}break;case 1212:{if(!o.cellFormula)break;if(ot){if(!rt)break;dt[encode_cell(rt.cell)]=Nt[0],ct=o.dense?(_e[rt.cell.r]||[])[rt.cell.c]:_e[encode_cell(rt.cell)],(ct||{}).f=""+stringify_formula(Nt[0],tt,at,vt,jt)}}break;case 253:ft=make_cell(nt[Nt.isst].t,Nt.ixfe,"s"),nt[Nt.isst].h&&(ft.h=nt[Nt.isst].h),ft.XF=xt[ft.ixfe],Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Nt.c,r:Nt.r},ft,o);break;case 513:o.sheetStubs&&(ft={ixfe:Nt.ixfe,XF:xt[Nt.ixfe],t:"z"},Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Nt.c,r:Nt.r},ft,o));break;case 190:if(o.sheetStubs)for(var xr=Nt.c;xr<=Nt.C;++xr){var vr=Nt.ixfe[xr-Nt.c];ft={ixfe:vr,XF:xt[vr],t:"z"},Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:xr,r:Nt.r},ft,o)}break;case 214:case 516:case 4:ft=make_cell(Nt.val,Nt.ixfe,"s"),ft.XF=xt[ft.ixfe],Ct>0&&(ft.z=Lt[ft.ixfe>>8&63]),safe_format_xf(ft,o,_.opts.Date1904),$t({c:Nt.c,r:Nt.r},ft,o);break;case 0:case 512:Ot===1&&(tt=Nt);break;case 252:nt=Nt;break;case 1054:if(jt.biff==4){Lt[Ct++]=Nt[1];for(var Er=0;Er<Ct+163&&table_fmt[Er]!=Nt[1];++Er);Er>=163&&SSF_load(Nt[1],Ct+163)}else SSF_load(Nt[1],Nt[0]);break;case 30:{Lt[Ct++]=Nt;for(var jr=0;jr<Ct+163&&table_fmt[jr]!=Nt;++jr);jr>=163&&SSF_load(Nt,Ct+163)}break;case 229:kt=kt.concat(Nt);break;case 93:Pt[Nt.cmo[0]]=jt.lastobj=Nt;break;case 438:jt.lastobj.TxO=Nt;break;case 127:jt.lastobj.ImData=Nt;break;case 440:for(pt=Nt[0].s.r;pt<=Nt[0].e.r;++pt)for(lt=Nt[0].s.c;lt<=Nt[0].e.c;++lt)ct=o.dense?(_e[pt]||[])[lt]:_e[encode_cell({c:lt,r:pt})],ct&&(ct.l=Nt[1]);break;case 2048:for(pt=Nt[0].s.r;pt<=Nt[0].e.r;++pt)for(lt=Nt[0].s.c;lt<=Nt[0].e.c;++lt)ct=o.dense?(_e[pt]||[])[lt]:_e[encode_cell({c:lt,r:pt})],ct&&ct.l&&(ct.l.Tooltip=Nt[1]);break;case 28:{if(jt.biff<=5&&jt.biff>=2)break;ct=o.dense?(_e[Nt[0].r]||[])[Nt[0].c]:_e[encode_cell(Nt[0])];var Ar=Pt[Nt[2]];ct||(o.dense?(_e[Nt[0].r]||(_e[Nt[0].r]=[]),ct=_e[Nt[0].r][Nt[0].c]={t:"z"}):ct=_e[encode_cell(Nt[0])]={t:"z"},tt.e.r=Math.max(tt.e.r,Nt[0].r),tt.s.r=Math.min(tt.s.r,Nt[0].r),tt.e.c=Math.max(tt.e.c,Nt[0].c),tt.s.c=Math.min(tt.s.c,Nt[0].c)),ct.c||(ct.c=[]),ut={a:Nt[1],t:Ar.TxO.t},ct.c.push(ut)}break;case 2173:update_xfext(xt[Nt.ixfe],Nt.ext);break;case 125:{if(!jt.cellStyles)break;for(;Nt.e>=Nt.s;)St[Nt.e--]={width:Nt.w/256,level:Nt.level||0,hidden:!!(Nt.flags&1)},bt||(bt=!0,find_mdw_colw(Nt.w/256)),process_col(St[Nt.e+1])}break;case 520:{var Rr={};Nt.level!=null&&(Rt[Nt.r]=Rr,Rr.level=Nt.level),Nt.hidden&&(Rt[Nt.r]=Rr,Rr.hidden=!0),Nt.hpt&&(Rt[Nt.r]=Rr,Rr.hpt=Nt.hpt,Rr.hpx=pt2px(Nt.hpt))}break;case 38:case 39:case 40:case 41:_e["!margins"]||default_margins(_e["!margins"]={}),_e["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Yt]]=Nt;break;case 161:_e["!margins"]||default_margins(_e["!margins"]={}),_e["!margins"].header=Nt.header,_e["!margins"].footer=Nt.footer;break;case 574:Nt.RTL&&(yt.Views[0].RTL=!0);break;case 146:gt=Nt;break;case 2198:Tt=Nt;break;case 140:mt=Nt;break;case 442:st?_t.CodeName=Nt||_t.name:yt.WBProps.CodeName=Nt||"ThisWorkbook";break}}else Kt||console.error("Missing Info for XLS Record 0x"+Yt.toString(16)),i.l+=Ft}return _.SheetNames=keys(et).sort(function(Tr,br){return Number(Tr)-Number(br)}).map(function(Tr){return et[Tr].name}),o.bookSheets||(_.Sheets=j),!_.SheetNames.length&&it["!ref"]?(_.SheetNames.push("Sheet1"),_.Sheets&&(_.Sheets.Sheet1=it)):_.Preamble=it,_.Sheets&&It.forEach(function(Tr,br){_.Sheets[_.SheetNames[br]]["!autofilter"]=Tr}),_.Strings=nt,_.SSF=dup(table_fmt),jt.enc&&(_.Encryption=jt.enc),Tt&&(_.Themes=Tt),_.Metadata={},mt!==void 0&&(_.Metadata.Country=mt),vt.names.length>0&&(yt.Names=vt.names),_.Workbook=yt,_}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function parse_xls_props(i,o,_){var j=CFB.find(i,"/!DocumentSummaryInformation");if(j&&j.size>0)try{var _e=parse_PropertySetStream(j,DocSummaryPIDDSI,PSCLSID.DSI);for(var et in _e)o[et]=_e[et]}catch(st){if(_.WTF)throw st}var tt=CFB.find(i,"/!SummaryInformation");if(tt&&tt.size>0)try{var rt=parse_PropertySetStream(tt,SummaryPIDSI,PSCLSID.SI);for(var nt in rt)o[nt]==null&&(o[nt]=rt[nt])}catch(st){if(_.WTF)throw st}o.HeadingPairs&&o.TitlesOfParts&&(load_props_pairs(o.HeadingPairs,o.TitlesOfParts,o,_),delete o.HeadingPairs,delete o.TitlesOfParts)}function write_xls_props(i,o){var _=[],j=[],_e=[],et=0,tt,rt=evert_key(DocSummaryPIDDSI,"n"),nt=evert_key(SummaryPIDSI,"n");if(i.Props)for(tt=keys(i.Props),et=0;et<tt.length;++et)(Object.prototype.hasOwnProperty.call(rt,tt[et])?_:Object.prototype.hasOwnProperty.call(nt,tt[et])?j:_e).push([tt[et],i.Props[tt[et]]]);if(i.Custprops)for(tt=keys(i.Custprops),et=0;et<tt.length;++et)Object.prototype.hasOwnProperty.call(i.Props||{},tt[et])||(Object.prototype.hasOwnProperty.call(rt,tt[et])?_:Object.prototype.hasOwnProperty.call(nt,tt[et])?j:_e).push([tt[et],i.Custprops[tt[et]]]);var st=[];for(et=0;et<_e.length;++et)XLSPSSkip.indexOf(_e[et][0])>-1||PseudoPropsPairs.indexOf(_e[et][0])>-1||_e[et][1]!=null&&st.push(_e[et]);j.length&&CFB.utils.cfb_add(o,"/SummaryInformation",write_PropertySetStream(j,PSCLSID.SI,nt,SummaryPIDSI)),(_.length||st.length)&&CFB.utils.cfb_add(o,"/DocumentSummaryInformation",write_PropertySetStream(_,PSCLSID.DSI,rt,DocSummaryPIDDSI,st.length?st:null,PSCLSID.UDI))}function parse_xlscfb(i,o){o||(o={}),fix_read_opts(o),reset_cp(),o.codepage&&set_ansi(o.codepage);var _,j;if(i.FullPaths){if(CFB.find(i,"/encryption"))throw new Error("File is password-protected");_=CFB.find(i,"!CompObj"),j=CFB.find(i,"/Workbook")||CFB.find(i,"/Book")}else{switch(o.type){case"base64":i=s2a(Base64_decode(i));break;case"binary":i=s2a(i);break;case"buffer":break;case"array":Array.isArray(i)||(i=Array.prototype.slice.call(i));break}prep_blob(i,0),j={content:i}}var _e,et;if(_&&parse_compobj(_),o.bookProps&&!o.bookSheets)_e={};else{var tt=has_buf?"buffer":"array";if(j&&j.content)_e=parse_workbook(j.content,o);else if((et=CFB.find(i,"PerfectOffice_MAIN"))&&et.content)_e=WK_.to_workbook(et.content,(o.type=tt,o));else if((et=CFB.find(i,"NativeContent_MAIN"))&&et.content)_e=WK_.to_workbook(et.content,(o.type=tt,o));else throw(et=CFB.find(i,"MN0"))&&et.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");o.bookVBA&&i.FullPaths&&CFB.find(i,"/_VBA_PROJECT_CUR/VBA/dir")&&(_e.vbaraw=make_vba_xls(i))}var rt={};return i.FullPaths&&parse_xls_props(i,rt,o),_e.Props=_e.Custprops=rt,o.bookFiles&&(_e.cfb=i),_e}function write_xlscfb(i,o){var _=o||{},j=CFB.utils.cfb_new({root:"R"}),_e="/Workbook";switch(_.bookType||"xls"){case"xls":_.bookType="biff8";case"xla":_.bookType||(_.bookType="xla");case"biff8":_e="/Workbook",_.biff=8;break;case"biff5":_e="/Book",_.biff=5;break;default:throw new Error("invalid type "+_.bookType+" for XLS CFB")}return CFB.utils.cfb_add(j,_e,write_biff_buf(i,_)),_.biff==8&&(i.Props||i.Custprops)&&write_xls_props(i,j),_.biff==8&&i.vbaraw&&fill_vba_xls(j,CFB.read(i.vbaraw,{type:typeof i.vbaraw=="string"?"binary":"buffer"})),j}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},XLSRecordEnum={6:{f:parse_Formula},10:{f:parsenoop2},12:{f:parseuint16},13:{f:parseuint16},14:{f:parsebool},15:{f:parsebool},16:{f:parse_Xnum},17:{f:parsebool},18:{f:parsebool},19:{f:parseuint16},20:{f:parse_XLHeaderFooter},21:{f:parse_XLHeaderFooter},23:{f:parse_ExternSheet},24:{f:parse_Lbl},25:{f:parsebool},26:{},27:{},28:{f:parse_Note},29:{},34:{f:parsebool},35:{f:parse_ExternName},38:{f:parse_Xnum},39:{f:parse_Xnum},40:{f:parse_Xnum},41:{f:parse_Xnum},42:{f:parsebool},43:{f:parsebool},47:{f:parse_FilePass},49:{f:parse_Font},51:{f:parseuint16},60:{},61:{f:parse_Window1},64:{f:parsebool},65:{f:parse_Pane},66:{f:parseuint16},77:{},80:{},81:{},82:{},85:{f:parseuint16},89:{},90:{},91:{},92:{f:parse_WriteAccess},93:{f:parse_Obj},94:{},95:{f:parsebool},96:{},97:{},99:{f:parsebool},125:{f:parse_ColInfo},128:{f:parse_Guts},129:{f:parse_WsBool},130:{f:parseuint16},131:{f:parsebool},132:{f:parsebool},133:{f:parse_BoundSheet8},134:{},140:{f:parse_Country},141:{f:parseuint16},144:{},146:{f:parse_Palette},151:{},152:{},153:{},154:{},155:{},156:{f:parseuint16},157:{},158:{},160:{f:parse_Scl},161:{f:parse_Setup},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:parse_MulRk},190:{f:parse_MulBlank},193:{f:parsenoop2},197:{},198:{},199:{},200:{},201:{},202:{f:parsebool},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:parseuint16},220:{},221:{f:parsebool},222:{},224:{f:parse_XF},225:{f:parse_InterfaceHdr},226:{f:parsenoop2},227:{},229:{f:parse_MergeCells},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:parse_SST},253:{f:parse_LabelSst},255:{f:parse_ExtSST},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:parseuint16a},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:parsebool},353:{f:parsenoop2},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:parse_SupBook},431:{f:parsebool},432:{},433:{},434:{},437:{},438:{f:parse_TxO},439:{f:parsebool},440:{f:parse_HLink},441:{},442:{f:parse_XLUnicodeString},443:{},444:{f:parseuint16},445:{},446:{},448:{f:parsenoop2},449:{f:parse_RecalcId,r:2},450:{f:parsenoop2},512:{f:parse_Dimensions},513:{f:parse_Blank},515:{f:parse_Number},516:{f:parse_Label},517:{f:parse_BoolErr},519:{f:parse_String},520:{f:parse_Row},523:{},545:{f:parse_Array},549:{f:parse_DefaultRowHeight},566:{},574:{f:parse_Window2},638:{f:parse_RK},659:{},1048:{},1054:{f:parse_Format},1084:{},1212:{f:parse_ShrFmla},2048:{f:parse_HLinkTooltip},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:parse_BOF},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:parsenoop2},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:parse_XFCRC,r:12},2173:{f:parse_XFExt,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:parsebool,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:parse_NameCmt,r:12},2197:{},2198:{f:parse_Theme,r:12},2199:{},2200:{},2201:{},2202:{f:parse_MTRSettings,r:12},2203:{f:parsenoop2},2204:{},2205:{},2206:{},2207:{},2211:{f:parse_ForceFullCalculation},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:parseuint16},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:parse_ShtProps},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:parse_ClrtClient},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:parse_Dimensions},1:{},2:{f:parse_BIFF2INT},3:{f:parse_BIFF2NUM},4:{f:parse_BIFF2STR},5:{f:parse_BoolErr},7:{f:parse_BIFF2STRING},8:{},9:{f:parse_BOF},11:{},22:{f:parseuint16},30:{f:parse_BIFF2Format},31:{},32:{},33:{f:parse_Array},36:{},37:{f:parse_DefaultRowHeight},50:{f:parse_BIFF2FONTXTRA},62:{},52:{},67:{},68:{f:parseuint16},69:{},86:{},126:{},127:{f:parse_ImData},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:parse_RString},223:{},234:{},354:{},421:{},518:{f:parse_Formula},521:{f:parse_BOF},536:{f:parse_Lbl},547:{f:parse_ExternName},561:{},579:{},1030:{f:parse_Formula},1033:{f:parse_BOF},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function write_biff_rec(i,o,_,j){var _e=o;if(!isNaN(_e)){var et=j||(_||[]).length||0,tt=i.next(4);tt.write_shift(2,_e),tt.write_shift(2,et),et>0&&is_buf(_)&&i.push(_)}}function write_biff_continue(i,o,_,j){var _e=(_||[]).length||0;if(_e<=8224)return write_biff_rec(i,o,_,_e);var et=o;if(!isNaN(et)){for(var tt=_.parts||[],rt=0,nt=0,st=0;st+(tt[rt]||8224)<=8224;)st+=tt[rt]||8224,rt++;var it=i.next(4);for(it.write_shift(2,et),it.write_shift(2,st),i.push(_.slice(nt,nt+st)),nt+=st;nt<_e;){for(it=i.next(4),it.write_shift(2,60),st=0;st+(tt[rt]||8224)<=8224;)st+=tt[rt]||8224,rt++;it.write_shift(2,st),i.push(_.slice(nt,nt+st)),nt+=st}}}function write_BIFF2Cell(i,o,_){return i||(i=new_buf(7)),i.write_shift(2,o),i.write_shift(2,_),i.write_shift(2,0),i.write_shift(1,0),i}function write_BIFF2BERR(i,o,_,j){var _e=new_buf(9);return write_BIFF2Cell(_e,i,o),write_Bes(_,j||"b",_e),_e}function write_BIFF2LABEL(i,o,_){var j=new_buf(8+2*_.length);return write_BIFF2Cell(j,i,o),j.write_shift(1,_.length),j.write_shift(_.length,_,"sbcs"),j.l<j.length?j.slice(0,j.l):j}function write_ws_biff2_cell(i,o,_,j){if(o.v!=null)switch(o.t){case"d":case"n":var _e=o.t=="d"?datenum(parseDate(o.v)):o.v;_e==(_e|0)&&_e>=0&&_e<65536?write_biff_rec(i,2,write_BIFF2INT(_,j,_e)):write_biff_rec(i,3,write_BIFF2NUM(_,j,_e));return;case"b":case"e":write_biff_rec(i,5,write_BIFF2BERR(_,j,o.v,o.t));return;case"s":case"str":write_biff_rec(i,4,write_BIFF2LABEL(_,j,(o.v||"").slice(0,255)));return}write_biff_rec(i,1,write_BIFF2Cell(null,_,j))}function write_ws_biff2(i,o,_,j){var _e=Array.isArray(o),et=safe_decode_range(o["!ref"]||"A1"),tt,rt="",nt=[];if(et.e.c>255||et.e.r>16383){if(j.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");et.e.c=Math.min(et.e.c,255),et.e.r=Math.min(et.e.c,16383),tt=encode_range(et)}for(var st=et.s.r;st<=et.e.r;++st){rt=encode_row(st);for(var it=et.s.c;it<=et.e.c;++it){st===et.s.r&&(nt[it]=encode_col(it)),tt=nt[it]+rt;var at=_e?(o[st]||[])[it]:o[tt];at&&write_ws_biff2_cell(i,at,st,it)}}}function write_biff2_buf(i,o){for(var _=o||{},j=buf_array(),_e=0,et=0;et<i.SheetNames.length;++et)i.SheetNames[et]==_.sheet&&(_e=et);if(_e==0&&_.sheet&&i.SheetNames[0]!=_.sheet)throw new Error("Sheet not found: "+_.sheet);return write_biff_rec(j,_.biff==4?1033:_.biff==3?521:9,write_BOF(i,16,_)),write_ws_biff2(j,i.Sheets[i.SheetNames[_e]],_e,_),write_biff_rec(j,10),j.end()}function write_FONTS_biff8(i,o,_){write_biff_rec(i,49,write_Font({sz:12,name:"Arial"},_))}function write_FMTS_biff8(i,o,_){o&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(j){for(var _e=j[0];_e<=j[1];++_e)o[_e]!=null&&write_biff_rec(i,1054,write_Format(_e,o[_e],_))})}function write_FEAT(i,o){var _=new_buf(19);_.write_shift(4,2151),_.write_shift(4,0),_.write_shift(4,0),_.write_shift(2,3),_.write_shift(1,1),_.write_shift(4,0),write_biff_rec(i,2151,_),_=new_buf(39),_.write_shift(4,2152),_.write_shift(4,0),_.write_shift(4,0),_.write_shift(2,3),_.write_shift(1,0),_.write_shift(4,0),_.write_shift(2,1),_.write_shift(4,4),_.write_shift(2,0),write_Ref8U(safe_decode_range(o["!ref"]||"A1"),_),_.write_shift(4,4),write_biff_rec(i,2152,_)}function write_CELLXFS_biff8(i,o){for(var _=0;_<16;++_)write_biff_rec(i,224,write_XF({numFmtId:0,style:!0},0,o));o.cellXfs.forEach(function(j){write_biff_rec(i,224,write_XF(j,0,o))})}function write_ws_biff8_hlinks(i,o){for(var _=0;_<o["!links"].length;++_){var j=o["!links"][_];write_biff_rec(i,440,write_HLink(j)),j[1].Tooltip&&write_biff_rec(i,2048,write_HLinkTooltip(j))}delete o["!links"]}function write_ws_cols_biff8(i,o){if(o){var _=0;o.forEach(function(j,_e){++_<=256&&j&&write_biff_rec(i,125,write_ColInfo(col_obj_w(_e,j),_e))})}}function write_ws_biff8_cell(i,o,_,j,_e){var et=16+get_cell_style(_e.cellXfs,o,_e);if(o.v==null&&!o.bf){write_biff_rec(i,513,write_XLSCell(_,j,et));return}if(o.bf)write_biff_rec(i,6,write_Formula(o,_,j,_e,et));else switch(o.t){case"d":case"n":var tt=o.t=="d"?datenum(parseDate(o.v)):o.v;write_biff_rec(i,515,write_Number(_,j,tt,et));break;case"b":case"e":write_biff_rec(i,517,write_BoolErr(_,j,o.v,et,_e,o.t));break;case"s":case"str":if(_e.bookSST){var rt=get_sst_id(_e.Strings,o.v,_e.revStrings);write_biff_rec(i,253,write_LabelSst(_,j,rt,et))}else write_biff_rec(i,516,write_Label(_,j,(o.v||"").slice(0,255),et,_e));break;default:write_biff_rec(i,513,write_XLSCell(_,j,et))}}function write_ws_biff8(i,o,_){var j=buf_array(),_e=_.SheetNames[i],et=_.Sheets[_e]||{},tt=(_||{}).Workbook||{},rt=(tt.Sheets||[])[i]||{},nt=Array.isArray(et),st=o.biff==8,it,at="",ot=[],ct=safe_decode_range(et["!ref"]||"A1"),ut=st?65536:16384;if(ct.e.c>255||ct.e.r>=ut){if(o.WTF)throw new Error("Range "+(et["!ref"]||"A1")+" exceeds format limit A1:IV16384");ct.e.c=Math.min(ct.e.c,255),ct.e.r=Math.min(ct.e.c,ut-1)}write_biff_rec(j,2057,write_BOF(_,16,o)),write_biff_rec(j,13,writeuint16(1)),write_biff_rec(j,12,writeuint16(100)),write_biff_rec(j,15,writebool(!0)),write_biff_rec(j,17,writebool(!1)),write_biff_rec(j,16,write_Xnum(.001)),write_biff_rec(j,95,writebool(!0)),write_biff_rec(j,42,writebool(!1)),write_biff_rec(j,43,writebool(!1)),write_biff_rec(j,130,writeuint16(1)),write_biff_rec(j,128,write_Guts()),write_biff_rec(j,131,writebool(!1)),write_biff_rec(j,132,writebool(!1)),st&&write_ws_cols_biff8(j,et["!cols"]),write_biff_rec(j,512,write_Dimensions(ct,o)),st&&(et["!links"]=[]);for(var lt=ct.s.r;lt<=ct.e.r;++lt){at=encode_row(lt);for(var pt=ct.s.c;pt<=ct.e.c;++pt){lt===ct.s.r&&(ot[pt]=encode_col(pt)),it=ot[pt]+at;var dt=nt?(et[lt]||[])[pt]:et[it];dt&&(write_ws_biff8_cell(j,dt,lt,pt,o),st&&dt.l&&et["!links"].push([it,dt.l]))}}var ht=rt.CodeName||rt.name||_e;return st&&write_biff_rec(j,574,write_Window2((tt.Views||[])[0])),st&&(et["!merges"]||[]).length&&write_biff_rec(j,229,write_MergeCells(et["!merges"])),st&&write_ws_biff8_hlinks(j,et),write_biff_rec(j,442,write_XLUnicodeString(ht)),st&&write_FEAT(j,et),write_biff_rec(j,10),j.end()}function write_biff8_global(i,o,_){var j=buf_array(),_e=(i||{}).Workbook||{},et=_e.Sheets||[],tt=_e.WBProps||{},rt=_.biff==8,nt=_.biff==5;if(write_biff_rec(j,2057,write_BOF(i,5,_)),_.bookType=="xla"&&write_biff_rec(j,135),write_biff_rec(j,225,rt?writeuint16(1200):null),write_biff_rec(j,193,writezeroes(2)),nt&&write_biff_rec(j,191),nt&&write_biff_rec(j,192),write_biff_rec(j,226),write_biff_rec(j,92,write_WriteAccess("SheetJS",_)),write_biff_rec(j,66,writeuint16(rt?1200:1252)),rt&&write_biff_rec(j,353,writeuint16(0)),rt&&write_biff_rec(j,448),write_biff_rec(j,317,write_RRTabId(i.SheetNames.length)),rt&&i.vbaraw&&write_biff_rec(j,211),rt&&i.vbaraw){var st=tt.CodeName||"ThisWorkbook";write_biff_rec(j,442,write_XLUnicodeString(st))}write_biff_rec(j,156,writeuint16(17)),write_biff_rec(j,25,writebool(!1)),write_biff_rec(j,18,writebool(!1)),write_biff_rec(j,19,writeuint16(0)),rt&&write_biff_rec(j,431,writebool(!1)),rt&&write_biff_rec(j,444,writeuint16(0)),write_biff_rec(j,61,write_Window1()),write_biff_rec(j,64,writebool(!1)),write_biff_rec(j,141,writeuint16(0)),write_biff_rec(j,34,writebool(safe1904(i)=="true")),write_biff_rec(j,14,writebool(!0)),rt&&write_biff_rec(j,439,writebool(!1)),write_biff_rec(j,218,writeuint16(0)),write_FONTS_biff8(j,i,_),write_FMTS_biff8(j,i.SSF,_),write_CELLXFS_biff8(j,_),rt&&write_biff_rec(j,352,writebool(!1));var it=j.end(),at=buf_array();rt&&write_biff_rec(at,140,write_Country()),rt&&_.Strings&&write_biff_continue(at,252,write_SST(_.Strings)),write_biff_rec(at,10);var ot=at.end(),ct=buf_array(),ut=0,lt=0;for(lt=0;lt<i.SheetNames.length;++lt)ut+=(rt?12:11)+(rt?2:1)*i.SheetNames[lt].length;var pt=it.length+ut+ot.length;for(lt=0;lt<i.SheetNames.length;++lt){var dt=et[lt]||{};write_biff_rec(ct,133,write_BoundSheet8({pos:pt,hs:dt.Hidden||0,dt:0,name:i.SheetNames[lt]},_)),pt+=o[lt].length}var ht=ct.end();if(ut!=ht.length)throw new Error("BS8 "+ut+" != "+ht.length);var ft=[];return it.length&&ft.push(it),ht.length&&ft.push(ht),ot.length&&ft.push(ot),bconcat(ft)}function write_biff8_buf(i,o){var _=o||{},j=[];i&&!i.SSF&&(i.SSF=dup(table_fmt)),i&&i.SSF&&(make_ssf(),SSF_load_table(i.SSF),_.revssf=evert_num(i.SSF),_.revssf[i.SSF[65535]]=0,_.ssf=i.SSF),_.Strings=[],_.Strings.Count=0,_.Strings.Unique=0,fix_write_opts(_),_.cellXfs=[],get_cell_style(_.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={});for(var _e=0;_e<i.SheetNames.length;++_e)j[j.length]=write_ws_biff8(_e,_,i);return j.unshift(write_biff8_global(i,j,_)),bconcat(j)}function write_biff_buf(i,o){for(var _=0;_<=i.SheetNames.length;++_){var j=i.Sheets[i.SheetNames[_]];if(!(!j||!j["!ref"])){var _e=decode_range(j["!ref"]);_e.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+i.SheetNames[_]+"' extends beyond column IV (255).  Data may be lost.")}}var et=o||{};switch(et.biff||2){case 8:case 5:return write_biff8_buf(i,o);case 4:case 3:case 2:return write_biff2_buf(i,o)}throw new Error("invalid type "+et.bookType+" for BIFF")}function html_to_sheet(i,o){var _=o||{},j=_.dense?[]:{};i=i.replace(/<!--.*?-->/g,"");var _e=i.match(/<table/i);if(!_e)throw new Error("Invalid HTML: could not find <table>");var et=i.match(/<\/table/i),tt=_e.index,rt=et&&et.index||i.length,nt=split_regex(i.slice(tt,rt),/(:?<tr[^>]*>)/i,"<tr>"),st=-1,it=0,at=0,ot=0,ct={s:{r:1e7,c:1e7},e:{r:0,c:0}},ut=[];for(tt=0;tt<nt.length;++tt){var lt=nt[tt].trim(),pt=lt.slice(0,3).toLowerCase();if(pt=="<tr"){if(++st,_.sheetRows&&_.sheetRows<=st){--st;break}it=0;continue}if(!(pt!="<td"&&pt!="<th")){var dt=lt.split(/<\/t[dh]>/i);for(rt=0;rt<dt.length;++rt){var ht=dt[rt].trim();if(ht.match(/<t[dh]/i)){for(var ft=ht,mt=0;ft.charAt(0)=="<"&&(mt=ft.indexOf(">"))>-1;)ft=ft.slice(mt+1);for(var xt=0;xt<ut.length;++xt){var gt=ut[xt];gt.s.c==it&&gt.s.r<st&&st<=gt.e.r&&(it=gt.e.c+1,xt=-1)}var yt=parsexmltag(ht.slice(0,ht.indexOf(">")));ot=yt.colspan?+yt.colspan:1,((at=+yt.rowspan)>1||ot>1)&&ut.push({s:{r:st,c:it},e:{r:st+(at||1)-1,c:it+ot-1}});var _t=yt.t||yt["data-t"]||"";if(!ft.length){it+=ot;continue}if(ft=htmldecode(ft),ct.s.r>st&&(ct.s.r=st),ct.e.r<st&&(ct.e.r=st),ct.s.c>it&&(ct.s.c=it),ct.e.c<it&&(ct.e.c=it),!ft.length){it+=ot;continue}var Et={t:"s",v:ft};_.raw||!ft.trim().length||_t=="s"||(ft==="TRUE"?Et={t:"b",v:!0}:ft==="FALSE"?Et={t:"b",v:!1}:isNaN(fuzzynum(ft))?isNaN(fuzzydate(ft).getDate())||(Et={t:"d",v:parseDate(ft)},_.cellDates||(Et={t:"n",v:datenum(Et.v)}),Et.z=_.dateNF||table_fmt[14]):Et={t:"n",v:fuzzynum(ft)}),_.dense?(j[st]||(j[st]=[]),j[st][it]=Et):j[encode_cell({r:st,c:it})]=Et,it+=ot}}}}return j["!ref"]=encode_range(ct),ut.length&&(j["!merges"]=ut),j}function make_html_row(i,o,_,j){for(var _e=i["!merges"]||[],et=[],tt=o.s.c;tt<=o.e.c;++tt){for(var rt=0,nt=0,st=0;st<_e.length;++st)if(!(_e[st].s.r>_||_e[st].s.c>tt)&&!(_e[st].e.r<_||_e[st].e.c<tt)){if(_e[st].s.r<_||_e[st].s.c<tt){rt=-1;break}rt=_e[st].e.r-_e[st].s.r+1,nt=_e[st].e.c-_e[st].s.c+1;break}if(!(rt<0)){var it=encode_cell({r:_,c:tt}),at=j.dense?(i[_]||[])[tt]:i[it],ot=at&&at.v!=null&&(at.h||escapehtml(at.w||(format_cell(at),at.w)||""))||"",ct={};rt>1&&(ct.rowspan=rt),nt>1&&(ct.colspan=nt),j.editable?ot='<span contenteditable="true">'+ot+"</span>":at&&(ct["data-t"]=at&&at.t||"z",at.v!=null&&(ct["data-v"]=at.v),at.z!=null&&(ct["data-z"]=at.z),at.l&&(at.l.Target||"#").charAt(0)!="#"&&(ot='<a href="'+at.l.Target+'">'+ot+"</a>")),ct.id=(j.id||"sjs")+"-"+it,et.push(writextag("td",ot,ct))}}var ut="<tr>";return ut+et.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function html_to_workbook(i,o){var _=i.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!_||_.length==0)throw new Error("Invalid HTML: could not find <table>");if(_.length==1)return sheet_to_workbook(html_to_sheet(_[0],o),o);var j=book_new();return _.forEach(function(_e,et){book_append_sheet(j,html_to_sheet(_e,o),"Sheet"+(et+1))}),j}function make_html_preamble(i,o,_){var j=[];return j.join("")+"<table"+(_&&_.id?' id="'+_.id+'"':"")+">"}function sheet_to_html(i,o){var _=o||{},j=_.header!=null?_.header:HTML_BEGIN,_e=_.footer!=null?_.footer:HTML_END,et=[j],tt=decode_range(i["!ref"]);_.dense=Array.isArray(i),et.push(make_html_preamble(i,tt,_));for(var rt=tt.s.r;rt<=tt.e.r;++rt)et.push(make_html_row(i,tt,rt,_));return et.push("</table>"+_e),et.join("")}function sheet_add_dom(i,o,_){var j=_||{},_e=0,et=0;if(j.origin!=null)if(typeof j.origin=="number")_e=j.origin;else{var tt=typeof j.origin=="string"?decode_cell(j.origin):j.origin;_e=tt.r,et=tt.c}var rt=o.getElementsByTagName("tr"),nt=Math.min(j.sheetRows||1e7,rt.length),st={s:{r:0,c:0},e:{r:_e,c:et}};if(i["!ref"]){var it=decode_range(i["!ref"]);st.s.r=Math.min(st.s.r,it.s.r),st.s.c=Math.min(st.s.c,it.s.c),st.e.r=Math.max(st.e.r,it.e.r),st.e.c=Math.max(st.e.c,it.e.c),_e==-1&&(st.e.r=_e=it.e.r+1)}var at=[],ot=0,ct=i["!rows"]||(i["!rows"]=[]),ut=0,lt=0,pt=0,dt=0,ht=0,ft=0;for(i["!cols"]||(i["!cols"]=[]);ut<rt.length&&lt<nt;++ut){var mt=rt[ut];if(is_dom_element_hidden(mt)){if(j.display)continue;ct[lt]={hidden:!0}}var xt=mt.children;for(pt=dt=0;pt<xt.length;++pt){var gt=xt[pt];if(!(j.display&&is_dom_element_hidden(gt))){var yt=gt.hasAttribute("data-v")?gt.getAttribute("data-v"):gt.hasAttribute("v")?gt.getAttribute("v"):htmldecode(gt.innerHTML),_t=gt.getAttribute("data-z")||gt.getAttribute("z");for(ot=0;ot<at.length;++ot){var Et=at[ot];Et.s.c==dt+et&&Et.s.r<lt+_e&&lt+_e<=Et.e.r&&(dt=Et.e.c+1-et,ot=-1)}ft=+gt.getAttribute("colspan")||1,((ht=+gt.getAttribute("rowspan")||1)>1||ft>1)&&at.push({s:{r:lt+_e,c:dt+et},e:{r:lt+_e+(ht||1)-1,c:dt+et+(ft||1)-1}});var wt={t:"s",v:yt},$t=gt.getAttribute("data-t")||gt.getAttribute("t")||"";yt!=null&&(yt.length==0?wt.t=$t||"z":j.raw||yt.trim().length==0||$t=="s"||(yt==="TRUE"?wt={t:"b",v:!0}:yt==="FALSE"?wt={t:"b",v:!1}:isNaN(fuzzynum(yt))?isNaN(fuzzydate(yt).getDate())||(wt={t:"d",v:parseDate(yt)},j.cellDates||(wt={t:"n",v:datenum(wt.v)}),wt.z=j.dateNF||table_fmt[14]):wt={t:"n",v:fuzzynum(yt)})),wt.z===void 0&&_t!=null&&(wt.z=_t);var jt="",Tt=gt.getElementsByTagName("A");if(Tt&&Tt.length)for(var kt=0;kt<Tt.length&&!(Tt[kt].hasAttribute("href")&&(jt=Tt[kt].getAttribute("href"),jt.charAt(0)!="#"));++kt);jt&&jt.charAt(0)!="#"&&(wt.l={Target:jt}),j.dense?(i[lt+_e]||(i[lt+_e]=[]),i[lt+_e][dt+et]=wt):i[encode_cell({c:dt+et,r:lt+_e})]=wt,st.e.c<dt+et&&(st.e.c=dt+et),dt+=ft}}++lt}return at.length&&(i["!merges"]=(i["!merges"]||[]).concat(at)),st.e.r=Math.max(st.e.r,lt-1+_e),i["!ref"]=encode_range(st),lt>=nt&&(i["!fullref"]=encode_range((st.e.r=rt.length-ut+lt-1+_e,st))),i}function parse_dom_table(i,o){var _=o||{},j=_.dense?[]:{};return sheet_add_dom(j,i,o)}function table_to_book(i,o){return sheet_to_workbook(parse_dom_table(i,o),o)}function is_dom_element_hidden(i){var o="",_=get_get_computed_style_function(i);return _&&(o=_(i).getPropertyValue("display")),o||(o=i.style&&i.style.display),o==="none"}function get_get_computed_style_function(i){return i.ownerDocument.defaultView&&typeof i.ownerDocument.defaultView.getComputedStyle=="function"?i.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function parse_text_p(i){var o=i.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(j,_e){return Array(parseInt(_e,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),_=unescapexml(o.replace(/<[^>]*>/g,""));return[_]}var number_formats_ods={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function parse_content_xml(i,o){var _=o||{},j=xlml_normalize(i),_e=[],et,tt,rt={name:""},nt="",st=0,it,at,ot={},ct=[],ut=_.dense?[]:{},lt,pt,dt={value:""},ht="",ft=0,mt=[],xt=-1,gt=-1,yt={s:{r:1e6,c:1e7},e:{r:0,c:0}},_t=0,Et={},wt=[],$t={},jt=0,Tt=0,kt=[],Pt=1,St=1,Rt=[],bt={Names:[]},vt={},At=["",""],Ot=[],Ct={},Lt="",It=0,Dt=!1,Zt=!1,Qt=0;for(xlmlregex.lastIndex=0,j=j.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");lt=xlmlregex.exec(j);)switch(lt[3]=lt[3].replace(/_.*$/,"")){case"table":case"":lt[1]==="/"?(yt.e.c>=yt.s.c&&yt.e.r>=yt.s.r?ut["!ref"]=encode_range(yt):ut["!ref"]="A1:A1",_.sheetRows>0&&_.sheetRows<=yt.e.r&&(ut["!fullref"]=ut["!ref"],yt.e.r=_.sheetRows-1,ut["!ref"]=encode_range(yt)),wt.length&&(ut["!merges"]=wt),kt.length&&(ut["!rows"]=kt),it.name=it.||it.name,typeof JSON<"u"&&JSON.stringify(it),ct.push(it.name),ot[it.name]=ut,Zt=!1):lt[0].charAt(lt[0].length-2)!=="/"&&(it=parsexmltag(lt[0],!1),xt=gt=-1,yt.s.r=yt.s.c=1e7,yt.e.r=yt.e.c=0,ut=_.dense?[]:{},wt=[],kt=[],Zt=!0);break;case"table-row-group":lt[1]==="/"?--_t:++_t;break;case"table-row":case"":if(lt[1]==="/"){xt+=Pt,Pt=1;break}if(at=parsexmltag(lt[0],!1),at.?xt=at.-1:xt==-1&&(xt=0),Pt=+at["number-rows-repeated"]||1,Pt<10)for(Qt=0;Qt<Pt;++Qt)_t>0&&(kt[xt+Qt]={level:_t});gt=-1;break;case"covered-table-cell":lt[1]!=="/"&&++gt,_.sheetStubs&&(_.dense?(ut[xt]||(ut[xt]=[]),ut[xt][gt]={t:"z"}):ut[encode_cell({r:xt,c:gt})]={t:"z"}),ht="",mt=[];break;case"table-cell":case"":if(lt[0].charAt(lt[0].length-2)==="/")++gt,dt=parsexmltag(lt[0],!1),St=parseInt(dt["number-columns-repeated"]||"1",10),pt={t:"z",v:null},dt.formula&&_.cellFormula!=!1&&(pt.f=ods_to_csf_formula(unescapexml(dt.formula))),(dt.||dt["value-type"])=="string"&&(pt.t="s",pt.v=unescapexml(dt["string-value"]||""),_.dense?(ut[xt]||(ut[xt]=[]),ut[xt][gt]=pt):ut[encode_cell({r:xt,c:gt})]=pt),gt+=St-1;else if(lt[1]!=="/"){++gt,ht="",ft=0,mt=[],St=1;var Yt=Pt?xt+Pt-1:xt;if(gt>yt.e.c&&(yt.e.c=gt),gt<yt.s.c&&(yt.s.c=gt),xt<yt.s.r&&(yt.s.r=xt),Yt>yt.e.r&&(yt.e.r=Yt),dt=parsexmltag(lt[0],!1),Ot=[],Ct={},pt={t:dt.||dt["value-type"],v:null},_.cellFormula)if(dt.formula&&(dt.formula=unescapexml(dt.formula)),dt["number-matrix-columns-spanned"]&&dt["number-matrix-rows-spanned"]&&(jt=parseInt(dt["number-matrix-rows-spanned"],10)||0,Tt=parseInt(dt["number-matrix-columns-spanned"],10)||0,$t={s:{r:xt,c:gt},e:{r:xt+jt-1,c:gt+Tt-1}},pt.F=encode_range($t),Rt.push([$t,pt.F])),dt.formula)pt.f=ods_to_csf_formula(dt.formula);else for(Qt=0;Qt<Rt.length;++Qt)xt>=Rt[Qt][0].s.r&&xt<=Rt[Qt][0].e.r&&gt>=Rt[Qt][0].s.c&&gt<=Rt[Qt][0].e.c&&(pt.F=Rt[Qt][1]);switch((dt["number-columns-spanned"]||dt["number-rows-spanned"])&&(jt=parseInt(dt["number-rows-spanned"],10)||0,Tt=parseInt(dt["number-columns-spanned"],10)||0,$t={s:{r:xt,c:gt},e:{r:xt+jt-1,c:gt+Tt-1}},wt.push($t)),dt["number-columns-repeated"]&&(St=parseInt(dt["number-columns-repeated"],10)),pt.t){case"boolean":pt.t="b",pt.v=parsexmlbool(dt["boolean-value"]);break;case"float":pt.t="n",pt.v=parseFloat(dt.value);break;case"percentage":pt.t="n",pt.v=parseFloat(dt.value);break;case"currency":pt.t="n",pt.v=parseFloat(dt.value);break;case"date":pt.t="d",pt.v=parseDate(dt["date-value"]),_.cellDates||(pt.t="n",pt.v=datenum(pt.v)),pt.z="m/d/yy";break;case"time":pt.t="n",pt.v=parse_isodur(dt["time-value"])/86400,_.cellDates&&(pt.t="d",pt.v=numdate(pt.v)),pt.z="HH:MM:SS";break;case"number":pt.t="n",pt.v=parseFloat(dt.);break;default:if(pt.t==="string"||pt.t==="text"||!pt.t)pt.t="s",dt["string-value"]!=null&&(ht=unescapexml(dt["string-value"]),mt=[]);else throw new Error("Unsupported value type "+pt.t)}}else{if(Dt=!1,pt.t==="s"&&(pt.v=ht||"",mt.length&&(pt.R=mt),Dt=ft==0),vt.Target&&(pt.l=vt),Ot.length>0&&(pt.c=Ot,Ot=[]),ht&&_.cellText!==!1&&(pt.w=ht),Dt&&(pt.t="z",delete pt.v),(!Dt||_.sheetStubs)&&!(_.sheetRows&&_.sheetRows<=xt))for(var Ft=0;Ft<Pt;++Ft){if(St=parseInt(dt["number-columns-repeated"]||"1",10),_.dense)for(ut[xt+Ft]||(ut[xt+Ft]=[]),ut[xt+Ft][gt]=Ft==0?pt:dup(pt);--St>0;)ut[xt+Ft][gt+St]=dup(pt);else for(ut[encode_cell({r:xt+Ft,c:gt})]=pt;--St>0;)ut[encode_cell({r:xt+Ft,c:gt+St})]=dup(pt);yt.e.c<=gt&&(yt.e.c=gt)}St=parseInt(dt["number-columns-repeated"]||"1",10),gt+=St-1,St=0,pt={},ht="",mt=[]}vt={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(lt[1]==="/"){if((et=_e.pop())[0]!==lt[3])throw"Bad state: "+et}else lt[0].charAt(lt[0].length-2)!=="/"&&_e.push([lt[3],!0]);break;case"annotation":if(lt[1]==="/"){if((et=_e.pop())[0]!==lt[3])throw"Bad state: "+et;Ct.t=ht,mt.length&&(Ct.R=mt),Ct.a=Lt,Ot.push(Ct)}else lt[0].charAt(lt[0].length-2)!=="/"&&_e.push([lt[3],!1]);Lt="",It=0,ht="",ft=0,mt=[];break;case"creator":lt[1]==="/"?Lt=j.slice(It,lt.index):It=lt.index+lt[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(lt[1]==="/"){if((et=_e.pop())[0]!==lt[3])throw"Bad state: "+et}else lt[0].charAt(lt[0].length-2)!=="/"&&_e.push([lt[3],!1]);ht="",ft=0,mt=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(lt[1]==="/"){if(Et[rt.name]=nt,(et=_e.pop())[0]!==lt[3])throw"Bad state: "+et}else lt[0].charAt(lt[0].length-2)!=="/"&&(nt="",rt=parsexmltag(lt[0],!1),_e.push([lt[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(_e[_e.length-1][0]){case"time-style":case"date-style":tt=parsexmltag(lt[0],!1),nt+=number_formats_ods[lt[3]][tt.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(_e[_e.length-1][0]){case"time-style":case"date-style":tt=parsexmltag(lt[0],!1),nt+=number_formats_ods[lt[3]][tt.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(lt[0].slice(-2)==="/>")break;if(lt[1]==="/")switch(_e[_e.length-1][0]){case"number-style":case"date-style":case"time-style":nt+=j.slice(st,lt.index);break}else st=lt.index+lt[0].length;break;case"named-range":tt=parsexmltag(lt[0],!1),At=ods_to_csf_3D(tt["cell-range-address"]);var Kt={Name:tt.name,Ref:At[0]+"!"+At[1]};Zt&&(Kt.Sheet=ct.length),bt.Names.push(Kt);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(_e[_e.length-1][0])>-1)break;if(lt[1]==="/"&&(!dt||!dt["string-value"])){var er=parse_text_p(j.slice(ft,lt.index));ht=(ht.length>0?ht+`
`:"")+er[0]}else parsexmltag(lt[0],!1),ft=lt.index+lt[0].length;break;case"s":break;case"database-range":if(lt[1]==="/")break;try{At=ods_to_csf_3D(parsexmltag(lt[0])["target-range-address"]),ot[At[0]]["!autofilter"]={ref:At[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(lt[1]!=="/"){if(vt=parsexmltag(lt[0],!1),!vt.href)break;vt.Target=unescapexml(vt.href),delete vt.href,vt.Target.charAt(0)=="#"&&vt.Target.indexOf(".")>-1?(At=ods_to_csf_3D(vt.Target.slice(1)),vt.Target="#"+At[0]+"!"+At[1]):vt.Target.match(/^\.\.[\\\/]/)&&(vt.Target=vt.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(lt[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(_.WTF)throw new Error(lt)}}var Nt={Sheets:ot,SheetNames:ct,Workbook:bt};return _.bookSheets&&delete Nt.Sheets,Nt}function parse_ods(i,o){o=o||{},safegetzipfile(i,"META-INF/manifest.xml")&&parse_manifest(getzipdata(i,"META-INF/manifest.xml"),o);var _=getzipstr(i,"content.xml");if(!_)throw new Error("Missing content.xml in ODS / UOF file");var j=parse_content_xml(utf8read(_),o);return safegetzipfile(i,"meta.xml")&&(j.Props=parse_core_props(getzipdata(i,"meta.xml"))),j}function parse_fods(i,o){return parse_content_xml(i,o)}var write_styles_ods=function(){var i=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),o="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+i+"</office:document-styles>";return function(){return XML_HEADER+o}}(),write_content_ods=function(){var i=function(et){return escapexml(et).replace(/  +/g,function(tt){return'<text:s text:c="'+tt.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},o=`          <table:table-cell />
`,_=`          <table:covered-table-cell/>
`,j=function(et,tt,rt){var nt=[];nt.push('      <table:table table:name="'+escapexml(tt.SheetNames[rt])+`" table:style-name="ta1">
`);var st=0,it=0,at=decode_range(et["!ref"]||"A1"),ot=et["!merges"]||[],ct=0,ut=Array.isArray(et);if(et["!cols"])for(it=0;it<=at.e.c;++it)nt.push("        <table:table-column"+(et["!cols"][it]?' table:style-name="co'+et["!cols"][it].ods+'"':"")+`></table:table-column>
`);var lt="",pt=et["!rows"]||[];for(st=0;st<at.s.r;++st)lt=pt[st]?' table:style-name="ro'+pt[st].ods+'"':"",nt.push("        <table:table-row"+lt+`></table:table-row>
`);for(;st<=at.e.r;++st){for(lt=pt[st]?' table:style-name="ro'+pt[st].ods+'"':"",nt.push("        <table:table-row"+lt+`>
`),it=0;it<at.s.c;++it)nt.push(o);for(;it<=at.e.c;++it){var dt=!1,ht={},ft="";for(ct=0;ct!=ot.length;++ct)if(!(ot[ct].s.c>it)&&!(ot[ct].s.r>st)&&!(ot[ct].e.c<it)&&!(ot[ct].e.r<st)){(ot[ct].s.c!=it||ot[ct].s.r!=st)&&(dt=!0),ht["table:number-columns-spanned"]=ot[ct].e.c-ot[ct].s.c+1,ht["table:number-rows-spanned"]=ot[ct].e.r-ot[ct].s.r+1;break}if(dt){nt.push(_);continue}var mt=encode_cell({r:st,c:it}),xt=ut?(et[st]||[])[it]:et[mt];if(xt&&xt.f&&(ht["table:formula"]=escapexml(csf_to_ods_formula(xt.f)),xt.F&&xt.F.slice(0,mt.length)==mt)){var gt=decode_range(xt.F);ht["table:number-matrix-columns-spanned"]=gt.e.c-gt.s.c+1,ht["table:number-matrix-rows-spanned"]=gt.e.r-gt.s.r+1}if(!xt){nt.push(o);continue}switch(xt.t){case"b":ft=xt.v?"TRUE":"FALSE",ht["office:value-type"]="boolean",ht["office:boolean-value"]=xt.v?"true":"false";break;case"n":ft=xt.w||String(xt.v||0),ht["office:value-type"]="float",ht["office:value"]=xt.v||0;break;case"s":case"str":ft=xt.v==null?"":xt.v,ht["office:value-type"]="string";break;case"d":ft=xt.w||parseDate(xt.v).toISOString(),ht["office:value-type"]="date",ht["office:date-value"]=parseDate(xt.v).toISOString(),ht["table:style-name"]="ce1";break;default:nt.push(o);continue}var yt=i(ft);if(xt.l&&xt.l.Target){var _t=xt.l.Target;_t=_t.charAt(0)=="#"?"#"+csf_to_ods_3D(_t.slice(1)):_t,_t.charAt(0)!="#"&&!_t.match(/^\w+:/)&&(_t="../"+_t),yt=writextag("text:a",yt,{"xlink:href":_t.replace(/&/g,"&amp;")})}nt.push("          "+writextag("table:table-cell",writextag("text:p",yt,{}),ht)+`
`)}nt.push(`        </table:table-row>
`)}return nt.push(`      </table:table>
`),nt.join("")},_e=function(et,tt){et.push(` <office:automatic-styles>
`),et.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),et.push(`   <number:month number:style="long"/>
`),et.push(`   <number:text>/</number:text>
`),et.push(`   <number:day number:style="long"/>
`),et.push(`   <number:text>/</number:text>
`),et.push(`   <number:year/>
`),et.push(`  </number:date-style>
`);var rt=0;tt.SheetNames.map(function(st){return tt.Sheets[st]}).forEach(function(st){if(st&&st["!cols"]){for(var it=0;it<st["!cols"].length;++it)if(st["!cols"][it]){var at=st["!cols"][it];if(at.width==null&&at.wpx==null&&at.wch==null)continue;process_col(at),at.ods=rt;var ot=st["!cols"][it].wpx+"px";et.push('  <style:style style:name="co'+rt+`" style:family="table-column">
`),et.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+ot+`"/>
`),et.push(`  </style:style>
`),++rt}}});var nt=0;tt.SheetNames.map(function(st){return tt.Sheets[st]}).forEach(function(st){if(st&&st["!rows"]){for(var it=0;it<st["!rows"].length;++it)if(st["!rows"][it]){st["!rows"][it].ods=nt;var at=st["!rows"][it].hpx+"px";et.push('  <style:style style:name="ro'+nt+`" style:family="table-row">
`),et.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+at+`"/>
`),et.push(`  </style:style>
`),++nt}}}),et.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),et.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),et.push(`  </style:style>
`),et.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),et.push(` </office:automatic-styles>
`)};return function(tt,rt){var nt=[XML_HEADER],st=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),it=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});rt.bookType=="fods"?(nt.push("<office:document"+st+it+`>
`),nt.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):nt.push("<office:document-content"+st+`>
`),_e(nt,tt),nt.push(`  <office:body>
`),nt.push(`    <office:spreadsheet>
`);for(var at=0;at!=tt.SheetNames.length;++at)nt.push(j(tt.Sheets[tt.SheetNames[at]],tt,at));return nt.push(`    </office:spreadsheet>
`),nt.push(`  </office:body>
`),rt.bookType=="fods"?nt.push("</office:document>"):nt.push("</office:document-content>"),nt.join("")}}();function write_ods(i,o){if(o.bookType=="fods")return write_content_ods(i,o);var _=zip_new(),j="",_e=[],et=[];return j="mimetype",zip_add_file(_,j,"application/vnd.oasis.opendocument.spreadsheet"),j="content.xml",zip_add_file(_,j,write_content_ods(i,o)),_e.push([j,"text/xml"]),et.push([j,"ContentFile"]),j="styles.xml",zip_add_file(_,j,write_styles_ods(i,o)),_e.push([j,"text/xml"]),et.push([j,"StylesFile"]),j="meta.xml",zip_add_file(_,j,XML_HEADER+write_meta_ods()),_e.push([j,"text/xml"]),et.push([j,"MetadataFile"]),j="manifest.rdf",zip_add_file(_,j,write_rdf(et)),_e.push([j,"application/rdf+xml"]),j="META-INF/manifest.xml",zip_add_file(_,j,write_manifest(_e)),_}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function u8str(i){return typeof TextDecoder<"u"?new TextDecoder().decode(i):utf8read(a2s(i))}function stru8(i){return typeof TextEncoder<"u"?new TextEncoder().encode(i):s2a(utf8write(i))}function u8contains(i,o){e:for(var _=0;_<=i.length-o.length;++_){for(var j=0;j<o.length;++j)if(i[_+j]!=o[j])continue e;return!0}return!1}function u8concat(i){var o=i.reduce(function(_e,et){return _e+et.length},0),_=new Uint8Array(o),j=0;return i.forEach(function(_e){_.set(_e,j),j+=_e.length}),_}function popcnt(i){return i-=i>>1&1431655765,i=(i&858993459)+(i>>2&858993459),(i+(i>>4)&252645135)*16843009>>>24}function readDecimal128LE(i,o){for(var _=(i[o+15]&127)<<7|i[o+14]>>1,j=i[o+14]&1,_e=o+13;_e>=o;--_e)j=j*256+i[_e];return(i[o+15]&128?-j:j)*Math.pow(10,_-6176)}function writeDecimal128LE(i,o,_){var j=Math.floor(_==0?0:Math.LOG10E*Math.log(Math.abs(_)))+6176-20,_e=_/Math.pow(10,j-6176);i[o+15]|=j>>7,i[o+14]|=(j&127)<<1;for(var et=0;_e>=1;++et,_e/=256)i[o+et]=_e&255;i[o+15]|=_>=0?0:128}function parse_varint49(i,o){var _=o?o[0]:0,j=i[_]&127;e:if(i[_++]>=128&&(j|=(i[_]&127)<<7,i[_++]<128||(j|=(i[_]&127)<<14,i[_++]<128)||(j|=(i[_]&127)<<21,i[_++]<128)||(j+=(i[_]&127)*Math.pow(2,28),++_,i[_++]<128)||(j+=(i[_]&127)*Math.pow(2,35),++_,i[_++]<128)||(j+=(i[_]&127)*Math.pow(2,42),++_,i[_++]<128)))break e;return o&&(o[0]=_),j}function write_varint49(i){var o=new Uint8Array(7);o[0]=i&127;var _=1;e:if(i>127){if(o[_-1]|=128,o[_]=i>>7&127,++_,i<=16383||(o[_-1]|=128,o[_]=i>>14&127,++_,i<=2097151)||(o[_-1]|=128,o[_]=i>>21&127,++_,i<=268435455)||(o[_-1]|=128,o[_]=i/256>>>21&127,++_,i<=34359738367)||(o[_-1]|=128,o[_]=i/65536>>>21&127,++_,i<=4398046511103))break e;o[_-1]|=128,o[_]=i/16777216>>>21&127,++_}return o.slice(0,_)}function varint_to_i32(i){var o=0,_=i[o]&127;e:if(i[o++]>=128){if(_|=(i[o]&127)<<7,i[o++]<128||(_|=(i[o]&127)<<14,i[o++]<128)||(_|=(i[o]&127)<<21,i[o++]<128))break e;_|=(i[o]&127)<<28}return _}function parse_shallow(i){for(var o=[],_=[0];_[0]<i.length;){var j=_[0],_e=parse_varint49(i,_),et=_e&7;_e=Math.floor(_e/8);var tt=0,rt;if(_e==0)break;switch(et){case 0:{for(var nt=_[0];i[_[0]++]>=128;);rt=i.slice(nt,_[0])}break;case 5:tt=4,rt=i.slice(_[0],_[0]+tt),_[0]+=tt;break;case 1:tt=8,rt=i.slice(_[0],_[0]+tt),_[0]+=tt;break;case 2:tt=parse_varint49(i,_),rt=i.slice(_[0],_[0]+tt),_[0]+=tt;break;case 3:case 4:default:throw new Error("PB Type ".concat(et," for Field ").concat(_e," at offset ").concat(j))}var st={data:rt,type:et};o[_e]==null?o[_e]=[st]:o[_e].push(st)}return o}function write_shallow(i){var o=[];return i.forEach(function(_,j){_.forEach(function(_e){_e.data&&(o.push(write_varint49(j*8+_e.type)),_e.type==2&&o.push(write_varint49(_e.data.length)),o.push(_e.data))})}),u8concat(o)}function mappa(i,o){return(i==null?void 0:i.map(function(_){return o(_.data)}))||[]}function parse_iwa_file(i){for(var o,_=[],j=[0];j[0]<i.length;){var _e=parse_varint49(i,j),et=parse_shallow(i.slice(j[0],j[0]+_e));j[0]+=_e;var tt={id:varint_to_i32(et[1][0].data),messages:[]};et[2].forEach(function(rt){var nt=parse_shallow(rt.data),st=varint_to_i32(nt[3][0].data);tt.messages.push({meta:nt,data:i.slice(j[0],j[0]+st)}),j[0]+=st}),(o=et[3])!=null&&o[0]&&(tt.merge=varint_to_i32(et[3][0].data)>>>0>0),_.push(tt)}return _}function write_iwa_file(i){var o=[];return i.forEach(function(_){var j=[];j[1]=[{data:write_varint49(_.id),type:0}],j[2]=[],_.merge!=null&&(j[3]=[{data:write_varint49(+!!_.merge),type:0}]);var _e=[];_.messages.forEach(function(tt){_e.push(tt.data),tt.meta[3]=[{type:0,data:write_varint49(tt.data.length)}],j[2].push({data:write_shallow(tt.meta),type:2})});var et=write_shallow(j);o.push(write_varint49(et.length)),o.push(et),_e.forEach(function(tt){return o.push(tt)})}),u8concat(o)}function parse_snappy_chunk(i,o){if(i!=0)throw new Error("Unexpected Snappy chunk type ".concat(i));for(var _=[0],j=parse_varint49(o,_),_e=[];_[0]<o.length;){var et=o[_[0]]&3;if(et==0){var tt=o[_[0]++]>>2;if(tt<60)++tt;else{var rt=tt-59;tt=o[_[0]],rt>1&&(tt|=o[_[0]+1]<<8),rt>2&&(tt|=o[_[0]+2]<<16),rt>3&&(tt|=o[_[0]+3]<<24),tt>>>=0,tt++,_[0]+=rt}_e.push(o.slice(_[0],_[0]+tt)),_[0]+=tt;continue}else{var nt=0,st=0;if(et==1?(st=(o[_[0]]>>2&7)+4,nt=(o[_[0]++]&224)<<3,nt|=o[_[0]++]):(st=(o[_[0]++]>>2)+1,et==2?(nt=o[_[0]]|o[_[0]+1]<<8,_[0]+=2):(nt=(o[_[0]]|o[_[0]+1]<<8|o[_[0]+2]<<16|o[_[0]+3]<<24)>>>0,_[0]+=4)),_e=[u8concat(_e)],nt==0)throw new Error("Invalid offset 0");if(nt>_e[0].length)throw new Error("Invalid offset beyond length");if(st>=nt)for(_e.push(_e[0].slice(-nt)),st-=nt;st>=_e[_e.length-1].length;)_e.push(_e[_e.length-1]),st-=_e[_e.length-1].length;_e.push(_e[0].slice(-nt,-nt+st))}}var it=u8concat(_e);if(it.length!=j)throw new Error("Unexpected length: ".concat(it.length," != ").concat(j));return it}function decompress_iwa_file(i){for(var o=[],_=0;_<i.length;){var j=i[_++],_e=i[_]|i[_+1]<<8|i[_+2]<<16;_+=3,o.push(parse_snappy_chunk(j,i.slice(_,_+_e))),_+=_e}if(_!==i.length)throw new Error("data is not a valid framed stream!");return u8concat(o)}function compress_iwa_file(i){for(var o=[],_=0;_<i.length;){var j=Math.min(i.length-_,268435455),_e=new Uint8Array(4);o.push(_e);var et=write_varint49(j),tt=et.length;o.push(et),j<=60?(tt++,o.push(new Uint8Array([j-1<<2]))):j<=256?(tt+=2,o.push(new Uint8Array([240,j-1&255]))):j<=65536?(tt+=3,o.push(new Uint8Array([244,j-1&255,j-1>>8&255]))):j<=16777216?(tt+=4,o.push(new Uint8Array([248,j-1&255,j-1>>8&255,j-1>>16&255]))):j<=4294967296&&(tt+=5,o.push(new Uint8Array([252,j-1&255,j-1>>8&255,j-1>>16&255,j-1>>>24&255]))),o.push(i.slice(_,_+j)),tt+=j,_e[0]=0,_e[1]=tt&255,_e[2]=tt>>8&255,_e[3]=tt>>16&255,_+=j}return u8concat(o)}function parse_old_storage(i,o,_,j){var _e=u8_to_dataview(i),et=_e.getUint32(4,!0),tt=(j>1?12:8)+popcnt(et&(j>1?3470:398))*4,rt=-1,nt=-1,st=NaN,it=new Date(2001,0,1);et&512&&(rt=_e.getUint32(tt,!0),tt+=4),tt+=popcnt(et&(j>1?12288:4096))*4,et&16&&(nt=_e.getUint32(tt,!0),tt+=4),et&32&&(st=_e.getFloat64(tt,!0),tt+=8),et&64&&(it.setTime(it.getTime()+_e.getFloat64(tt,!0)*1e3),tt+=8);var at;switch(i[2]){case 0:break;case 2:at={t:"n",v:st};break;case 3:at={t:"s",v:o[nt]};break;case 5:at={t:"d",v:it};break;case 6:at={t:"b",v:st>0};break;case 7:at={t:"n",v:st/86400};break;case 8:at={t:"e",v:0};break;case 9:if(rt>-1)at={t:"s",v:_[rt]};else if(nt>-1)at={t:"s",v:o[nt]};else if(!isNaN(st))at={t:"n",v:st};else throw new Error("Unsupported cell type ".concat(i.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(i.slice(0,4)))}return at}function parse_new_storage(i,o,_){var j=u8_to_dataview(i),_e=j.getUint32(8,!0),et=12,tt=-1,rt=-1,nt=NaN,st=NaN,it=new Date(2001,0,1);_e&1&&(nt=readDecimal128LE(i,et),et+=16),_e&2&&(st=j.getFloat64(et,!0),et+=8),_e&4&&(it.setTime(it.getTime()+j.getFloat64(et,!0)*1e3),et+=8),_e&8&&(rt=j.getUint32(et,!0),et+=4),_e&16&&(tt=j.getUint32(et,!0),et+=4);var at;switch(i[1]){case 0:break;case 2:at={t:"n",v:nt};break;case 3:at={t:"s",v:o[rt]};break;case 5:at={t:"d",v:it};break;case 6:at={t:"b",v:st>0};break;case 7:at={t:"n",v:st/86400};break;case 8:at={t:"e",v:0};break;case 9:if(tt>-1)at={t:"s",v:_[tt]};else throw new Error("Unsupported cell type ".concat(i[1]," : ").concat(_e&31," : ").concat(i.slice(0,4)));break;case 10:at={t:"n",v:nt};break;default:throw new Error("Unsupported cell type ".concat(i[1]," : ").concat(_e&31," : ").concat(i.slice(0,4)))}return at}function write_new_storage(i,o){var _=new Uint8Array(32),j=u8_to_dataview(_),_e=12,et=0;switch(_[0]=5,i.t){case"n":_[1]=2,writeDecimal128LE(_,_e,i.v),et|=1,_e+=16;break;case"b":_[1]=6,j.setFloat64(_e,i.v?1:0,!0),et|=2,_e+=8;break;case"s":if(o.indexOf(i.v)==-1)throw new Error("Value ".concat(i.v," missing from SST!"));_[1]=3,j.setUint32(_e,o.indexOf(i.v),!0),et|=8,_e+=4;break;default:throw"unsupported cell type "+i.t}return j.setUint32(8,et,!0),_.slice(0,_e)}function write_old_storage(i,o){var _=new Uint8Array(32),j=u8_to_dataview(_),_e=12,et=0;switch(_[0]=3,i.t){case"n":_[2]=2,j.setFloat64(_e,i.v,!0),et|=32,_e+=8;break;case"b":_[2]=6,j.setFloat64(_e,i.v?1:0,!0),et|=32,_e+=8;break;case"s":if(o.indexOf(i.v)==-1)throw new Error("Value ".concat(i.v," missing from SST!"));_[2]=3,j.setUint32(_e,o.indexOf(i.v),!0),et|=16,_e+=4;break;default:throw"unsupported cell type "+i.t}return j.setUint32(4,et,!0),_.slice(0,_e)}function parse_cell_storage(i,o,_){switch(i[0]){case 0:case 1:case 2:case 3:return parse_old_storage(i,o,_,i[0]);case 5:return parse_new_storage(i,o,_);default:throw new Error("Unsupported payload version ".concat(i[0]))}}function parse_TSP_Reference(i){var o=parse_shallow(i);return parse_varint49(o[1][0].data)}function parse_TST_TableDataList(i,o){var _=parse_shallow(o.data),j=varint_to_i32(_[1][0].data),_e=_[3],et=[];return(_e||[]).forEach(function(tt){var rt=parse_shallow(tt.data),nt=varint_to_i32(rt[1][0].data)>>>0;switch(j){case 1:et[nt]=u8str(rt[3][0].data);break;case 8:{var st=i[parse_TSP_Reference(rt[9][0].data)][0],it=parse_shallow(st.data),at=i[parse_TSP_Reference(it[1][0].data)][0],ot=varint_to_i32(at.meta[1][0].data);if(ot!=2001)throw new Error("2000 unexpected reference to ".concat(ot));var ct=parse_shallow(at.data);et[nt]=ct[3].map(function(ut){return u8str(ut.data)}).join("")}break}}),et}function parse_TST_TileRowInfo(i,o){var _,j,_e,et,tt,rt,nt,st,it,at,ot,ct,ut,lt,pt=parse_shallow(i),dt=varint_to_i32(pt[1][0].data)>>>0,ht=varint_to_i32(pt[2][0].data)>>>0,ft=((j=(_=pt[8])==null?void 0:_[0])==null?void 0:j.data)&&varint_to_i32(pt[8][0].data)>0||!1,mt,xt;if((et=(_e=pt[7])==null?void 0:_e[0])!=null&&et.data&&o!=0)mt=(rt=(tt=pt[7])==null?void 0:tt[0])==null?void 0:rt.data,xt=(st=(nt=pt[6])==null?void 0:nt[0])==null?void 0:st.data;else if((at=(it=pt[4])==null?void 0:it[0])!=null&&at.data&&o!=1)mt=(ct=(ot=pt[4])==null?void 0:ot[0])==null?void 0:ct.data,xt=(lt=(ut=pt[3])==null?void 0:ut[0])==null?void 0:lt.data;else throw"NUMBERS Tile missing ".concat(o," cell storage");for(var gt=ft?4:1,yt=u8_to_dataview(mt),_t=[],Et=0;Et<mt.length/2;++Et){var wt=yt.getUint16(Et*2,!0);wt<65535&&_t.push([Et,wt])}if(_t.length!=ht)throw"Expected ".concat(ht," cells, found ").concat(_t.length);var $t=[];for(Et=0;Et<_t.length-1;++Et)$t[_t[Et][0]]=xt.subarray(_t[Et][1]*gt,_t[Et+1][1]*gt);return _t.length>=1&&($t[_t[_t.length-1][0]]=xt.subarray(_t[_t.length-1][1]*gt)),{R:dt,cells:$t}}function parse_TST_Tile(i,o){var _,j=parse_shallow(o.data),_e=(_=j==null?void 0:j[7])!=null&&_[0]?varint_to_i32(j[7][0].data)>>>0>0?1:0:-1,et=mappa(j[5],function(tt){return parse_TST_TileRowInfo(tt,_e)});return{nrows:varint_to_i32(j[4][0].data)>>>0,data:et.reduce(function(tt,rt){return tt[rt.R]||(tt[rt.R]=[]),rt.cells.forEach(function(nt,st){if(tt[rt.R][st])throw new Error("Duplicate cell r=".concat(rt.R," c=").concat(st));tt[rt.R][st]=nt}),tt},[])}}function parse_TST_TableModelArchive(i,o,_){var j,_e=parse_shallow(o.data),et={s:{r:0,c:0},e:{r:0,c:0}};if(et.e.r=(varint_to_i32(_e[6][0].data)>>>0)-1,et.e.r<0)throw new Error("Invalid row varint ".concat(_e[6][0].data));if(et.e.c=(varint_to_i32(_e[7][0].data)>>>0)-1,et.e.c<0)throw new Error("Invalid col varint ".concat(_e[7][0].data));_["!ref"]=encode_range(et);var tt=parse_shallow(_e[4][0].data),rt=parse_TST_TableDataList(i,i[parse_TSP_Reference(tt[4][0].data)][0]),nt=(j=tt[17])!=null&&j[0]?parse_TST_TableDataList(i,i[parse_TSP_Reference(tt[17][0].data)][0]):[],st=parse_shallow(tt[3][0].data),it=0;st[1].forEach(function(at){var ot=parse_shallow(at.data),ct=i[parse_TSP_Reference(ot[2][0].data)][0],ut=varint_to_i32(ct.meta[1][0].data);if(ut!=6002)throw new Error("6001 unexpected reference to ".concat(ut));var lt=parse_TST_Tile(i,ct);lt.data.forEach(function(pt,dt){pt.forEach(function(ht,ft){var mt=encode_cell({r:it+dt,c:ft}),xt=parse_cell_storage(ht,rt,nt);xt&&(_[mt]=xt)})}),it+=lt.nrows})}function parse_TST_TableInfoArchive(i,o){var _=parse_shallow(o.data),j={"!ref":"A1"},_e=i[parse_TSP_Reference(_[2][0].data)],et=varint_to_i32(_e[0].meta[1][0].data);if(et!=6001)throw new Error("6000 unexpected reference to ".concat(et));return parse_TST_TableModelArchive(i,_e[0],j),j}function parse_TN_SheetArchive(i,o){var _,j=parse_shallow(o.data),_e={name:(_=j[1])!=null&&_[0]?u8str(j[1][0].data):"",sheets:[]},et=mappa(j[2],parse_TSP_Reference);return et.forEach(function(tt){i[tt].forEach(function(rt){var nt=varint_to_i32(rt.meta[1][0].data);nt==6e3&&_e.sheets.push(parse_TST_TableInfoArchive(i,rt))})}),_e}function parse_TN_DocumentArchive(i,o){var _=book_new(),j=parse_shallow(o.data),_e=mappa(j[1],parse_TSP_Reference);if(_e.forEach(function(et){i[et].forEach(function(tt){var rt=varint_to_i32(tt.meta[1][0].data);if(rt==2){var nt=parse_TN_SheetArchive(i,tt);nt.sheets.forEach(function(st,it){book_append_sheet(_,st,it==0?nt.name:nt.name+"_"+it,!0)})}})}),_.SheetNames.length==0)throw new Error("Empty NUMBERS file");return _}function parse_numbers_iwa(i){var o,_,j,_e,et={},tt=[];if(i.FullPaths.forEach(function(nt){if(nt.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),i.FileIndex.forEach(function(nt){if(nt.name.match(/\.iwa$/)){var st;try{st=decompress_iwa_file(nt.content)}catch(at){return console.log("?? "+nt.content.length+" "+(at.message||at))}var it;try{it=parse_iwa_file(st)}catch(at){return console.log("## "+(at.message||at))}it.forEach(function(at){et[at.id]=at.messages,tt.push(at.id)})}}),!tt.length)throw new Error("File has no messages");var rt=((_e=(j=(_=(o=et==null?void 0:et[1])==null?void 0:o[0])==null?void 0:_.meta)==null?void 0:j[1])==null?void 0:_e[0].data)&&varint_to_i32(et[1][0].meta[1][0].data)==1&&et[1][0];if(rt||tt.forEach(function(nt){et[nt].forEach(function(st){var it=varint_to_i32(st.meta[1][0].data)>>>0;if(it==1)if(!rt)rt=st;else throw new Error("Document has multiple roots")})}),!rt)throw new Error("Cannot find Document root");return parse_TN_DocumentArchive(et,rt)}function write_tile_row(i,o,_){var j,_e,et,tt;if(!((j=i[6])!=null&&j[0])||!((_e=i[7])!=null&&_e[0]))throw"Mutation only works on post-BNC storages!";var rt=((tt=(et=i[8])==null?void 0:et[0])==null?void 0:tt.data)&&varint_to_i32(i[8][0].data)>0||!1;if(rt)throw"Math only works with normal offsets";for(var nt=0,st=u8_to_dataview(i[7][0].data),it=0,at=[],ot=u8_to_dataview(i[4][0].data),ct=0,ut=[],lt=0;lt<o.length;++lt){if(o[lt]==null){st.setUint16(lt*2,65535,!0),ot.setUint16(lt*2,65535);continue}st.setUint16(lt*2,it,!0),ot.setUint16(lt*2,ct,!0);var pt,dt;switch(typeof o[lt]){case"string":pt=write_new_storage({t:"s",v:o[lt]},_),dt=write_old_storage({t:"s",v:o[lt]},_);break;case"number":pt=write_new_storage({t:"n",v:o[lt]},_),dt=write_old_storage({t:"n",v:o[lt]},_);break;case"boolean":pt=write_new_storage({t:"b",v:o[lt]},_),dt=write_old_storage({t:"b",v:o[lt]},_);break;default:throw new Error("Unsupported value "+o[lt])}at.push(pt),it+=pt.length,ut.push(dt),ct+=dt.length,++nt}for(i[2][0].data=write_varint49(nt);lt<i[7][0].data.length/2;++lt)st.setUint16(lt*2,65535,!0),ot.setUint16(lt*2,65535,!0);return i[6][0].data=u8concat(at),i[3][0].data=u8concat(ut),nt}function write_numbers_iwa(i,o){if(!o||!o.numbers)throw new Error("Must pass a `numbers` option -- check the README");var _=i.Sheets[i.SheetNames[0]];i.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var j=decode_range(_["!ref"]);j.s.r=j.s.c=0;var _e=!1;j.e.c>9&&(_e=!0,j.e.c=9),j.e.r>49&&(_e=!0,j.e.r=49),_e&&console.error("The Numbers writer is currently limited to ".concat(encode_range(j)));var et=sheet_to_json(_,{range:j,header:1}),tt=["~Sh33tJ5~"];et.forEach(function(Lt){return Lt.forEach(function(It){typeof It=="string"&&tt.push(It)})});var rt={},nt=[],st=CFB.read(o.numbers,{type:"base64"});st.FileIndex.map(function(Lt,It){return[Lt,st.FullPaths[It]]}).forEach(function(Lt){var It=Lt[0],Dt=Lt[1];if(It.type==2&&It.name.match(/\.iwa/)){var Zt=It.content,Qt=decompress_iwa_file(Zt),Yt=parse_iwa_file(Qt);Yt.forEach(function(Ft){nt.push(Ft.id),rt[Ft.id]={deps:[],location:Dt,type:varint_to_i32(Ft.messages[0].meta[1][0].data)}})}}),nt.sort(function(Lt,It){return Lt-It});var it=nt.filter(function(Lt){return Lt>1}).map(function(Lt){return[Lt,write_varint49(Lt)]});st.FileIndex.map(function(Lt,It){return[Lt,st.FullPaths[It]]}).forEach(function(Lt){var It=Lt[0];if(Lt[1],!!It.name.match(/\.iwa/)){var Dt=parse_iwa_file(decompress_iwa_file(It.content));Dt.forEach(function(Zt){Zt.messages.forEach(function(Qt){it.forEach(function(Yt){Zt.messages.some(function(Ft){return varint_to_i32(Ft.meta[1][0].data)!=11006&&u8contains(Ft.data,Yt[1])})&&rt[Yt[0]].deps.push(Zt.id)})})})}});for(var at=CFB.find(st,rt[1].location),ot=parse_iwa_file(decompress_iwa_file(at.content)),ct,ut=0;ut<ot.length;++ut){var lt=ot[ut];lt.id==1&&(ct=lt)}var pt=parse_TSP_Reference(parse_shallow(ct.messages[0].data)[1][0].data);for(at=CFB.find(st,rt[pt].location),ot=parse_iwa_file(decompress_iwa_file(at.content)),ut=0;ut<ot.length;++ut)lt=ot[ut],lt.id==pt&&(ct=lt);for(pt=parse_TSP_Reference(parse_shallow(ct.messages[0].data)[2][0].data),at=CFB.find(st,rt[pt].location),ot=parse_iwa_file(decompress_iwa_file(at.content)),ut=0;ut<ot.length;++ut)lt=ot[ut],lt.id==pt&&(ct=lt);for(pt=parse_TSP_Reference(parse_shallow(ct.messages[0].data)[2][0].data),at=CFB.find(st,rt[pt].location),ot=parse_iwa_file(decompress_iwa_file(at.content)),ut=0;ut<ot.length;++ut)lt=ot[ut],lt.id==pt&&(ct=lt);var dt=parse_shallow(ct.messages[0].data);{dt[6][0].data=write_varint49(j.e.r+1),dt[7][0].data=write_varint49(j.e.c+1);var ht=parse_TSP_Reference(dt[46][0].data),ft=CFB.find(st,rt[ht].location),mt=parse_iwa_file(decompress_iwa_file(ft.content));{for(var xt=0;xt<mt.length&&mt[xt].id!=ht;++xt);if(mt[xt].id!=ht)throw"Bad ColumnRowUIDMapArchive";var gt=parse_shallow(mt[xt].messages[0].data);gt[1]=[],gt[2]=[],gt[3]=[];for(var yt=0;yt<=j.e.c;++yt){var _t=[];_t[1]=_t[2]=[{type:0,data:write_varint49(yt+420690)}],gt[1].push({type:2,data:write_shallow(_t)}),gt[2].push({type:0,data:write_varint49(yt)}),gt[3].push({type:0,data:write_varint49(yt)})}gt[4]=[],gt[5]=[],gt[6]=[];for(var Et=0;Et<=j.e.r;++Et)_t=[],_t[1]=_t[2]=[{type:0,data:write_varint49(Et+726270)}],gt[4].push({type:2,data:write_shallow(_t)}),gt[5].push({type:0,data:write_varint49(Et)}),gt[6].push({type:0,data:write_varint49(Et)});mt[xt].messages[0].data=write_shallow(gt)}ft.content=compress_iwa_file(write_iwa_file(mt)),ft.size=ft.content.length,delete dt[46];var wt=parse_shallow(dt[4][0].data);{wt[7][0].data=write_varint49(j.e.r+1);var $t=parse_shallow(wt[1][0].data),jt=parse_TSP_Reference($t[2][0].data);ft=CFB.find(st,rt[jt].location),mt=parse_iwa_file(decompress_iwa_file(ft.content));{if(mt[0].id!=jt)throw"Bad HeaderStorageBucket";var Tt=parse_shallow(mt[0].messages[0].data);for(Et=0;Et<et.length;++Et){var kt=parse_shallow(Tt[2][0].data);kt[1][0].data=write_varint49(Et),kt[4][0].data=write_varint49(et[Et].length),Tt[2][Et]={type:Tt[2][0].type,data:write_shallow(kt)}}mt[0].messages[0].data=write_shallow(Tt)}ft.content=compress_iwa_file(write_iwa_file(mt)),ft.size=ft.content.length;var Pt=parse_TSP_Reference(wt[2][0].data);ft=CFB.find(st,rt[Pt].location),mt=parse_iwa_file(decompress_iwa_file(ft.content));{if(mt[0].id!=Pt)throw"Bad HeaderStorageBucket";for(Tt=parse_shallow(mt[0].messages[0].data),yt=0;yt<=j.e.c;++yt)kt=parse_shallow(Tt[2][0].data),kt[1][0].data=write_varint49(yt),kt[4][0].data=write_varint49(j.e.r+1),Tt[2][yt]={type:Tt[2][0].type,data:write_shallow(kt)};mt[0].messages[0].data=write_shallow(Tt)}ft.content=compress_iwa_file(write_iwa_file(mt)),ft.size=ft.content.length;var St=parse_TSP_Reference(wt[4][0].data);(function(){for(var Lt=CFB.find(st,rt[St].location),It=parse_iwa_file(decompress_iwa_file(Lt.content)),Dt,Zt=0;Zt<It.length;++Zt){var Qt=It[Zt];Qt.id==St&&(Dt=Qt)}var Yt=parse_shallow(Dt.messages[0].data);{Yt[3]=[];var Ft=[];tt.forEach(function(Nt,lr){Ft[1]=[{type:0,data:write_varint49(lr)}],Ft[2]=[{type:0,data:write_varint49(1)}],Ft[3]=[{type:2,data:stru8(Nt)}],Yt[3].push({type:2,data:write_shallow(Ft)})})}Dt.messages[0].data=write_shallow(Yt);var Kt=write_iwa_file(It),er=compress_iwa_file(Kt);Lt.content=er,Lt.size=Lt.content.length})();var Rt=parse_shallow(wt[3][0].data);{var bt=Rt[1][0];delete Rt[2];var vt=parse_shallow(bt.data);{var At=parse_TSP_Reference(vt[2][0].data);(function(){for(var Lt=CFB.find(st,rt[At].location),It=parse_iwa_file(decompress_iwa_file(Lt.content)),Dt,Zt=0;Zt<It.length;++Zt){var Qt=It[Zt];Qt.id==At&&(Dt=Qt)}var Yt=parse_shallow(Dt.messages[0].data);{delete Yt[6],delete Rt[7];var Ft=new Uint8Array(Yt[5][0].data);Yt[5]=[];for(var Kt=0,er=0;er<=j.e.r;++er){var Nt=parse_shallow(Ft);Kt+=write_tile_row(Nt,et[er],tt),Nt[1][0].data=write_varint49(er),Yt[5].push({data:write_shallow(Nt),type:2})}Yt[1]=[{type:0,data:write_varint49(j.e.c+1)}],Yt[2]=[{type:0,data:write_varint49(j.e.r+1)}],Yt[3]=[{type:0,data:write_varint49(Kt)}],Yt[4]=[{type:0,data:write_varint49(j.e.r+1)}]}Dt.messages[0].data=write_shallow(Yt);var lr=write_iwa_file(It),Wt=compress_iwa_file(lr);Lt.content=Wt,Lt.size=Lt.content.length})()}bt.data=write_shallow(vt)}wt[3][0].data=write_shallow(Rt)}dt[4][0].data=write_shallow(wt)}ct.messages[0].data=write_shallow(dt);var Ot=write_iwa_file(ot),Ct=compress_iwa_file(Ot);return at.content=Ct,at.size=at.content.length,st}function fix_opts_func(i){return function(_){for(var j=0;j!=i.length;++j){var _e=i[j];_[_e[0]]===void 0&&(_[_e[0]]=_e[1]),_e[2]==="n"&&(_[_e[0]]=Number(_[_e[0]]))}}}function fix_read_opts(i){fix_opts_func([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(i)}function fix_write_opts(i){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(i)}function get_sheet_type(i){return RELS.WS.indexOf(i)>-1?"sheet":i==RELS.CS?"chart":i==RELS.DS?"dialog":i==RELS.MS?"macro":i&&i.length?i:"sheet"}function safe_parse_wbrels(i,o){if(!i)return 0;try{i=o.map(function(j){return j.id||(j.id=j.strRelID),[j.name,i["!id"][j.id].Target,get_sheet_type(i["!id"][j.id].Type)]})}catch{return null}return!i||i.length===0?null:i}function safe_parse_sheet(i,o,_,j,_e,et,tt,rt,nt,st,it,at){try{et[j]=parse_rels(getzipstr(i,_,!0),o);var ot=getzipdata(i,o),ct;switch(rt){case"sheet":ct=parse_ws(ot,o,_e,nt,et[j],st,it,at);break;case"chart":if(ct=parse_cs(ot,o,_e,nt,et[j],st,it,at),!ct||!ct["!drawel"])break;var ut=resolve_path(ct["!drawel"].Target,o),lt=get_rels_path(ut),pt=parse_drawing(getzipstr(i,ut,!0),parse_rels(getzipstr(i,lt,!0),ut)),dt=resolve_path(pt,ut),ht=get_rels_path(dt);ct=parse_chart(getzipstr(i,dt,!0),dt,nt,parse_rels(getzipstr(i,ht,!0),dt),st,ct);break;case"macro":ct=parse_ms(ot,o,_e,nt,et[j],st,it,at);break;case"dialog":ct=parse_ds(ot,o,_e,nt,et[j],st,it,at);break;default:throw new Error("Unrecognized sheet type "+rt)}tt[j]=ct;var ft=[];et&&et[j]&&keys(et[j]).forEach(function(mt){var xt="";if(et[j][mt].Type==RELS.CMNT){xt=resolve_path(et[j][mt].Target,o);var gt=parse_cmnt(getzipdata(i,xt,!0),xt,nt);if(!gt||!gt.length)return;sheet_insert_comments(ct,gt,!1)}et[j][mt].Type==RELS.TCMNT&&(xt=resolve_path(et[j][mt].Target,o),ft=ft.concat(parse_tcmnt_xml(getzipdata(i,xt,!0),nt)))}),ft&&ft.length&&sheet_insert_comments(ct,ft,!0,nt.people||[])}catch(mt){if(nt.WTF)throw mt}}function strip_front_slash(i){return i.charAt(0)=="/"?i.slice(1):i}function parse_zip(i,o){if(make_ssf(),o=o||{},fix_read_opts(o),safegetzipfile(i,"META-INF/manifest.xml")||safegetzipfile(i,"objectdata.xml"))return parse_ods(i,o);if(safegetzipfile(i,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof parse_numbers_iwa<"u"){if(i.FileIndex)return parse_numbers_iwa(i);var _=CFB.utils.cfb_new();return zipentries(i).forEach(function(kt){zip_add_file(_,kt,getzipbin(i,kt))}),parse_numbers_iwa(_)}throw new Error("Unsupported NUMBERS file")}if(!safegetzipfile(i,"[Content_Types].xml"))throw safegetzipfile(i,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):safegetzipfile(i,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var j=zipentries(i),_e=parse_ct(getzipstr(i,"[Content_Types].xml")),et=!1,tt,rt;if(_e.workbooks.length===0&&(rt="xl/workbook.xml",getzipdata(i,rt,!0)&&_e.workbooks.push(rt)),_e.workbooks.length===0){if(rt="xl/workbook.bin",!getzipdata(i,rt,!0))throw new Error("Could not find workbook");_e.workbooks.push(rt),et=!0}_e.workbooks[0].slice(-3)=="bin"&&(et=!0);var nt={},st={};if(!o.bookSheets&&!o.bookProps){if(strs=[],_e.sst)try{strs=parse_sst(getzipdata(i,strip_front_slash(_e.sst)),_e.sst,o)}catch(kt){if(o.WTF)throw kt}o.cellStyles&&_e.themes.length&&(nt=parse_theme(getzipstr(i,_e.themes[0].replace(/^\//,""),!0)||"",_e.themes[0],o)),_e.style&&(st=parse_sty(getzipdata(i,strip_front_slash(_e.style)),_e.style,nt,o))}_e.links.map(function(kt){try{var Pt=parse_rels(getzipstr(i,get_rels_path(strip_front_slash(kt))),kt);return parse_xlink(getzipdata(i,strip_front_slash(kt)),Pt,kt,o)}catch{}});var it=parse_wb(getzipdata(i,strip_front_slash(_e.workbooks[0])),_e.workbooks[0],o),at={},ot="";_e.coreprops.length&&(ot=getzipdata(i,strip_front_slash(_e.coreprops[0]),!0),ot&&(at=parse_core_props(ot)),_e.extprops.length!==0&&(ot=getzipdata(i,strip_front_slash(_e.extprops[0]),!0),ot&&parse_ext_props(ot,at,o)));var ct={};(!o.bookSheets||o.bookProps)&&_e.custprops.length!==0&&(ot=getzipstr(i,strip_front_slash(_e.custprops[0]),!0),ot&&(ct=parse_cust_props(ot,o)));var ut={};if((o.bookSheets||o.bookProps)&&(it.Sheets?tt=it.Sheets.map(function(Pt){return Pt.name}):at.Worksheets&&at.SheetNames.length>0&&(tt=at.SheetNames),o.bookProps&&(ut.Props=at,ut.Custprops=ct),o.bookSheets&&typeof tt<"u"&&(ut.SheetNames=tt),o.bookSheets?ut.SheetNames:o.bookProps))return ut;tt={};var lt={};o.bookDeps&&_e.calcchain&&(lt=parse_cc(getzipdata(i,strip_front_slash(_e.calcchain)),_e.calcchain));var pt=0,dt={},ht,ft;{var mt=it.Sheets;at.Worksheets=mt.length,at.SheetNames=[];for(var xt=0;xt!=mt.length;++xt)at.SheetNames[xt]=mt[xt].name}var gt=et?"bin":"xml",yt=_e.workbooks[0].lastIndexOf("/"),_t=(_e.workbooks[0].slice(0,yt+1)+"_rels/"+_e.workbooks[0].slice(yt+1)+".rels").replace(/^\//,"");safegetzipfile(i,_t)||(_t="xl/_rels/workbook."+gt+".rels");var Et=parse_rels(getzipstr(i,_t,!0),_t.replace(/_rels.*/,"s5s"));(_e.metadata||[]).length>=1&&(o.xlmeta=parse_xlmeta(getzipdata(i,strip_front_slash(_e.metadata[0])),_e.metadata[0],o)),(_e.people||[]).length>=1&&(o.people=parse_people_xml(getzipdata(i,strip_front_slash(_e.people[0])),o)),Et&&(Et=safe_parse_wbrels(Et,it.Sheets));var wt=getzipdata(i,"xl/worksheets/sheet.xml",!0)?1:0;e:for(pt=0;pt!=at.Worksheets;++pt){var $t="sheet";if(Et&&Et[pt]?(ht="xl/"+Et[pt][1].replace(/[\/]?xl\//,""),safegetzipfile(i,ht)||(ht=Et[pt][1]),safegetzipfile(i,ht)||(ht=_t.replace(/_rels\/.*$/,"")+Et[pt][1]),$t=Et[pt][2]):(ht="xl/worksheets/sheet"+(pt+1-wt)+"."+gt,ht=ht.replace(/sheet0\./,"sheet.")),ft=ht.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),o&&o.sheets!=null)switch(typeof o.sheets){case"number":if(pt!=o.sheets)continue e;break;case"string":if(at.SheetNames[pt].toLowerCase()!=o.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(o.sheets)){for(var jt=!1,Tt=0;Tt!=o.sheets.length;++Tt)typeof o.sheets[Tt]=="number"&&o.sheets[Tt]==pt&&(jt=1),typeof o.sheets[Tt]=="string"&&o.sheets[Tt].toLowerCase()==at.SheetNames[pt].toLowerCase()&&(jt=1);if(!jt)continue e}}safe_parse_sheet(i,ht,ft,at.SheetNames[pt],pt,dt,tt,$t,o,it,nt,st)}return ut={Directory:_e,Workbook:it,Props:at,Custprops:ct,Deps:lt,Sheets:tt,SheetNames:at.SheetNames,Strings:strs,Styles:st,Themes:nt,SSF:dup(table_fmt)},o&&o.bookFiles&&(i.files?(ut.keys=j,ut.files=i.files):(ut.keys=[],ut.files={},i.FullPaths.forEach(function(kt,Pt){kt=kt.replace(/^Root Entry[\/]/,""),ut.keys.push(kt),ut.files[kt]=i.FileIndex[Pt]}))),o&&o.bookVBA&&(_e.vba.length>0?ut.vbaraw=getzipdata(i,strip_front_slash(_e.vba[0]),!0):_e.defaults&&_e.defaults.bin===CT_VBA&&(ut.vbaraw=getzipdata(i,"xl/vbaProject.bin",!0))),ut}function parse_xlsxcfb(i,o){var _=o||{},j="Workbook",_e=CFB.find(i,j);try{if(j="/!DataSpaces/Version",_e=CFB.find(i,j),!_e||!_e.content)throw new Error("ECMA-376 Encrypted file missing "+j);if(parse_DataSpaceVersionInfo(_e.content),j="/!DataSpaces/DataSpaceMap",_e=CFB.find(i,j),!_e||!_e.content)throw new Error("ECMA-376 Encrypted file missing "+j);var et=parse_DataSpaceMap(_e.content);if(et.length!==1||et[0].comps.length!==1||et[0].comps[0].t!==0||et[0].name!=="StrongEncryptionDataSpace"||et[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+j);if(j="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",_e=CFB.find(i,j),!_e||!_e.content)throw new Error("ECMA-376 Encrypted file missing "+j);var tt=parse_DataSpaceDefinition(_e.content);if(tt.length!=1||tt[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+j);if(j="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",_e=CFB.find(i,j),!_e||!_e.content)throw new Error("ECMA-376 Encrypted file missing "+j);parse_Primary(_e.content)}catch{}if(j="/EncryptionInfo",_e=CFB.find(i,j),!_e||!_e.content)throw new Error("ECMA-376 Encrypted file missing "+j);var rt=parse_EncryptionInfo(_e.content);if(j="/EncryptedPackage",_e=CFB.find(i,j),!_e||!_e.content)throw new Error("ECMA-376 Encrypted file missing "+j);if(rt[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(rt[1],_e.content,_.password||"",_);if(rt[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(rt[1],_e.content,_.password||"",_);throw new Error("File is password-protected")}function write_zip(i,o){return o.bookType=="ods"?write_ods(i,o):o.bookType=="numbers"?write_numbers_iwa(i,o):o.bookType=="xlsb"?write_zip_xlsxb(i,o):write_zip_xlsx(i,o)}function write_zip_xlsxb(i,o){_shapeid=1024,i&&!i.SSF&&(i.SSF=dup(table_fmt)),i&&i.SSF&&(make_ssf(),SSF_load_table(i.SSF),o.revssf=evert_num(i.SSF),o.revssf[i.SSF[65535]]=0,o.ssf=i.SSF),o.rels={},o.wbrels={},o.Strings=[],o.Strings.Count=0,o.Strings.Unique=0,browser_has_Map?o.revStrings=new Map:(o.revStrings={},o.revStrings.foo=[],delete o.revStrings.foo);var _=o.bookType=="xlsb"?"bin":"xml",j=VBAFMTS.indexOf(o.bookType)>-1,_e=new_ct();fix_write_opts(o=o||{});var et=zip_new(),tt="",rt=0;if(o.cellXfs=[],get_cell_style(o.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={}),tt="docProps/core.xml",zip_add_file(et,tt,write_core_props(i.Props,o)),_e.coreprops.push(tt),add_rels(o.rels,2,tt,RELS.CORE_PROPS),tt="docProps/app.xml",!(i.Props&&i.Props.SheetNames))if(!i.Workbook||!i.Workbook.Sheets)i.Props.SheetNames=i.SheetNames;else{for(var nt=[],st=0;st<i.SheetNames.length;++st)(i.Workbook.Sheets[st]||{}).Hidden!=2&&nt.push(i.SheetNames[st]);i.Props.SheetNames=nt}for(i.Props.Worksheets=i.Props.SheetNames.length,zip_add_file(et,tt,write_ext_props(i.Props)),_e.extprops.push(tt),add_rels(o.rels,3,tt,RELS.EXT_PROPS),i.Custprops!==i.Props&&keys(i.Custprops||{}).length>0&&(tt="docProps/custom.xml",zip_add_file(et,tt,write_cust_props(i.Custprops)),_e.custprops.push(tt),add_rels(o.rels,4,tt,RELS.CUST_PROPS)),rt=1;rt<=i.SheetNames.length;++rt){var it={"!id":{}},at=i.Sheets[i.SheetNames[rt-1]],ot=(at||{})["!type"]||"sheet";switch(ot){case"chart":default:tt="xl/worksheets/sheet"+rt+"."+_,zip_add_file(et,tt,write_ws(rt-1,tt,o,i,it)),_e.sheets.push(tt),add_rels(o.wbrels,-1,"worksheets/sheet"+rt+"."+_,RELS.WS[0])}if(at){var ct=at["!comments"],ut=!1,lt="";ct&&ct.length>0&&(lt="xl/comments"+rt+"."+_,zip_add_file(et,lt,write_cmnt(ct,lt)),_e.comments.push(lt),add_rels(it,-1,"../comments"+rt+"."+_,RELS.CMNT),ut=!0),at["!legacy"]&&ut&&zip_add_file(et,"xl/drawings/vmlDrawing"+rt+".vml",write_comments_vml(rt,at["!comments"])),delete at["!comments"],delete at["!legacy"]}it["!id"].rId1&&zip_add_file(et,get_rels_path(tt),write_rels(it))}return o.Strings!=null&&o.Strings.length>0&&(tt="xl/sharedStrings."+_,zip_add_file(et,tt,write_sst(o.Strings,tt,o)),_e.strs.push(tt),add_rels(o.wbrels,-1,"sharedStrings."+_,RELS.SST)),tt="xl/workbook."+_,zip_add_file(et,tt,write_wb(i,tt)),_e.workbooks.push(tt),add_rels(o.rels,1,tt,RELS.WB),tt="xl/theme/theme1.xml",zip_add_file(et,tt,write_theme(i.Themes,o)),_e.themes.push(tt),add_rels(o.wbrels,-1,"theme/theme1.xml",RELS.THEME),tt="xl/styles."+_,zip_add_file(et,tt,write_sty(i,tt,o)),_e.styles.push(tt),add_rels(o.wbrels,-1,"styles."+_,RELS.STY),i.vbaraw&&j&&(tt="xl/vbaProject.bin",zip_add_file(et,tt,i.vbaraw),_e.vba.push(tt),add_rels(o.wbrels,-1,"vbaProject.bin",RELS.VBA)),tt="xl/metadata."+_,zip_add_file(et,tt,write_xlmeta(tt)),_e.metadata.push(tt),add_rels(o.wbrels,-1,"metadata."+_,RELS.XLMETA),zip_add_file(et,"[Content_Types].xml",write_ct(_e,o)),zip_add_file(et,"_rels/.rels",write_rels(o.rels)),zip_add_file(et,"xl/_rels/workbook."+_+".rels",write_rels(o.wbrels)),delete o.revssf,delete o.ssf,et}function write_zip_xlsx(i,o){_shapeid=1024,i&&!i.SSF&&(i.SSF=dup(table_fmt)),i&&i.SSF&&(make_ssf(),SSF_load_table(i.SSF),o.revssf=evert_num(i.SSF),o.revssf[i.SSF[65535]]=0,o.ssf=i.SSF),o.rels={},o.wbrels={},o.Strings=[],o.Strings.Count=0,o.Strings.Unique=0,browser_has_Map?o.revStrings=new Map:(o.revStrings={},o.revStrings.foo=[],delete o.revStrings.foo);var _="xml",j=VBAFMTS.indexOf(o.bookType)>-1,_e=new_ct();fix_write_opts(o=o||{});var et=zip_new(),tt="",rt=0;if(o.cellXfs=[],get_cell_style(o.cellXfs,{},{revssf:{General:0}}),i.Props||(i.Props={}),tt="docProps/core.xml",zip_add_file(et,tt,write_core_props(i.Props,o)),_e.coreprops.push(tt),add_rels(o.rels,2,tt,RELS.CORE_PROPS),tt="docProps/app.xml",!(i.Props&&i.Props.SheetNames))if(!i.Workbook||!i.Workbook.Sheets)i.Props.SheetNames=i.SheetNames;else{for(var nt=[],st=0;st<i.SheetNames.length;++st)(i.Workbook.Sheets[st]||{}).Hidden!=2&&nt.push(i.SheetNames[st]);i.Props.SheetNames=nt}i.Props.Worksheets=i.Props.SheetNames.length,zip_add_file(et,tt,write_ext_props(i.Props)),_e.extprops.push(tt),add_rels(o.rels,3,tt,RELS.EXT_PROPS),i.Custprops!==i.Props&&keys(i.Custprops||{}).length>0&&(tt="docProps/custom.xml",zip_add_file(et,tt,write_cust_props(i.Custprops)),_e.custprops.push(tt),add_rels(o.rels,4,tt,RELS.CUST_PROPS));var it=["SheetJ5"];for(o.tcid=0,rt=1;rt<=i.SheetNames.length;++rt){var at={"!id":{}},ot=i.Sheets[i.SheetNames[rt-1]],ct=(ot||{})["!type"]||"sheet";switch(ct){case"chart":default:tt="xl/worksheets/sheet"+rt+"."+_,zip_add_file(et,tt,write_ws_xml(rt-1,o,i,at)),_e.sheets.push(tt),add_rels(o.wbrels,-1,"worksheets/sheet"+rt+"."+_,RELS.WS[0])}if(ot){var ut=ot["!comments"],lt=!1,pt="";if(ut&&ut.length>0){var dt=!1;ut.forEach(function(ht){ht[1].forEach(function(ft){ft.T==!0&&(dt=!0)})}),dt&&(pt="xl/threadedComments/threadedComment"+rt+"."+_,zip_add_file(et,pt,write_tcmnt_xml(ut,it,o)),_e.threadedcomments.push(pt),add_rels(at,-1,"../threadedComments/threadedComment"+rt+"."+_,RELS.TCMNT)),pt="xl/comments"+rt+"."+_,zip_add_file(et,pt,write_comments_xml(ut)),_e.comments.push(pt),add_rels(at,-1,"../comments"+rt+"."+_,RELS.CMNT),lt=!0}ot["!legacy"]&&lt&&zip_add_file(et,"xl/drawings/vmlDrawing"+rt+".vml",write_comments_vml(rt,ot["!comments"])),delete ot["!comments"],delete ot["!legacy"]}at["!id"].rId1&&zip_add_file(et,get_rels_path(tt),write_rels(at))}return o.Strings!=null&&o.Strings.length>0&&(tt="xl/sharedStrings."+_,zip_add_file(et,tt,write_sst_xml(o.Strings,o)),_e.strs.push(tt),add_rels(o.wbrels,-1,"sharedStrings."+_,RELS.SST)),tt="xl/workbook."+_,zip_add_file(et,tt,write_wb_xml(i)),_e.workbooks.push(tt),add_rels(o.rels,1,tt,RELS.WB),tt="xl/theme/theme1.xml",zip_add_file(et,tt,write_theme(i.Themes,o)),_e.themes.push(tt),add_rels(o.wbrels,-1,"theme/theme1.xml",RELS.THEME),tt="xl/styles."+_,zip_add_file(et,tt,write_sty_xml(i,o)),_e.styles.push(tt),add_rels(o.wbrels,-1,"styles."+_,RELS.STY),i.vbaraw&&j&&(tt="xl/vbaProject.bin",zip_add_file(et,tt,i.vbaraw),_e.vba.push(tt),add_rels(o.wbrels,-1,"vbaProject.bin",RELS.VBA)),tt="xl/metadata."+_,zip_add_file(et,tt,write_xlmeta_xml()),_e.metadata.push(tt),add_rels(o.wbrels,-1,"metadata."+_,RELS.XLMETA),it.length>1&&(tt="xl/persons/person.xml",zip_add_file(et,tt,write_people_xml(it)),_e.people.push(tt),add_rels(o.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(et,"[Content_Types].xml",write_ct(_e,o)),zip_add_file(et,"_rels/.rels",write_rels(o.rels)),zip_add_file(et,"xl/_rels/workbook."+_+".rels",write_rels(o.wbrels)),delete o.revssf,delete o.ssf,et}function firstbyte(i,o){var _="";switch((o||{}).type||"base64"){case"buffer":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];case"base64":_=Base64_decode(i.slice(0,12));break;case"binary":_=i;break;case"array":return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]];default:throw new Error("Unrecognized type "+(o&&o.type||"undefined"))}return[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3),_.charCodeAt(4),_.charCodeAt(5),_.charCodeAt(6),_.charCodeAt(7)]}function read_cfb(i,o){return CFB.find(i,"EncryptedPackage")?parse_xlsxcfb(i,o):parse_xlscfb(i,o)}function read_zip(i,o){var _,j=i,_e=o||{};return _e.type||(_e.type=has_buf&&Buffer.isBuffer(i)?"buffer":"base64"),_=zip_read(j,_e),parse_zip(_,_e)}function read_plaintext(i,o){var _=0;e:for(;_<i.length;)switch(i.charCodeAt(_)){case 10:case 13:case 32:++_;break;case 60:return parse_xlml(i.slice(_),o);default:break e}return PRN.to_workbook(i,o)}function read_plaintext_raw(i,o){var _="",j=firstbyte(i,o);switch(o.type){case"base64":_=Base64_decode(i);break;case"binary":_=i;break;case"buffer":_=i.toString("binary");break;case"array":_=cc2str(i);break;default:throw new Error("Unrecognized type "+o.type)}return j[0]==239&&j[1]==187&&j[2]==191&&(_=utf8read(_)),o.type="binary",read_plaintext(_,o)}function read_utf16(i,o){var _=i;return o.type=="base64"&&(_=Base64_decode(_)),_=$cptable.utils.decode(1200,_.slice(2),"str"),o.type="binary",read_plaintext(_,o)}function bstrify(i){return i.match(/[^\x00-\x7F]/)?utf8write(i):i}function read_prn(i,o,_,j){return j?(_.type="string",PRN.to_workbook(i,_)):PRN.to_workbook(o,_)}function readSync(i,o){reset_cp();var _=o||{};if(typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer)return readSync(new Uint8Array(i),(_=dup(_),_.type="array",_));typeof Uint8Array<"u"&&i instanceof Uint8Array&&!_.type&&(_.type=typeof Deno<"u"?"buffer":"array");var j=i,_e=[0,0,0,0],et=!1;if(_.cellStyles&&(_.cellNF=!0,_.sheetStubs=!0),_ssfopts={},_.dateNF&&(_ssfopts.dateNF=_.dateNF),_.type||(_.type=has_buf&&Buffer.isBuffer(i)?"buffer":"base64"),_.type=="file"&&(_.type=has_buf?"buffer":"binary",j=read_binary(i),typeof Uint8Array<"u"&&!has_buf&&(_.type="array")),_.type=="string"&&(et=!0,_.type="binary",_.codepage=65001,j=bstrify(i)),_.type=="array"&&typeof Uint8Array<"u"&&i instanceof Uint8Array&&typeof ArrayBuffer<"u"){var tt=new ArrayBuffer(3),rt=new Uint8Array(tt);if(rt.foo="bar",!rt.foo)return _=dup(_),_.type="array",readSync(ab2a(j),_)}switch((_e=firstbyte(j,_))[0]){case 208:if(_e[1]===207&&_e[2]===17&&_e[3]===224&&_e[4]===161&&_e[5]===177&&_e[6]===26&&_e[7]===225)return read_cfb(CFB.read(j,_),_);break;case 9:if(_e[1]<=8)return parse_xlscfb(j,_);break;case 60:return parse_xlml(j,_);case 73:if(_e[1]===73&&_e[2]===42&&_e[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(_e[1]===68)return read_wb_ID(j,_);break;case 84:if(_e[1]===65&&_e[2]===66&&_e[3]===76)return DIF.to_workbook(j,_);break;case 80:return _e[1]===75&&_e[2]<9&&_e[3]<9?read_zip(j,_):read_prn(i,j,_,et);case 239:return _e[3]===60?parse_xlml(j,_):read_prn(i,j,_,et);case 255:if(_e[1]===254)return read_utf16(j,_);if(_e[1]===0&&_e[2]===2&&_e[3]===0)return WK_.to_workbook(j,_);break;case 0:if(_e[1]===0&&(_e[2]>=2&&_e[3]===0||_e[2]===0&&(_e[3]===8||_e[3]===9)))return WK_.to_workbook(j,_);break;case 3:case 131:case 139:case 140:return DBF.to_workbook(j,_);case 123:if(_e[1]===92&&_e[2]===114&&_e[3]===116)return RTF.to_workbook(j,_);break;case 10:case 13:case 32:return read_plaintext_raw(j,_);case 137:if(_e[1]===80&&_e[2]===78&&_e[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return DBF_SUPPORTED_VERSIONS.indexOf(_e[0])>-1&&_e[2]<=12&&_e[3]<=31?DBF.to_workbook(j,_):read_prn(i,j,_,et)}function write_cfb_ctr(i,o){switch(o.type){case"base64":case"binary":break;case"buffer":case"array":o.type="";break;case"file":return write_dl(o.file,CFB.write(i,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+o.bookType+"' files");default:throw new Error("Unrecognized type "+o.type)}return CFB.write(i,o)}function write_zip_type(i,o){var _=dup(o||{}),j=write_zip(i,_);return write_zip_denouement(j,_)}function write_zip_denouement(i,o){var _={},j=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(o.compression&&(_.compression="DEFLATE"),o.password)_.type=j;else switch(o.type){case"base64":_.type="base64";break;case"binary":_.type="string";break;case"string":throw new Error("'string' output type invalid for '"+o.bookType+"' files");case"buffer":case"file":_.type=j;break;default:throw new Error("Unrecognized type "+o.type)}var _e=i.FullPaths?CFB.write(i,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[_.type]||_.type,compression:!!o.compression}):i.generate(_);if(typeof Deno<"u"&&typeof _e=="string"){if(o.type=="binary"||o.type=="base64")return _e;_e=new Uint8Array(s2ab(_e))}return o.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(_e,o.password),o):o.type==="file"?write_dl(o.file,_e):o.type=="string"?utf8read(_e):_e}function write_cfb_type(i,o){var _=o||{},j=write_xlscfb(i,_);return write_cfb_ctr(j,_)}function write_string_type(i,o,_){_||(_="");var j=_+i;switch(o.type){case"base64":return Base64_encode(utf8write(j));case"binary":return utf8write(j);case"string":return i;case"file":return write_dl(o.file,j,"utf8");case"buffer":return has_buf?Buffer_from(j,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(j):write_string_type(j,{type:"binary"}).split("").map(function(_e){return _e.charCodeAt(0)})}throw new Error("Unrecognized type "+o.type)}function write_stxt_type(i,o){switch(o.type){case"base64":return Base64_encode(i);case"binary":return i;case"string":return i;case"file":return write_dl(o.file,i,"binary");case"buffer":return has_buf?Buffer_from(i,"binary"):i.split("").map(function(_){return _.charCodeAt(0)})}throw new Error("Unrecognized type "+o.type)}function write_binary_type(i,o){switch(o.type){case"string":case"base64":case"binary":for(var _="",j=0;j<i.length;++j)_+=String.fromCharCode(i[j]);return o.type=="base64"?Base64_encode(_):o.type=="string"?utf8read(_):_;case"file":return write_dl(o.file,i);case"buffer":return i;default:throw new Error("Unrecognized type "+o.type)}}function writeSync(i,o){reset_cp(),check_wb(i);var _=dup(o||{});if(_.cellStyles&&(_.cellNF=!0,_.sheetStubs=!0),_.type=="array"){_.type="binary";var j=writeSync(i,_);return _.type="array",s2ab(j)}var _e=0;if(_.sheet&&(typeof _.sheet=="number"?_e=_.sheet:_e=i.SheetNames.indexOf(_.sheet),!i.SheetNames[_e]))throw new Error("Sheet not found: "+_.sheet+" : "+typeof _.sheet);switch(_.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(i,_),_);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(i.Sheets[i.SheetNames[_e]],_),_);case"htm":case"html":return write_string_type(sheet_to_html(i.Sheets[i.SheetNames[_e]],_),_);case"txt":return write_stxt_type(sheet_to_txt(i.Sheets[i.SheetNames[_e]],_),_);case"csv":return write_string_type(sheet_to_csv(i.Sheets[i.SheetNames[_e]],_),_,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(i.Sheets[i.SheetNames[_e]],_),_);case"dbf":return write_binary_type(DBF.from_sheet(i.Sheets[i.SheetNames[_e]],_),_);case"prn":return write_string_type(PRN.from_sheet(i.Sheets[i.SheetNames[_e]],_),_);case"rtf":return write_string_type(RTF.from_sheet(i.Sheets[i.SheetNames[_e]],_),_);case"eth":return write_string_type(ETH.from_sheet(i.Sheets[i.SheetNames[_e]],_),_);case"fods":return write_string_type(write_ods(i,_),_);case"wk1":return write_binary_type(WK_.sheet_to_wk1(i.Sheets[i.SheetNames[_e]],_),_);case"wk3":return write_binary_type(WK_.book_to_wk3(i,_),_);case"biff2":_.biff||(_.biff=2);case"biff3":_.biff||(_.biff=3);case"biff4":return _.biff||(_.biff=4),write_binary_type(write_biff_buf(i,_),_);case"biff5":_.biff||(_.biff=5);case"biff8":case"xla":case"xls":return _.biff||(_.biff=8),write_cfb_type(i,_);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(i,_);default:throw new Error("Unrecognized bookType |"+_.bookType+"|")}}function make_json_row(i,o,_,j,_e,et,tt,rt){var nt=encode_row(_),st=rt.defval,it=rt.raw||!Object.prototype.hasOwnProperty.call(rt,"raw"),at=!0,ot=_e===1?[]:{};if(_e!==1)if(Object.defineProperty)try{Object.defineProperty(ot,"__rowNum__",{value:_,enumerable:!1})}catch{ot.__rowNum__=_}else ot.__rowNum__=_;if(!tt||i[_])for(var ct=o.s.c;ct<=o.e.c;++ct){var ut=tt?i[_][ct]:i[j[ct]+nt];if(ut===void 0||ut.t===void 0){if(st===void 0)continue;et[ct]!=null&&(ot[et[ct]]=st);continue}var lt=ut.v;switch(ut.t){case"z":if(lt==null)break;continue;case"e":lt=lt==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+ut.t)}if(et[ct]!=null){if(lt==null)if(ut.t=="e"&&lt===null)ot[et[ct]]=null;else if(st!==void 0)ot[et[ct]]=st;else if(it&&lt===null)ot[et[ct]]=null;else continue;else ot[et[ct]]=it&&(ut.t!=="n"||ut.t==="n"&&rt.rawNumbers!==!1)?lt:format_cell(ut,lt,rt);lt!=null&&(at=!1)}}return{row:ot,isempty:at}}function sheet_to_json(i,o){if(i==null||i["!ref"]==null)return[];var _={t:"n",v:0},j=0,_e=1,et=[],tt=0,rt="",nt={s:{r:0,c:0},e:{r:0,c:0}},st=o||{},it=st.range!=null?st.range:i["!ref"];switch(st.header===1?j=1:st.header==="A"?j=2:Array.isArray(st.header)?j=3:st.header==null&&(j=0),typeof it){case"string":nt=safe_decode_range(it);break;case"number":nt=safe_decode_range(i["!ref"]),nt.s.r=it;break;default:nt=it}j>0&&(_e=0);var at=encode_row(nt.s.r),ot=[],ct=[],ut=0,lt=0,pt=Array.isArray(i),dt=nt.s.r,ht=0,ft={};pt&&!i[dt]&&(i[dt]=[]);var mt=st.skipHidden&&i["!cols"]||[],xt=st.skipHidden&&i["!rows"]||[];for(ht=nt.s.c;ht<=nt.e.c;++ht)if(!(mt[ht]||{}).hidden)switch(ot[ht]=encode_col(ht),_=pt?i[dt][ht]:i[ot[ht]+at],j){case 1:et[ht]=ht-nt.s.c;break;case 2:et[ht]=ot[ht];break;case 3:et[ht]=st.header[ht-nt.s.c];break;default:if(_==null&&(_={w:"__EMPTY",t:"s"}),rt=tt=format_cell(_,null,st),lt=ft[tt]||0,!lt)ft[tt]=1;else{do rt=tt+"_"+lt++;while(ft[rt]);ft[tt]=lt,ft[rt]=1}et[ht]=rt}for(dt=nt.s.r+_e;dt<=nt.e.r;++dt)if(!(xt[dt]||{}).hidden){var gt=make_json_row(i,nt,dt,ot,j,et,pt,st);(gt.isempty===!1||(j===1?st.blankrows!==!1:st.blankrows))&&(ct[ut++]=gt.row)}return ct.length=ut,ct}var qreg=/"/g;function make_csv_row(i,o,_,j,_e,et,tt,rt){for(var nt=!0,st=[],it="",at=encode_row(_),ot=o.s.c;ot<=o.e.c;++ot)if(j[ot]){var ct=rt.dense?(i[_]||[])[ot]:i[j[ot]+at];if(ct==null)it="";else if(ct.v!=null){nt=!1,it=""+(rt.rawNumbers&&ct.t=="n"?ct.v:format_cell(ct,null,rt));for(var ut=0,lt=0;ut!==it.length;++ut)if((lt=it.charCodeAt(ut))===_e||lt===et||lt===34||rt.forceQuotes){it='"'+it.replace(qreg,'""')+'"';break}it=="ID"&&(it='"ID"')}else ct.f!=null&&!ct.F?(nt=!1,it="="+ct.f,it.indexOf(",")>=0&&(it='"'+it.replace(qreg,'""')+'"')):it="";st.push(it)}return rt.blankrows===!1&&nt?null:st.join(tt)}function sheet_to_csv(i,o){var _=[],j=o??{};if(i==null||i["!ref"]==null)return"";var _e=safe_decode_range(i["!ref"]),et=j.FS!==void 0?j.FS:",",tt=et.charCodeAt(0),rt=j.RS!==void 0?j.RS:`
`,nt=rt.charCodeAt(0),st=new RegExp((et=="|"?"\\|":et)+"+$"),it="",at=[];j.dense=Array.isArray(i);for(var ot=j.skipHidden&&i["!cols"]||[],ct=j.skipHidden&&i["!rows"]||[],ut=_e.s.c;ut<=_e.e.c;++ut)(ot[ut]||{}).hidden||(at[ut]=encode_col(ut));for(var lt=0,pt=_e.s.r;pt<=_e.e.r;++pt)(ct[pt]||{}).hidden||(it=make_csv_row(i,_e,pt,at,tt,nt,et,j),it!=null&&(j.strip&&(it=it.replace(st,"")),(it||j.blankrows!==!1)&&_.push((lt++?rt:"")+it)));return delete j.dense,_.join("")}function sheet_to_txt(i,o){o||(o={}),o.FS="	",o.RS=`
`;var _=sheet_to_csv(i,o);return _}function sheet_to_formulae(i){var o="",_,j="";if(i==null||i["!ref"]==null)return[];var _e=safe_decode_range(i["!ref"]),et="",tt=[],rt,nt=[],st=Array.isArray(i);for(rt=_e.s.c;rt<=_e.e.c;++rt)tt[rt]=encode_col(rt);for(var it=_e.s.r;it<=_e.e.r;++it)for(et=encode_row(it),rt=_e.s.c;rt<=_e.e.c;++rt)if(o=tt[rt]+et,_=st?(i[it]||[])[rt]:i[o],j="",_!==void 0){if(_.F!=null){if(o=_.F,!_.f)continue;j=_.f,o.indexOf(":")==-1&&(o=o+":"+o)}if(_.f!=null)j=_.f;else{if(_.t=="z")continue;if(_.t=="n"&&_.v!=null)j=""+_.v;else if(_.t=="b")j=_.v?"TRUE":"FALSE";else if(_.w!==void 0)j="'"+_.w;else{if(_.v===void 0)continue;_.t=="s"?j="'"+_.v:j=""+_.v}}nt[nt.length]=o+"="+j}return nt}function sheet_add_json(i,o,_){var j=_||{},_e=+!j.skipHeader,et=i||{},tt=0,rt=0;if(et&&j.origin!=null)if(typeof j.origin=="number")tt=j.origin;else{var nt=typeof j.origin=="string"?decode_cell(j.origin):j.origin;tt=nt.r,rt=nt.c}var st,it={s:{c:0,r:0},e:{c:rt,r:tt+o.length-1+_e}};if(et["!ref"]){var at=safe_decode_range(et["!ref"]);it.e.c=Math.max(it.e.c,at.e.c),it.e.r=Math.max(it.e.r,at.e.r),tt==-1&&(tt=at.e.r+1,it.e.r=tt+o.length-1+_e)}else tt==-1&&(tt=0,it.e.r=o.length-1+_e);var ot=j.header||[],ct=0;o.forEach(function(lt,pt){keys(lt).forEach(function(dt){(ct=ot.indexOf(dt))==-1&&(ot[ct=ot.length]=dt);var ht=lt[dt],ft="z",mt="",xt=encode_cell({c:rt+ct,r:tt+pt+_e});st=ws_get_cell_stub(et,xt),ht&&typeof ht=="object"&&!(ht instanceof Date)?et[xt]=ht:(typeof ht=="number"?ft="n":typeof ht=="boolean"?ft="b":typeof ht=="string"?ft="s":ht instanceof Date?(ft="d",j.cellDates||(ft="n",ht=datenum(ht)),mt=j.dateNF||table_fmt[14]):ht===null&&j.nullError&&(ft="e",ht=0),st?(st.t=ft,st.v=ht,delete st.w,delete st.R,mt&&(st.z=mt)):et[xt]=st={t:ft,v:ht},mt&&(st.z=mt))})}),it.e.c=Math.max(it.e.c,rt+ot.length-1);var ut=encode_row(tt);if(_e)for(ct=0;ct<ot.length;++ct)et[encode_col(ct+rt)+ut]={t:"s",v:ot[ct]};return et["!ref"]=encode_range(it),et}function json_to_sheet(i,o){return sheet_add_json(null,i,o)}function ws_get_cell_stub(i,o,_){if(typeof o=="string"){if(Array.isArray(i)){var j=decode_cell(o);return i[j.r]||(i[j.r]=[]),i[j.r][j.c]||(i[j.r][j.c]={t:"z"})}return i[o]||(i[o]={t:"z"})}return typeof o!="number"?ws_get_cell_stub(i,encode_cell(o)):ws_get_cell_stub(i,encode_cell({r:o,c:_||0}))}function wb_sheet_idx(i,o){if(typeof o=="number"){if(o>=0&&i.SheetNames.length>o)return o;throw new Error("Cannot find sheet # "+o)}else if(typeof o=="string"){var _=i.SheetNames.indexOf(o);if(_>-1)return _;throw new Error("Cannot find sheet name |"+o+"|")}else throw new Error("Cannot find sheet |"+o+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(i,o,_,j){var _e=1;if(!_)for(;_e<=65535&&i.SheetNames.indexOf(_="Sheet"+_e)!=-1;++_e,_=void 0);if(!_||i.SheetNames.length>=65535)throw new Error("Too many worksheets");if(j&&i.SheetNames.indexOf(_)>=0){var et=_.match(/(^.*?)(\d+)$/);_e=et&&+et[2]||0;var tt=et&&et[1]||_;for(++_e;_e<=65535&&i.SheetNames.indexOf(_=tt+_e)!=-1;++_e);}if(check_ws_name(_),i.SheetNames.indexOf(_)>=0)throw new Error("Worksheet with name |"+_+"| already exists!");return i.SheetNames.push(_),i.Sheets[_]=o,_}function book_set_sheet_visibility(i,o,_){i.Workbook||(i.Workbook={}),i.Workbook.Sheets||(i.Workbook.Sheets=[]);var j=wb_sheet_idx(i,o);switch(i.Workbook.Sheets[j]||(i.Workbook.Sheets[j]={}),_){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+_)}i.Workbook.Sheets[j].Hidden=_}function cell_set_number_format(i,o){return i.z=o,i}function cell_set_hyperlink(i,o,_){return o?(i.l={Target:o},_&&(i.l.Tooltip=_)):delete i.l,i}function cell_set_internal_link(i,o,_){return cell_set_hyperlink(i,"#"+o,_)}function cell_add_comment(i,o,_){i.c||(i.c=[]),i.c.push({t:o,a:_||"SheetJS"})}function sheet_set_array_formula(i,o,_,j){for(var _e=typeof o!="string"?o:safe_decode_range(o),et=typeof o=="string"?o:encode_range(o),tt=_e.s.r;tt<=_e.e.r;++tt)for(var rt=_e.s.c;rt<=_e.e.c;++rt){var nt=ws_get_cell_stub(i,tt,rt);nt.t="n",nt.F=et,delete nt.v,tt==_e.s.r&&rt==_e.s.c&&(nt.f=_,j&&(nt.D=!0))}return i}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};class PricelistProcessingService{constructor(){this.extractTextFromPDF=async o=>new Promise(_=>{_("PDF text extraction not yet implemented. Please use CSV or Excel files.")}),this.parseExcelFile=async o=>new Promise((_,j)=>{const _e=new FileReader;_e.onload=et=>{var tt;try{const rt=new Uint8Array((tt=et.target)==null?void 0:tt.result),nt=readSync(rt,{type:"array"}),st=nt.SheetNames[0],it=nt.Sheets[st],at=utils.sheet_to_json(it,{header:1});_(at)}catch(rt){j(rt)}},_e.onerror=j,_e.readAsArrayBuffer(o)}),this.parseCSVFile=async o=>new Promise((_,j)=>{const _e=new FileReader;_e.onload=et=>{var tt;try{const st=((tt=et.target)==null?void 0:tt.result).split(`
`).map(it=>it.split(",").map(at=>at.trim().replace(/"/g,"")));_(st)}catch(rt){j(rt)}},_e.onerror=j,_e.readAsText(o)}),this.detectSupplierFromFilename=o=>{const _=o.toLowerCase();return _.includes("rader")?{supplier:"Rader Design",brand:"Rader"}:_.includes("elvang")?{supplier:"Elvang Danmark A/S",brand:"Elvang"}:_.includes("myflame")||_.includes("my-flame")?{supplier:"My Flame Lifestyle",brand:"My Flame Lifestyle"}:_.includes("remember")?{supplier:"Remember Deutschland GmbH",brand:"Remember"}:_.includes("relaxound")?{supplier:"Relaxound GmbH",brand:"Relaxound"}:_.includes("gefu")?{supplier:"GEFU",brand:"GEFU"}:{supplier:"Unknown Supplier",brand:"Unknown"}},this.mapColumnsToSchema=o=>{const _={},j={sku:[],name:[],price:[],retail_price:[],ean:[],category:[],manufacturer:[],packing_unit:[]};return o.forEach((_e,et)=>{const tt=_e.toString().toLowerCase().trim(),rt=tt.replace(/[_\-\s]/g,"");tt==="sku"?j.sku.push({index:et,score:100,header:_e}):tt==="article"?j.sku.push({index:et,score:90,header:_e}):tt==="item_no"||tt==="itemno"?j.sku.push({index:et,score:85,header:_e}):tt==="product_code"||tt==="productcode"?j.sku.push({index:et,score:80,header:_e}):tt==="code"?j.sku.push({index:et,score:70,header:_e}):tt.includes("sku")?j.sku.push({index:et,score:60,header:_e}):tt.includes("article")&&j.sku.push({index:et,score:50,header:_e}),tt==="name"?j.name.push({index:et,score:100,header:_e}):tt==="product_name"||rt==="productname"?j.name.push({index:et,score:95,header:_e}):tt==="title"?j.name.push({index:et,score:90,header:_e}):tt==="description"&&!j.name.some(nt=>nt.score>80)?j.name.push({index:et,score:70,header:_e}):tt.includes("name")&&j.name.push({index:et,score:60,header:_e}),tt==="cost_price"||rt==="costprice"?j.price.push({index:et,score:100,header:_e}):tt==="purchase_price"||rt==="purchaseprice"?j.price.push({index:et,score:95,header:_e}):tt==="wholesale_price"||rt==="wholesaleprice"?j.price.push({index:et,score:90,header:_e}):tt==="cost"?j.price.push({index:et,score:85,header:_e}):tt==="wholesale"?j.price.push({index:et,score:80,header:_e}):tt.includes("cost")&&tt.includes("price")?j.price.push({index:et,score:75,header:_e}):tt.includes("purchase")&&tt.includes("price")&&j.price.push({index:et,score:70,header:_e}),tt==="retail_price"||rt==="retailprice"?j.retail_price.push({index:et,score:100,header:_e}):tt==="rrp"?j.retail_price.push({index:et,score:95,header:_e}):tt==="msrp"?j.retail_price.push({index:et,score:90,header:_e}):tt==="retail"?j.retail_price.push({index:et,score:85,header:_e}):tt.includes("retail")&&tt.includes("price")&&j.retail_price.push({index:et,score:80,header:_e}),tt==="price"&&j.price.length===0&&j.price.push({index:et,score:50,header:_e}),tt==="ean"?j.ean.push({index:et,score:100,header:_e}):tt==="barcode"?j.ean.push({index:et,score:90,header:_e}):tt==="gtin"?j.ean.push({index:et,score:85,header:_e}):tt.includes("ean")?j.ean.push({index:et,score:70,header:_e}):tt.includes("barcode")&&j.ean.push({index:et,score:65,header:_e}),tt==="category"?j.category.push({index:et,score:100,header:_e}):tt==="group"?j.category.push({index:et,score:80,header:_e}):tt==="type"?j.category.push({index:et,score:70,header:_e}):tt.includes("category")&&j.category.push({index:et,score:60,header:_e}),tt==="manufacturer"?j.manufacturer.push({index:et,score:100,header:_e}):tt==="brand"?j.manufacturer.push({index:et,score:90,header:_e}):tt==="supplier"?j.manufacturer.push({index:et,score:85,header:_e}):tt.includes("manufacturer")?j.manufacturer.push({index:et,score:70,header:_e}):tt.includes("brand")&&j.manufacturer.push({index:et,score:65,header:_e}),tt==="packing_unit"||rt==="packingunit"?j.packing_unit.push({index:et,score:100,header:_e}):tt==="pack_size"||rt==="packsize"?j.packing_unit.push({index:et,score:95,header:_e}):tt==="quantity"||tt==="qty"?j.packing_unit.push({index:et,score:85,header:_e}):tt==="unit"?j.packing_unit.push({index:et,score:80,header:_e}):tt==="packing"?j.packing_unit.push({index:et,score:75,header:_e}):tt.includes("pack")&&j.packing_unit.push({index:et,score:60,header:_e})}),Object.entries(j).forEach(([_e,et])=>{et.length>0&&(et.sort((tt,rt)=>rt.score-tt.score),_[_e]=et[0].index)}),console.log("Column mapping:",{headers:o,mapping:_,candidates:Object.entries(j).reduce((_e,[et,tt])=>(_e[et]=tt.map(rt=>`${rt.header}(${rt.score})`),_e),{})}),_},this.cleanPrice=o=>{if(typeof o=="number")return o;if(!o)return 0;const _=o.toString().replace(/[$]/g,"").replace(/,/g,".").replace(/\s+/g,"").trim(),j=parseFloat(_);return isNaN(j)?0:j},this.getBrandId=async o=>{try{const j=(await productService.getBrands()).find(_e=>_e.brand.toLowerCase().includes(o.toLowerCase()));return j?j.brand:(console.log(`Brand not found: ${o}`),null)}catch(_){return console.error("Error fetching brand ID:",_),null}},this.getExistingProduct=async(o,_)=>{try{const _e=(await productService.list({search:o,limit:1})).data.find(et=>et.sku===o);return _e?{id:_e.id,sku:_e.sku,name:_e.name,purchase_price:_e.rate,cost_price:_e.rate,retail_price:_e.rrp||_e.rate,brand_id:_e.brand,status:_e.status}:null}catch(j){return console.warn(`Exception querying product with SKU ${o}:`,j),null}},this.processDataRows=async(o,_,j)=>{var nt,st,it,at,ot,ct,ut,lt,pt,dt,ht,ft;const _e=[],et=[],tt=[];for(let mt=1;mt<o.length;mt++){const xt=o[mt];if(!xt||xt.length===0)continue;const gt=(nt=xt[_.sku])==null?void 0:nt.toString().trim(),yt=(st=xt[_.name])==null?void 0:st.toString().trim(),_t=this.cleanPrice(xt[_.price]);!gt||!yt||_t<=0||(et.push(gt),tt.push({row:xt,index:mt}))}const rt=await this.batchGetExistingProducts(et,j);for(const{row:mt}of tt){const xt=(it=mt[_.sku])==null?void 0:it.toString().trim(),gt=(at=mt[_.name])==null?void 0:at.toString().trim(),yt=this.cleanPrice(mt[_.price]),_t=rt[xt];if(_t){const Et=_t.purchase_price||_t.cost_price||0,wt=yt-Et,$t=Et>0?wt/Et*100:0;_e.push({sku:xt,product_name:gt,current_price:Et,new_price:yt,price_change:wt,price_change_percent:$t,action:"update",confidence:.95,brand_id:j||void 0,category:(ot=mt[_.category])==null?void 0:ot.toString().trim(),description:(ct=mt[_.name])==null?void 0:ct.toString().trim(),manufacturer:(ut=mt[_.manufacturer])==null?void 0:ut.toString().trim(),ean:(lt=mt[_.ean])==null?void 0:lt.toString().trim(),packing_unit:_.packing_unit!==void 0?parseInt(mt[_.packing_unit]):void 0})}else _e.push({sku:xt,product_name:gt,new_price:yt,price_change:yt,price_change_percent:100,action:"create",confidence:.9,brand_id:j||void 0,category:(pt=mt[_.category])==null?void 0:pt.toString().trim(),description:(dt=mt[_.name])==null?void 0:dt.toString().trim(),manufacturer:(ht=mt[_.manufacturer])==null?void 0:ht.toString().trim(),ean:(ft=mt[_.ean])==null?void 0:ft.toString().trim(),packing_unit:_.packing_unit!==void 0?parseInt(mt[_.packing_unit]):void 0})}return _e},this.batchGetExistingProducts=async(o,_)=>{if(o.length===0)return{};try{const j={};for(let et=0;et<o.length;et+=20){const tt=o.slice(et,et+20);for(const rt of tt){const st=(await productService.list({search:rt,limit:1})).data.find(it=>it.sku===rt);st&&(j[st.sku]={id:st.id,sku:st.sku,name:st.name,purchase_price:st.rate,cost_price:st.rate,retail_price:st.rrp||st.rate,brand_id:st.brand,status:st.status})}}return j}catch(j){return console.warn("Exception in batch product lookup:",j),{}}},this.processFile=async o=>{const{supplier:_,brand:j}=this.detectSupplierFromFilename(o.name),_e=await this.getBrandId(j);let et;switch(o.name.toLowerCase().split(".").pop()){case"csv":et=await this.parseCSVFile(o);break;case"xlsx":case"xls":et=await this.parseExcelFile(o);break;case"pdf":throw new Error("PDF processing not yet implemented. Please convert to CSV or Excel format.");default:throw new Error("Unsupported file format. Please use CSV, Excel, or PDF files.")}if(et.length<2)throw new Error("File appears to be empty or has no data rows.");const rt=et[0],nt=this.mapColumnsToSchema(rt);if(!nt.sku||!nt.name||!nt.price){const ot=Object.entries(nt).map(([ut,lt])=>`${ut}: column ${lt+1} (${rt[lt]})`).join(", "),ct=[];throw nt.sku||ct.push("SKU"),nt.name||ct.push("Name"),nt.price||ct.push("Price"),new Error(`Could not identify required columns in the file.
Missing: ${ct.join(", ")}
Detected: ${ot||"none"}
Headers: ${rt.join(", ")}`)}const st=await this.processDataRows(et,nt,_e),it=st.filter(ot=>ot.action==="create").length,at=st.filter(ot=>ot.action==="update").length;return{preview:et.slice(0,10),changes:st,supplier:_,brand:j,totalProducts:st.length,newProducts:it,priceUpdates:at}},this.applyChanges=async o=>{const _=o.filter(_e=>_e.action==="update"),j=o.filter(_e=>_e.action==="create");for(const _e of _)try{const tt=(await productService.list({search:_e.sku,limit:1})).data.find(rt=>rt.sku===_e.sku);tt?await productService.update(tt.id,{rate:_e.new_price}):console.error(`Product not found for update: ${_e.sku}`)}catch(et){console.error(`Error updating product ${_e.sku}:`,et)}for(const _e of j)console.warn(`Product creation not yet supported via API: ${_e.sku}`);await this.triggerExportProcesses()},this.triggerExportProcesses=async()=>{const{pricelistExportService:o}=await __vitePreload(async()=>{const{pricelistExportService:_}=await import("./pricelistExportService-CZyW_cRP.js");return{pricelistExportService:_}},[]);try{console.log("Triggering export processes for updated inventory..."),await o.runFullExportWorkflow(),console.log("Export processes completed successfully")}catch(_){console.error("Error in export processes:",_)}}}}const pricelistProcessingService=new PricelistProcessingService,overlay$1="_overlay_byotf_3",modal$3="_modal_byotf_33",header$4="_header_byotf_57",headerTitle$1="_headerTitle_byotf_77",headerIcon="_headerIcon_byotf_89",closeButton$2="_closeButton_byotf_109",content$1="_content_byotf_137",dropZone$2="_dropZone_byotf_151",dragActive$1="_dragActive_byotf_171",uploadIcon="_uploadIcon_byotf_183",aiNote="_aiNote_byotf_219",fileInput$1="_fileInput_byotf_247",uploadButton$2="_uploadButton_byotf_255",fileList$1="_fileList_byotf_289",fileItem$1="_fileItem_byotf_303",ready="_ready_byotf_335",error$1="_error_byotf_345",processing="_processing_byotf_355",fileInfo$1="_fileInfo_byotf_365",fileIcon="_fileIcon_byotf_379",fileName$2="_fileName_byotf_387",fileSupplier="_fileSupplier_byotf_399",fileStatus="_fileStatus_byotf_411",successIcon$1="_successIcon_byotf_427",errorIcon$1="_errorIcon_byotf_435",spinning$1="_spinning_byotf_443",spin="_spin_byotf_443",fileActions="_fileActions_byotf_461",actionButton$3="_actionButton_byotf_473",applyButton="_applyButton_byotf_509",removeButton$1="_removeButton_byotf_555",previewMode="_previewMode_byotf_587",previewHeader="_previewHeader_byotf_595",backButton="_backButton_byotf_613",preview="_preview_byotf_587",previewSummary="_previewSummary_byotf_667",summaryCards="_summaryCards_byotf_687",summaryCard$1="_summaryCard_byotf_687",summaryValue="_summaryValue_byotf_705",summaryLabel$1="_summaryLabel_byotf_719",applyAllButton="_applyAllButton_byotf_735",changesList="_changesList_byotf_781",changeItem="_changeItem_byotf_797",create="_create_byotf_829",update="_update_byotf_839",changeProduct="_changeProduct_byotf_849",changeSku="_changeSku_byotf_857",changeName="_changeName_byotf_869",changePrices="_changePrices_byotf_879",currentPrice="_currentPrice_byotf_895",arrow="_arrow_byotf_907",newPrice="_newPrice_byotf_917",changeAmount="_changeAmount_byotf_929",increase="_increase_byotf_943",decrease="_decrease_byotf_953",changeAction="_changeAction_byotf_963",actionBadge="_actionBadge_byotf_971",styles$9={overlay:overlay$1,modal:modal$3,header:header$4,headerTitle:headerTitle$1,headerIcon,closeButton:closeButton$2,content:content$1,dropZone:dropZone$2,dragActive:dragActive$1,uploadIcon,aiNote,fileInput:fileInput$1,uploadButton:uploadButton$2,fileList:fileList$1,fileItem:fileItem$1,ready,error:error$1,processing,fileInfo:fileInfo$1,fileIcon,fileName:fileName$2,fileSupplier,fileStatus,successIcon:successIcon$1,errorIcon:errorIcon$1,spinning:spinning$1,spin,fileActions,actionButton:actionButton$3,applyButton,removeButton:removeButton$1,previewMode,previewHeader,backButton,preview,previewSummary,summaryCards,summaryCard:summaryCard$1,summaryValue,summaryLabel:summaryLabel$1,applyAllButton,changesList,changeItem,create,update,changeProduct,changeSku,changeName,changePrices,currentPrice,arrow,newPrice,changeAmount,increase,decrease,changeAction,actionBadge},PricelistUpload=({onClose:i})=>{const[o,_]=reactExports.useState([]),[j,_e]=reactExports.useState(!1),[et,tt]=reactExports.useState(null),[rt,nt]=reactExports.useState(null),st=reactExports.useCallback(ht=>{ht.preventDefault(),ht.stopPropagation(),ht.type==="dragenter"||ht.type==="dragover"?_e(!0):ht.type==="dragleave"&&_e(!1)},[]),it=reactExports.useCallback(ht=>{ht.preventDefault(),ht.stopPropagation(),_e(!1);const ft=Array.from(ht.dataTransfer.files);ot(ft)},[]),at=reactExports.useCallback(ht=>{if(ht.target.files){const ft=Array.from(ht.target.files);ot(ft)}},[]),ot=async ht=>{const ft=ht.filter(mt=>{const xt=mt.name.toLowerCase().split(".").pop();return["csv","xlsx","xls","pdf"].includes(xt||"")});for(const mt of ft){const xt=Date.now().toString()+Math.random().toString(36),gt={id:xt,file:mt,supplier:ct(mt.name),brand:ut(mt.name),status:"uploading"};_(yt=>[...yt,gt]);try{_(_t=>_t.map(Et=>Et.id===xt?{...Et,status:"processing"}:Et));const yt=await pricelistProcessingService.processFile(mt);_(_t=>_t.map(Et=>Et.id===xt?{...Et,status:"ready",preview:yt.preview,changes:yt.changes}:Et))}catch(yt){_(_t=>_t.map(Et=>Et.id===xt?{...Et,status:"error",error:yt instanceof Error?yt.message:"Processing failed"}:Et))}}},ct=ht=>{const ft=ht.toLowerCase();return ft.includes("rader")?"Rader":ft.includes("elvang")?"Elvang":ft.includes("myflame")||ft.includes("my-flame")?"My Flame":ft.includes("remember")?"Remember":ft.includes("relaxound")?"Relaxound":ft.includes("gefu")?"GEFU":"Unknown"},ut=ht=>ct(ht),lt=async ht=>{const ft=o.find(mt=>mt.id===ht);if(!(!ft||!ft.changes)){nt(ht);try{await pricelistProcessingService.applyChanges(ft.changes),_(mt=>mt.filter(xt=>xt.id!==ht))}catch(mt){console.error("Failed to apply changes:",mt)}finally{nt(null)}}},pt=ht=>{_(ft=>ft.filter(mt=>mt.id!==ht))},dt=et?o.find(ht=>ht.id===et):null;return jsxRuntimeExports.jsx("div",{className:styles$9.overlay,children:jsxRuntimeExports.jsxs("div",{className:styles$9.modal,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.header,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.headerTitle,children:[jsxRuntimeExports.jsx(Sparkles,{className:styles$9.headerIcon}),jsxRuntimeExports.jsx("h2",{children:"Supplier Pricelist Upload"})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:styles$9.closeButton,children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:styles$9.content,children:et?jsxRuntimeExports.jsxs("div",{className:styles$9.previewMode,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.previewHeader,children:[jsxRuntimeExports.jsx("button",{onClick:()=>tt(null),className:styles$9.backButton,children:" Back to Upload"}),jsxRuntimeExports.jsx("h3",{children:dt==null?void 0:dt.file.name})]}),dt&&jsxRuntimeExports.jsx(PriceChangePreview,{file:dt,onApply:()=>lt(et),applying:rt===et})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`${styles$9.dropZone} ${j?styles$9.dragActive:""}`,onDragEnter:st,onDragLeave:st,onDragOver:st,onDrop:it,children:[jsxRuntimeExports.jsx(Upload,{size:48,className:styles$9.uploadIcon}),jsxRuntimeExports.jsx("h3",{children:"Drop supplier pricelists here"}),jsxRuntimeExports.jsx("p",{children:"Supports CSV, Excel (.xlsx, .xls), and PDF files"}),jsxRuntimeExports.jsxs("p",{className:styles$9.aiNote,children:[jsxRuntimeExports.jsx(Sparkles,{size:16}),"AI will automatically detect supplier, extract products, and match to your inventory"]}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:".csv,.xlsx,.xls,.pdf",onChange:at,className:styles$9.fileInput,id:"file-input"}),jsxRuntimeExports.jsx("label",{htmlFor:"file-input",className:styles$9.uploadButton,children:"Choose Files"})]}),o.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$9.fileList,children:[jsxRuntimeExports.jsx("h3",{children:"Processing Files"}),o.map(ht=>jsxRuntimeExports.jsx(FileStatus,{file:ht,onPreview:()=>tt(ht.id),onRemove:()=>pt(ht.id),onApply:()=>lt(ht.id),applying:rt===ht.id},ht.id))]})]})})]})})},FileStatus=({file:i,onPreview:o,onRemove:_,onApply:j,applying:_e})=>{const et=()=>{switch(i.status){case"uploading":return jsxRuntimeExports.jsx(RefreshCw,{size:16,className:styles$9.spinning});case"processing":return jsxRuntimeExports.jsx(RefreshCw,{size:16,className:styles$9.spinning});case"ready":return jsxRuntimeExports.jsx(CheckCircle,{size:16,className:styles$9.successIcon});case"error":return jsxRuntimeExports.jsx(AlertCircle,{size:16,className:styles$9.errorIcon})}},tt=()=>{var rt;switch(i.status){case"uploading":return"Uploading...";case"processing":return"AI processing...";case"ready":return`Ready - ${((rt=i.changes)==null?void 0:rt.length)||0} changes found`;case"error":return i.error||"Processing failed"}};return jsxRuntimeExports.jsxs("div",{className:`${styles$9.fileItem} ${styles$9[i.status]}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.fileInfo,children:[jsxRuntimeExports.jsx(FileText,{size:20,className:styles$9.fileIcon}),jsxRuntimeExports.jsxs("div",{className:styles$9.fileDetails,children:[jsxRuntimeExports.jsx("div",{className:styles$9.fileName,children:i.file.name}),jsxRuntimeExports.jsxs("div",{className:styles$9.fileSupplier,children:[i.supplier,"  ",i.brand]}),jsxRuntimeExports.jsxs("div",{className:styles$9.fileStatus,children:[et(),tt()]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.fileActions,children:[i.status==="ready"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:o,className:styles$9.actionButton,title:"Preview Changes",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsxs("button",{onClick:j,className:styles$9.applyButton,disabled:_e,title:"Apply Changes",children:[_e?jsxRuntimeExports.jsx(RefreshCw,{size:16,className:styles$9.spinning}):jsxRuntimeExports.jsx(CheckCircle,{size:16}),_e?"Applying...":"Apply"]})]}),jsxRuntimeExports.jsx("button",{onClick:_,className:styles$9.removeButton,title:"Remove",children:jsxRuntimeExports.jsx(X,{size:16})})]})]})},PriceChangePreview=({file:i,onApply:o,applying:_})=>{if(!i.changes)return null;const j=i.changes.length,_e=i.changes.filter(rt=>rt.price_change>0).length,et=i.changes.filter(rt=>rt.price_change<0).length,tt=i.changes.filter(rt=>rt.action==="create").length;return jsxRuntimeExports.jsxs("div",{className:styles$9.preview,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.previewSummary,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.summaryCards,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.summaryCard,children:[jsxRuntimeExports.jsx("div",{className:styles$9.summaryValue,children:j}),jsxRuntimeExports.jsx("div",{className:styles$9.summaryLabel,children:"Total Changes"})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.summaryCard,children:[jsxRuntimeExports.jsx("div",{className:styles$9.summaryValue,children:tt}),jsxRuntimeExports.jsx("div",{className:styles$9.summaryLabel,children:"New Products"})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.summaryCard,children:[jsxRuntimeExports.jsx("div",{className:styles$9.summaryValue,children:_e}),jsxRuntimeExports.jsx("div",{className:styles$9.summaryLabel,children:"Price Increases"})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.summaryCard,children:[jsxRuntimeExports.jsx("div",{className:styles$9.summaryValue,children:et}),jsxRuntimeExports.jsx("div",{className:styles$9.summaryLabel,children:"Price Decreases"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:o,className:styles$9.applyAllButton,disabled:_,children:[_?jsxRuntimeExports.jsx(RefreshCw,{size:16,className:styles$9.spinning}):jsxRuntimeExports.jsx(CheckCircle,{size:16}),_?"Applying Changes...":"Apply All Changes"]})]}),jsxRuntimeExports.jsx("div",{className:styles$9.changesList,children:i.changes.map((rt,nt)=>jsxRuntimeExports.jsxs("div",{className:`${styles$9.changeItem} ${styles$9[rt.action]}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$9.changeProduct,children:[jsxRuntimeExports.jsx("div",{className:styles$9.changeSku,children:rt.sku}),jsxRuntimeExports.jsx("div",{className:styles$9.changeName,children:rt.product_name})]}),jsxRuntimeExports.jsxs("div",{className:styles$9.changePrices,children:[rt.action==="update"&&rt.current_price&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{className:styles$9.currentPrice,children:["",rt.current_price.toFixed(2)]}),jsxRuntimeExports.jsx("span",{className:styles$9.arrow,children:""})]}),jsxRuntimeExports.jsxs("span",{className:styles$9.newPrice,children:["",rt.new_price.toFixed(2)]}),rt.action==="update"&&jsxRuntimeExports.jsxs("span",{className:`${styles$9.changeAmount} ${rt.price_change>0?styles$9.increase:styles$9.decrease}`,children:[rt.price_change>0?"+":"","",rt.price_change.toFixed(2)," (",rt.price_change_percent.toFixed(1),"%)"]})]}),jsxRuntimeExports.jsx("div",{className:styles$9.changeAction,children:jsxRuntimeExports.jsx("span",{className:`${styles$9.actionBadge} ${styles$9[rt.action]}`,children:rt.action==="create"?"New":"Update"})})]},nt))})]})},container="_container_1m3j9_1",header$3="_header_1m3j9_7",headerContent$1="_headerContent_1m3j9_14",subtitle="_subtitle_1m3j9_25",headerActions$1="_headerActions_1m3j9_31",aiEnrichButton="_aiEnrichButton_1m3j9_37",pricelistButton="_pricelistButton_1m3j9_74",addButton$1="_addButton_1m3j9_94",filtersSection="_filtersSection_1m3j9_115",searchBox$1="_searchBox_1m3j9_122",filterGroup="_filterGroup_1m3j9_152",filterSelect="_filterSelect_1m3j9_163",resultsInfo="_resultsInfo_1m3j9_180",productsGrid="_productsGrid_1m3j9_187",productCard="_productCard_1m3j9_194",productImage="_productImage_1m3j9_210",imagePlaceholder$1="_imagePlaceholder_1m3j9_226",productInfo="_productInfo_1m3j9_235",productName="_productName_1m3j9_243",productSku="_productSku_1m3j9_251",productBrand="_productBrand_1m3j9_257",stockInfo="_stockInfo_1m3j9_263",stockIconIn="_stockIconIn_1m3j9_272",stockIconLow="_stockIconLow_1m3j9_276",stockIconOut="_stockIconOut_1m3j9_280",productPrice="_productPrice_1m3j9_284",productActions="_productActions_1m3j9_291",actionButton$2="_actionButton_1m3j9_297",deleteButton="_deleteButton_1m3j9_316",pagination$1="_pagination_1m3j9_326",pageButton="_pageButton_1m3j9_333",pageInfo$1="_pageInfo_1m3j9_355",loading$2="_loading_1m3j9_361",loadingSpinner="_loadingSpinner_1m3j9_371",error="_error_1m3j9_387",styles$8={container,header:header$3,headerContent:headerContent$1,subtitle,headerActions:headerActions$1,aiEnrichButton,pricelistButton,addButton:addButton$1,filtersSection,searchBox:searchBox$1,filterGroup,filterSelect,resultsInfo,productsGrid,productCard,productImage,imagePlaceholder:imagePlaceholder$1,productInfo,productName,productSku,productBrand,stockInfo,stockIconIn,stockIconLow,stockIconOut,productPrice,productActions,actionButton:actionButton$2,deleteButton,pagination:pagination$1,pageButton,pageInfo:pageInfo$1,loading:loading$2,loadingSpinner,error},ITEMS_PER_PAGE=25,SORT_OPTIONS=[{label:"Newest to Oldest",value:"created_newest"},{label:"Oldest to Newest",value:"created_oldest"},{label:"Name (A-Z)",value:"name_asc"},{label:"Name (Z-A)",value:"name_desc"},{label:"Stock (Low to High)",value:"stock_asc"},{label:"Stock (High to Low)",value:"stock_desc"}],mapProductToInventoryItem=i=>({id:String(i.id),name:i.name,sku:i.sku,ean:i.ean||void 0,description:i.description||void 0,category:i.category_name||void 0,brand:i.brand,gross_stock_level:i.stock_on_hand,reorder_level:0,retail_price:i.rrp||i.rate,cost_price:i.rate,status:i.status,image_url:i.image_url||void 0,created_date:i.created_at}),InventoryProducts=()=>{useNavigate();const[i,o]=useSearchParams(),{showLoader:_,hideLoader:j,setProgress:_e}=useComponentLoader(),[et,tt]=reactExports.useState(!0),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState([]),[ct,ut]=reactExports.useState(1),[lt,pt]=reactExports.useState(1),[dt,ht]=reactExports.useState(0),[ft,mt]=reactExports.useState({search:i.get("search")||"",brand:i.get("brand")||"",stockFilter:i.get("filter")||"",sort:i.get("sort")||"stock_desc"}),[xt,gt]=reactExports.useState(!1),[yt,_t]=reactExports.useState(!1),[Et,wt]=reactExports.useState(!1),[$t,jt]=reactExports.useState(!1),[Tt,kt]=reactExports.useState(!1),[Pt,St]=reactExports.useState(null),Rt=reactExports.useCallback(async()=>{try{_e(60);const It=await productService.getBrands();ot(It),_e(70)}catch(It){console.error("Error in fetchBrands:",It)}},[_e]),bt=reactExports.useCallback(async(It=1,Dt=!1)=>{var Zt;try{Dt&&(_("Loading inventory..."),_e(80)),tt(!0),nt(null);const Qt={limit:ITEMS_PER_PAGE,offset:(It-1)*ITEMS_PER_PAGE};ft.brand&&(Qt.brand=ft.brand),ft.search&&(Qt.search=ft.search),Qt.status="active";const Yt=await productService.list(Qt);if(Yt.data){let Ft=Yt.data.map(mapProductToInventoryItem);switch(ft.stockFilter==="out-of-stock"?Ft=Ft.filter(er=>er.gross_stock_level===0):ft.stockFilter==="low-stock"?Ft=Ft.filter(er=>er.reorder_level>0&&er.gross_stock_level<=er.reorder_level):ft.stockFilter==="in-stock"&&(Ft=Ft.filter(er=>er.gross_stock_level>0)),ft.sort){case"created_newest":Ft.sort((er,Nt)=>new Date(Nt.created_date).getTime()-new Date(er.created_date).getTime());break;case"created_oldest":Ft.sort((er,Nt)=>new Date(er.created_date).getTime()-new Date(Nt.created_date).getTime());break;case"name_asc":Ft.sort((er,Nt)=>er.name.localeCompare(Nt.name));break;case"name_desc":Ft.sort((er,Nt)=>Nt.name.localeCompare(er.name));break;case"stock_asc":Ft.sort((er,Nt)=>er.gross_stock_level-Nt.gross_stock_level);break;case"stock_desc":Ft.sort((er,Nt)=>Nt.gross_stock_level-er.gross_stock_level);break}it(Ft);const Kt=((Zt=Yt.meta)==null?void 0:Zt.total)||Ft.length;ht(Kt),pt(Math.ceil(Kt/ITEMS_PER_PAGE)),ut(It),Dt&&(_e(100),setTimeout(()=>j(),300))}}catch(Qt){console.error("Error loading items:",Qt),nt("Failed to load products"),Dt&&j()}finally{tt(!1)}},[ft,_,j,_e]);reactExports.useEffect(()=>{(async()=>{_("Loading inventory..."),_e(10),await Rt(),_e(50)})()},[Rt,_,_e]),reactExports.useEffect(()=>{bt(1,st.length===0)},[ft,bt]);const vt=(It,Dt)=>{const Zt={...ft,[It]:Dt};mt(Zt);const Qt=new URLSearchParams;Object.entries(Zt).forEach(([Yt,Ft])=>{Ft&&Qt.set(Yt,Ft)}),o(Qt)},At=It=>{bt(It,!1)},Ot=async It=>{if(window.confirm("Are you sure you want to delete this product?"))try{await productService.update(parseInt(It),{status:"inactive"}),bt(ct,!1)}catch(Dt){console.error("Error deleting product:",Dt),nt("Failed to delete product")}},Ct=It=>It.gross_stock_level===0?jsxRuntimeExports.jsx(XCircle,{className:styles$8.stockIconOut,size:16}):It.reorder_level>0&&It.gross_stock_level<=It.reorder_level?jsxRuntimeExports.jsx(AlertTriangle,{className:styles$8.stockIconLow,size:16}):jsxRuntimeExports.jsx(CheckCircle,{className:styles$8.stockIconIn,size:16}),Lt=It=>It==null?"---":new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(It);return et&&st.length===0&&!rt?jsxRuntimeExports.jsxs("div",{className:styles$8.loading,children:[jsxRuntimeExports.jsx("div",{className:styles$8.loadingSpinner}),jsxRuntimeExports.jsx("h3",{children:"Loading Products..."}),jsxRuntimeExports.jsx("p",{children:"Please wait while we fetch your inventory"})]}):!et&&st.length===0&&!rt?jsxRuntimeExports.jsxs("div",{className:styles$8.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$8.header,children:[jsxRuntimeExports.jsxs("div",{className:styles$8.headerContent,children:[jsxRuntimeExports.jsx("h1",{children:"Inventory Management"}),jsxRuntimeExports.jsx("p",{className:styles$8.subtitle,children:"Manage your product catalog and inventory"})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.headerActions,children:[jsxRuntimeExports.jsxs("button",{className:styles$8.aiEnrichButton,onClick:()=>jt(!0),title:"Enhance products with AI",children:[jsxRuntimeExports.jsx(Sparkles,{size:18}),"AI Enhance"]}),jsxRuntimeExports.jsxs("button",{className:styles$8.addButton,onClick:()=>wt(!0),children:[jsxRuntimeExports.jsx(Plus,{size:18}),"Add Product"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.emptyState,children:[jsxRuntimeExports.jsx(Package2,{size:64}),jsxRuntimeExports.jsx("h3",{children:"No products found"}),jsxRuntimeExports.jsx("p",{children:"Get started by adding your first product to the inventory"}),jsxRuntimeExports.jsxs("button",{className:styles$8.addButton,onClick:()=>wt(!0),children:[jsxRuntimeExports.jsx(Plus,{size:18}),"Add First Product"]})]}),Et&&jsxRuntimeExports.jsx(AddProductModal,{brands:at,onClose:()=>wt(!1),onAdd:()=>{bt(1,!1),wt(!1)}}),$t&&jsxRuntimeExports.jsx(AIProductEnricher,{companyId:"dm-brands",onClose:()=>jt(!1),onComplete:()=>{bt(ct,!1),jt(!1)}})]}):jsxRuntimeExports.jsxs("div",{className:styles$8.container,children:[jsxRuntimeExports.jsxs("div",{className:styles$8.header,children:[jsxRuntimeExports.jsxs("div",{className:styles$8.headerContent,children:[jsxRuntimeExports.jsx("h1",{children:"Inventory Management"}),jsxRuntimeExports.jsx("p",{className:styles$8.subtitle,children:"Manage your product catalog and inventory"})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.headerActions,children:[jsxRuntimeExports.jsxs("button",{className:styles$8.pricelistButton,onClick:()=>kt(!0),title:"Upload supplier pricelists",children:[jsxRuntimeExports.jsx(Upload,{size:18}),"Upload Pricelists"]}),jsxRuntimeExports.jsxs("button",{className:styles$8.aiEnrichButton,onClick:()=>jt(!0),title:"Enhance products with AI",children:[jsxRuntimeExports.jsx(Sparkles,{size:18}),"AI Enhance"]}),jsxRuntimeExports.jsxs("button",{className:styles$8.addButton,onClick:()=>wt(!0),children:[jsxRuntimeExports.jsx(Plus,{size:18}),"Add Product"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.filtersSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$8.searchBox,children:[jsxRuntimeExports.jsx(Search,{size:18}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:ft.search,onChange:It=>vt("search",It.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.filterGroup,children:[jsxRuntimeExports.jsx(Filter,{size:18}),jsxRuntimeExports.jsxs("select",{value:ft.brand,onChange:It=>vt("brand",It.target.value),className:styles$8.filterSelect,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Brands"}),at.map(It=>jsxRuntimeExports.jsxs("option",{value:It.brand,children:[It.brand," (",It.count,")"]},It.brand))]}),jsxRuntimeExports.jsxs("select",{value:ft.stockFilter,onChange:It=>vt("stockFilter",It.target.value),className:styles$8.filterSelect,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Stock Levels"}),jsxRuntimeExports.jsx("option",{value:"in-stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"low-stock",children:"Low Stock"}),jsxRuntimeExports.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]}),jsxRuntimeExports.jsx("select",{value:ft.sort,onChange:It=>vt("sort",It.target.value),className:styles$8.filterSelect,children:SORT_OPTIONS.map(It=>jsxRuntimeExports.jsx("option",{value:It.value,children:It.label},It.value))})]})]}),rt&&jsxRuntimeExports.jsxs("div",{className:styles$8.error,children:[jsxRuntimeExports.jsx(XCircle,{}),jsxRuntimeExports.jsx("span",{children:rt})]}),jsxRuntimeExports.jsx("div",{className:styles$8.resultsInfo,children:jsxRuntimeExports.jsxs("span",{children:["Showing ",(ct-1)*ITEMS_PER_PAGE+1,"-",Math.min(ct*ITEMS_PER_PAGE,dt)," of ",dt," products"]})}),jsxRuntimeExports.jsx("div",{className:styles$8.productsGrid,children:st.map(It=>jsxRuntimeExports.jsxs("div",{className:styles$8.productCard,children:[jsxRuntimeExports.jsx("div",{className:styles$8.productImage,children:It.image_url?jsxRuntimeExports.jsx("img",{src:It.image_url,alt:It.name}):jsxRuntimeExports.jsx("div",{className:styles$8.imagePlaceholder,children:jsxRuntimeExports.jsx(Image$1,{size:40})})}),jsxRuntimeExports.jsxs("div",{className:styles$8.productInfo,children:[jsxRuntimeExports.jsx("h3",{className:styles$8.productName,children:It.name}),jsxRuntimeExports.jsxs("p",{className:styles$8.productSku,children:["SKU: ",It.sku]}),jsxRuntimeExports.jsx("p",{className:styles$8.productBrand,children:It.brand}),jsxRuntimeExports.jsxs("div",{className:styles$8.stockInfo,children:[Ct(It),jsxRuntimeExports.jsxs("span",{children:["Stock: ",It.gross_stock_level]})]}),jsxRuntimeExports.jsx("p",{className:styles$8.productPrice,children:Lt(It.retail_price)})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.productActions,children:[jsxRuntimeExports.jsx("button",{className:styles$8.actionButton,onClick:()=>{St(It),gt(!0)},title:"View Details",children:jsxRuntimeExports.jsx(Eye,{size:18})}),jsxRuntimeExports.jsx("button",{className:styles$8.actionButton,onClick:()=>{St(It),_t(!0)},title:"Edit",children:jsxRuntimeExports.jsx(Pen,{size:18})}),jsxRuntimeExports.jsx("button",{className:`${styles$8.actionButton} ${styles$8.deleteButton}`,onClick:()=>Ot(It.id),title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{size:18})})]})]},It.id))}),lt>1&&jsxRuntimeExports.jsxs("div",{className:styles$8.pagination,children:[jsxRuntimeExports.jsx("button",{className:styles$8.pageButton,onClick:()=>At(ct-1),disabled:ct===1,children:jsxRuntimeExports.jsx(ChevronLeft,{size:18})}),jsxRuntimeExports.jsxs("span",{className:styles$8.pageInfo,children:["Page ",ct," of ",lt]}),jsxRuntimeExports.jsx("button",{className:styles$8.pageButton,onClick:()=>At(ct+1),disabled:ct===lt,children:jsxRuntimeExports.jsx(ChevronRight,{size:18})})]}),xt&&Pt&&jsxRuntimeExports.jsx(ProductDetailsModal,{product:Pt,onClose:()=>{gt(!1),St(null)}}),yt&&Pt&&jsxRuntimeExports.jsx(EditProductModal,{product:Pt,brands:at,onClose:()=>{_t(!1),St(null)},onUpdate:()=>{bt(ct,!1),_t(!1),St(null)}}),Et&&jsxRuntimeExports.jsx(AddProductModal,{brands:at,onClose:()=>wt(!1),onAdd:()=>{bt(1,!1),wt(!1)}}),$t&&jsxRuntimeExports.jsx(AIProductEnricher,{companyId:"dm-brands",onClose:()=>jt(!1),onComplete:()=>{bt(ct,!1),jt(!1)}}),Tt&&jsxRuntimeExports.jsx(PricelistUpload,{onClose:()=>{kt(!1),bt(ct,!1)}})]})},InventoryProducts$1=withLoader(InventoryProducts),CataloguesLanding=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(Book,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Catalogues"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Product catalogues - coming soon"})]});var lottie$1={exports:{}};(function(module,exports$1){typeof document<"u"&&typeof navigator<"u"&&function(i,o){module.exports=o()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(o){_useWebWorker=!!o},getWebWorker=function(){return _useWebWorker},setLocationHref=function(o){locationHref=o},getLocationHref=function(){return locationHref};function createTag(i){return document.createElement(i)}function extendPrototype(i,o){var _,j=i.length,_e;for(_=0;_<j;_+=1){_e=i[_].prototype;for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(o.prototype[et]=_e[et])}}function getDescriptor(i,o){return Object.getOwnPropertyDescriptor(i,o)}function createProxyFunction(i){function o(){}return o.prototype=i,o}var audioControllerFactory=function(){function i(o){this.audios=[],this.audioFactory=o,this._volume=1,this._isMuted=!1}return i.prototype={addAudio:function(_){this.audios.push(_)},pause:function(){var _,j=this.audios.length;for(_=0;_<j;_+=1)this.audios[_].pause()},resume:function(){var _,j=this.audios.length;for(_=0;_<j;_+=1)this.audios[_].resume()},setRate:function(_){var j,_e=this.audios.length;for(j=0;j<_e;j+=1)this.audios[j].setRate(_)},createAudio:function(_){return this.audioFactory?this.audioFactory(_):window.Howl?new window.Howl({src:[_]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_){this.audioFactory=_},setVolume:function(_){this._volume=_,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _,j=this.audios.length;for(_=0;_<j;_+=1)this.audios[_].volume(this._volume*(this._isMuted?0:1))}},function(){return new i}}(),createTypedArray=function(){function i(_,j){var _e=0,et=[],tt;switch(_){case"int16":case"uint8c":tt=1;break;default:tt=1.1;break}for(_e=0;_e<j;_e+=1)et.push(tt);return et}function o(_,j){return _==="float32"?new Float32Array(j):_==="int16"?new Int16Array(j):_==="uint8c"?new Uint8ClampedArray(j):i(_,j)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?o:i}();function createSizedArray(i){return Array.apply(null,{length:i})}function _typeof$6(i){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$6(i)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var i=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],o,_=i.length;for(o=0;o<_;o+=1)BMMath[i[o]]=Math[i[o]]})(),BMMath.random=Math.random,BMMath.abs=function(i){var o=_typeof$6(i);if(o==="object"&&i.length){var _=createSizedArray(i.length),j,_e=i.length;for(j=0;j<_e;j+=1)_[j]=Math.abs(i[j]);return _}return Math.abs(i)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(i){i.style.position="absolute",i.style.top=0,i.style.left=0,i.style.display="block",i.style.transformOrigin="0 0",i.style.webkitTransformOrigin="0 0",i.style.backfaceVisibility="visible",i.style.webkitBackfaceVisibility="visible",i.style.transformStyle="preserve-3d",i.style.webkitTransformStyle="preserve-3d",i.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(i,o,_,j){this.type=i,this.currentTime=o,this.totalTime=_,this.direction=j<0?-1:1}function BMCompleteEvent(i,o){this.type=i,this.direction=o<0?-1:1}function BMCompleteLoopEvent(i,o,_,j){this.type=i,this.currentLoop=_,this.totalLoops=o,this.direction=j<0?-1:1}function BMSegmentStartEvent(i,o,_){this.type=i,this.firstFrame=o,this.totalFrames=_}function BMDestroyEvent(i,o){this.type=i,this.target=o}function BMRenderFrameErrorEvent(i,o){this.type="renderFrameError",this.nativeError=i,this.currentTime=o}function BMConfigErrorEvent(i){this.type="configError",this.nativeError=i}var createElementID=function(){var i=0;return function(){return i+=1,idPrefix$1+"__lottie_element_"+i}}();function HSVtoRGB(i,o,_){var j,_e,et,tt,rt,nt,st,it;switch(tt=Math.floor(i*6),rt=i*6-tt,nt=_*(1-o),st=_*(1-rt*o),it=_*(1-(1-rt)*o),tt%6){case 0:j=_,_e=it,et=nt;break;case 1:j=st,_e=_,et=nt;break;case 2:j=nt,_e=_,et=it;break;case 3:j=nt,_e=st,et=_;break;case 4:j=it,_e=nt,et=_;break;case 5:j=_,_e=nt,et=st;break}return[j,_e,et]}function RGBtoHSV(i,o,_){var j=Math.max(i,o,_),_e=Math.min(i,o,_),et=j-_e,tt,rt=j===0?0:et/j,nt=j/255;switch(j){case _e:tt=0;break;case i:tt=o-_+et*(o<_?6:0),tt/=6*et;break;case o:tt=_-i+et*2,tt/=6*et;break;case _:tt=i-o+et*4,tt/=6*et;break}return[tt,rt,nt]}function addSaturationToRGB(i,o){var _=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return _[1]+=o,_[1]>1?_[1]=1:_[1]<=0&&(_[1]=0),HSVtoRGB(_[0],_[1],_[2])}function addBrightnessToRGB(i,o){var _=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return _[2]+=o,_[2]>1?_[2]=1:_[2]<0&&(_[2]=0),HSVtoRGB(_[0],_[1],_[2])}function addHueToRGB(i,o){var _=RGBtoHSV(i[0]*255,i[1]*255,i[2]*255);return _[0]+=o/360,_[0]>1?_[0]-=1:_[0]<0&&(_[0]+=1),HSVtoRGB(_[0],_[1],_[2])}var rgbToHex=function(){var i=[],o,_;for(o=0;o<256;o+=1)_=o.toString(16),i[o]=_.length===1?"0"+_:_;return function(j,_e,et){return j<0&&(j=0),_e<0&&(_e=0),et<0&&(et=0),"#"+i[j]+i[_e]+i[et]}}(),setSubframeEnabled=function(o){subframeEnabled=!!o},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(o){expressionsPlugin=o},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(o){expressionsInterfaces=o},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(o){defaultCurveSegments=o},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(o){idPrefix$1=o};function createNS(i){return document.createElementNS(svgNS,i)}function _typeof$5(i){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$5(i)}var dataManager=function(){var i=1,o=[],_,j,_e={onmessage:function(){},postMessage:function(ct){_({data:ct})}},et={postMessage:function(ct){_e.onmessage({data:ct})}};function tt(ot){if(window.Worker&&window.Blob&&getWebWorker()){var ct=new Blob(["var _workerSelf = self; self.onmessage = ",ot.toString()],{type:"text/javascript"}),ut=URL.createObjectURL(ct);return new Worker(ut)}return _=ot,_e}function rt(){j||(j=tt(function(ct){function ut(){function pt(Pt,St){var Rt,bt,vt=Pt.length,At,Ot,Ct,Lt;for(bt=0;bt<vt;bt+=1)if(Rt=Pt[bt],"ks"in Rt&&!Rt.completed){if(Rt.completed=!0,Rt.hasMask){var It=Rt.masksProperties;for(Ot=It.length,At=0;At<Ot;At+=1)if(It[At].pt.k.i)xt(It[At].pt.k);else for(Lt=It[At].pt.k.length,Ct=0;Ct<Lt;Ct+=1)It[At].pt.k[Ct].s&&xt(It[At].pt.k[Ct].s[0]),It[At].pt.k[Ct].e&&xt(It[At].pt.k[Ct].e[0])}Rt.ty===0?(Rt.layers=ft(Rt.refId,St),pt(Rt.layers,St)):Rt.ty===4?mt(Rt.shapes):Rt.ty===5&&Tt(Rt)}}function dt(Pt,St){if(Pt){var Rt=0,bt=Pt.length;for(Rt=0;Rt<bt;Rt+=1)Pt[Rt].t===1&&(Pt[Rt].data.layers=ft(Pt[Rt].data.refId,St),pt(Pt[Rt].data.layers,St))}}function ht(Pt,St){for(var Rt=0,bt=St.length;Rt<bt;){if(St[Rt].id===Pt)return St[Rt];Rt+=1}return null}function ft(Pt,St){var Rt=ht(Pt,St);return Rt?Rt.layers.__used?JSON.parse(JSON.stringify(Rt.layers)):(Rt.layers.__used=!0,Rt.layers):null}function mt(Pt){var St,Rt=Pt.length,bt,vt;for(St=Rt-1;St>=0;St-=1)if(Pt[St].ty==="sh")if(Pt[St].ks.k.i)xt(Pt[St].ks.k);else for(vt=Pt[St].ks.k.length,bt=0;bt<vt;bt+=1)Pt[St].ks.k[bt].s&&xt(Pt[St].ks.k[bt].s[0]),Pt[St].ks.k[bt].e&&xt(Pt[St].ks.k[bt].e[0]);else Pt[St].ty==="gr"&&mt(Pt[St].it)}function xt(Pt){var St,Rt=Pt.i.length;for(St=0;St<Rt;St+=1)Pt.i[St][0]+=Pt.v[St][0],Pt.i[St][1]+=Pt.v[St][1],Pt.o[St][0]+=Pt.v[St][0],Pt.o[St][1]+=Pt.v[St][1]}function gt(Pt,St){var Rt=St?St.split("."):[100,100,100];return Pt[0]>Rt[0]?!0:Rt[0]>Pt[0]?!1:Pt[1]>Rt[1]?!0:Rt[1]>Pt[1]?!1:Pt[2]>Rt[2]?!0:Rt[2]>Pt[2]?!1:null}var yt=function(){var Pt=[4,4,14];function St(bt){var vt=bt.t.d;bt.t.d={k:[{s:vt,t:0}]}}function Rt(bt){var vt,At=bt.length;for(vt=0;vt<At;vt+=1)bt[vt].ty===5&&St(bt[vt])}return function(bt){if(gt(Pt,bt.v)&&(Rt(bt.layers),bt.assets)){var vt,At=bt.assets.length;for(vt=0;vt<At;vt+=1)bt.assets[vt].layers&&Rt(bt.assets[vt].layers)}}}(),_t=function(){var Pt=[4,7,99];return function(St){if(St.chars&&!gt(Pt,St.v)){var Rt,bt=St.chars.length;for(Rt=0;Rt<bt;Rt+=1){var vt=St.chars[Rt];vt.data&&vt.data.shapes&&(mt(vt.data.shapes),vt.data.ip=0,vt.data.op=99999,vt.data.st=0,vt.data.sr=1,vt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},St.chars[Rt].t||(vt.data.shapes.push({ty:"no"}),vt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Et=function(){var Pt=[5,7,15];function St(bt){var vt=bt.t.p;typeof vt.a=="number"&&(vt.a={a:0,k:vt.a}),typeof vt.p=="number"&&(vt.p={a:0,k:vt.p}),typeof vt.r=="number"&&(vt.r={a:0,k:vt.r})}function Rt(bt){var vt,At=bt.length;for(vt=0;vt<At;vt+=1)bt[vt].ty===5&&St(bt[vt])}return function(bt){if(gt(Pt,bt.v)&&(Rt(bt.layers),bt.assets)){var vt,At=bt.assets.length;for(vt=0;vt<At;vt+=1)bt.assets[vt].layers&&Rt(bt.assets[vt].layers)}}}(),wt=function(){var Pt=[4,1,9];function St(bt){var vt,At=bt.length,Ot,Ct;for(vt=0;vt<At;vt+=1)if(bt[vt].ty==="gr")St(bt[vt].it);else if(bt[vt].ty==="fl"||bt[vt].ty==="st")if(bt[vt].c.k&&bt[vt].c.k[0].i)for(Ct=bt[vt].c.k.length,Ot=0;Ot<Ct;Ot+=1)bt[vt].c.k[Ot].s&&(bt[vt].c.k[Ot].s[0]/=255,bt[vt].c.k[Ot].s[1]/=255,bt[vt].c.k[Ot].s[2]/=255,bt[vt].c.k[Ot].s[3]/=255),bt[vt].c.k[Ot].e&&(bt[vt].c.k[Ot].e[0]/=255,bt[vt].c.k[Ot].e[1]/=255,bt[vt].c.k[Ot].e[2]/=255,bt[vt].c.k[Ot].e[3]/=255);else bt[vt].c.k[0]/=255,bt[vt].c.k[1]/=255,bt[vt].c.k[2]/=255,bt[vt].c.k[3]/=255}function Rt(bt){var vt,At=bt.length;for(vt=0;vt<At;vt+=1)bt[vt].ty===4&&St(bt[vt].shapes)}return function(bt){if(gt(Pt,bt.v)&&(Rt(bt.layers),bt.assets)){var vt,At=bt.assets.length;for(vt=0;vt<At;vt+=1)bt.assets[vt].layers&&Rt(bt.assets[vt].layers)}}}(),$t=function(){var Pt=[4,4,18];function St(bt){var vt,At=bt.length,Ot,Ct;for(vt=At-1;vt>=0;vt-=1)if(bt[vt].ty==="sh")if(bt[vt].ks.k.i)bt[vt].ks.k.c=bt[vt].closed;else for(Ct=bt[vt].ks.k.length,Ot=0;Ot<Ct;Ot+=1)bt[vt].ks.k[Ot].s&&(bt[vt].ks.k[Ot].s[0].c=bt[vt].closed),bt[vt].ks.k[Ot].e&&(bt[vt].ks.k[Ot].e[0].c=bt[vt].closed);else bt[vt].ty==="gr"&&St(bt[vt].it)}function Rt(bt){var vt,At,Ot=bt.length,Ct,Lt,It,Dt;for(At=0;At<Ot;At+=1){if(vt=bt[At],vt.hasMask){var Zt=vt.masksProperties;for(Lt=Zt.length,Ct=0;Ct<Lt;Ct+=1)if(Zt[Ct].pt.k.i)Zt[Ct].pt.k.c=Zt[Ct].cl;else for(Dt=Zt[Ct].pt.k.length,It=0;It<Dt;It+=1)Zt[Ct].pt.k[It].s&&(Zt[Ct].pt.k[It].s[0].c=Zt[Ct].cl),Zt[Ct].pt.k[It].e&&(Zt[Ct].pt.k[It].e[0].c=Zt[Ct].cl)}vt.ty===4&&St(vt.shapes)}}return function(bt){if(gt(Pt,bt.v)&&(Rt(bt.layers),bt.assets)){var vt,At=bt.assets.length;for(vt=0;vt<At;vt+=1)bt.assets[vt].layers&&Rt(bt.assets[vt].layers)}}}();function jt(Pt){Pt.__complete||(wt(Pt),yt(Pt),_t(Pt),Et(Pt),$t(Pt),pt(Pt.layers,Pt.assets),dt(Pt.chars,Pt.assets),Pt.__complete=!0)}function Tt(Pt){Pt.t.a.length===0&&"m"in Pt.t.p}var kt={};return kt.completeData=jt,kt.checkColors=wt,kt.checkChars=_t,kt.checkPathProperties=Et,kt.checkShapes=$t,kt.completeLayers=pt,kt}if(et.dataManager||(et.dataManager=ut()),et.assetLoader||(et.assetLoader=function(){function pt(ht){var ft=ht.getResponseHeader("content-type");return ft&&ht.responseType==="json"&&ft.indexOf("json")!==-1||ht.response&&_typeof$5(ht.response)==="object"?ht.response:ht.response&&typeof ht.response=="string"?JSON.parse(ht.response):ht.responseText?JSON.parse(ht.responseText):null}function dt(ht,ft,mt,xt){var gt,yt=new XMLHttpRequest;try{yt.responseType="json"}catch{}yt.onreadystatechange=function(){if(yt.readyState===4)if(yt.status===200)gt=pt(yt),mt(gt);else try{gt=pt(yt),mt(gt)}catch(_t){xt&&xt(_t)}};try{yt.open(["G","E","T"].join(""),ht,!0)}catch{yt.open(["G","E","T"].join(""),ft+"/"+ht,!0)}yt.send()}return{load:dt}}()),ct.data.type==="loadAnimation")et.assetLoader.load(ct.data.path,ct.data.fullPath,function(pt){et.dataManager.completeData(pt),et.postMessage({id:ct.data.id,payload:pt,status:"success"})},function(){et.postMessage({id:ct.data.id,status:"error"})});else if(ct.data.type==="complete"){var lt=ct.data.animation;et.dataManager.completeData(lt),et.postMessage({id:ct.data.id,payload:lt,status:"success"})}else ct.data.type==="loadData"&&et.assetLoader.load(ct.data.path,ct.data.fullPath,function(pt){et.postMessage({id:ct.data.id,payload:pt,status:"success"})},function(){et.postMessage({id:ct.data.id,status:"error"})})}),j.onmessage=function(ot){var ct=ot.data,ut=ct.id,lt=o[ut];o[ut]=null,ct.status==="success"?lt.onComplete(ct.payload):lt.onError&&lt.onError()})}function nt(ot,ct){i+=1;var ut="processId_"+i;return o[ut]={onComplete:ot,onError:ct},ut}function st(ot,ct,ut){rt();var lt=nt(ct,ut);j.postMessage({type:"loadAnimation",path:ot,fullPath:window.location.origin+window.location.pathname,id:lt})}function it(ot,ct,ut){rt();var lt=nt(ct,ut);j.postMessage({type:"loadData",path:ot,fullPath:window.location.origin+window.location.pathname,id:lt})}function at(ot,ct,ut){rt();var lt=nt(ct,ut);j.postMessage({type:"complete",animation:ot,id:lt})}return{loadAnimation:st,loadData:it,completeAnimation:at}}(),ImagePreloader=function(){var i=function(){var dt=createTag("canvas");dt.width=1,dt.height=1;var ht=dt.getContext("2d");return ht.fillStyle="rgba(0,0,0,0)",ht.fillRect(0,0,1,1),dt}();function o(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function _(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function j(dt,ht,ft){var mt="";if(dt.e)mt=dt.p;else if(ht){var xt=dt.p;xt.indexOf("images/")!==-1&&(xt=xt.split("/")[1]),mt=ht+xt}else mt=ft,mt+=dt.u?dt.u:"",mt+=dt.p;return mt}function _e(dt){var ht=0,ft=setInterval((function(){var mt=dt.getBBox();(mt.width||ht>500)&&(this._imageLoaded(),clearInterval(ft)),ht+=1}).bind(this),50)}function et(dt){var ht=j(dt,this.assetsPath,this.path),ft=createNS("image");isSafari?this.testImageLoaded(ft):ft.addEventListener("load",this._imageLoaded,!1),ft.addEventListener("error",(function(){mt.img=i,this._imageLoaded()}).bind(this),!1),ft.setAttributeNS("http://www.w3.org/1999/xlink","href",ht),this._elementHelper.append?this._elementHelper.append(ft):this._elementHelper.appendChild(ft);var mt={img:ft,assetData:dt};return mt}function tt(dt){var ht=j(dt,this.assetsPath,this.path),ft=createTag("img");ft.crossOrigin="anonymous",ft.addEventListener("load",this._imageLoaded,!1),ft.addEventListener("error",(function(){mt.img=i,this._imageLoaded()}).bind(this),!1),ft.src=ht;var mt={img:ft,assetData:dt};return mt}function rt(dt){var ht={assetData:dt},ft=j(dt,this.assetsPath,this.path);return dataManager.loadData(ft,(function(mt){ht.img=mt,this._footageLoaded()}).bind(this),(function(){ht.img={},this._footageLoaded()}).bind(this)),ht}function nt(dt,ht){this.imagesLoadedCb=ht;var ft,mt=dt.length;for(ft=0;ft<mt;ft+=1)dt[ft].layers||(!dt[ft].t||dt[ft].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(dt[ft]))):dt[ft].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(dt[ft]))))}function st(dt){this.path=dt||""}function it(dt){this.assetsPath=dt||""}function at(dt){for(var ht=0,ft=this.images.length;ht<ft;){if(this.images[ht].assetData===dt)return this.images[ht].img;ht+=1}return null}function ot(){this.imagesLoadedCb=null,this.images.length=0}function ct(){return this.totalImages===this.loadedAssets}function ut(){return this.totalFootages===this.loadedFootagesCount}function lt(dt,ht){dt==="svg"?(this._elementHelper=ht,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function pt(){this._imageLoaded=o.bind(this),this._footageLoaded=_.bind(this),this.testImageLoaded=_e.bind(this),this.createFootageData=rt.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return pt.prototype={loadAssets:nt,setAssetsPath:it,setPath:st,loadedImages:ct,loadedFootages:ut,destroy:ot,getAsset:at,createImgData:tt,createImageData:et,imageLoaded:o,footageLoaded:_,setCacheType:lt},pt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(o,_){if(this._cbs[o])for(var j=this._cbs[o],_e=0;_e<j.length;_e+=1)j[_e](_)},addEventListener:function(o,_){return this._cbs[o]||(this._cbs[o]=[]),this._cbs[o].push(_),(function(){this.removeEventListener(o,_)}).bind(this)},removeEventListener:function(o,_){if(!_)this._cbs[o]=null;else if(this._cbs[o]){for(var j=0,_e=this._cbs[o].length;j<_e;)this._cbs[o][j]===_&&(this._cbs[o].splice(j,1),j-=1,_e-=1),j+=1;this._cbs[o].length||(this._cbs[o]=null)}}};var markerParser=function(){function i(o){for(var _=o.split(`\r
`),j={},_e,et=0,tt=0;tt<_.length;tt+=1)_e=_[tt].split(":"),_e.length===2&&(j[_e[0]]=_e[1].trim(),et+=1);if(et===0)throw new Error;return j}return function(o){for(var _=[],j=0;j<o.length;j+=1){var _e=o[j],et={time:_e.tm,duration:_e.dr};try{et.payload=JSON.parse(o[j].cm)}catch{try{et.payload=i(o[j].cm)}catch{et.payload={name:o[j].cm}}}_.push(et)}return _}}(),ProjectInterface=function(){function i(o){this.compositions.push(o)}return function(){function o(_){for(var j=0,_e=this.compositions.length;j<_e;){if(this.compositions[j].data&&this.compositions[j].data.nm===_)return this.compositions[j].prepareFrame&&this.compositions[j].data.xt&&this.compositions[j].prepareFrame(this.currentFrame),this.compositions[j].compInterface;j+=1}return null}return o.compositions=[],o.currentFrame=0,o.registerComposition=i,o}}(),renderers={},registerRenderer=function(o,_){renderers[o]=_};function getRenderer(i){return renderers[i]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var i in renderers)if(renderers[i])return i;return""}function _typeof$4(i){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(i)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(i){(i.wrapper||i.container)&&(this.wrapper=i.wrapper||i.container);var o="svg";i.animType?o=i.animType:i.renderer&&(o=i.renderer);var _=getRenderer(o);this.renderer=new _(this,i.rendererSettings),this.imagePreloader.setCacheType(o,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=o,i.loop===""||i.loop===null||i.loop===void 0||i.loop===!0?this.loop=!0:i.loop===!1?this.loop=!1:this.loop=parseInt(i.loop,10),this.autoplay="autoplay"in i?i.autoplay:!0,this.name=i.name?i.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(i,"autoloadSegments")?i.autoloadSegments:!0,this.assetsPath=i.assetsPath,this.initialSegment=i.initialSegment,i.audioFactory&&this.audioController.setAudioFactory(i.audioFactory),i.animationData?this.setupAnimation(i.animationData):i.path&&(i.path.lastIndexOf("\\")!==-1?this.path=i.path.substr(0,i.path.lastIndexOf("\\")+1):this.path=i.path.substr(0,i.path.lastIndexOf("/")+1),this.fileName=i.path.substr(i.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(i.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(i){dataManager.completeAnimation(i,this.configAnimation)},AnimationItem.prototype.setData=function(i,o){o&&_typeof$4(o)!=="object"&&(o=JSON.parse(o));var _={wrapper:i,animationData:o},j=i.attributes;_.path=j.getNamedItem("data-animation-path")?j.getNamedItem("data-animation-path").value:j.getNamedItem("data-bm-path")?j.getNamedItem("data-bm-path").value:j.getNamedItem("bm-path")?j.getNamedItem("bm-path").value:"",_.animType=j.getNamedItem("data-anim-type")?j.getNamedItem("data-anim-type").value:j.getNamedItem("data-bm-type")?j.getNamedItem("data-bm-type").value:j.getNamedItem("bm-type")?j.getNamedItem("bm-type").value:j.getNamedItem("data-bm-renderer")?j.getNamedItem("data-bm-renderer").value:j.getNamedItem("bm-renderer")?j.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var _e=j.getNamedItem("data-anim-loop")?j.getNamedItem("data-anim-loop").value:j.getNamedItem("data-bm-loop")?j.getNamedItem("data-bm-loop").value:j.getNamedItem("bm-loop")?j.getNamedItem("bm-loop").value:"";_e==="false"?_.loop=!1:_e==="true"?_.loop=!0:_e!==""&&(_.loop=parseInt(_e,10));var et=j.getNamedItem("data-anim-autoplay")?j.getNamedItem("data-anim-autoplay").value:j.getNamedItem("data-bm-autoplay")?j.getNamedItem("data-bm-autoplay").value:j.getNamedItem("bm-autoplay")?j.getNamedItem("bm-autoplay").value:!0;_.autoplay=et!=="false",_.name=j.getNamedItem("data-name")?j.getNamedItem("data-name").value:j.getNamedItem("data-bm-name")?j.getNamedItem("data-bm-name").value:j.getNamedItem("bm-name")?j.getNamedItem("bm-name").value:"";var tt=j.getNamedItem("data-anim-prerender")?j.getNamedItem("data-anim-prerender").value:j.getNamedItem("data-bm-prerender")?j.getNamedItem("data-bm-prerender").value:j.getNamedItem("bm-prerender")?j.getNamedItem("bm-prerender").value:"";tt==="false"&&(_.prerender=!1),_.path?this.setParams(_):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(i){i.op>this.animationData.op&&(this.animationData.op=i.op,this.totalFrames=Math.floor(i.op-this.animationData.ip));var o=this.animationData.layers,_,j=o.length,_e=i.layers,et,tt=_e.length;for(et=0;et<tt;et+=1)for(_=0;_<j;){if(o[_].id===_e[et].id){o[_]=_e[et];break}_+=1}if((i.chars||i.fonts)&&(this.renderer.globalData.fontManager.addChars(i.chars),this.renderer.globalData.fontManager.addFonts(i.fonts,this.renderer.globalData.defs)),i.assets)for(j=i.assets.length,_=0;_<j;_+=1)this.animationData.assets.push(i.assets[_]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(i){this.animationData=i;var o=getExpressionsPlugin();o&&o.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var i=this.animationData.segments;if(!i||i.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var o=i.shift();this.timeCompleted=o.time*this.frameRate;var _=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(_,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var i=this.animationData.segments;i||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(i){if(this.renderer)try{this.animationData=i,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(i),i.assets||(i.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(i.assets),this.markers=markerParser(i.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(o){this.triggerConfigError(o)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(i,o){var _=typeof i=="number"?i:void 0,j=typeof o=="number"?o:void 0;this.renderer.updateContainerSize(_,j)},AnimationItem.prototype.setSubframe=function(i){this.isSubframeEnabled=!!i},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(i){this.triggerRenderFrameError(i)}},AnimationItem.prototype.play=function(i){i&&this.name!==i||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(i){i&&this.name!==i||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(i){i&&this.name!==i||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(i){i&&this.name!==i||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(i){for(var o,_=0;_<this.markers.length;_+=1)if(o=this.markers[_],o.payload&&o.payload.name===i)return o;return null},AnimationItem.prototype.goToAndStop=function(i,o,_){if(!(_&&this.name!==_)){var j=Number(i);if(isNaN(j)){var _e=this.getMarkerData(i);_e&&this.goToAndStop(_e.time,!0)}else o?this.setCurrentRawFrameValue(i):this.setCurrentRawFrameValue(i*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(i,o,_){if(!(_&&this.name!==_)){var j=Number(i);if(isNaN(j)){var _e=this.getMarkerData(i);_e&&(_e.duration?this.playSegments([_e.time,_e.time+_e.duration],!0):this.goToAndStop(_e.time,!0))}else this.goToAndStop(j,o,_);this.play()}},AnimationItem.prototype.advanceTime=function(i){if(!(this.isPaused===!0||this.isLoaded===!1)){var o=this.currentRawFrame+i*this.frameModifier,_=!1;o>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(o>this.totalFrames?o%this.totalFrames:0)||(_=!0,o=this.totalFrames-1):o>=this.totalFrames?(this.playCount+=1,this.checkSegments(o%this.totalFrames)||(this.setCurrentRawFrameValue(o%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(o):o<0?this.checkSegments(o%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+o%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(_=!0,o=0)):this.setCurrentRawFrameValue(o),_&&(this.setCurrentRawFrameValue(o),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(i,o){this.playCount=0,i[1]<i[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=i[0]-i[1],this.timeCompleted=this.totalFrames,this.firstFrame=i[1],this.setCurrentRawFrameValue(this.totalFrames-.001-o)):i[1]>i[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=i[1]-i[0],this.timeCompleted=this.totalFrames,this.firstFrame=i[0],this.setCurrentRawFrameValue(.001+o)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(i,o){var _=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<i?_=i:this.currentRawFrame+this.firstFrame>o&&(_=o-i)),this.firstFrame=i,this.totalFrames=o-i,this.timeCompleted=this.totalFrames,_!==-1&&this.goToAndStop(_,!0)},AnimationItem.prototype.playSegments=function(i,o){if(o&&(this.segments.length=0),_typeof$4(i[0])==="object"){var _,j=i.length;for(_=0;_<j;_+=1)this.segments.push(i[_])}else this.segments.push(i);this.segments.length&&o&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(i){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),i&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(i){return this.segments.length?(this.adjustSegment(this.segments.shift(),i),!0):!1},AnimationItem.prototype.destroy=function(i){i&&this.name!==i||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(i){this.currentRawFrame=i,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(i){this.playSpeed=i,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(i){this.playDirection=i<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(i){this.loop=i},AnimationItem.prototype.setVolume=function(i,o){o&&this.name!==o||this.audioController.setVolume(i)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(i){i&&this.name!==i||this.audioController.mute()},AnimationItem.prototype.unmute=function(i){i&&this.name!==i||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(i){var o="";if(i.e)o=i.p;else if(this.assetsPath){var _=i.p;_.indexOf("images/")!==-1&&(_=_.split("/")[1]),o=this.assetsPath+_}else o=this.path,o+=i.u?i.u:"",o+=i.p;return o},AnimationItem.prototype.getAssetData=function(i){for(var o=0,_=this.assets.length;o<_;){if(i===this.assets[o].id)return this.assets[o];o+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(i){return i?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(i,o,_){try{var j=this.renderer.getElementByPath(i);j.updateDocumentData(o,_)}catch{}},AnimationItem.prototype.trigger=function(i){if(this._cbs&&this._cbs[i])switch(i){case"enterFrame":this.triggerEvent(i,new BMEnterFrameEvent(i,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(i,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(i,new BMCompleteLoopEvent(i,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(i,new BMCompleteEvent(i,this.frameMult));break;case"segmentStart":this.triggerEvent(i,new BMSegmentStartEvent(i,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(i,new BMDestroyEvent(i,this));break;default:this.triggerEvent(i)}i==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(i,this.currentFrame,this.totalFrames,this.frameMult)),i==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(i,this.loop,this.playCount,this.frameMult)),i==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(i,this.frameMult)),i==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(i,this.firstFrame,this.totalFrames)),i==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(i,this))},AnimationItem.prototype.triggerRenderFrameError=function(i){var o=new BMRenderFrameErrorEvent(i,this.currentFrame);this.triggerEvent("error",o),this.onError&&this.onError.call(this,o)},AnimationItem.prototype.triggerConfigError=function(i){var o=new BMConfigErrorEvent(i,this.currentFrame);this.triggerEvent("error",o),this.onError&&this.onError.call(this,o)};var animationManager=function(){var i={},o=[],_=0,j=0,_e=0,et=!0,tt=!1;function rt(St){for(var Rt=0,bt=St.target;Rt<j;)o[Rt].animation===bt&&(o.splice(Rt,1),Rt-=1,j-=1,bt.isPaused||at()),Rt+=1}function nt(St,Rt){if(!St)return null;for(var bt=0;bt<j;){if(o[bt].elem===St&&o[bt].elem!==null)return o[bt].animation;bt+=1}var vt=new AnimationItem;return ot(vt,St),vt.setData(St,Rt),vt}function st(){var St,Rt=o.length,bt=[];for(St=0;St<Rt;St+=1)bt.push(o[St].animation);return bt}function it(){_e+=1,wt()}function at(){_e-=1}function ot(St,Rt){St.addEventListener("destroy",rt),St.addEventListener("_active",it),St.addEventListener("_idle",at),o.push({elem:Rt,animation:St}),j+=1}function ct(St){var Rt=new AnimationItem;return ot(Rt,null),Rt.setParams(St),Rt}function ut(St,Rt){var bt;for(bt=0;bt<j;bt+=1)o[bt].animation.setSpeed(St,Rt)}function lt(St,Rt){var bt;for(bt=0;bt<j;bt+=1)o[bt].animation.setDirection(St,Rt)}function pt(St){var Rt;for(Rt=0;Rt<j;Rt+=1)o[Rt].animation.play(St)}function dt(St){var Rt=St-_,bt;for(bt=0;bt<j;bt+=1)o[bt].animation.advanceTime(Rt);_=St,_e&&!tt?window.requestAnimationFrame(dt):et=!0}function ht(St){_=St,window.requestAnimationFrame(dt)}function ft(St){var Rt;for(Rt=0;Rt<j;Rt+=1)o[Rt].animation.pause(St)}function mt(St,Rt,bt){var vt;for(vt=0;vt<j;vt+=1)o[vt].animation.goToAndStop(St,Rt,bt)}function xt(St){var Rt;for(Rt=0;Rt<j;Rt+=1)o[Rt].animation.stop(St)}function gt(St){var Rt;for(Rt=0;Rt<j;Rt+=1)o[Rt].animation.togglePause(St)}function yt(St){var Rt;for(Rt=j-1;Rt>=0;Rt-=1)o[Rt].animation.destroy(St)}function _t(St,Rt,bt){var vt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),At,Ot=vt.length;for(At=0;At<Ot;At+=1)bt&&vt[At].setAttribute("data-bm-type",bt),nt(vt[At],St);if(Rt&&Ot===0){bt||(bt="svg");var Ct=document.getElementsByTagName("body")[0];Ct.innerText="";var Lt=createTag("div");Lt.style.width="100%",Lt.style.height="100%",Lt.setAttribute("data-bm-type",bt),Ct.appendChild(Lt),nt(Lt,St)}}function Et(){var St;for(St=0;St<j;St+=1)o[St].animation.resize()}function wt(){!tt&&_e&&et&&(window.requestAnimationFrame(ht),et=!1)}function $t(){tt=!0}function jt(){tt=!1,wt()}function Tt(St,Rt){var bt;for(bt=0;bt<j;bt+=1)o[bt].animation.setVolume(St,Rt)}function kt(St){var Rt;for(Rt=0;Rt<j;Rt+=1)o[Rt].animation.mute(St)}function Pt(St){var Rt;for(Rt=0;Rt<j;Rt+=1)o[Rt].animation.unmute(St)}return i.registerAnimation=nt,i.loadAnimation=ct,i.setSpeed=ut,i.setDirection=lt,i.play=pt,i.pause=ft,i.stop=xt,i.togglePause=gt,i.searchAnimations=_t,i.resize=Et,i.goToAndStop=mt,i.destroy=yt,i.freeze=$t,i.unfreeze=jt,i.setVolume=Tt,i.mute=kt,i.unmute=Pt,i.getRegisteredAnimations=st,i}(),BezierFactory=function(){var i={};i.getBezierEasing=_;var o={};function _(ht,ft,mt,xt,gt){var yt=gt||("bez_"+ht+"_"+ft+"_"+mt+"_"+xt).replace(/\./g,"p");if(o[yt])return o[yt];var _t=new dt([ht,ft,mt,xt]);return o[yt]=_t,_t}var j=4,_e=.001,et=1e-7,tt=10,rt=11,nt=1/(rt-1),st=typeof Float32Array=="function";function it(ht,ft){return 1-3*ft+3*ht}function at(ht,ft){return 3*ft-6*ht}function ot(ht){return 3*ht}function ct(ht,ft,mt){return((it(ft,mt)*ht+at(ft,mt))*ht+ot(ft))*ht}function ut(ht,ft,mt){return 3*it(ft,mt)*ht*ht+2*at(ft,mt)*ht+ot(ft)}function lt(ht,ft,mt,xt,gt){var yt,_t,Et=0;do _t=ft+(mt-ft)/2,yt=ct(_t,xt,gt)-ht,yt>0?mt=_t:ft=_t;while(Math.abs(yt)>et&&++Et<tt);return _t}function pt(ht,ft,mt,xt){for(var gt=0;gt<j;++gt){var yt=ut(ft,mt,xt);if(yt===0)return ft;var _t=ct(ft,mt,xt)-ht;ft-=_t/yt}return ft}function dt(ht){this._p=ht,this._mSampleValues=st?new Float32Array(rt):new Array(rt),this._precomputed=!1,this.get=this.get.bind(this)}return dt.prototype={get:function(ft){var mt=this._p[0],xt=this._p[1],gt=this._p[2],yt=this._p[3];return this._precomputed||this._precompute(),mt===xt&&gt===yt?ft:ft===0?0:ft===1?1:ct(this._getTForX(ft),xt,yt)},_precompute:function(){var ft=this._p[0],mt=this._p[1],xt=this._p[2],gt=this._p[3];this._precomputed=!0,(ft!==mt||xt!==gt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var ft=this._p[0],mt=this._p[2],xt=0;xt<rt;++xt)this._mSampleValues[xt]=ct(xt*nt,ft,mt)},_getTForX:function(ft){for(var mt=this._p[0],xt=this._p[2],gt=this._mSampleValues,yt=0,_t=1,Et=rt-1;_t!==Et&&gt[_t]<=ft;++_t)yt+=nt;--_t;var wt=(ft-gt[_t])/(gt[_t+1]-gt[_t]),$t=yt+wt*nt,jt=ut($t,mt,xt);return jt>=_e?pt(ft,$t,mt,xt):jt===0?$t:lt(ft,yt,yt+nt,mt,xt)}},i}(),pooling=function(){function i(o){return o.concat(createSizedArray(o.length))}return{double:i}}(),poolFactory=function(){return function(i,o,_){var j=0,_e=i,et=createSizedArray(_e),tt={newElement:rt,release:nt};function rt(){var st;return j?(j-=1,st=et[j]):st=o(),st}function nt(st){j===_e&&(et=pooling.double(et),_e*=2),_&&_(st),et[j]=st,j+=1}return tt}}(),bezierLengthPool=function(){function i(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,i)}(),segmentsLengthPool=function(){function i(){return{lengths:[],totalLength:0}}function o(_){var j,_e=_.lengths.length;for(j=0;j<_e;j+=1)bezierLengthPool.release(_.lengths[j]);_.lengths.length=0}return poolFactory(8,i,o)}();function bezFunction(){var i=Math;function o(ot,ct,ut,lt,pt,dt){var ht=ot*lt+ct*pt+ut*dt-pt*lt-dt*ot-ut*ct;return ht>-.001&&ht<.001}function _(ot,ct,ut,lt,pt,dt,ht,ft,mt){if(ut===0&&dt===0&&mt===0)return o(ot,ct,lt,pt,ht,ft);var xt=i.sqrt(i.pow(lt-ot,2)+i.pow(pt-ct,2)+i.pow(dt-ut,2)),gt=i.sqrt(i.pow(ht-ot,2)+i.pow(ft-ct,2)+i.pow(mt-ut,2)),yt=i.sqrt(i.pow(ht-lt,2)+i.pow(ft-pt,2)+i.pow(mt-dt,2)),_t;return xt>gt?xt>yt?_t=xt-gt-yt:_t=yt-gt-xt:yt>gt?_t=yt-gt-xt:_t=gt-xt-yt,_t>-1e-4&&_t<1e-4}var j=function(){return function(ot,ct,ut,lt){var pt=getDefaultCurveSegments(),dt,ht,ft,mt,xt,gt=0,yt,_t=[],Et=[],wt=bezierLengthPool.newElement();for(ft=ut.length,dt=0;dt<pt;dt+=1){for(xt=dt/(pt-1),yt=0,ht=0;ht<ft;ht+=1)mt=bmPow(1-xt,3)*ot[ht]+3*bmPow(1-xt,2)*xt*ut[ht]+3*(1-xt)*bmPow(xt,2)*lt[ht]+bmPow(xt,3)*ct[ht],_t[ht]=mt,Et[ht]!==null&&(yt+=bmPow(_t[ht]-Et[ht],2)),Et[ht]=_t[ht];yt&&(yt=bmSqrt(yt),gt+=yt),wt.percents[dt]=xt,wt.lengths[dt]=gt}return wt.addedLength=gt,wt}}();function _e(ot){var ct=segmentsLengthPool.newElement(),ut=ot.c,lt=ot.v,pt=ot.o,dt=ot.i,ht,ft=ot._length,mt=ct.lengths,xt=0;for(ht=0;ht<ft-1;ht+=1)mt[ht]=j(lt[ht],lt[ht+1],pt[ht],dt[ht+1]),xt+=mt[ht].addedLength;return ut&&ft&&(mt[ht]=j(lt[ht],lt[0],pt[ht],dt[0]),xt+=mt[ht].addedLength),ct.totalLength=xt,ct}function et(ot){this.segmentLength=0,this.points=new Array(ot)}function tt(ot,ct){this.partialLength=ot,this.point=ct}var rt=function(){var ot={};return function(ct,ut,lt,pt){var dt=(ct[0]+"_"+ct[1]+"_"+ut[0]+"_"+ut[1]+"_"+lt[0]+"_"+lt[1]+"_"+pt[0]+"_"+pt[1]).replace(/\./g,"p");if(!ot[dt]){var ht=getDefaultCurveSegments(),ft,mt,xt,gt,yt,_t=0,Et,wt,$t=null;ct.length===2&&(ct[0]!==ut[0]||ct[1]!==ut[1])&&o(ct[0],ct[1],ut[0],ut[1],ct[0]+lt[0],ct[1]+lt[1])&&o(ct[0],ct[1],ut[0],ut[1],ut[0]+pt[0],ut[1]+pt[1])&&(ht=2);var jt=new et(ht);for(xt=lt.length,ft=0;ft<ht;ft+=1){for(wt=createSizedArray(xt),yt=ft/(ht-1),Et=0,mt=0;mt<xt;mt+=1)gt=bmPow(1-yt,3)*ct[mt]+3*bmPow(1-yt,2)*yt*(ct[mt]+lt[mt])+3*(1-yt)*bmPow(yt,2)*(ut[mt]+pt[mt])+bmPow(yt,3)*ut[mt],wt[mt]=gt,$t!==null&&(Et+=bmPow(wt[mt]-$t[mt],2));Et=bmSqrt(Et),_t+=Et,jt.points[ft]=new tt(Et,wt),$t=wt}jt.segmentLength=_t,ot[dt]=jt}return ot[dt]}}();function nt(ot,ct){var ut=ct.percents,lt=ct.lengths,pt=ut.length,dt=bmFloor((pt-1)*ot),ht=ot*ct.addedLength,ft=0;if(dt===pt-1||dt===0||ht===lt[dt])return ut[dt];for(var mt=lt[dt]>ht?-1:1,xt=!0;xt;)if(lt[dt]<=ht&&lt[dt+1]>ht?(ft=(ht-lt[dt])/(lt[dt+1]-lt[dt]),xt=!1):dt+=mt,dt<0||dt>=pt-1){if(dt===pt-1)return ut[dt];xt=!1}return ut[dt]+(ut[dt+1]-ut[dt])*ft}function st(ot,ct,ut,lt,pt,dt){var ht=nt(pt,dt),ft=1-ht,mt=i.round((ft*ft*ft*ot[0]+(ht*ft*ft+ft*ht*ft+ft*ft*ht)*ut[0]+(ht*ht*ft+ft*ht*ht+ht*ft*ht)*lt[0]+ht*ht*ht*ct[0])*1e3)/1e3,xt=i.round((ft*ft*ft*ot[1]+(ht*ft*ft+ft*ht*ft+ft*ft*ht)*ut[1]+(ht*ht*ft+ft*ht*ht+ht*ft*ht)*lt[1]+ht*ht*ht*ct[1])*1e3)/1e3;return[mt,xt]}var it=createTypedArray("float32",8);function at(ot,ct,ut,lt,pt,dt,ht){pt<0?pt=0:pt>1&&(pt=1);var ft=nt(pt,ht);dt=dt>1?1:dt;var mt=nt(dt,ht),xt,gt=ot.length,yt=1-ft,_t=1-mt,Et=yt*yt*yt,wt=ft*yt*yt*3,$t=ft*ft*yt*3,jt=ft*ft*ft,Tt=yt*yt*_t,kt=ft*yt*_t+yt*ft*_t+yt*yt*mt,Pt=ft*ft*_t+yt*ft*mt+ft*yt*mt,St=ft*ft*mt,Rt=yt*_t*_t,bt=ft*_t*_t+yt*mt*_t+yt*_t*mt,vt=ft*mt*_t+yt*mt*mt+ft*_t*mt,At=ft*mt*mt,Ot=_t*_t*_t,Ct=mt*_t*_t+_t*mt*_t+_t*_t*mt,Lt=mt*mt*_t+_t*mt*mt+mt*_t*mt,It=mt*mt*mt;for(xt=0;xt<gt;xt+=1)it[xt*4]=i.round((Et*ot[xt]+wt*ut[xt]+$t*lt[xt]+jt*ct[xt])*1e3)/1e3,it[xt*4+1]=i.round((Tt*ot[xt]+kt*ut[xt]+Pt*lt[xt]+St*ct[xt])*1e3)/1e3,it[xt*4+2]=i.round((Rt*ot[xt]+bt*ut[xt]+vt*lt[xt]+At*ct[xt])*1e3)/1e3,it[xt*4+3]=i.round((Ot*ot[xt]+Ct*ut[xt]+Lt*lt[xt]+It*ct[xt])*1e3)/1e3;return it}return{getSegmentsLength:_e,getNewSegment:at,getPointInSegment:st,buildBezierData:rt,pointOnLine2D:o,pointOnLine3D:_}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(i,o){var _=this.offsetTime,j;this.propType==="multidimensional"&&(j=createTypedArray("float32",this.pv.length));for(var _e=o.lastIndex,et=_e,tt=this.keyframes.length-1,rt=!0,nt,st,it;rt;){if(nt=this.keyframes[et],st=this.keyframes[et+1],et===tt-1&&i>=st.t-_){nt.h&&(nt=st),_e=0;break}if(st.t-_>i){_e=et;break}et<tt-1?et+=1:(_e=0,rt=!1)}it=this.keyframesMetadata[et]||{};var at,ot,ct,ut,lt,pt,dt=st.t-_,ht=nt.t-_,ft;if(nt.to){it.bezierData||(it.bezierData=bez.buildBezierData(nt.s,st.s||nt.e,nt.to,nt.ti));var mt=it.bezierData;if(i>=dt||i<ht){var xt=i>=dt?mt.points.length-1:0;for(ot=mt.points[xt].point.length,at=0;at<ot;at+=1)j[at]=mt.points[xt].point[at]}else{it.__fnct?pt=it.__fnct:(pt=BezierFactory.getBezierEasing(nt.o.x,nt.o.y,nt.i.x,nt.i.y,nt.n).get,it.__fnct=pt),ct=pt((i-ht)/(dt-ht));var gt=mt.segmentLength*ct,yt,_t=o.lastFrame<i&&o._lastKeyframeIndex===et?o._lastAddedLength:0;for(lt=o.lastFrame<i&&o._lastKeyframeIndex===et?o._lastPoint:0,rt=!0,ut=mt.points.length;rt;){if(_t+=mt.points[lt].partialLength,gt===0||ct===0||lt===mt.points.length-1){for(ot=mt.points[lt].point.length,at=0;at<ot;at+=1)j[at]=mt.points[lt].point[at];break}else if(gt>=_t&&gt<_t+mt.points[lt+1].partialLength){for(yt=(gt-_t)/mt.points[lt+1].partialLength,ot=mt.points[lt].point.length,at=0;at<ot;at+=1)j[at]=mt.points[lt].point[at]+(mt.points[lt+1].point[at]-mt.points[lt].point[at])*yt;break}lt<ut-1?lt+=1:rt=!1}o._lastPoint=lt,o._lastAddedLength=_t-mt.points[lt].partialLength,o._lastKeyframeIndex=et}}else{var Et,wt,$t,jt,Tt;if(tt=nt.s.length,ft=st.s||nt.e,this.sh&&nt.h!==1)if(i>=dt)j[0]=ft[0],j[1]=ft[1],j[2]=ft[2];else if(i<=ht)j[0]=nt.s[0],j[1]=nt.s[1],j[2]=nt.s[2];else{var kt=createQuaternion(nt.s),Pt=createQuaternion(ft),St=(i-ht)/(dt-ht);quaternionToEuler(j,slerp(kt,Pt,St))}else for(et=0;et<tt;et+=1)nt.h!==1&&(i>=dt?ct=1:i<ht?ct=0:(nt.o.x.constructor===Array?(it.__fnct||(it.__fnct=[]),it.__fnct[et]?pt=it.__fnct[et]:(Et=nt.o.x[et]===void 0?nt.o.x[0]:nt.o.x[et],wt=nt.o.y[et]===void 0?nt.o.y[0]:nt.o.y[et],$t=nt.i.x[et]===void 0?nt.i.x[0]:nt.i.x[et],jt=nt.i.y[et]===void 0?nt.i.y[0]:nt.i.y[et],pt=BezierFactory.getBezierEasing(Et,wt,$t,jt).get,it.__fnct[et]=pt)):it.__fnct?pt=it.__fnct:(Et=nt.o.x,wt=nt.o.y,$t=nt.i.x,jt=nt.i.y,pt=BezierFactory.getBezierEasing(Et,wt,$t,jt).get,nt.keyframeMetadata=pt),ct=pt((i-ht)/(dt-ht)))),ft=st.s||nt.e,Tt=nt.h===1?nt.s[et]:nt.s[et]+(ft[et]-nt.s[et])*ct,this.propType==="multidimensional"?j[et]=Tt:j=Tt}return o.lastIndex=_e,j}function slerp(i,o,_){var j=[],_e=i[0],et=i[1],tt=i[2],rt=i[3],nt=o[0],st=o[1],it=o[2],at=o[3],ot,ct,ut,lt,pt;return ct=_e*nt+et*st+tt*it+rt*at,ct<0&&(ct=-ct,nt=-nt,st=-st,it=-it,at=-at),1-ct>1e-6?(ot=Math.acos(ct),ut=Math.sin(ot),lt=Math.sin((1-_)*ot)/ut,pt=Math.sin(_*ot)/ut):(lt=1-_,pt=_),j[0]=lt*_e+pt*nt,j[1]=lt*et+pt*st,j[2]=lt*tt+pt*it,j[3]=lt*rt+pt*at,j}function quaternionToEuler(i,o){var _=o[0],j=o[1],_e=o[2],et=o[3],tt=Math.atan2(2*j*et-2*_*_e,1-2*j*j-2*_e*_e),rt=Math.asin(2*_*j+2*_e*et),nt=Math.atan2(2*_*et-2*j*_e,1-2*_*_-2*_e*_e);i[0]=tt/degToRads,i[1]=rt/degToRads,i[2]=nt/degToRads}function createQuaternion(i){var o=i[0]*degToRads,_=i[1]*degToRads,j=i[2]*degToRads,_e=Math.cos(o/2),et=Math.cos(_/2),tt=Math.cos(j/2),rt=Math.sin(o/2),nt=Math.sin(_/2),st=Math.sin(j/2),it=_e*et*tt-rt*nt*st,at=rt*nt*tt+_e*et*st,ot=rt*et*tt+_e*nt*st,ct=_e*nt*tt-rt*et*st;return[at,ot,ct,it]}function getValueAtCurrentTime(){var i=this.comp.renderedFrame-this.offsetTime,o=this.keyframes[0].t-this.offsetTime,_=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(i===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=_&&i>=_||this._caching.lastFrame<o&&i<o))){this._caching.lastFrame>=i&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var j=this.interpolateValue(i,this._caching);this.pv=j}return this._caching.lastFrame=i,this.pv}function setVValue(i){var o;if(this.propType==="unidimensional")o=i*this.mult,mathAbs(this.v-o)>1e-5&&(this.v=o,this._mdf=!0);else for(var _=0,j=this.v.length;_<j;)o=i[_]*this.mult,mathAbs(this.v[_]-o)>1e-5&&(this.v[_]=o,this._mdf=!0),_+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var i,o=this.effectsSequence.length,_=this.kf?this.pv:this.data.k;for(i=0;i<o;i+=1)_=this.effectsSequence[i](_);this.setVValue(_),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(i){this.effectsSequence.push(i),this.container.addDynamicProperty(this)}function ValueProperty(i,o,_,j){this.propType="unidimensional",this.mult=_||1,this.data=o,this.v=_?o.k*_:o.k,this.pv=o.k,this._mdf=!1,this.elem=i,this.container=j,this.comp=i.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(i,o,_,j){this.propType="multidimensional",this.mult=_||1,this.data=o,this._mdf=!1,this.elem=i,this.container=j,this.comp=i.comp,this.k=!1,this.kf=!1,this.frameId=-1;var _e,et=o.k.length;for(this.v=createTypedArray("float32",et),this.pv=createTypedArray("float32",et),this.vel=createTypedArray("float32",et),_e=0;_e<et;_e+=1)this.v[_e]=o.k[_e]*this.mult,this.pv[_e]=o.k[_e];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(i,o,_,j){this.propType="unidimensional",this.keyframes=o.k,this.keyframesMetadata=[],this.offsetTime=i.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=o,this.mult=_||1,this.elem=i,this.container=j,this.comp=i.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(i,o,_,j){this.propType="multidimensional";var _e,et=o.k.length,tt,rt,nt,st;for(_e=0;_e<et-1;_e+=1)o.k[_e].to&&o.k[_e].s&&o.k[_e+1]&&o.k[_e+1].s&&(tt=o.k[_e].s,rt=o.k[_e+1].s,nt=o.k[_e].to,st=o.k[_e].ti,(tt.length===2&&!(tt[0]===rt[0]&&tt[1]===rt[1])&&bez.pointOnLine2D(tt[0],tt[1],rt[0],rt[1],tt[0]+nt[0],tt[1]+nt[1])&&bez.pointOnLine2D(tt[0],tt[1],rt[0],rt[1],rt[0]+st[0],rt[1]+st[1])||tt.length===3&&!(tt[0]===rt[0]&&tt[1]===rt[1]&&tt[2]===rt[2])&&bez.pointOnLine3D(tt[0],tt[1],tt[2],rt[0],rt[1],rt[2],tt[0]+nt[0],tt[1]+nt[1],tt[2]+nt[2])&&bez.pointOnLine3D(tt[0],tt[1],tt[2],rt[0],rt[1],rt[2],rt[0]+st[0],rt[1]+st[1],rt[2]+st[2]))&&(o.k[_e].to=null,o.k[_e].ti=null),tt[0]===rt[0]&&tt[1]===rt[1]&&nt[0]===0&&nt[1]===0&&st[0]===0&&st[1]===0&&(tt.length===2||tt[2]===rt[2]&&nt[2]===0&&st[2]===0)&&(o.k[_e].to=null,o.k[_e].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=o,this.keyframes=o.k,this.keyframesMetadata=[],this.offsetTime=i.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=_||1,this.elem=i,this.container=j,this.comp=i.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var it=o.k[0].s.length;for(this.v=createTypedArray("float32",it),this.pv=createTypedArray("float32",it),_e=0;_e<it;_e+=1)this.v[_e]=initFrame,this.pv[_e]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",it)},this.addEffect=addEffect}var PropertyFactory=function(){function i(_,j,_e,et,tt){j.sid&&(j=_.globalData.slotManager.getProp(j));var rt;if(!j.k.length)rt=new ValueProperty(_,j,et,tt);else if(typeof j.k[0]=="number")rt=new MultiDimensionalProperty(_,j,et,tt);else switch(_e){case 0:rt=new KeyframedValueProperty(_,j,et,tt);break;case 1:rt=new KeyframedMultidimensionalProperty(_,j,et,tt);break}return rt.effectsSequence.length&&tt.addDynamicProperty(rt),rt}var o={getProp:i};return o}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(o){this.dynamicProperties.indexOf(o)===-1&&(this.dynamicProperties.push(o),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var o,_=this.dynamicProperties.length;for(o=0;o<_;o+=1)this.dynamicProperties[o].getValue(),this.dynamicProperties[o]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(o){this.container=o,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function i(){return createTypedArray("float32",2)}return poolFactory(8,i)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(i,o){this.c=i,this.setLength(o);for(var _=0;_<o;)this.v[_]=pointPool.newElement(),this.o[_]=pointPool.newElement(),this.i[_]=pointPool.newElement(),_+=1},ShapePath.prototype.setLength=function(i){for(;this._maxLength<i;)this.doubleArrayLength();this._length=i},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(i,o,_,j,_e){var et;switch(this._length=Math.max(this._length,j+1),this._length>=this._maxLength&&this.doubleArrayLength(),_){case"v":et=this.v;break;case"i":et=this.i;break;case"o":et=this.o;break;default:et=[];break}(!et[j]||et[j]&&!_e)&&(et[j]=pointPool.newElement()),et[j][0]=i,et[j][1]=o},ShapePath.prototype.setTripleAt=function(i,o,_,j,_e,et,tt,rt){this.setXYAt(i,o,"v",tt,rt),this.setXYAt(_,j,"o",tt,rt),this.setXYAt(_e,et,"i",tt,rt)},ShapePath.prototype.reverse=function(){var i=new ShapePath;i.setPathData(this.c,this._length);var o=this.v,_=this.o,j=this.i,_e=0;this.c&&(i.setTripleAt(o[0][0],o[0][1],j[0][0],j[0][1],_[0][0],_[0][1],0,!1),_e=1);var et=this._length-1,tt=this._length,rt;for(rt=_e;rt<tt;rt+=1)i.setTripleAt(o[et][0],o[et][1],j[et][0],j[et][1],_[et][0],_[et][1],rt,!1),et-=1;return i},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function i(){return new ShapePath}function o(_e){var et=_e._length,tt;for(tt=0;tt<et;tt+=1)pointPool.release(_e.v[tt]),pointPool.release(_e.i[tt]),pointPool.release(_e.o[tt]),_e.v[tt]=null,_e.i[tt]=null,_e.o[tt]=null;_e._length=0,_e.c=!1}function _(_e){var et=j.newElement(),tt,rt=_e._length===void 0?_e.v.length:_e._length;for(et.setLength(rt),et.c=_e.c,tt=0;tt<rt;tt+=1)et.setTripleAt(_e.v[tt][0],_e.v[tt][1],_e.o[tt][0],_e.o[tt][1],_e.i[tt][0],_e.i[tt][1],tt);return et}var j=poolFactory(4,i,o);return j.clone=_,j}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(i){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=i,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var i;for(i=0;i<this._length;i+=1)shapePool.release(this.shapes[i]);this._length=0};var shapeCollectionPool=function(){var i={newShapeCollection:_e,release:et},o=0,_=4,j=createSizedArray(_);function _e(){var tt;return o?(o-=1,tt=j[o]):tt=new ShapeCollection,tt}function et(tt){var rt,nt=tt._length;for(rt=0;rt<nt;rt+=1)shapePool.release(tt.shapes[rt]);tt._length=0,o===_&&(j=pooling.double(j),_*=2),j[o]=tt,o+=1}return i}(),ShapePropertyFactory=function(){var i=-999999;function o(dt,ht,ft){var mt=ft.lastIndex,xt,gt,yt,_t,Et,wt,$t,jt,Tt,kt=this.keyframes;if(dt<kt[0].t-this.offsetTime)xt=kt[0].s[0],yt=!0,mt=0;else if(dt>=kt[kt.length-1].t-this.offsetTime)xt=kt[kt.length-1].s?kt[kt.length-1].s[0]:kt[kt.length-2].e[0],yt=!0;else{for(var Pt=mt,St=kt.length-1,Rt=!0,bt,vt,At;Rt&&(bt=kt[Pt],vt=kt[Pt+1],!(vt.t-this.offsetTime>dt));)Pt<St-1?Pt+=1:Rt=!1;if(At=this.keyframesMetadata[Pt]||{},yt=bt.h===1,mt=Pt,!yt){if(dt>=vt.t-this.offsetTime)jt=1;else if(dt<bt.t-this.offsetTime)jt=0;else{var Ot;At.__fnct?Ot=At.__fnct:(Ot=BezierFactory.getBezierEasing(bt.o.x,bt.o.y,bt.i.x,bt.i.y).get,At.__fnct=Ot),jt=Ot((dt-(bt.t-this.offsetTime))/(vt.t-this.offsetTime-(bt.t-this.offsetTime)))}gt=vt.s?vt.s[0]:bt.e[0]}xt=bt.s[0]}for(wt=ht._length,$t=xt.i[0].length,ft.lastIndex=mt,_t=0;_t<wt;_t+=1)for(Et=0;Et<$t;Et+=1)Tt=yt?xt.i[_t][Et]:xt.i[_t][Et]+(gt.i[_t][Et]-xt.i[_t][Et])*jt,ht.i[_t][Et]=Tt,Tt=yt?xt.o[_t][Et]:xt.o[_t][Et]+(gt.o[_t][Et]-xt.o[_t][Et])*jt,ht.o[_t][Et]=Tt,Tt=yt?xt.v[_t][Et]:xt.v[_t][Et]+(gt.v[_t][Et]-xt.v[_t][Et])*jt,ht.v[_t][Et]=Tt}function _(){var dt=this.comp.renderedFrame-this.offsetTime,ht=this.keyframes[0].t-this.offsetTime,ft=this.keyframes[this.keyframes.length-1].t-this.offsetTime,mt=this._caching.lastFrame;return mt!==i&&(mt<ht&&dt<ht||mt>ft&&dt>ft)||(this._caching.lastIndex=mt<dt?this._caching.lastIndex:0,this.interpolateShape(dt,this.pv,this._caching)),this._caching.lastFrame=dt,this.pv}function j(){this.paths=this.localShapeCollection}function _e(dt,ht){if(dt._length!==ht._length||dt.c!==ht.c)return!1;var ft,mt=dt._length;for(ft=0;ft<mt;ft+=1)if(dt.v[ft][0]!==ht.v[ft][0]||dt.v[ft][1]!==ht.v[ft][1]||dt.o[ft][0]!==ht.o[ft][0]||dt.o[ft][1]!==ht.o[ft][1]||dt.i[ft][0]!==ht.i[ft][0]||dt.i[ft][1]!==ht.i[ft][1])return!1;return!0}function et(dt){_e(this.v,dt)||(this.v=shapePool.clone(dt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function tt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var dt;this.kf?dt=this.pv:this.data.ks?dt=this.data.ks.k:dt=this.data.pt.k;var ht,ft=this.effectsSequence.length;for(ht=0;ht<ft;ht+=1)dt=this.effectsSequence[ht](dt);this.setVValue(dt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function rt(dt,ht,ft){this.propType="shape",this.comp=dt.comp,this.container=dt,this.elem=dt,this.data=ht,this.k=!1,this.kf=!1,this._mdf=!1;var mt=ft===3?ht.pt.k:ht.ks.k;this.v=shapePool.clone(mt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=j,this.effectsSequence=[]}function nt(dt){this.effectsSequence.push(dt),this.container.addDynamicProperty(this)}rt.prototype.interpolateShape=o,rt.prototype.getValue=tt,rt.prototype.setVValue=et,rt.prototype.addEffect=nt;function st(dt,ht,ft){this.propType="shape",this.comp=dt.comp,this.elem=dt,this.container=dt,this.offsetTime=dt.data.st,this.keyframes=ft===3?ht.pt.k:ht.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var mt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,mt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=i,this.reset=j,this._caching={lastFrame:i,lastIndex:0},this.effectsSequence=[_.bind(this)]}st.prototype.getValue=tt,st.prototype.interpolateShape=o,st.prototype.setVValue=et,st.prototype.addEffect=nt;var it=function(){var dt=roundCorner;function ht(ft,mt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=mt.d,this.elem=ft,this.comp=ft.comp,this.frameId=-1,this.initDynamicPropertyContainer(ft),this.p=PropertyFactory.getProp(ft,mt.p,1,0,this),this.s=PropertyFactory.getProp(ft,mt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return ht.prototype={reset:j,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var mt=this.p.v[0],xt=this.p.v[1],gt=this.s.v[0]/2,yt=this.s.v[1]/2,_t=this.d!==3,Et=this.v;Et.v[0][0]=mt,Et.v[0][1]=xt-yt,Et.v[1][0]=_t?mt+gt:mt-gt,Et.v[1][1]=xt,Et.v[2][0]=mt,Et.v[2][1]=xt+yt,Et.v[3][0]=_t?mt-gt:mt+gt,Et.v[3][1]=xt,Et.i[0][0]=_t?mt-gt*dt:mt+gt*dt,Et.i[0][1]=xt-yt,Et.i[1][0]=_t?mt+gt:mt-gt,Et.i[1][1]=xt-yt*dt,Et.i[2][0]=_t?mt+gt*dt:mt-gt*dt,Et.i[2][1]=xt+yt,Et.i[3][0]=_t?mt-gt:mt+gt,Et.i[3][1]=xt+yt*dt,Et.o[0][0]=_t?mt+gt*dt:mt-gt*dt,Et.o[0][1]=xt-yt,Et.o[1][0]=_t?mt+gt:mt-gt,Et.o[1][1]=xt+yt*dt,Et.o[2][0]=_t?mt-gt*dt:mt+gt*dt,Et.o[2][1]=xt+yt,Et.o[3][0]=_t?mt-gt:mt+gt,Et.o[3][1]=xt-yt*dt}},extendPrototype([DynamicPropertyContainer],ht),ht}(),at=function(){function dt(ht,ft){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=ht,this.comp=ht.comp,this.data=ft,this.frameId=-1,this.d=ft.d,this.initDynamicPropertyContainer(ht),ft.sy===1?(this.ir=PropertyFactory.getProp(ht,ft.ir,0,0,this),this.is=PropertyFactory.getProp(ht,ft.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(ht,ft.pt,0,0,this),this.p=PropertyFactory.getProp(ht,ft.p,1,0,this),this.r=PropertyFactory.getProp(ht,ft.r,0,degToRads,this),this.or=PropertyFactory.getProp(ht,ft.or,0,0,this),this.os=PropertyFactory.getProp(ht,ft.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return dt.prototype={reset:j,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ft=Math.floor(this.pt.v)*2,mt=Math.PI*2/ft,xt=!0,gt=this.or.v,yt=this.ir.v,_t=this.os.v,Et=this.is.v,wt=2*Math.PI*gt/(ft*2),$t=2*Math.PI*yt/(ft*2),jt,Tt,kt,Pt,St=-Math.PI/2;St+=this.r.v;var Rt=this.data.d===3?-1:1;for(this.v._length=0,jt=0;jt<ft;jt+=1){Tt=xt?gt:yt,kt=xt?_t:Et,Pt=xt?wt:$t;var bt=Tt*Math.cos(St),vt=Tt*Math.sin(St),At=bt===0&&vt===0?0:vt/Math.sqrt(bt*bt+vt*vt),Ot=bt===0&&vt===0?0:-bt/Math.sqrt(bt*bt+vt*vt);bt+=+this.p.v[0],vt+=+this.p.v[1],this.v.setTripleAt(bt,vt,bt-At*Pt*kt*Rt,vt-Ot*Pt*kt*Rt,bt+At*Pt*kt*Rt,vt+Ot*Pt*kt*Rt,jt,!0),xt=!xt,St+=mt*Rt}},convertPolygonToPath:function(){var ft=Math.floor(this.pt.v),mt=Math.PI*2/ft,xt=this.or.v,gt=this.os.v,yt=2*Math.PI*xt/(ft*4),_t,Et=-Math.PI*.5,wt=this.data.d===3?-1:1;for(Et+=this.r.v,this.v._length=0,_t=0;_t<ft;_t+=1){var $t=xt*Math.cos(Et),jt=xt*Math.sin(Et),Tt=$t===0&&jt===0?0:jt/Math.sqrt($t*$t+jt*jt),kt=$t===0&&jt===0?0:-$t/Math.sqrt($t*$t+jt*jt);$t+=+this.p.v[0],jt+=+this.p.v[1],this.v.setTripleAt($t,jt,$t-Tt*yt*gt*wt,jt-kt*yt*gt*wt,$t+Tt*yt*gt*wt,jt+kt*yt*gt*wt,_t,!0),Et+=mt*wt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],dt),dt}(),ot=function(){function dt(ht,ft){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=ht,this.comp=ht.comp,this.frameId=-1,this.d=ft.d,this.initDynamicPropertyContainer(ht),this.p=PropertyFactory.getProp(ht,ft.p,1,0,this),this.s=PropertyFactory.getProp(ht,ft.s,1,0,this),this.r=PropertyFactory.getProp(ht,ft.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return dt.prototype={convertRectToPath:function(){var ft=this.p.v[0],mt=this.p.v[1],xt=this.s.v[0]/2,gt=this.s.v[1]/2,yt=bmMin(xt,gt,this.r.v),_t=yt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ft+xt,mt-gt+yt,ft+xt,mt-gt+yt,ft+xt,mt-gt+_t,0,!0),this.v.setTripleAt(ft+xt,mt+gt-yt,ft+xt,mt+gt-_t,ft+xt,mt+gt-yt,1,!0),yt!==0?(this.v.setTripleAt(ft+xt-yt,mt+gt,ft+xt-yt,mt+gt,ft+xt-_t,mt+gt,2,!0),this.v.setTripleAt(ft-xt+yt,mt+gt,ft-xt+_t,mt+gt,ft-xt+yt,mt+gt,3,!0),this.v.setTripleAt(ft-xt,mt+gt-yt,ft-xt,mt+gt-yt,ft-xt,mt+gt-_t,4,!0),this.v.setTripleAt(ft-xt,mt-gt+yt,ft-xt,mt-gt+_t,ft-xt,mt-gt+yt,5,!0),this.v.setTripleAt(ft-xt+yt,mt-gt,ft-xt+yt,mt-gt,ft-xt+_t,mt-gt,6,!0),this.v.setTripleAt(ft+xt-yt,mt-gt,ft+xt-_t,mt-gt,ft+xt-yt,mt-gt,7,!0)):(this.v.setTripleAt(ft-xt,mt+gt,ft-xt+_t,mt+gt,ft-xt,mt+gt,2),this.v.setTripleAt(ft-xt,mt-gt,ft-xt,mt-gt+_t,ft-xt,mt-gt,3))):(this.v.setTripleAt(ft+xt,mt-gt+yt,ft+xt,mt-gt+_t,ft+xt,mt-gt+yt,0,!0),yt!==0?(this.v.setTripleAt(ft+xt-yt,mt-gt,ft+xt-yt,mt-gt,ft+xt-_t,mt-gt,1,!0),this.v.setTripleAt(ft-xt+yt,mt-gt,ft-xt+_t,mt-gt,ft-xt+yt,mt-gt,2,!0),this.v.setTripleAt(ft-xt,mt-gt+yt,ft-xt,mt-gt+yt,ft-xt,mt-gt+_t,3,!0),this.v.setTripleAt(ft-xt,mt+gt-yt,ft-xt,mt+gt-_t,ft-xt,mt+gt-yt,4,!0),this.v.setTripleAt(ft-xt+yt,mt+gt,ft-xt+yt,mt+gt,ft-xt+_t,mt+gt,5,!0),this.v.setTripleAt(ft+xt-yt,mt+gt,ft+xt-_t,mt+gt,ft+xt-yt,mt+gt,6,!0),this.v.setTripleAt(ft+xt,mt+gt-yt,ft+xt,mt+gt-yt,ft+xt,mt+gt-_t,7,!0)):(this.v.setTripleAt(ft-xt,mt-gt,ft-xt+_t,mt-gt,ft-xt,mt-gt,1,!0),this.v.setTripleAt(ft-xt,mt+gt,ft-xt,mt+gt-_t,ft-xt,mt+gt,2,!0),this.v.setTripleAt(ft+xt,mt+gt,ft+xt-_t,mt+gt,ft+xt,mt+gt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:j},extendPrototype([DynamicPropertyContainer],dt),dt}();function ct(dt,ht,ft){var mt;if(ft===3||ft===4){var xt=ft===3?ht.pt:ht.ks,gt=xt.k;gt.length?mt=new st(dt,ht,ft):mt=new rt(dt,ht,ft)}else ft===5?mt=new ot(dt,ht):ft===6?mt=new it(dt,ht):ft===7&&(mt=new at(dt,ht));return mt.k&&dt.addDynamicProperty(mt),mt}function ut(){return rt}function lt(){return st}var pt={};return pt.getShapeProp=ct,pt.getConstructorFunction=ut,pt.getKeyframedConstructorFunction=lt,pt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var i=Math.cos,o=Math.sin,_=Math.tan,j=Math.round;function _e(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function et(bt){if(bt===0)return this;var vt=i(bt),At=o(bt);return this._t(vt,-At,0,0,At,vt,0,0,0,0,1,0,0,0,0,1)}function tt(bt){if(bt===0)return this;var vt=i(bt),At=o(bt);return this._t(1,0,0,0,0,vt,-At,0,0,At,vt,0,0,0,0,1)}function rt(bt){if(bt===0)return this;var vt=i(bt),At=o(bt);return this._t(vt,0,At,0,0,1,0,0,-At,0,vt,0,0,0,0,1)}function nt(bt){if(bt===0)return this;var vt=i(bt),At=o(bt);return this._t(vt,-At,0,0,At,vt,0,0,0,0,1,0,0,0,0,1)}function st(bt,vt){return this._t(1,vt,bt,1,0,0)}function it(bt,vt){return this.shear(_(bt),_(vt))}function at(bt,vt){var At=i(vt),Ot=o(vt);return this._t(At,Ot,0,0,-Ot,At,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,_(bt),1,0,0,0,0,1,0,0,0,0,1)._t(At,-Ot,0,0,Ot,At,0,0,0,0,1,0,0,0,0,1)}function ot(bt,vt,At){return!At&&At!==0&&(At=1),bt===1&&vt===1&&At===1?this:this._t(bt,0,0,0,0,vt,0,0,0,0,At,0,0,0,0,1)}function ct(bt,vt,At,Ot,Ct,Lt,It,Dt,Zt,Qt,Yt,Ft,Kt,er,Nt,lr){return this.props[0]=bt,this.props[1]=vt,this.props[2]=At,this.props[3]=Ot,this.props[4]=Ct,this.props[5]=Lt,this.props[6]=It,this.props[7]=Dt,this.props[8]=Zt,this.props[9]=Qt,this.props[10]=Yt,this.props[11]=Ft,this.props[12]=Kt,this.props[13]=er,this.props[14]=Nt,this.props[15]=lr,this}function ut(bt,vt,At){return At=At||0,bt!==0||vt!==0||At!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,bt,vt,At,1):this}function lt(bt,vt,At,Ot,Ct,Lt,It,Dt,Zt,Qt,Yt,Ft,Kt,er,Nt,lr){var Wt=this.props;if(bt===1&&vt===0&&At===0&&Ot===0&&Ct===0&&Lt===1&&It===0&&Dt===0&&Zt===0&&Qt===0&&Yt===1&&Ft===0)return Wt[12]=Wt[12]*bt+Wt[15]*Kt,Wt[13]=Wt[13]*Lt+Wt[15]*er,Wt[14]=Wt[14]*Yt+Wt[15]*Nt,Wt[15]*=lr,this._identityCalculated=!1,this;var Ut=Wt[0],Jt=Wt[1],Bt=Wt[2],tr=Wt[3],ar=Wt[4],hr=Wt[5],pr=Wt[6],yr=Wt[7],xr=Wt[8],vr=Wt[9],Er=Wt[10],jr=Wt[11],Ar=Wt[12],Rr=Wt[13],Tr=Wt[14],br=Wt[15];return Wt[0]=Ut*bt+Jt*Ct+Bt*Zt+tr*Kt,Wt[1]=Ut*vt+Jt*Lt+Bt*Qt+tr*er,Wt[2]=Ut*At+Jt*It+Bt*Yt+tr*Nt,Wt[3]=Ut*Ot+Jt*Dt+Bt*Ft+tr*lr,Wt[4]=ar*bt+hr*Ct+pr*Zt+yr*Kt,Wt[5]=ar*vt+hr*Lt+pr*Qt+yr*er,Wt[6]=ar*At+hr*It+pr*Yt+yr*Nt,Wt[7]=ar*Ot+hr*Dt+pr*Ft+yr*lr,Wt[8]=xr*bt+vr*Ct+Er*Zt+jr*Kt,Wt[9]=xr*vt+vr*Lt+Er*Qt+jr*er,Wt[10]=xr*At+vr*It+Er*Yt+jr*Nt,Wt[11]=xr*Ot+vr*Dt+Er*Ft+jr*lr,Wt[12]=Ar*bt+Rr*Ct+Tr*Zt+br*Kt,Wt[13]=Ar*vt+Rr*Lt+Tr*Qt+br*er,Wt[14]=Ar*At+Rr*It+Tr*Yt+br*Nt,Wt[15]=Ar*Ot+Rr*Dt+Tr*Ft+br*lr,this._identityCalculated=!1,this}function pt(bt){var vt=bt.props;return this.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15])}function dt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function ht(bt){for(var vt=0;vt<16;){if(bt.props[vt]!==this.props[vt])return!1;vt+=1}return!0}function ft(bt){var vt;for(vt=0;vt<16;vt+=1)bt.props[vt]=this.props[vt];return bt}function mt(bt){var vt;for(vt=0;vt<16;vt+=1)this.props[vt]=bt[vt]}function xt(bt,vt,At){return{x:bt*this.props[0]+vt*this.props[4]+At*this.props[8]+this.props[12],y:bt*this.props[1]+vt*this.props[5]+At*this.props[9]+this.props[13],z:bt*this.props[2]+vt*this.props[6]+At*this.props[10]+this.props[14]}}function gt(bt,vt,At){return bt*this.props[0]+vt*this.props[4]+At*this.props[8]+this.props[12]}function yt(bt,vt,At){return bt*this.props[1]+vt*this.props[5]+At*this.props[9]+this.props[13]}function _t(bt,vt,At){return bt*this.props[2]+vt*this.props[6]+At*this.props[10]+this.props[14]}function Et(){var bt=this.props[0]*this.props[5]-this.props[1]*this.props[4],vt=this.props[5]/bt,At=-this.props[1]/bt,Ot=-this.props[4]/bt,Ct=this.props[0]/bt,Lt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/bt,It=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/bt,Dt=new Matrix;return Dt.props[0]=vt,Dt.props[1]=At,Dt.props[4]=Ot,Dt.props[5]=Ct,Dt.props[12]=Lt,Dt.props[13]=It,Dt}function wt(bt){var vt=this.getInverseMatrix();return vt.applyToPointArray(bt[0],bt[1],bt[2]||0)}function $t(bt){var vt,At=bt.length,Ot=[];for(vt=0;vt<At;vt+=1)Ot[vt]=wt(bt[vt]);return Ot}function jt(bt,vt,At){var Ot=createTypedArray("float32",6);if(this.isIdentity())Ot[0]=bt[0],Ot[1]=bt[1],Ot[2]=vt[0],Ot[3]=vt[1],Ot[4]=At[0],Ot[5]=At[1];else{var Ct=this.props[0],Lt=this.props[1],It=this.props[4],Dt=this.props[5],Zt=this.props[12],Qt=this.props[13];Ot[0]=bt[0]*Ct+bt[1]*It+Zt,Ot[1]=bt[0]*Lt+bt[1]*Dt+Qt,Ot[2]=vt[0]*Ct+vt[1]*It+Zt,Ot[3]=vt[0]*Lt+vt[1]*Dt+Qt,Ot[4]=At[0]*Ct+At[1]*It+Zt,Ot[5]=At[0]*Lt+At[1]*Dt+Qt}return Ot}function Tt(bt,vt,At){var Ot;return this.isIdentity()?Ot=[bt,vt,At]:Ot=[bt*this.props[0]+vt*this.props[4]+At*this.props[8]+this.props[12],bt*this.props[1]+vt*this.props[5]+At*this.props[9]+this.props[13],bt*this.props[2]+vt*this.props[6]+At*this.props[10]+this.props[14]],Ot}function kt(bt,vt){if(this.isIdentity())return bt+","+vt;var At=this.props;return Math.round((bt*At[0]+vt*At[4]+At[12])*100)/100+","+Math.round((bt*At[1]+vt*At[5]+At[13])*100)/100}function Pt(){for(var bt=0,vt=this.props,At="matrix3d(",Ot=1e4;bt<16;)At+=j(vt[bt]*Ot)/Ot,At+=bt===15?")":",",bt+=1;return At}function St(bt){var vt=1e4;return bt<1e-6&&bt>0||bt>-1e-6&&bt<0?j(bt*vt)/vt:bt}function Rt(){var bt=this.props,vt=St(bt[0]),At=St(bt[1]),Ot=St(bt[4]),Ct=St(bt[5]),Lt=St(bt[12]),It=St(bt[13]);return"matrix("+vt+","+At+","+Ot+","+Ct+","+Lt+","+It+")"}return function(){this.reset=_e,this.rotate=et,this.rotateX=tt,this.rotateY=rt,this.rotateZ=nt,this.skew=it,this.skewFromAxis=at,this.shear=st,this.scale=ot,this.setTransform=ct,this.translate=ut,this.transform=lt,this.multiply=pt,this.applyToPoint=xt,this.applyToX=gt,this.applyToY=yt,this.applyToZ=_t,this.applyToPointArray=Tt,this.applyToTriplePoints=jt,this.applyToPointStringified=kt,this.toCSS=Pt,this.to2dCSS=Rt,this.clone=ft,this.cloneFromProps=mt,this.equals=ht,this.inversePoints=$t,this.inversePoint=wt,this.getInverseMatrix=Et,this._t=this.transform,this.isIdentity=dt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(i){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(i)}var lottie={};function setLocation(i){setLocationHref(i)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(i){setSubframeEnabled(i)}function setPrefix(i){setIdPrefix(i)}function loadAnimation(i){return animationManager.loadAnimation(i)}function setQuality(i){if(typeof i=="string")switch(i){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(i)&&i>1&&setDefaultCurveSegments(i)}function inBrowser(){return typeof navigator<"u"}function installPlugin(i,o){i==="expressions"&&setExpressionsPlugin(o)}function getFactory(i){switch(i){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(i){for(var o=queryString.split("&"),_=0;_<o.length;_+=1){var j=o[_].split("=");if(decodeURIComponent(j[0])==i)return decodeURIComponent(j[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports$1)!=="object"&&(window.bodymovin=lottie)}catch(i){}var ShapeModifiers=function(){var i={},o={};i.registerModifier=_,i.getModifier=j;function _(_e,et){o[_e]||(o[_e]=et)}function j(_e,et,tt){return new o[_e](et,tt)}return i}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(i){if(!this.closed){i.sh.container.addDynamicProperty(i.sh);var o={shape:i.sh,data:i,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(o),this.addShapeToModifier(o),this._isAnimated&&i.setAsAnimated()}},ShapeModifier.prototype.init=function(i,o){this.shapes=[],this.elem=i,this.initDynamicPropertyContainer(i),this.initModifierProperties(i,o),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(i,o){this.s=PropertyFactory.getProp(i,o.s,0,.01,this),this.e=PropertyFactory.getProp(i,o.e,0,.01,this),this.o=PropertyFactory.getProp(i,o.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=o.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(i){i.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(i,o,_,j,_e){var et=[];o<=1?et.push({s:i,e:o}):i>=1?et.push({s:i-1,e:o-1}):(et.push({s:i,e:1}),et.push({s:0,e:o-1}));var tt=[],rt,nt=et.length,st;for(rt=0;rt<nt;rt+=1)if(st=et[rt],!(st.e*_e<j||st.s*_e>j+_)){var it,at;st.s*_e<=j?it=0:it=(st.s*_e-j)/_,st.e*_e>=j+_?at=1:at=(st.e*_e-j)/_,tt.push([it,at])}return tt.length||tt.push([0,0]),tt},TrimModifier.prototype.releasePathsData=function(i){var o,_=i.length;for(o=0;o<_;o+=1)segmentsLengthPool.release(i[o]);return i.length=0,i},TrimModifier.prototype.processShapes=function(i){var o,_;if(this._mdf||i){var j=this.o.v%360/360;if(j<0&&(j+=1),this.s.v>1?o=1+j:this.s.v<0?o=0+j:o=this.s.v+j,this.e.v>1?_=1+j:this.e.v<0?_=0+j:_=this.e.v+j,o>_){var _e=o;o=_,_=_e}o=Math.round(o*1e4)*1e-4,_=Math.round(_*1e4)*1e-4,this.sValue=o,this.eValue=_}else o=this.sValue,_=this.eValue;var et,tt,rt=this.shapes.length,nt,st,it,at,ot,ct=0;if(_===o)for(tt=0;tt<rt;tt+=1)this.shapes[tt].localShapeCollection.releaseShapes(),this.shapes[tt].shape._mdf=!0,this.shapes[tt].shape.paths=this.shapes[tt].localShapeCollection,this._mdf&&(this.shapes[tt].pathsData.length=0);else if(_===1&&o===0||_===0&&o===1){if(this._mdf)for(tt=0;tt<rt;tt+=1)this.shapes[tt].pathsData.length=0,this.shapes[tt].shape._mdf=!0}else{var ut=[],lt,pt;for(tt=0;tt<rt;tt+=1)if(lt=this.shapes[tt],!lt.shape._mdf&&!this._mdf&&!i&&this.m!==2)lt.shape.paths=lt.localShapeCollection;else{if(et=lt.shape.paths,st=et._length,ot=0,!lt.shape._mdf&&lt.pathsData.length)ot=lt.totalShapeLength;else{for(it=this.releasePathsData(lt.pathsData),nt=0;nt<st;nt+=1)at=bez.getSegmentsLength(et.shapes[nt]),it.push(at),ot+=at.totalLength;lt.totalShapeLength=ot,lt.pathsData=it}ct+=ot,lt.shape._mdf=!0}var dt=o,ht=_,ft=0,mt;for(tt=rt-1;tt>=0;tt-=1)if(lt=this.shapes[tt],lt.shape._mdf){for(pt=lt.localShapeCollection,pt.releaseShapes(),this.m===2&&rt>1?(mt=this.calculateShapeEdges(o,_,lt.totalShapeLength,ft,ct),ft+=lt.totalShapeLength):mt=[[dt,ht]],st=mt.length,nt=0;nt<st;nt+=1){dt=mt[nt][0],ht=mt[nt][1],ut.length=0,ht<=1?ut.push({s:lt.totalShapeLength*dt,e:lt.totalShapeLength*ht}):dt>=1?ut.push({s:lt.totalShapeLength*(dt-1),e:lt.totalShapeLength*(ht-1)}):(ut.push({s:lt.totalShapeLength*dt,e:lt.totalShapeLength}),ut.push({s:0,e:lt.totalShapeLength*(ht-1)}));var xt=this.addShapes(lt,ut[0]);if(ut[0].s!==ut[0].e){if(ut.length>1){var gt=lt.shape.paths.shapes[lt.shape.paths._length-1];if(gt.c){var yt=xt.pop();this.addPaths(xt,pt),xt=this.addShapes(lt,ut[1],yt)}else this.addPaths(xt,pt),xt=this.addShapes(lt,ut[1])}this.addPaths(xt,pt)}}lt.shape.paths=pt}}},TrimModifier.prototype.addPaths=function(i,o){var _,j=i.length;for(_=0;_<j;_+=1)o.addShape(i[_])},TrimModifier.prototype.addSegment=function(i,o,_,j,_e,et,tt){_e.setXYAt(o[0],o[1],"o",et),_e.setXYAt(_[0],_[1],"i",et+1),tt&&_e.setXYAt(i[0],i[1],"v",et),_e.setXYAt(j[0],j[1],"v",et+1)},TrimModifier.prototype.addSegmentFromArray=function(i,o,_,j){o.setXYAt(i[1],i[5],"o",_),o.setXYAt(i[2],i[6],"i",_+1),j&&o.setXYAt(i[0],i[4],"v",_),o.setXYAt(i[3],i[7],"v",_+1)},TrimModifier.prototype.addShapes=function(i,o,_){var j=i.pathsData,_e=i.shape.paths.shapes,et,tt=i.shape.paths._length,rt,nt,st=0,it,at,ot,ct,ut=[],lt,pt=!0;for(_?(at=_._length,lt=_._length):(_=shapePool.newElement(),at=0,lt=0),ut.push(_),et=0;et<tt;et+=1){for(ot=j[et].lengths,_.c=_e[et].c,nt=_e[et].c?ot.length:ot.length+1,rt=1;rt<nt;rt+=1)if(it=ot[rt-1],st+it.addedLength<o.s)st+=it.addedLength,_.c=!1;else if(st>o.e){_.c=!1;break}else o.s<=st&&o.e>=st+it.addedLength?(this.addSegment(_e[et].v[rt-1],_e[et].o[rt-1],_e[et].i[rt],_e[et].v[rt],_,at,pt),pt=!1):(ct=bez.getNewSegment(_e[et].v[rt-1],_e[et].v[rt],_e[et].o[rt-1],_e[et].i[rt],(o.s-st)/it.addedLength,(o.e-st)/it.addedLength,ot[rt-1]),this.addSegmentFromArray(ct,_,at,pt),pt=!1,_.c=!1),st+=it.addedLength,at+=1;if(_e[et].c&&ot.length){if(it=ot[rt-1],st<=o.e){var dt=ot[rt-1].addedLength;o.s<=st&&o.e>=st+dt?(this.addSegment(_e[et].v[rt-1],_e[et].o[rt-1],_e[et].i[0],_e[et].v[0],_,at,pt),pt=!1):(ct=bez.getNewSegment(_e[et].v[rt-1],_e[et].v[0],_e[et].o[rt-1],_e[et].i[0],(o.s-st)/dt,(o.e-st)/dt,ot[rt-1]),this.addSegmentFromArray(ct,_,at,pt),pt=!1,_.c=!1)}else _.c=!1;st+=it.addedLength,at+=1}if(_._length&&(_.setXYAt(_.v[lt][0],_.v[lt][1],"i",lt),_.setXYAt(_.v[_._length-1][0],_.v[_._length-1][1],"o",_._length-1)),st>o.e)break;et<tt-1&&(_=shapePool.newElement(),pt=!0,ut.push(_),at=0)}return ut};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(i,o){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(i,o.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(i,o){var _=o/100,j=[0,0],_e=i._length,et=0;for(et=0;et<_e;et+=1)j[0]+=i.v[et][0],j[1]+=i.v[et][1];j[0]/=_e,j[1]/=_e;var tt=shapePool.newElement();tt.c=i.c;var rt,nt,st,it,at,ot;for(et=0;et<_e;et+=1)rt=i.v[et][0]+(j[0]-i.v[et][0])*_,nt=i.v[et][1]+(j[1]-i.v[et][1])*_,st=i.o[et][0]+(j[0]-i.o[et][0])*-_,it=i.o[et][1]+(j[1]-i.o[et][1])*-_,at=i.i[et][0]+(j[0]-i.i[et][0])*-_,ot=i.i[et][1]+(j[1]-i.i[et][1])*-_,tt.setTripleAt(rt,nt,st,it,at,ot,et);return tt},PuckerAndBloatModifier.prototype.processShapes=function(i){var o,_,j=this.shapes.length,_e,et,tt=this.amount.v;if(tt!==0){var rt,nt;for(_=0;_<j;_+=1){if(rt=this.shapes[_],nt=rt.localShapeCollection,!(!rt.shape._mdf&&!this._mdf&&!i))for(nt.releaseShapes(),rt.shape._mdf=!0,o=rt.shape.paths.shapes,et=rt.shape.paths._length,_e=0;_e<et;_e+=1)nt.addShape(this.processPath(o[_e],tt));rt.shape.paths=rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var i=[0,0];function o(nt){var st=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||st,this.a&&nt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&nt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&nt.skewFromAxis(-this.sk.v,this.sa.v),this.r?nt.rotate(-this.r.v):nt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?nt.translate(this.px.v,this.py.v,-this.pz.v):nt.translate(this.px.v,this.py.v,0):nt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function _(nt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||nt){var st;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var it,at;if(st=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(it=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/st,0),at=this.p.getValueAtTime(this.p.keyframes[0].t/st,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(it=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/st,0),at=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/st,0)):(it=this.p.pv,at=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/st,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){it=[],at=[];var ot=this.px,ct=this.py;ot._caching.lastFrame+ot.offsetTime<=ot.keyframes[0].t?(it[0]=ot.getValueAtTime((ot.keyframes[0].t+.01)/st,0),it[1]=ct.getValueAtTime((ct.keyframes[0].t+.01)/st,0),at[0]=ot.getValueAtTime(ot.keyframes[0].t/st,0),at[1]=ct.getValueAtTime(ct.keyframes[0].t/st,0)):ot._caching.lastFrame+ot.offsetTime>=ot.keyframes[ot.keyframes.length-1].t?(it[0]=ot.getValueAtTime(ot.keyframes[ot.keyframes.length-1].t/st,0),it[1]=ct.getValueAtTime(ct.keyframes[ct.keyframes.length-1].t/st,0),at[0]=ot.getValueAtTime((ot.keyframes[ot.keyframes.length-1].t-.01)/st,0),at[1]=ct.getValueAtTime((ct.keyframes[ct.keyframes.length-1].t-.01)/st,0)):(it=[ot.pv,ct.pv],at[0]=ot.getValueAtTime((ot._caching.lastFrame+ot.offsetTime-.01)/st,ot.offsetTime),at[1]=ct.getValueAtTime((ct._caching.lastFrame+ct.offsetTime-.01)/st,ct.offsetTime))}else at=i,it=at;this.v.rotate(-Math.atan2(it[1]-at[1],it[0]-at[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function j(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function _e(){}function et(nt){this._addDynamicProperty(nt),this.elem.addDynamicProperty(nt),this._isDirty=!0}function tt(nt,st,it){if(this.elem=nt,this.frameId=-1,this.propType="transform",this.data=st,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(it||nt),st.p&&st.p.s?(this.px=PropertyFactory.getProp(nt,st.p.x,0,0,this),this.py=PropertyFactory.getProp(nt,st.p.y,0,0,this),st.p.z&&(this.pz=PropertyFactory.getProp(nt,st.p.z,0,0,this))):this.p=PropertyFactory.getProp(nt,st.p||{k:[0,0,0]},1,0,this),st.rx){if(this.rx=PropertyFactory.getProp(nt,st.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(nt,st.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(nt,st.rz,0,degToRads,this),st.or.k[0].ti){var at,ot=st.or.k.length;for(at=0;at<ot;at+=1)st.or.k[at].to=null,st.or.k[at].ti=null}this.or=PropertyFactory.getProp(nt,st.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(nt,st.r||{k:0},0,degToRads,this);st.sk&&(this.sk=PropertyFactory.getProp(nt,st.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(nt,st.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(nt,st.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(nt,st.s||{k:[100,100,100]},1,.01,this),st.o?this.o=PropertyFactory.getProp(nt,st.o,0,.01,nt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}tt.prototype={applyToMatrix:o,getValue:_,precalculateMatrix:j,autoOrient:_e},extendPrototype([DynamicPropertyContainer],tt),tt.prototype.addDynamicProperty=et,tt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function rt(nt,st,it){return new tt(nt,st,it)}return{getTransformProperty:rt}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(i,o){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(i,o.c,0,null,this),this.o=PropertyFactory.getProp(i,o.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(i,o.tr,this),this.so=PropertyFactory.getProp(i,o.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(i,o.tr.eo,0,.01,this),this.data=o,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(i,o,_,j,_e,et){var tt=et?-1:1,rt=j.s.v[0]+(1-j.s.v[0])*(1-_e),nt=j.s.v[1]+(1-j.s.v[1])*(1-_e);i.translate(j.p.v[0]*tt*_e,j.p.v[1]*tt*_e,j.p.v[2]),o.translate(-j.a.v[0],-j.a.v[1],j.a.v[2]),o.rotate(-j.r.v*tt*_e),o.translate(j.a.v[0],j.a.v[1],j.a.v[2]),_.translate(-j.a.v[0],-j.a.v[1],j.a.v[2]),_.scale(et?1/rt:rt,et?1/nt:nt),_.translate(j.a.v[0],j.a.v[1],j.a.v[2])},RepeaterModifier.prototype.init=function(i,o,_,j){for(this.elem=i,this.arr=o,this.pos=_,this.elemsData=j,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(i),this.initModifierProperties(i,o[_]);_>0;)_-=1,this._elements.unshift(o[_]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(i){var o,_=i.length;for(o=0;o<_;o+=1)i[o]._processed=!1,i[o].ty==="gr"&&this.resetElements(i[o].it)},RepeaterModifier.prototype.cloneElements=function(i){var o=JSON.parse(JSON.stringify(i));return this.resetElements(o),o},RepeaterModifier.prototype.changeGroupRender=function(i,o){var _,j=i.length;for(_=0;_<j;_+=1)i[_]._render=o,i[_].ty==="gr"&&this.changeGroupRender(i[_].it,o)},RepeaterModifier.prototype.processShapes=function(i){var o,_,j,_e,et,tt=!1;if(this._mdf||i){var rt=Math.ceil(this.c.v);if(this._groups.length<rt){for(;this._groups.length<rt;){var nt={it:this.cloneElements(this._elements),ty:"gr"};nt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,nt),this._groups.splice(0,0,nt),this._currentCopies+=1}this.elem.reloadShapes(),tt=!0}et=0;var st;for(j=0;j<=this._groups.length-1;j+=1){if(st=et<rt,this._groups[j]._render=st,this.changeGroupRender(this._groups[j].it,st),!st){var it=this.elemsData[j].it,at=it[it.length-1];at.transform.op.v!==0?(at.transform.op._mdf=!0,at.transform.op.v=0):at.transform.op._mdf=!1}et+=1}this._currentCopies=rt;var ot=this.o.v,ct=ot%1,ut=ot>0?Math.floor(ot):Math.ceil(ot),lt=this.pMatrix.props,pt=this.rMatrix.props,dt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var ht=0;if(ot>0){for(;ht<ut;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),ht+=1;ct&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ct,!1),ht+=ct)}else if(ot<0){for(;ht>ut;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),ht-=1;ct&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ct,!0),ht-=ct)}j=this.data.m===1?0:this._currentCopies-1,_e=this.data.m===1?1:-1,et=this._currentCopies;for(var ft,mt;et;){if(o=this.elemsData[j].it,_=o[o.length-1].transform.mProps.v.props,mt=_.length,o[o.length-1].transform.mProps._mdf=!0,o[o.length-1].transform.op._mdf=!0,o[o.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(j/(this._currentCopies-1)),ht!==0){for((j!==0&&_e===1||j!==this._currentCopies-1&&_e===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8],pt[9],pt[10],pt[11],pt[12],pt[13],pt[14],pt[15]),this.matrix.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5],dt[6],dt[7],dt[8],dt[9],dt[10],dt[11],dt[12],dt[13],dt[14],dt[15]),this.matrix.transform(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5],lt[6],lt[7],lt[8],lt[9],lt[10],lt[11],lt[12],lt[13],lt[14],lt[15]),ft=0;ft<mt;ft+=1)_[ft]=this.matrix.props[ft];this.matrix.reset()}else for(this.matrix.reset(),ft=0;ft<mt;ft+=1)_[ft]=this.matrix.props[ft];ht+=1,et-=1,j+=_e}}else for(et=this._currentCopies,j=0,_e=1;et;)o=this.elemsData[j].it,_=o[o.length-1].transform.mProps.v.props,o[o.length-1].transform.mProps._mdf=!1,o[o.length-1].transform.op._mdf=!1,et-=1,j+=_e;return tt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(i,o){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(i,o.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(i,o){var _=shapePool.newElement();_.c=i.c;var j,_e=i._length,et,tt,rt,nt,st,it,at=0,ot,ct,ut,lt,pt,dt;for(j=0;j<_e;j+=1)et=i.v[j],rt=i.o[j],tt=i.i[j],et[0]===rt[0]&&et[1]===rt[1]&&et[0]===tt[0]&&et[1]===tt[1]?(j===0||j===_e-1)&&!i.c?(_.setTripleAt(et[0],et[1],rt[0],rt[1],tt[0],tt[1],at),at+=1):(j===0?nt=i.v[_e-1]:nt=i.v[j-1],st=Math.sqrt(Math.pow(et[0]-nt[0],2)+Math.pow(et[1]-nt[1],2)),it=st?Math.min(st/2,o)/st:0,pt=et[0]+(nt[0]-et[0])*it,ot=pt,dt=et[1]-(et[1]-nt[1])*it,ct=dt,ut=ot-(ot-et[0])*roundCorner,lt=ct-(ct-et[1])*roundCorner,_.setTripleAt(ot,ct,ut,lt,pt,dt,at),at+=1,j===_e-1?nt=i.v[0]:nt=i.v[j+1],st=Math.sqrt(Math.pow(et[0]-nt[0],2)+Math.pow(et[1]-nt[1],2)),it=st?Math.min(st/2,o)/st:0,ut=et[0]+(nt[0]-et[0])*it,ot=ut,lt=et[1]+(nt[1]-et[1])*it,ct=lt,pt=ot-(ot-et[0])*roundCorner,dt=ct-(ct-et[1])*roundCorner,_.setTripleAt(ot,ct,ut,lt,pt,dt,at),at+=1):(_.setTripleAt(i.v[j][0],i.v[j][1],i.o[j][0],i.o[j][1],i.i[j][0],i.i[j][1],at),at+=1);return _},RoundCornersModifier.prototype.processShapes=function(i){var o,_,j=this.shapes.length,_e,et,tt=this.rd.v;if(tt!==0){var rt,nt;for(_=0;_<j;_+=1){if(rt=this.shapes[_],nt=rt.localShapeCollection,!(!rt.shape._mdf&&!this._mdf&&!i))for(nt.releaseShapes(),rt.shape._mdf=!0,o=rt.shape.paths.shapes,et=rt.shape.paths._length,_e=0;_e<et;_e+=1)nt.addShape(this.processPath(o[_e],tt));rt.shape.paths=rt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(i,o){return Math.abs(i-o)*1e5<=Math.min(Math.abs(i),Math.abs(o))}function floatZero(i){return Math.abs(i)<=1e-5}function lerp(i,o,_){return i*(1-_)+o*_}function lerpPoint(i,o,_){return[lerp(i[0],o[0],_),lerp(i[1],o[1],_)]}function quadRoots(i,o,_){if(i===0)return[];var j=o*o-4*i*_;if(j<0)return[];var _e=-o/(2*i);if(j===0)return[_e];var et=Math.sqrt(j)/(2*i);return[_e-et,_e+et]}function polynomialCoefficients(i,o,_,j){return[-i+3*o-3*_+j,3*i-6*o+3*_,-3*i+3*o,i]}function singlePoint(i){return new PolynomialBezier(i,i,i,i,!1)}function PolynomialBezier(i,o,_,j,_e){_e&&pointEqual(i,o)&&(o=lerpPoint(i,j,1/3)),_e&&pointEqual(_,j)&&(_=lerpPoint(i,j,2/3));var et=polynomialCoefficients(i[0],o[0],_[0],j[0]),tt=polynomialCoefficients(i[1],o[1],_[1],j[1]);this.a=[et[0],tt[0]],this.b=[et[1],tt[1]],this.c=[et[2],tt[2]],this.d=[et[3],tt[3]],this.points=[i,o,_,j]}PolynomialBezier.prototype.point=function(i){return[((this.a[0]*i+this.b[0])*i+this.c[0])*i+this.d[0],((this.a[1]*i+this.b[1])*i+this.c[1])*i+this.d[1]]},PolynomialBezier.prototype.derivative=function(i){return[(3*i*this.a[0]+2*this.b[0])*i+this.c[0],(3*i*this.a[1]+2*this.b[1])*i+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(i){var o=this.derivative(i);return Math.atan2(o[1],o[0])},PolynomialBezier.prototype.normalAngle=function(i){var o=this.derivative(i);return Math.atan2(o[0],o[1])},PolynomialBezier.prototype.inflectionPoints=function(){var i=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(i))return[];var o=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/i,_=o*o-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/i;if(_<0)return[];var j=Math.sqrt(_);return floatZero(j)?j>0&&j<1?[o]:[]:[o-j,o+j].filter(function(_e){return _e>0&&_e<1})},PolynomialBezier.prototype.split=function(i){if(i<=0)return[singlePoint(this.points[0]),this];if(i>=1)return[this,singlePoint(this.points[this.points.length-1])];var o=lerpPoint(this.points[0],this.points[1],i),_=lerpPoint(this.points[1],this.points[2],i),j=lerpPoint(this.points[2],this.points[3],i),_e=lerpPoint(o,_,i),et=lerpPoint(_,j,i),tt=lerpPoint(_e,et,i);return[new PolynomialBezier(this.points[0],o,_e,tt,!0),new PolynomialBezier(tt,et,j,this.points[3],!0)]};function extrema(i,o){var _=i.points[0][o],j=i.points[i.points.length-1][o];if(_>j){var _e=j;j=_,_=_e}for(var et=quadRoots(3*i.a[o],2*i.b[o],i.c[o]),tt=0;tt<et.length;tt+=1)if(et[tt]>0&&et[tt]<1){var rt=i.point(et[tt])[o];rt<_?_=rt:rt>j&&(j=rt)}return{min:_,max:j}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var i=this.bounds();return{left:i.x.min,right:i.x.max,top:i.y.min,bottom:i.y.max,width:i.x.max-i.x.min,height:i.y.max-i.y.min,cx:(i.x.max+i.x.min)/2,cy:(i.y.max+i.y.min)/2}};function intersectData(i,o,_){var j=i.boundingBox();return{cx:j.cx,cy:j.cy,width:j.width,height:j.height,bez:i,t:(o+_)/2,t1:o,t2:_}}function splitData(i){var o=i.bez.split(.5);return[intersectData(o[0],i.t1,i.t),intersectData(o[1],i.t,i.t2)]}function boxIntersect(i,o){return Math.abs(i.cx-o.cx)*2<i.width+o.width&&Math.abs(i.cy-o.cy)*2<i.height+o.height}function intersectsImpl(i,o,_,j,_e,et){if(boxIntersect(i,o)){if(_>=et||i.width<=j&&i.height<=j&&o.width<=j&&o.height<=j){_e.push([i.t,o.t]);return}var tt=splitData(i),rt=splitData(o);intersectsImpl(tt[0],rt[0],_+1,j,_e,et),intersectsImpl(tt[0],rt[1],_+1,j,_e,et),intersectsImpl(tt[1],rt[0],_+1,j,_e,et),intersectsImpl(tt[1],rt[1],_+1,j,_e,et)}}PolynomialBezier.prototype.intersections=function(i,o,_){o===void 0&&(o=2),_===void 0&&(_=7);var j=[];return intersectsImpl(intersectData(this,0,1),intersectData(i,0,1),0,o,j,_),j},PolynomialBezier.shapeSegment=function(i,o){var _=(o+1)%i.length();return new PolynomialBezier(i.v[o],i.o[o],i.i[_],i.v[_],!0)},PolynomialBezier.shapeSegmentInverted=function(i,o){var _=(o+1)%i.length();return new PolynomialBezier(i.v[_],i.i[_],i.o[o],i.v[o],!0)};function crossProduct(i,o){return[i[1]*o[2]-i[2]*o[1],i[2]*o[0]-i[0]*o[2],i[0]*o[1]-i[1]*o[0]]}function lineIntersection(i,o,_,j){var _e=[i[0],i[1],1],et=[o[0],o[1],1],tt=[_[0],_[1],1],rt=[j[0],j[1],1],nt=crossProduct(crossProduct(_e,et),crossProduct(tt,rt));return floatZero(nt[2])?null:[nt[0]/nt[2],nt[1]/nt[2]]}function polarOffset(i,o,_){return[i[0]+Math.cos(o)*_,i[1]-Math.sin(o)*_]}function pointDistance(i,o){return Math.hypot(i[0]-o[0],i[1]-o[1])}function pointEqual(i,o){return floatEqual(i[0],o[0])&&floatEqual(i[1],o[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(i,o){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(i,o.s,0,null,this),this.frequency=PropertyFactory.getProp(i,o.r,0,null,this),this.pointsType=PropertyFactory.getProp(i,o.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(i,o,_,j,_e,et,tt){var rt=_-Math.PI/2,nt=_+Math.PI/2,st=o[0]+Math.cos(_)*j*_e,it=o[1]-Math.sin(_)*j*_e;i.setTripleAt(st,it,st+Math.cos(rt)*et,it-Math.sin(rt)*et,st+Math.cos(nt)*tt,it-Math.sin(nt)*tt,i.length())}function getPerpendicularVector(i,o){var _=[o[0]-i[0],o[1]-i[1]],j=-Math.PI*.5,_e=[Math.cos(j)*_[0]-Math.sin(j)*_[1],Math.sin(j)*_[0]+Math.cos(j)*_[1]];return _e}function getProjectingAngle(i,o){var _=o===0?i.length()-1:o-1,j=(o+1)%i.length(),_e=i.v[_],et=i.v[j],tt=getPerpendicularVector(_e,et);return Math.atan2(0,1)-Math.atan2(tt[1],tt[0])}function zigZagCorner(i,o,_,j,_e,et,tt){var rt=getProjectingAngle(o,_),nt=o.v[_%o._length],st=o.v[_===0?o._length-1:_-1],it=o.v[(_+1)%o._length],at=et===2?Math.sqrt(Math.pow(nt[0]-st[0],2)+Math.pow(nt[1]-st[1],2)):0,ot=et===2?Math.sqrt(Math.pow(nt[0]-it[0],2)+Math.pow(nt[1]-it[1],2)):0;setPoint(i,o.v[_%o._length],rt,tt,j,ot/((_e+1)*2),at/((_e+1)*2))}function zigZagSegment(i,o,_,j,_e,et){for(var tt=0;tt<j;tt+=1){var rt=(tt+1)/(j+1),nt=_e===2?Math.sqrt(Math.pow(o.points[3][0]-o.points[0][0],2)+Math.pow(o.points[3][1]-o.points[0][1],2)):0,st=o.normalAngle(rt),it=o.point(rt);setPoint(i,it,st,et,_,nt/((j+1)*2),nt/((j+1)*2)),et=-et}return et}ZigZagModifier.prototype.processPath=function(i,o,_,j){var _e=i._length,et=shapePool.newElement();if(et.c=i.c,i.c||(_e-=1),_e===0)return et;var tt=-1,rt=PolynomialBezier.shapeSegment(i,0);zigZagCorner(et,i,0,o,_,j,tt);for(var nt=0;nt<_e;nt+=1)tt=zigZagSegment(et,rt,o,_,j,-tt),nt===_e-1&&!i.c?rt=null:rt=PolynomialBezier.shapeSegment(i,(nt+1)%_e),zigZagCorner(et,i,nt+1,o,_,j,tt);return et},ZigZagModifier.prototype.processShapes=function(i){var o,_,j=this.shapes.length,_e,et,tt=this.amplitude.v,rt=Math.max(0,Math.round(this.frequency.v)),nt=this.pointsType.v;if(tt!==0){var st,it;for(_=0;_<j;_+=1){if(st=this.shapes[_],it=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!i))for(it.releaseShapes(),st.shape._mdf=!0,o=st.shape.paths.shapes,et=st.shape.paths._length,_e=0;_e<et;_e+=1)it.addShape(this.processPath(o[_e],tt,rt,nt));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(i,o,_){var j=Math.atan2(o[0]-i[0],o[1]-i[1]);return[polarOffset(i,j,_),polarOffset(o,j,_)]}function offsetSegment(i,o){var _,j,_e,et,tt,rt,nt;nt=linearOffset(i.points[0],i.points[1],o),_=nt[0],j=nt[1],nt=linearOffset(i.points[1],i.points[2],o),_e=nt[0],et=nt[1],nt=linearOffset(i.points[2],i.points[3],o),tt=nt[0],rt=nt[1];var st=lineIntersection(_,j,_e,et);st===null&&(st=j);var it=lineIntersection(tt,rt,_e,et);return it===null&&(it=tt),new PolynomialBezier(_,st,it,rt)}function joinLines(i,o,_,j,_e){var et=o.points[3],tt=_.points[0];if(j===3||pointEqual(et,tt))return et;if(j===2){var rt=-o.tangentAngle(1),nt=-_.tangentAngle(0)+Math.PI,st=lineIntersection(et,polarOffset(et,rt+Math.PI/2,100),tt,polarOffset(tt,rt+Math.PI/2,100)),it=st?pointDistance(st,et):pointDistance(et,tt)/2,at=polarOffset(et,rt,2*it*roundCorner);return i.setXYAt(at[0],at[1],"o",i.length()-1),at=polarOffset(tt,nt,2*it*roundCorner),i.setTripleAt(tt[0],tt[1],tt[0],tt[1],at[0],at[1],i.length()),tt}var ot=pointEqual(et,o.points[2])?o.points[0]:o.points[2],ct=pointEqual(tt,_.points[1])?_.points[3]:_.points[1],ut=lineIntersection(ot,et,tt,ct);return ut&&pointDistance(ut,et)<_e?(i.setTripleAt(ut[0],ut[1],ut[0],ut[1],ut[0],ut[1],i.length()),ut):et}function getIntersection(i,o){var _=i.intersections(o);return _.length&&floatEqual(_[0][0],1)&&_.shift(),_.length?_[0]:null}function pruneSegmentIntersection(i,o){var _=i.slice(),j=o.slice(),_e=getIntersection(i[i.length-1],o[0]);return _e&&(_[i.length-1]=i[i.length-1].split(_e[0])[0],j[0]=o[0].split(_e[1])[1]),i.length>1&&o.length>1&&(_e=getIntersection(i[0],o[o.length-1]),_e)?[[i[0].split(_e[0])[0]],[o[o.length-1].split(_e[1])[1]]]:[_,j]}function pruneIntersections(i){for(var o,_=1;_<i.length;_+=1)o=pruneSegmentIntersection(i[_-1],i[_]),i[_-1]=o[0],i[_]=o[1];return i.length>1&&(o=pruneSegmentIntersection(i[i.length-1],i[0]),i[i.length-1]=o[0],i[0]=o[1]),i}function offsetSegmentSplit(i,o){var _=i.inflectionPoints(),j,_e,et,tt;if(_.length===0)return[offsetSegment(i,o)];if(_.length===1||floatEqual(_[1],1))return et=i.split(_[0]),j=et[0],_e=et[1],[offsetSegment(j,o),offsetSegment(_e,o)];et=i.split(_[0]),j=et[0];var rt=(_[1]-_[0])/(1-_[0]);return et=et[1].split(rt),tt=et[0],_e=et[1],[offsetSegment(j,o),offsetSegment(tt,o),offsetSegment(_e,o)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(i,o){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(i,o.a,0,null,this),this.miterLimit=PropertyFactory.getProp(i,o.ml,0,null,this),this.lineJoin=o.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(i,o,_,j){var _e=shapePool.newElement();_e.c=i.c;var et=i.length();i.c||(et-=1);var tt,rt,nt,st=[];for(tt=0;tt<et;tt+=1)nt=PolynomialBezier.shapeSegment(i,tt),st.push(offsetSegmentSplit(nt,o));if(!i.c)for(tt=et-1;tt>=0;tt-=1)nt=PolynomialBezier.shapeSegmentInverted(i,tt),st.push(offsetSegmentSplit(nt,o));st=pruneIntersections(st);var it=null,at=null;for(tt=0;tt<st.length;tt+=1){var ot=st[tt];for(at&&(it=joinLines(_e,at,ot[0],_,j)),at=ot[ot.length-1],rt=0;rt<ot.length;rt+=1)nt=ot[rt],it&&pointEqual(nt.points[0],it)?_e.setXYAt(nt.points[1][0],nt.points[1][1],"o",_e.length()-1):_e.setTripleAt(nt.points[0][0],nt.points[0][1],nt.points[1][0],nt.points[1][1],nt.points[0][0],nt.points[0][1],_e.length()),_e.setTripleAt(nt.points[3][0],nt.points[3][1],nt.points[3][0],nt.points[3][1],nt.points[2][0],nt.points[2][1],_e.length()),it=nt.points[3]}return st.length&&joinLines(_e,at,st[0][0],_,j),_e},OffsetPathModifier.prototype.processShapes=function(i){var o,_,j=this.shapes.length,_e,et,tt=this.amount.v,rt=this.miterLimit.v,nt=this.lineJoin;if(tt!==0){var st,it;for(_=0;_<j;_+=1){if(st=this.shapes[_],it=st.localShapeCollection,!(!st.shape._mdf&&!this._mdf&&!i))for(it.releaseShapes(),st.shape._mdf=!0,o=st.shape.paths.shapes,et=st.shape.paths._length,_e=0;_e<et;_e+=1)it.addShape(this.processPath(o[_e],tt,nt,rt));st.shape.paths=st.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(i){for(var o=i.fStyle?i.fStyle.split(" "):[],_="normal",j="normal",_e=o.length,et,tt=0;tt<_e;tt+=1)switch(et=o[tt].toLowerCase(),et){case"italic":j="italic";break;case"bold":_="700";break;case"black":_="900";break;case"medium":_="500";break;case"regular":case"normal":_="400";break;case"light":case"thin":_="200";break}return{style:j,weight:i.fWeight||_}}var FontManager=function(){var i=5e3,o={w:0,size:0,shapes:[],data:{shapes:[]}},_=[];_=_.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var j=127988,_e=917631,et=917601,tt=917626,rt=65039,nt=8205,st=127462,it=127487,at=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ot(St){var Rt=St.split(","),bt,vt=Rt.length,At=[];for(bt=0;bt<vt;bt+=1)Rt[bt]!=="sans-serif"&&Rt[bt]!=="monospace"&&At.push(Rt[bt]);return At.join(",")}function ct(St,Rt){var bt=createTag("span");bt.setAttribute("aria-hidden",!0),bt.style.fontFamily=Rt;var vt=createTag("span");vt.innerText="giItT1WQy@!-/#",bt.style.position="absolute",bt.style.left="-10000px",bt.style.top="-10000px",bt.style.fontSize="300px",bt.style.fontVariant="normal",bt.style.fontStyle="normal",bt.style.fontWeight="normal",bt.style.letterSpacing="0",bt.appendChild(vt),document.body.appendChild(bt);var At=vt.offsetWidth;return vt.style.fontFamily=ot(St)+", "+Rt,{node:vt,w:At,parent:bt}}function ut(){var St,Rt=this.fonts.length,bt,vt,At=Rt;for(St=0;St<Rt;St+=1)this.fonts[St].loaded?At-=1:this.fonts[St].fOrigin==="n"||this.fonts[St].origin===0?this.fonts[St].loaded=!0:(bt=this.fonts[St].monoCase.node,vt=this.fonts[St].monoCase.w,bt.offsetWidth!==vt?(At-=1,this.fonts[St].loaded=!0):(bt=this.fonts[St].sansCase.node,vt=this.fonts[St].sansCase.w,bt.offsetWidth!==vt&&(At-=1,this.fonts[St].loaded=!0)),this.fonts[St].loaded&&(this.fonts[St].sansCase.parent.parentNode.removeChild(this.fonts[St].sansCase.parent),this.fonts[St].monoCase.parent.parentNode.removeChild(this.fonts[St].monoCase.parent)));At!==0&&Date.now()-this.initTime<i?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function lt(St,Rt){var bt=document.body&&Rt?"svg":"canvas",vt,At=getFontProperties(St);if(bt==="svg"){var Ot=createNS("text");Ot.style.fontSize="100px",Ot.setAttribute("font-family",St.fFamily),Ot.setAttribute("font-style",At.style),Ot.setAttribute("font-weight",At.weight),Ot.textContent="1",St.fClass?(Ot.style.fontFamily="inherit",Ot.setAttribute("class",St.fClass)):Ot.style.fontFamily=St.fFamily,Rt.appendChild(Ot),vt=Ot}else{var Ct=new OffscreenCanvas(500,500).getContext("2d");Ct.font=At.style+" "+At.weight+" 100px "+St.fFamily,vt=Ct}function Lt(It){return bt==="svg"?(vt.textContent=It,vt.getComputedTextLength()):vt.measureText(It).width}return{measureText:Lt}}function pt(St,Rt){if(!St){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=St.list;return}if(!document.body){this.isLoaded=!0,St.list.forEach(function(Yt){Yt.helper=lt(Yt),Yt.cache={}}),this.fonts=St.list;return}var bt=St.list,vt,At=bt.length,Ot=At;for(vt=0;vt<At;vt+=1){var Ct=!0,Lt,It;if(bt[vt].loaded=!1,bt[vt].monoCase=ct(bt[vt].fFamily,"monospace"),bt[vt].sansCase=ct(bt[vt].fFamily,"sans-serif"),!bt[vt].fPath)bt[vt].loaded=!0,Ot-=1;else if(bt[vt].fOrigin==="p"||bt[vt].origin===3){if(Lt=document.querySelectorAll('style[f-forigin="p"][f-family="'+bt[vt].fFamily+'"], style[f-origin="3"][f-family="'+bt[vt].fFamily+'"]'),Lt.length>0&&(Ct=!1),Ct){var Dt=createTag("style");Dt.setAttribute("f-forigin",bt[vt].fOrigin),Dt.setAttribute("f-origin",bt[vt].origin),Dt.setAttribute("f-family",bt[vt].fFamily),Dt.type="text/css",Dt.innerText="@font-face {font-family: "+bt[vt].fFamily+"; font-style: normal; src: url('"+bt[vt].fPath+"');}",Rt.appendChild(Dt)}}else if(bt[vt].fOrigin==="g"||bt[vt].origin===1){for(Lt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),It=0;It<Lt.length;It+=1)Lt[It].href.indexOf(bt[vt].fPath)!==-1&&(Ct=!1);if(Ct){var Zt=createTag("link");Zt.setAttribute("f-forigin",bt[vt].fOrigin),Zt.setAttribute("f-origin",bt[vt].origin),Zt.type="text/css",Zt.rel="stylesheet",Zt.href=bt[vt].fPath,document.body.appendChild(Zt)}}else if(bt[vt].fOrigin==="t"||bt[vt].origin===2){for(Lt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),It=0;It<Lt.length;It+=1)bt[vt].fPath===Lt[It].src&&(Ct=!1);if(Ct){var Qt=createTag("link");Qt.setAttribute("f-forigin",bt[vt].fOrigin),Qt.setAttribute("f-origin",bt[vt].origin),Qt.setAttribute("rel","stylesheet"),Qt.setAttribute("href",bt[vt].fPath),Rt.appendChild(Qt)}}bt[vt].helper=lt(bt[vt],Rt),bt[vt].cache={},this.fonts.push(bt[vt])}Ot===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function dt(St){if(St){this.chars||(this.chars=[]);var Rt,bt=St.length,vt,At=this.chars.length,Ot;for(Rt=0;Rt<bt;Rt+=1){for(vt=0,Ot=!1;vt<At;)this.chars[vt].style===St[Rt].style&&this.chars[vt].fFamily===St[Rt].fFamily&&this.chars[vt].ch===St[Rt].ch&&(Ot=!0),vt+=1;Ot||(this.chars.push(St[Rt]),At+=1)}}}function ht(St,Rt,bt){for(var vt=0,At=this.chars.length;vt<At;){if(this.chars[vt].ch===St&&this.chars[vt].style===Rt&&this.chars[vt].fFamily===bt)return this.chars[vt];vt+=1}return(typeof St=="string"&&St.charCodeAt(0)!==13||!St)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",St,Rt,bt)),o}function ft(St,Rt,bt){var vt=this.getFontByName(Rt),At=St;if(!vt.cache[At]){var Ot=vt.helper;if(St===" "){var Ct=Ot.measureText("|"+St+"|"),Lt=Ot.measureText("||");vt.cache[At]=(Ct-Lt)/100}else vt.cache[At]=Ot.measureText(St)/100}return vt.cache[At]*bt}function mt(St){for(var Rt=0,bt=this.fonts.length;Rt<bt;){if(this.fonts[Rt].fName===St)return this.fonts[Rt];Rt+=1}return this.fonts[0]}function xt(St){var Rt=0,bt=St.charCodeAt(0);if(bt>=55296&&bt<=56319){var vt=St.charCodeAt(1);vt>=56320&&vt<=57343&&(Rt=(bt-55296)*1024+vt-56320+65536)}return Rt}function gt(St,Rt){var bt=St.toString(16)+Rt.toString(16);return at.indexOf(bt)!==-1}function yt(St){return St===nt}function _t(St){return St===rt}function Et(St){var Rt=xt(St);return Rt>=st&&Rt<=it}function wt(St){return Et(St.substr(0,2))&&Et(St.substr(2,2))}function $t(St){return _.indexOf(St)!==-1}function jt(St,Rt){var bt=xt(St.substr(Rt,2));if(bt!==j)return!1;var vt=0;for(Rt+=2;vt<5;){if(bt=xt(St.substr(Rt,2)),bt<et||bt>tt)return!1;vt+=1,Rt+=2}return xt(St.substr(Rt,2))===_e}function Tt(){this.isLoaded=!0}var kt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};kt.isModifier=gt,kt.isZeroWidthJoiner=yt,kt.isFlagEmoji=wt,kt.isRegionalCode=Et,kt.isCombinedCharacter=$t,kt.isRegionalFlag=jt,kt.isVariationSelector=_t,kt.BLACK_FLAG_CODE_POINT=j;var Pt={addChars:dt,addFonts:pt,getCharData:ht,getFontByName:mt,measureText:ft,checkLoadedFonts:ut,setIsLoaded:Tt};return kt.prototype=Pt,kt}();function SlotManager(i){this.animationData=i}SlotManager.prototype.getProp=function(i){return this.animationData.slots&&this.animationData.slots[i.sid]?Object.assign(i,this.animationData.slots[i.sid].p):i};function slotFactory(i){return new SlotManager(i)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(o){this.renderableComponents.indexOf(o)===-1&&this.renderableComponents.push(o)},removeRenderableComponent:function(o){this.renderableComponents.indexOf(o)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(o),1)},prepareRenderableFrame:function(o){this.checkLayerLimits(o)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(o){this.data.ip-this.data.st<=o&&this.data.op-this.data.st>o?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var o,_=this.renderableComponents.length;for(o=0;o<_;o+=1)this.renderableComponents[o].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var i={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(o){return i[o]||""}}();function SliderEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,0,0,_)}function AngleEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,0,0,_)}function ColorEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,1,0,_)}function PointEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,1,0,_)}function LayerIndexEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,0,0,_)}function MaskIndexEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,0,0,_)}function CheckboxEffect(i,o,_){this.p=PropertyFactory.getProp(o,i.v,0,0,_)}function NoValueEffect(){this.p={}}function EffectsManager(i,o){var _=i.ef||[];this.effectElements=[];var j,_e=_.length,et;for(j=0;j<_e;j+=1)et=new GroupEffect(_[j],o),this.effectElements.push(et)}function GroupEffect(i,o){this.init(i,o)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(i,o){this.data=i,this.effectElements=[],this.initDynamicPropertyContainer(o);var _,j=this.data.ef.length,_e,et=this.data.ef;for(_=0;_<j;_+=1){switch(_e=null,et[_].ty){case 0:_e=new SliderEffect(et[_],o,this);break;case 1:_e=new AngleEffect(et[_],o,this);break;case 2:_e=new ColorEffect(et[_],o,this);break;case 3:_e=new PointEffect(et[_],o,this);break;case 4:case 7:_e=new CheckboxEffect(et[_],o,this);break;case 10:_e=new LayerIndexEffect(et[_],o,this);break;case 11:_e=new MaskIndexEffect(et[_],o,this);break;case 5:_e=new EffectsManager(et[_],o);break;default:_e=new NoValueEffect(et[_]);break}_e&&this.effectElements.push(_e)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var o=0,_=this.data.masksProperties.length;o<_;){if(this.data.masksProperties[o].mode!=="n"&&this.data.masksProperties[o].cl!==!1)return!0;o+=1}return!1},initExpressions:function(){var o=getExpressionInterfaces();if(o){var _=o("layer"),j=o("effects"),_e=o("shape"),et=o("text"),tt=o("comp");this.layerInterface=_(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var rt=j.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(rt),this.data.ty===0||this.data.xt?this.compInterface=tt(this):this.data.ty===4?(this.layerInterface.shapeInterface=_e(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=et(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var o=getBlendMode(this.data.bm),_=this.baseElement||this.layerElement;_.style["mix-blend-mode"]=o},initBaseData:function(o,_,j){this.globalData=_,this.comp=j,this.data=o,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(o,_){var j,_e=this.dynamicProperties.length;for(j=0;j<_e;j+=1)(_||this._isParent&&this.dynamicProperties[j].propType==="transform")&&(this.dynamicProperties[j].getValue(),this.dynamicProperties[j]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(o){this.dynamicProperties.indexOf(o)===-1&&this.dynamicProperties.push(o)}};function FootageElement(i,o,_){this.initFrame(),this.initRenderable(),this.assetData=o.getAssetData(i.refId),this.footageData=o.imageLoader.getAsset(this.assetData),this.initBaseData(i,o,_)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var i=getExpressionInterfaces();if(i){var o=i("footage");this.layerInterface=o(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(i,o,_){this.initFrame(),this.initRenderable(),this.assetData=o.getAssetData(i.refId),this.initBaseData(i,o,_),this._isPlaying=!1,this._canPlay=!1;var j=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(j),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,o.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,i.au&&i.au.lv?i.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(i){if(this.prepareRenderableFrame(i,!0),this.prepareProperties(i,!0),this.tm._placeholder)this._currentTime=i/this.data.sr;else{var o=this.tm.v;this._currentTime=o}this._volume=this.lv.v[0];var _=this._volume*this._volumeMultiplier;this._previousVolume!==_&&(this._previousVolume=_,this.audio.volume(_))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(i){this.audio.rate(i)},AudioElement.prototype.volume=function(i){this._volumeMultiplier=i,this._previousVolume=i*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(i){var o,_=this.layers.length,j;for(this.completeLayers=!0,o=_-1;o>=0;o-=1)this.elements[o]||(j=this.layers[o],j.ip-j.st<=i-this.layers[o].st&&j.op-j.st>i-this.layers[o].st&&this.buildItem(o)),this.completeLayers=this.elements[o]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(i){switch(i.ty){case 2:return this.createImage(i);case 0:return this.createComp(i);case 1:return this.createSolid(i);case 3:return this.createNull(i);case 4:return this.createShape(i);case 5:return this.createText(i);case 6:return this.createAudio(i);case 13:return this.createCamera(i);case 15:return this.createFootage(i);default:return this.createNull(i)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(i){return new AudioElement(i,this.globalData,this)},BaseRenderer.prototype.createFootage=function(i){return new FootageElement(i,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var i,o=this.layers.length;for(i=0;i<o;i+=1)this.buildItem(i);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(i){this.completeLayers=!1;var o,_=i.length,j,_e=this.layers.length;for(o=0;o<_;o+=1)for(j=0;j<_e;){if(this.layers[j].id===i[o].id){this.layers[j]=i[o];break}j+=1}},BaseRenderer.prototype.setProjectInterface=function(i){this.globalData.projectInterface=i},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(i,o,_){for(var j=this.elements,_e=this.layers,et=0,tt=_e.length;et<tt;)_e[et].ind==o&&(!j[et]||j[et]===!0?(this.buildItem(et),this.addPendingElement(i)):(_.push(j[et]),j[et].setAsParent(),_e[et].parent!==void 0?this.buildElementParenting(i,_e[et].parent,_):i.setHierarchy(_))),et+=1},BaseRenderer.prototype.addPendingElement=function(i){this.pendingElements.push(i)},BaseRenderer.prototype.searchExtraCompositions=function(i){var o,_=i.length;for(o=0;o<_;o+=1)if(i[o].xt){var j=this.createComp(i[o]);j.initExpressions(),this.globalData.projectInterface.registerComposition(j)}},BaseRenderer.prototype.getElementById=function(i){var o,_=this.elements.length;for(o=0;o<_;o+=1)if(this.elements[o].data.ind===i)return this.elements[o];return null},BaseRenderer.prototype.getElementByPath=function(i){var o=i.shift(),_;if(typeof o=="number")_=this.elements[o];else{var j,_e=this.elements.length;for(j=0;j<_e;j+=1)if(this.elements[j].data.nm===o){_=this.elements[j];break}}return i.length===0?_:_.getElementByPath(i)},BaseRenderer.prototype.setupGlobalData=function(i,o){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(i),this.globalData.fontManager.addChars(i.chars),this.globalData.fontManager.addFonts(i.fonts,o),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=i.fr,this.globalData.nm=i.nm,this.globalData.compSize={w:i.w,h:i.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var o=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:o,localMat:o,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var o,_=this.finalTransform.mat,j=0,_e=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;j<_e;){if(this.hierarchy[j].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}j+=1}if(this.finalTransform._matMdf)for(o=this.finalTransform.mProp.v.props,_.cloneFromProps(o),j=0;j<_e;j+=1)_.multiply(this.hierarchy[j].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var o=0,_=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;o<_;)this.localTransforms[o]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[o]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),o+=1;if(this.finalTransform._localMatMdf){var j=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(j),o=1;o<_;o+=1){var _e=this.localTransforms[o].matrix;j.multiply(_e)}j.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var et=this.finalTransform.localOpacity;for(o=0;o<_;o+=1)et*=this.localTransforms[o].opacity*.01;this.finalTransform.localOpacity=et}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var o=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(o.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var _=0,j=o.length;for(_=0;_<j;_+=1)this.localTransforms.push(o[_])}}},globalToLocal:function(o){var _=[];_.push(this.finalTransform);for(var j=!0,_e=this.comp;j;)_e.finalTransform?(_e.data.hasMask&&_.splice(0,0,_e.finalTransform),_e=_e.comp):j=!1;var et,tt=_.length,rt;for(et=0;et<tt;et+=1)rt=_[et].mat.applyToPointArray(0,0,0),o=[o[0]-rt[0],o[1]-rt[1],0];return o},mHelper:new Matrix};function MaskElement(i,o,_){this.data=i,this.element=o,this.globalData=_,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var j=this.globalData.defs,_e,et=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(et),this.solidPath="";var tt,rt=this.masksProperties,nt=0,st=[],it,at,ot=createElementID(),ct,ut,lt,pt,dt="clipPath",ht="clip-path";for(_e=0;_e<et;_e+=1)if((rt[_e].mode!=="a"&&rt[_e].mode!=="n"||rt[_e].inv||rt[_e].o.k!==100||rt[_e].o.x)&&(dt="mask",ht="mask"),(rt[_e].mode==="s"||rt[_e].mode==="i")&&nt===0?(ct=createNS("rect"),ct.setAttribute("fill","#ffffff"),ct.setAttribute("width",this.element.comp.data.w||0),ct.setAttribute("height",this.element.comp.data.h||0),st.push(ct)):ct=null,tt=createNS("path"),rt[_e].mode==="n")this.viewData[_e]={op:PropertyFactory.getProp(this.element,rt[_e].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,rt[_e],3),elem:tt,lastPath:""},j.appendChild(tt);else{nt+=1,tt.setAttribute("fill",rt[_e].mode==="s"?"#000000":"#ffffff"),tt.setAttribute("clip-rule","nonzero");var ft;if(rt[_e].x.k!==0?(dt="mask",ht="mask",pt=PropertyFactory.getProp(this.element,rt[_e].x,0,null,this.element),ft=createElementID(),ut=createNS("filter"),ut.setAttribute("id",ft),lt=createNS("feMorphology"),lt.setAttribute("operator","erode"),lt.setAttribute("in","SourceGraphic"),lt.setAttribute("radius","0"),ut.appendChild(lt),j.appendChild(ut),tt.setAttribute("stroke",rt[_e].mode==="s"?"#000000":"#ffffff")):(lt=null,pt=null),this.storedData[_e]={elem:tt,x:pt,expan:lt,lastPath:"",lastOperator:"",filterId:ft,lastRadius:0},rt[_e].mode==="i"){at=st.length;var mt=createNS("g");for(it=0;it<at;it+=1)mt.appendChild(st[it]);var xt=createNS("mask");xt.setAttribute("mask-type","alpha"),xt.setAttribute("id",ot+"_"+nt),xt.appendChild(tt),j.appendChild(xt),mt.setAttribute("mask","url("+getLocationHref()+"#"+ot+"_"+nt+")"),st.length=0,st.push(mt)}else st.push(tt);rt[_e].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[_e]={elem:tt,lastPath:"",op:PropertyFactory.getProp(this.element,rt[_e].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,rt[_e],3),invRect:ct},this.viewData[_e].prop.k||this.drawPath(rt[_e],this.viewData[_e].prop.v,this.viewData[_e])}for(this.maskElement=createNS(dt),et=st.length,_e=0;_e<et;_e+=1)this.maskElement.appendChild(st[_e]);nt>0&&(this.maskElement.setAttribute("id",ot),this.element.maskedElement.setAttribute(ht,"url("+getLocationHref()+"#"+ot+")"),j.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(i){return this.viewData[i].prop},MaskElement.prototype.renderFrame=function(i){var o=this.element.finalTransform.mat,_,j=this.masksProperties.length;for(_=0;_<j;_+=1)if((this.viewData[_].prop._mdf||i)&&this.drawPath(this.masksProperties[_],this.viewData[_].prop.v,this.viewData[_]),(this.viewData[_].op._mdf||i)&&this.viewData[_].elem.setAttribute("fill-opacity",this.viewData[_].op.v),this.masksProperties[_].mode!=="n"&&(this.viewData[_].invRect&&(this.element.finalTransform.mProp._mdf||i)&&this.viewData[_].invRect.setAttribute("transform",o.getInverseMatrix().to2dCSS()),this.storedData[_].x&&(this.storedData[_].x._mdf||i))){var _e=this.storedData[_].expan;this.storedData[_].x.v<0?(this.storedData[_].lastOperator!=="erode"&&(this.storedData[_].lastOperator="erode",this.storedData[_].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_].filterId+")")),_e.setAttribute("radius",-this.storedData[_].x.v)):(this.storedData[_].lastOperator!=="dilate"&&(this.storedData[_].lastOperator="dilate",this.storedData[_].elem.setAttribute("filter",null)),this.storedData[_].elem.setAttribute("stroke-width",this.storedData[_].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var i="M0,0 ";return i+=" h"+this.globalData.compSize.w,i+=" v"+this.globalData.compSize.h,i+=" h-"+this.globalData.compSize.w,i+=" v-"+this.globalData.compSize.h+" ",i},MaskElement.prototype.drawPath=function(i,o,_){var j=" M"+o.v[0][0]+","+o.v[0][1],_e,et;for(et=o._length,_e=1;_e<et;_e+=1)j+=" C"+o.o[_e-1][0]+","+o.o[_e-1][1]+" "+o.i[_e][0]+","+o.i[_e][1]+" "+o.v[_e][0]+","+o.v[_e][1];if(o.c&&et>1&&(j+=" C"+o.o[_e-1][0]+","+o.o[_e-1][1]+" "+o.i[0][0]+","+o.i[0][1]+" "+o.v[0][0]+","+o.v[0][1]),_.lastPath!==j){var tt="";_.elem&&(o.c&&(tt=i.inv?this.solidPath+j:j),_.elem.setAttribute("d",tt)),_.lastPath=j}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var i={};i.createFilter=o,i.createAlphaToLuminanceFilter=_;function o(j,_e){var et=createNS("filter");return et.setAttribute("id",j),_e!==!0&&(et.setAttribute("filterUnits","objectBoundingBox"),et.setAttribute("x","0%"),et.setAttribute("y","0%"),et.setAttribute("width","100%"),et.setAttribute("height","100%")),et}function _(){var j=createNS("feColorMatrix");return j.setAttribute("type","matrix"),j.setAttribute("color-interpolation-filters","sRGB"),j.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),j}return i}(),featureSupport=function(){var i={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(i.maskType=!1),/firefox/i.test(navigator.userAgent)&&(i.svgLumaHidden=!1),i}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(i){var o,_="SourceGraphic",j=i.data.ef?i.data.ef.length:0,_e=createElementID(),et=filtersFactory.createFilter(_e,!0),tt=0;this.filters=[];var rt;for(o=0;o<j;o+=1){rt=null;var nt=i.data.ef[o].ty;if(registeredEffects$1[nt]){var st=registeredEffects$1[nt].effect;rt=new st(et,i.effectsManager.effectElements[o],i,idPrefix+tt,_),_=idPrefix+tt,registeredEffects$1[nt].countsAsEffect&&(tt+=1)}rt&&this.filters.push(rt)}tt&&(i.globalData.defs.appendChild(et),i.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+_e+")")),this.filters.length&&i.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(i){var o,_=this.filters.length;for(o=0;o<_;o+=1)this.filters[o].renderFrame(i)},SVGEffects.prototype.getEffects=function(i){var o,_=this.filters.length,j=[];for(o=0;o<_;o+=1)this.filters[o].type===i&&j.push(this.filters[o]);return j};function registerEffect$1(i,o,_){registeredEffects$1[i]={effect:o,countsAsEffect:_}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var o=null;if(this.data.td){this.matteMasks={};var _=createNS("g");_.setAttribute("id",this.layerId),_.appendChild(this.layerElement),o=_,this.globalData.defs.appendChild(_)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var j=createNS("clipPath"),_e=createNS("path");_e.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var et=createElementID();if(j.setAttribute("id",et),j.appendChild(_e),this.globalData.defs.appendChild(j),this.checkMasks()){var tt=createNS("g");tt.setAttribute("clip-path","url("+getLocationHref()+"#"+et+")"),tt.appendChild(this.layerElement),this.transformedElement=tt,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+et+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(o){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[o]){var _=this.layerId+"_"+o,j,_e,et,tt;if(o===1||o===3){var rt=createNS("mask");rt.setAttribute("id",_),rt.setAttribute("mask-type",o===3?"luminance":"alpha"),et=createNS("use"),et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),rt.appendChild(et),this.globalData.defs.appendChild(rt),!featureSupport.maskType&&o===1&&(rt.setAttribute("mask-type","luminance"),j=createElementID(),_e=filtersFactory.createFilter(j),this.globalData.defs.appendChild(_e),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),tt.appendChild(et),rt.appendChild(tt),tt.setAttribute("filter","url("+getLocationHref()+"#"+j+")"))}else if(o===2){var nt=createNS("mask");nt.setAttribute("id",_),nt.setAttribute("mask-type","alpha");var st=createNS("g");nt.appendChild(st),j=createElementID(),_e=filtersFactory.createFilter(j);var it=createNS("feComponentTransfer");it.setAttribute("in","SourceGraphic"),_e.appendChild(it);var at=createNS("feFuncA");at.setAttribute("type","table"),at.setAttribute("tableValues","1.0 0.0"),it.appendChild(at),this.globalData.defs.appendChild(_e);var ot=createNS("rect");ot.setAttribute("width",this.comp.data.w),ot.setAttribute("height",this.comp.data.h),ot.setAttribute("x","0"),ot.setAttribute("y","0"),ot.setAttribute("fill","#ffffff"),ot.setAttribute("opacity","0"),st.setAttribute("filter","url("+getLocationHref()+"#"+j+")"),st.appendChild(ot),et=createNS("use"),et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),st.appendChild(et),featureSupport.maskType||(nt.setAttribute("mask-type","luminance"),_e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),tt=createNS("g"),st.appendChild(ot),tt.appendChild(this.layerElement),st.appendChild(tt)),this.globalData.defs.appendChild(nt)}this.matteMasks[o]=_}return this.matteMasks[o]},setMatte:function(o){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+o+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(o){this.hierarchy=o},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var i={initElement:function(_,j,_e){this.initFrame(),this.initBaseData(_,j,_e),this.initTransform(_,j,_e),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var _=this.baseElement||this.layerElement;_.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var _=this.baseElement||this.layerElement;_.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(_){this._mdf=!1,this.prepareRenderableFrame(_),this.prepareProperties(_,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(i)],RenderableDOMElement)})();function IImageElement(i,o,_){this.assetData=o.getAssetData(i.refId),this.assetData&&this.assetData.sid&&(this.assetData=o.slotManager.getProp(this.assetData)),this.initElement(i,o,_),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var i=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(i,o){this.elem=i,this.pos=o}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(o){var _,j=this.shapeModifiers.length;for(_=0;_<j;_+=1)this.shapeModifiers[_].addShape(o)},isShapeInAnimatedModifiers:function(o){for(var _=0,j=this.shapeModifiers.length;_<j;)if(this.shapeModifiers[_].isAnimatedWithShape(o))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var o,_=this.shapes.length;for(o=0;o<_;o+=1)this.shapes[o].sh.reset();_=this.shapeModifiers.length;var j;for(o=_-1;o>=0&&(j=this.shapeModifiers[o].processShapes(this._isFirstFrame),!j);o-=1);}},searchProcessedElement:function(o){for(var _=this.processedElements,j=0,_e=_.length;j<_e;){if(_[j].elem===o)return _[j].pos;j+=1}return 0},addProcessedElement:function(o,_){for(var j=this.processedElements,_e=j.length;_e;)if(_e-=1,j[_e].elem===o){j[_e].pos=_;return}j.push(new ProcessedElement(o,_))},prepareFrame:function(o){this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(i,o,_){this.caches=[],this.styles=[],this.transformers=i,this.lStr="",this.sh=_,this.lvl=o,this._isAnimated=!!_.k;for(var j=0,_e=i.length;j<_e;){if(i[j].mProps.dynamicProperties.length){this._isAnimated=!0;break}j+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(i,o){this.data=i,this.type=i.ty,this.d="",this.lvl=o,this._mdf=!1,this.closed=i.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(i,o,_,j){this.elem=i,this.frameId=-1,this.dataProps=createSizedArray(o.length),this.renderer=_,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",o.length?o.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(j);var _e,et=o.length||0,tt;for(_e=0;_e<et;_e+=1)tt=PropertyFactory.getProp(i,o[_e].v,0,0,this),this.k=tt.k||this.k,this.dataProps[_e]={n:o[_e].n,p:tt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(i){if(!(this.elem.globalData.frameId===this.frameId&&!i)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||i,this._mdf)){var o=0,_=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),o=0;o<_;o+=1)this.dataProps[o].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[o].p.v:this.dashArray[o]=this.dataProps[o].p.v:this.dashoffset[0]=this.dataProps[o].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(i,o,_){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(i,o.o,0,.01,this),this.w=PropertyFactory.getProp(i,o.w,0,null,this),this.d=new DashProperty(i,o.d||{},"svg",this),this.c=PropertyFactory.getProp(i,o.c,1,255,this),this.style=_,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(i,o,_){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(i,o.o,0,.01,this),this.c=PropertyFactory.getProp(i,o.c,1,255,this),this.style=_}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(i,o,_){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.style=_}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(i,o,_){this.data=o,this.c=createTypedArray("uint8c",o.p*4);var j=o.k.k[0].s?o.k.k[0].s.length-o.p*4:o.k.k.length-o.p*4;this.o=createTypedArray("float32",j),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=j,this.initDynamicPropertyContainer(_),this.prop=PropertyFactory.getProp(i,o.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(i,o){for(var _=0,j=this.o.length/2,_e;_<j;){if(_e=Math.abs(i[_*4]-i[o*4+_*2]),_e>.01)return!1;_+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var i=0,o=this.data.k.k.length;i<o;){if(!this.comparePoints(this.data.k.k[i].s,this.data.p))return!1;i+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(i){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||i){var o,_=this.data.p*4,j,_e;for(o=0;o<_;o+=1)j=o%4===0?100:255,_e=Math.round(this.prop.v[o]*j),this.c[o]!==_e&&(this.c[o]=_e,this._cmdf=!i);if(this.o.length)for(_=this.prop.v.length,o=this.data.p*4;o<_;o+=1)j=o%2===0?100:1,_e=o%2===0?Math.round(this.prop.v[o]*100):this.prop.v[o],this.o[o-this.data.p*4]!==_e&&(this.o[o-this.data.p*4]=_e,this._omdf=!i);this._mdf=!i}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(i,o,_){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.initGradientData(i,o,_)}SVGGradientFillStyleData.prototype.initGradientData=function(i,o,_){this.o=PropertyFactory.getProp(i,o.o,0,.01,this),this.s=PropertyFactory.getProp(i,o.s,1,null,this),this.e=PropertyFactory.getProp(i,o.e,1,null,this),this.h=PropertyFactory.getProp(i,o.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(i,o.a||{k:0},0,degToRads,this),this.g=new GradientProperty(i,o.g,this),this.style=_,this.stops=[],this.setGradientData(_.pElem,o),this.setGradientOpacity(o,_),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(i,o){var _=createElementID(),j=createNS(o.t===1?"linearGradient":"radialGradient");j.setAttribute("id",_),j.setAttribute("spreadMethod","pad"),j.setAttribute("gradientUnits","userSpaceOnUse");var _e=[],et,tt,rt;for(rt=o.g.p*4,tt=0;tt<rt;tt+=4)et=createNS("stop"),j.appendChild(et),_e.push(et);i.setAttribute(o.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+_+")"),this.gf=j,this.cst=_e},SVGGradientFillStyleData.prototype.setGradientOpacity=function(i,o){if(this.g._hasOpacity&&!this.g._collapsable){var _,j,_e,et=createNS("mask"),tt=createNS("path");et.appendChild(tt);var rt=createElementID(),nt=createElementID();et.setAttribute("id",nt);var st=createNS(i.t===1?"linearGradient":"radialGradient");st.setAttribute("id",rt),st.setAttribute("spreadMethod","pad"),st.setAttribute("gradientUnits","userSpaceOnUse"),_e=i.g.k.k[0].s?i.g.k.k[0].s.length:i.g.k.k.length;var it=this.stops;for(j=i.g.p*4;j<_e;j+=2)_=createNS("stop"),_.setAttribute("stop-color","rgb(255,255,255)"),st.appendChild(_),it.push(_);tt.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+rt+")"),i.ty==="gs"&&(tt.setAttribute("stroke-linecap",lineCapEnum[i.lc||2]),tt.setAttribute("stroke-linejoin",lineJoinEnum[i.lj||2]),i.lj===1&&tt.setAttribute("stroke-miterlimit",i.ml)),this.of=st,this.ms=et,this.ost=it,this.maskId=nt,o.msElem=tt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(i,o,_){this.initDynamicPropertyContainer(i),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(i,o.w,0,null,this),this.d=new DashProperty(i,o.d||{},"svg",this),this.initGradientData(i,o,_),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(i,o,_){this.transform={mProps:i,op:o,container:_},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(o,_,j,_e){if(_===0)return"";var et=o.o,tt=o.i,rt=o.v,nt,st=" M"+_e.applyToPointStringified(rt[0][0],rt[0][1]);for(nt=1;nt<_;nt+=1)st+=" C"+_e.applyToPointStringified(et[nt-1][0],et[nt-1][1])+" "+_e.applyToPointStringified(tt[nt][0],tt[nt][1])+" "+_e.applyToPointStringified(rt[nt][0],rt[nt][1]);return j&&_&&(st+=" C"+_e.applyToPointStringified(et[nt-1][0],et[nt-1][1])+" "+_e.applyToPointStringified(tt[0][0],tt[0][1])+" "+_e.applyToPointStringified(rt[0][0],rt[0][1]),st+="z"),st},SVGElementsRenderer=function(){var i=new Matrix,o=new Matrix,_={createRenderFunction:j};function j(at){switch(at.ty){case"fl":return rt;case"gf":return st;case"gs":return nt;case"st":return it;case"sh":case"el":case"rc":case"sr":return tt;case"tr":return _e;case"no":return et;default:return null}}function _e(at,ot,ct){(ct||ot.transform.op._mdf)&&ot.transform.container.setAttribute("opacity",ot.transform.op.v),(ct||ot.transform.mProps._mdf)&&ot.transform.container.setAttribute("transform",ot.transform.mProps.v.to2dCSS())}function et(){}function tt(at,ot,ct){var ut,lt,pt,dt,ht,ft,mt=ot.styles.length,xt=ot.lvl,gt,yt,_t,Et;for(ft=0;ft<mt;ft+=1){if(dt=ot.sh._mdf||ct,ot.styles[ft].lvl<xt){for(yt=o.reset(),_t=xt-ot.styles[ft].lvl,Et=ot.transformers.length-1;!dt&&_t>0;)dt=ot.transformers[Et].mProps._mdf||dt,_t-=1,Et-=1;if(dt)for(_t=xt-ot.styles[ft].lvl,Et=ot.transformers.length-1;_t>0;)yt.multiply(ot.transformers[Et].mProps.v),_t-=1,Et-=1}else yt=i;if(gt=ot.sh.paths,lt=gt._length,dt){for(pt="",ut=0;ut<lt;ut+=1)ht=gt.shapes[ut],ht&&ht._length&&(pt+=buildShapeString(ht,ht._length,ht.c,yt));ot.caches[ft]=pt}else pt=ot.caches[ft];ot.styles[ft].d+=at.hd===!0?"":pt,ot.styles[ft]._mdf=dt||ot.styles[ft]._mdf}}function rt(at,ot,ct){var ut=ot.style;(ot.c._mdf||ct)&&ut.pElem.setAttribute("fill","rgb("+bmFloor(ot.c.v[0])+","+bmFloor(ot.c.v[1])+","+bmFloor(ot.c.v[2])+")"),(ot.o._mdf||ct)&&ut.pElem.setAttribute("fill-opacity",ot.o.v)}function nt(at,ot,ct){st(at,ot,ct),it(at,ot,ct)}function st(at,ot,ct){var ut=ot.gf,lt=ot.g._hasOpacity,pt=ot.s.v,dt=ot.e.v;if(ot.o._mdf||ct){var ht=at.ty==="gf"?"fill-opacity":"stroke-opacity";ot.style.pElem.setAttribute(ht,ot.o.v)}if(ot.s._mdf||ct){var ft=at.t===1?"x1":"cx",mt=ft==="x1"?"y1":"cy";ut.setAttribute(ft,pt[0]),ut.setAttribute(mt,pt[1]),lt&&!ot.g._collapsable&&(ot.of.setAttribute(ft,pt[0]),ot.of.setAttribute(mt,pt[1]))}var xt,gt,yt,_t;if(ot.g._cmdf||ct){xt=ot.cst;var Et=ot.g.c;for(yt=xt.length,gt=0;gt<yt;gt+=1)_t=xt[gt],_t.setAttribute("offset",Et[gt*4]+"%"),_t.setAttribute("stop-color","rgb("+Et[gt*4+1]+","+Et[gt*4+2]+","+Et[gt*4+3]+")")}if(lt&&(ot.g._omdf||ct)){var wt=ot.g.o;for(ot.g._collapsable?xt=ot.cst:xt=ot.ost,yt=xt.length,gt=0;gt<yt;gt+=1)_t=xt[gt],ot.g._collapsable||_t.setAttribute("offset",wt[gt*2]+"%"),_t.setAttribute("stop-opacity",wt[gt*2+1])}if(at.t===1)(ot.e._mdf||ct)&&(ut.setAttribute("x2",dt[0]),ut.setAttribute("y2",dt[1]),lt&&!ot.g._collapsable&&(ot.of.setAttribute("x2",dt[0]),ot.of.setAttribute("y2",dt[1])));else{var $t;if((ot.s._mdf||ot.e._mdf||ct)&&($t=Math.sqrt(Math.pow(pt[0]-dt[0],2)+Math.pow(pt[1]-dt[1],2)),ut.setAttribute("r",$t),lt&&!ot.g._collapsable&&ot.of.setAttribute("r",$t)),ot.s._mdf||ot.e._mdf||ot.h._mdf||ot.a._mdf||ct){$t||($t=Math.sqrt(Math.pow(pt[0]-dt[0],2)+Math.pow(pt[1]-dt[1],2)));var jt=Math.atan2(dt[1]-pt[1],dt[0]-pt[0]),Tt=ot.h.v;Tt>=1?Tt=.99:Tt<=-1&&(Tt=-.99);var kt=$t*Tt,Pt=Math.cos(jt+ot.a.v)*kt+pt[0],St=Math.sin(jt+ot.a.v)*kt+pt[1];ut.setAttribute("fx",Pt),ut.setAttribute("fy",St),lt&&!ot.g._collapsable&&(ot.of.setAttribute("fx",Pt),ot.of.setAttribute("fy",St))}}}function it(at,ot,ct){var ut=ot.style,lt=ot.d;lt&&(lt._mdf||ct)&&lt.dashStr&&(ut.pElem.setAttribute("stroke-dasharray",lt.dashStr),ut.pElem.setAttribute("stroke-dashoffset",lt.dashoffset[0])),ot.c&&(ot.c._mdf||ct)&&ut.pElem.setAttribute("stroke","rgb("+bmFloor(ot.c.v[0])+","+bmFloor(ot.c.v[1])+","+bmFloor(ot.c.v[2])+")"),(ot.o._mdf||ct)&&ut.pElem.setAttribute("stroke-opacity",ot.o.v),(ot.w._mdf||ct)&&(ut.pElem.setAttribute("stroke-width",ot.w.v),ut.msElem&&ut.msElem.setAttribute("stroke-width",ot.w.v))}return _}();function SVGShapeElement(i,o,_){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(i,o,_),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var i,o=this.shapes.length,_,j,_e=this.stylesList.length,et,tt=[],rt=!1;for(j=0;j<_e;j+=1){for(et=this.stylesList[j],rt=!1,tt.length=0,i=0;i<o;i+=1)_=this.shapes[i],_.styles.indexOf(et)!==-1&&(tt.push(_),rt=_._isAnimated||rt);tt.length>1&&rt&&this.setShapesAsAnimated(tt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(i){var o,_=i.length;for(o=0;o<_;o+=1)i[o].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(i,o){var _,j=new SVGStyleData(i,o),_e=j.pElem;if(i.ty==="st")_=new SVGStrokeStyleData(this,i,j);else if(i.ty==="fl")_=new SVGFillStyleData(this,i,j);else if(i.ty==="gf"||i.ty==="gs"){var et=i.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;_=new et(this,i,j),this.globalData.defs.appendChild(_.gf),_.maskId&&(this.globalData.defs.appendChild(_.ms),this.globalData.defs.appendChild(_.of),_e.setAttribute("mask","url("+getLocationHref()+"#"+_.maskId+")"))}else i.ty==="no"&&(_=new SVGNoStyleData(this,i,j));return(i.ty==="st"||i.ty==="gs")&&(_e.setAttribute("stroke-linecap",lineCapEnum[i.lc||2]),_e.setAttribute("stroke-linejoin",lineJoinEnum[i.lj||2]),_e.setAttribute("fill-opacity","0"),i.lj===1&&_e.setAttribute("stroke-miterlimit",i.ml)),i.r===2&&_e.setAttribute("fill-rule","evenodd"),i.ln&&_e.setAttribute("id",i.ln),i.cl&&_e.setAttribute("class",i.cl),i.bm&&(_e.style["mix-blend-mode"]=getBlendMode(i.bm)),this.stylesList.push(j),this.addToAnimatedContents(i,_),_},SVGShapeElement.prototype.createGroupElement=function(i){var o=new ShapeGroupData;return i.ln&&o.gr.setAttribute("id",i.ln),i.cl&&o.gr.setAttribute("class",i.cl),i.bm&&(o.gr.style["mix-blend-mode"]=getBlendMode(i.bm)),o},SVGShapeElement.prototype.createTransformElement=function(i,o){var _=TransformPropertyFactory.getTransformProperty(this,i,this),j=new SVGTransformData(_,_.o,o);return this.addToAnimatedContents(i,j),j},SVGShapeElement.prototype.createShapeElement=function(i,o,_){var j=4;i.ty==="rc"?j=5:i.ty==="el"?j=6:i.ty==="sr"&&(j=7);var _e=ShapePropertyFactory.getShapeProp(this,i,j,this),et=new SVGShapeData(o,_,_e);return this.shapes.push(et),this.addShapeToModifiers(et),this.addToAnimatedContents(i,et),et},SVGShapeElement.prototype.addToAnimatedContents=function(i,o){for(var _=0,j=this.animatedContents.length;_<j;){if(this.animatedContents[_].element===o)return;_+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(i),element:o,data:i})},SVGShapeElement.prototype.setElementStyles=function(i){var o=i.styles,_,j=this.stylesList.length;for(_=0;_<j;_+=1)o.indexOf(this.stylesList[_])===-1&&!this.stylesList[_].closed&&o.push(this.stylesList[_])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var i,o=this.itemsData.length;for(i=0;i<o;i+=1)this.prevViewData[i]=this.itemsData[i];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),o=this.dynamicProperties.length,i=0;i<o;i+=1)this.dynamicProperties[i].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(i,o,_,j,_e,et,tt){var rt=[].concat(et),nt,st=i.length-1,it,at,ot=[],ct=[],ut,lt,pt;for(nt=st;nt>=0;nt-=1){if(pt=this.searchProcessedElement(i[nt]),pt?o[nt]=_[pt-1]:i[nt]._render=tt,i[nt].ty==="fl"||i[nt].ty==="st"||i[nt].ty==="gf"||i[nt].ty==="gs"||i[nt].ty==="no")pt?o[nt].style.closed=i[nt].hd:o[nt]=this.createStyleElement(i[nt],_e),i[nt]._render&&o[nt].style.pElem.parentNode!==j&&j.appendChild(o[nt].style.pElem),ot.push(o[nt].style);else if(i[nt].ty==="gr"){if(!pt)o[nt]=this.createGroupElement(i[nt]);else for(at=o[nt].it.length,it=0;it<at;it+=1)o[nt].prevViewData[it]=o[nt].it[it];this.searchShapes(i[nt].it,o[nt].it,o[nt].prevViewData,o[nt].gr,_e+1,rt,tt),i[nt]._render&&o[nt].gr.parentNode!==j&&j.appendChild(o[nt].gr)}else i[nt].ty==="tr"?(pt||(o[nt]=this.createTransformElement(i[nt],j)),ut=o[nt].transform,rt.push(ut)):i[nt].ty==="sh"||i[nt].ty==="rc"||i[nt].ty==="el"||i[nt].ty==="sr"?(pt||(o[nt]=this.createShapeElement(i[nt],rt,_e)),this.setElementStyles(o[nt])):i[nt].ty==="tm"||i[nt].ty==="rd"||i[nt].ty==="ms"||i[nt].ty==="pb"||i[nt].ty==="zz"||i[nt].ty==="op"?(pt?(lt=o[nt],lt.closed=!1):(lt=ShapeModifiers.getModifier(i[nt].ty),lt.init(this,i[nt]),o[nt]=lt,this.shapeModifiers.push(lt)),ct.push(lt)):i[nt].ty==="rp"&&(pt?(lt=o[nt],lt.closed=!0):(lt=ShapeModifiers.getModifier(i[nt].ty),o[nt]=lt,lt.init(this,i,nt,o),this.shapeModifiers.push(lt),tt=!1),ct.push(lt));this.addProcessedElement(i[nt],nt+1)}for(st=ot.length,nt=0;nt<st;nt+=1)ot[nt].closed=!0;for(st=ct.length,nt=0;nt<st;nt+=1)ct[nt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var i,o=this.stylesList.length;for(i=0;i<o;i+=1)this.stylesList[i].reset();for(this.renderShape(),i=0;i<o;i+=1)(this.stylesList[i]._mdf||this._isFirstFrame)&&(this.stylesList[i].msElem&&(this.stylesList[i].msElem.setAttribute("d",this.stylesList[i].d),this.stylesList[i].d="M0 0"+this.stylesList[i].d),this.stylesList[i].pElem.setAttribute("d",this.stylesList[i].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var i,o=this.animatedContents.length,_;for(i=0;i<o;i+=1)_=this.animatedContents[i],(this._isFirstFrame||_.element._isAnimated)&&_.data!==!0&&_.fn(_.data,_.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(i,o,_,j,_e,et){this.o=i,this.sw=o,this.sc=_,this.fc=j,this.m=_e,this.p=et,this._mdf={o:!0,sw:!!o,sc:!!_,fc:!!j,m:!0,p:!0}}LetterProps.prototype.update=function(i,o,_,j,_e,et){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var tt=!1;return this.o!==i&&(this.o=i,this._mdf.o=!0,tt=!0),this.sw!==o&&(this.sw=o,this._mdf.sw=!0,tt=!0),this.sc!==_&&(this.sc=_,this._mdf.sc=!0,tt=!0),this.fc!==j&&(this.fc=j,this._mdf.fc=!0,tt=!0),this.m!==_e&&(this.m=_e,this._mdf.m=!0,tt=!0),et.length&&(this.p[0]!==et[0]||this.p[1]!==et[1]||this.p[4]!==et[4]||this.p[5]!==et[5]||this.p[12]!==et[12]||this.p[13]!==et[13])&&(this.p=et,this._mdf.p=!0,tt=!0),tt};function TextProperty(i,o){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,o.d&&o.d.sid&&(o.d=i.globalData.slotManager.getProp(o.d)),this.data=o,this.elem=i,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(i,o){for(var _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(i[_]=o[_]);return i},TextProperty.prototype.setCurrentData=function(i){i.__complete||this.completeTextData(i),this.currentData=i,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(i){this.effectsSequence.push(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(i){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!i)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var o=this.currentData,_=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var j,_e=this.effectsSequence.length,et=i||this.data.d.k[this.keysIndex].s;for(j=0;j<_e;j+=1)_!==this.keysIndex?et=this.effectsSequence[j](et,et.t):et=this.effectsSequence[j](this.currentData,et.t);o!==et&&this.setCurrentData(et),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var i=this.data.d.k,o=this.elem.comp.renderedFrame,_=0,j=i.length;_<=j-1&&!(_===j-1||i[_+1].t>o);)_+=1;return this.keysIndex!==_&&(this.keysIndex=_),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(i){for(var o=[],_=0,j=i.length,_e,et,tt=!1,rt=!1,nt="";_<j;)tt=rt,rt=!1,_e=i.charCodeAt(_),nt=i.charAt(_),FontManager.isCombinedCharacter(_e)?tt=!0:_e>=55296&&_e<=56319?FontManager.isRegionalFlag(i,_)?nt=i.substr(_,14):(et=i.charCodeAt(_+1),et>=56320&&et<=57343&&(FontManager.isModifier(_e,et)?(nt=i.substr(_,2),tt=!0):FontManager.isFlagEmoji(i.substr(_,4))?nt=i.substr(_,4):nt=i.substr(_,2))):_e>56319?(et=i.charCodeAt(_+1),FontManager.isVariationSelector(_e)&&(tt=!0)):FontManager.isZeroWidthJoiner(_e)&&(tt=!0,rt=!0),tt?(o[o.length-1]+=nt,tt=!1):o.push(nt),_+=nt.length;return o},TextProperty.prototype.completeTextData=function(i){i.__complete=!0;var o=this.elem.globalData.fontManager,_=this.data,j=[],_e,et,tt,rt=0,nt,st=_.m.g,it=0,at=0,ot=0,ct=[],ut=0,lt=0,pt,dt,ht=o.getFontByName(i.f),ft,mt=0,xt=getFontProperties(ht);i.fWeight=xt.weight,i.fStyle=xt.style,i.finalSize=i.s,i.finalText=this.buildFinalText(i.t),et=i.finalText.length,i.finalLineHeight=i.lh;var gt=i.tr/1e3*i.finalSize,yt;if(i.sz)for(var _t=!0,Et=i.sz[0],wt=i.sz[1],$t,jt;_t;){jt=this.buildFinalText(i.t),$t=0,ut=0,et=jt.length,gt=i.tr/1e3*i.finalSize;var Tt=-1;for(_e=0;_e<et;_e+=1)yt=jt[_e].charCodeAt(0),tt=!1,jt[_e]===" "?Tt=_e:(yt===13||yt===3)&&(ut=0,tt=!0,$t+=i.finalLineHeight||i.finalSize*1.2),o.chars?(ft=o.getCharData(jt[_e],ht.fStyle,ht.fFamily),mt=tt?0:ft.w*i.finalSize/100):mt=o.measureText(jt[_e],i.f,i.finalSize),ut+mt>Et&&jt[_e]!==" "?(Tt===-1?et+=1:_e=Tt,$t+=i.finalLineHeight||i.finalSize*1.2,jt.splice(_e,Tt===_e?1:0,"\r"),Tt=-1,ut=0):(ut+=mt,ut+=gt);$t+=ht.ascent*i.finalSize/100,this.canResize&&i.finalSize>this.minimumFontSize&&wt<$t?(i.finalSize-=1,i.finalLineHeight=i.finalSize*i.lh/i.s):(i.finalText=jt,et=i.finalText.length,_t=!1)}ut=-gt,mt=0;var kt=0,Pt;for(_e=0;_e<et;_e+=1)if(tt=!1,Pt=i.finalText[_e],yt=Pt.charCodeAt(0),yt===13||yt===3?(kt=0,ct.push(ut),lt=ut>lt?ut:lt,ut=-2*gt,nt="",tt=!0,ot+=1):nt=Pt,o.chars?(ft=o.getCharData(Pt,ht.fStyle,o.getFontByName(i.f).fFamily),mt=tt?0:ft.w*i.finalSize/100):mt=o.measureText(nt,i.f,i.finalSize),Pt===" "?kt+=mt+gt:(ut+=mt+gt+kt,kt=0),j.push({l:mt,an:mt,add:it,n:tt,anIndexes:[],val:nt,line:ot,animatorJustifyOffset:0}),st==2){if(it+=mt,nt===""||nt===" "||_e===et-1){for((nt===""||nt===" ")&&(it-=mt);at<=_e;)j[at].an=it,j[at].ind=rt,j[at].extra=mt,at+=1;rt+=1,it=0}}else if(st==3){if(it+=mt,nt===""||_e===et-1){for(nt===""&&(it-=mt);at<=_e;)j[at].an=it,j[at].ind=rt,j[at].extra=mt,at+=1;it=0,rt+=1}}else j[rt].ind=rt,j[rt].extra=0,rt+=1;if(i.l=j,lt=ut>lt?ut:lt,ct.push(ut),i.sz)i.boxWidth=i.sz[0],i.justifyOffset=0;else switch(i.boxWidth=lt,i.j){case 1:i.justifyOffset=-i.boxWidth;break;case 2:i.justifyOffset=-i.boxWidth/2;break;default:i.justifyOffset=0}i.lineWidths=ct;var St=_.a,Rt,bt;dt=St.length;var vt,At,Ot=[];for(pt=0;pt<dt;pt+=1){for(Rt=St[pt],Rt.a.sc&&(i.strokeColorAnim=!0),Rt.a.sw&&(i.strokeWidthAnim=!0),(Rt.a.fc||Rt.a.fh||Rt.a.fs||Rt.a.fb)&&(i.fillColorAnim=!0),At=0,vt=Rt.s.b,_e=0;_e<et;_e+=1)bt=j[_e],bt.anIndexes[pt]=At,(vt==1&&bt.val!==""||vt==2&&bt.val!==""&&bt.val!==" "||vt==3&&(bt.n||bt.val==" "||_e==et-1)||vt==4&&(bt.n||_e==et-1))&&(Rt.s.rn===1&&Ot.push(At),At+=1);_.a[pt].s.totalChars=At;var Ct=-1,Lt;if(Rt.s.rn===1)for(_e=0;_e<et;_e+=1)bt=j[_e],Ct!=bt.anIndexes[pt]&&(Ct=bt.anIndexes[pt],Lt=Ot.splice(Math.floor(Math.random()*Ot.length),1)[0]),bt.anIndexes[pt]=Lt}i.yOffset=i.finalLineHeight||i.finalSize*1.2,i.ls=i.ls||0,i.ascent=ht.ascent*i.finalSize/100},TextProperty.prototype.updateDocumentData=function(i,o){o=o===void 0?this.keysIndex:o;var _=this.copyData({},this.data.d.k[o].s);_=this.copyData(_,i),this.data.d.k[o].s=_,this.recalculate(o),this.setCurrentData(_),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(i){var o=this.data.d.k[i].s;o.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(o)},TextProperty.prototype.canResizeFont=function(i){this.canResize=i,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(i){this.minimumFontSize=Math.floor(i)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var i=Math.max,o=Math.min,_=Math.floor;function j(et,tt){this._currentTextLength=-1,this.k=!1,this.data=tt,this.elem=et,this.comp=et.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(et),this.s=PropertyFactory.getProp(et,tt.s||{k:0},0,0,this),"e"in tt?this.e=PropertyFactory.getProp(et,tt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(et,tt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(et,tt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(et,tt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(et,tt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(et,tt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}j.prototype={getMult:function(tt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var rt=0,nt=0,st=1,it=1;this.ne.v>0?rt=this.ne.v/100:nt=-this.ne.v/100,this.xe.v>0?st=1-this.xe.v/100:it=1+this.xe.v/100;var at=BezierFactory.getBezierEasing(rt,nt,st,it).get,ot=0,ct=this.finalS,ut=this.finalE,lt=this.data.sh;if(lt===2)ut===ct?ot=tt>=ut?1:0:ot=i(0,o(.5/(ut-ct)+(tt-ct)/(ut-ct),1)),ot=at(ot);else if(lt===3)ut===ct?ot=tt>=ut?0:1:ot=1-i(0,o(.5/(ut-ct)+(tt-ct)/(ut-ct),1)),ot=at(ot);else if(lt===4)ut===ct?ot=0:(ot=i(0,o(.5/(ut-ct)+(tt-ct)/(ut-ct),1)),ot<.5?ot*=2:ot=1-2*(ot-.5)),ot=at(ot);else if(lt===5){if(ut===ct)ot=0;else{var pt=ut-ct;tt=o(i(0,tt+.5-ct),ut-ct);var dt=-pt/2+tt,ht=pt/2;ot=Math.sqrt(1-dt*dt/(ht*ht))}ot=at(ot)}else lt===6?(ut===ct?ot=0:(tt=o(i(0,tt+.5-ct),ut-ct),ot=(1+Math.cos(Math.PI+Math.PI*2*tt/(ut-ct)))/2),ot=at(ot)):(tt>=_(ct)&&(tt-ct<0?ot=i(0,o(o(ut,1)-(ct-tt),1)):ot=i(0,o(ut-tt,1))),ot=at(ot));if(this.sm.v!==100){var ft=this.sm.v*.01;ft===0&&(ft=1e-8);var mt=.5-ft*.5;ot<mt?ot=0:(ot=(ot-mt)/ft,ot>1&&(ot=1))}return ot*this.a.v},getValue:function(tt){this.iterateDynamicProperties(),this._mdf=tt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,tt&&this.data.r===2&&(this.e.v=this._currentTextLength);var rt=this.data.r===2?1:100/this.data.totalChars,nt=this.o.v/rt,st=this.s.v/rt+nt,it=this.e.v/rt+nt;if(st>it){var at=st;st=it,it=at}this.finalS=st,this.finalE=it}},extendPrototype([DynamicPropertyContainer],j);function _e(et,tt,rt){return new j(et,tt)}return{getTextSelectorProp:_e}}();function TextAnimatorDataProperty(i,o,_){var j={propType:!1},_e=PropertyFactory.getProp,et=o.a;this.a={r:et.r?_e(i,et.r,0,degToRads,_):j,rx:et.rx?_e(i,et.rx,0,degToRads,_):j,ry:et.ry?_e(i,et.ry,0,degToRads,_):j,sk:et.sk?_e(i,et.sk,0,degToRads,_):j,sa:et.sa?_e(i,et.sa,0,degToRads,_):j,s:et.s?_e(i,et.s,1,.01,_):j,a:et.a?_e(i,et.a,1,0,_):j,o:et.o?_e(i,et.o,0,.01,_):j,p:et.p?_e(i,et.p,1,0,_):j,sw:et.sw?_e(i,et.sw,0,0,_):j,sc:et.sc?_e(i,et.sc,1,0,_):j,fc:et.fc?_e(i,et.fc,1,0,_):j,fh:et.fh?_e(i,et.fh,0,0,_):j,fs:et.fs?_e(i,et.fs,0,.01,_):j,fb:et.fb?_e(i,et.fb,0,.01,_):j,t:et.t?_e(i,et.t,0,0,_):j},this.s=TextSelectorProp.getTextSelectorProp(i,o.s,_),this.s.t=o.s.t}function TextAnimatorProperty(i,o,_){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=i,this._renderType=o,this._elem=_,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(_)}TextAnimatorProperty.prototype.searchProperties=function(){var i,o=this._textData.a.length,_,j=PropertyFactory.getProp;for(i=0;i<o;i+=1)_=this._textData.a[i],this._animatorsData[i]=new TextAnimatorDataProperty(this._elem,_,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:j(this._elem,this._textData.p.a,0,0,this),f:j(this._elem,this._textData.p.f,0,0,this),l:j(this._elem,this._textData.p.l,0,0,this),r:j(this._elem,this._textData.p.r,0,0,this),p:j(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=j(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(i,o){if(this.lettersChangedFlag=o,!(!this._mdf&&!this._isFirstFrame&&!o&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var _=this._moreOptions.alignment.v,j=this._animatorsData,_e=this._textData,et=this.mHelper,tt=this._renderType,rt=this.renderedLetters.length,nt,st,it,at,ot=i.l,ct,ut,lt,pt,dt,ht,ft,mt,xt,gt,yt,_t,Et,wt,$t;if(this._hasMaskedPath){if($t=this._pathData.m,!this._pathData.n||this._pathData._mdf){var jt=$t.v;this._pathData.r.v&&(jt=jt.reverse()),ct={tLength:0,segments:[]},at=jt._length-1;var Tt;for(_t=0,it=0;it<at;it+=1)Tt=bez.buildBezierData(jt.v[it],jt.v[it+1],[jt.o[it][0]-jt.v[it][0],jt.o[it][1]-jt.v[it][1]],[jt.i[it+1][0]-jt.v[it+1][0],jt.i[it+1][1]-jt.v[it+1][1]]),ct.tLength+=Tt.segmentLength,ct.segments.push(Tt),_t+=Tt.segmentLength;it=at,$t.v.c&&(Tt=bez.buildBezierData(jt.v[it],jt.v[0],[jt.o[it][0]-jt.v[it][0],jt.o[it][1]-jt.v[it][1]],[jt.i[0][0]-jt.v[0][0],jt.i[0][1]-jt.v[0][1]]),ct.tLength+=Tt.segmentLength,ct.segments.push(Tt),_t+=Tt.segmentLength),this._pathData.pi=ct}if(ct=this._pathData.pi,ut=this._pathData.f.v,ft=0,ht=1,pt=0,dt=!0,gt=ct.segments,ut<0&&$t.v.c)for(ct.tLength<Math.abs(ut)&&(ut=-Math.abs(ut)%ct.tLength),ft=gt.length-1,xt=gt[ft].points,ht=xt.length-1;ut<0;)ut+=xt[ht].partialLength,ht-=1,ht<0&&(ft-=1,xt=gt[ft].points,ht=xt.length-1);xt=gt[ft].points,mt=xt[ht-1],lt=xt[ht],yt=lt.partialLength}at=ot.length,nt=0,st=0;var kt=i.finalSize*1.2*.714,Pt=!0,St,Rt,bt,vt,At;vt=j.length;var Ot,Ct=-1,Lt,It,Dt,Zt=ut,Qt=ft,Yt=ht,Ft=-1,Kt,er,Nt,lr,Wt,Ut,Jt,Bt,tr="",ar=this.defaultPropsArray,hr;if(i.j===2||i.j===1){var pr=0,yr=0,xr=i.j===2?-.5:-1,vr=0,Er=!0;for(it=0;it<at;it+=1)if(ot[it].n){for(pr&&(pr+=yr);vr<it;)ot[vr].animatorJustifyOffset=pr,vr+=1;pr=0,Er=!0}else{for(bt=0;bt<vt;bt+=1)St=j[bt].a,St.t.propType&&(Er&&i.j===2&&(yr+=St.t.v*xr),Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),Ot.length?pr+=St.t.v*Ot[0]*xr:pr+=St.t.v*Ot*xr);Er=!1}for(pr&&(pr+=yr);vr<it;)ot[vr].animatorJustifyOffset=pr,vr+=1}for(it=0;it<at;it+=1){if(et.reset(),Kt=1,ot[it].n)nt=0,st+=i.yOffset,st+=Pt?1:0,ut=Zt,Pt=!1,this._hasMaskedPath&&(ft=Qt,ht=Yt,xt=gt[ft].points,mt=xt[ht-1],lt=xt[ht],yt=lt.partialLength,pt=0),tr="",Bt="",Ut="",hr="",ar=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ft!==ot[it].line){switch(i.j){case 1:ut+=_t-i.lineWidths[ot[it].line];break;case 2:ut+=(_t-i.lineWidths[ot[it].line])/2;break}Ft=ot[it].line}Ct!==ot[it].ind&&(ot[Ct]&&(ut+=ot[Ct].extra),ut+=ot[it].an/2,Ct=ot[it].ind),ut+=_[0]*ot[it].an*.005;var jr=0;for(bt=0;bt<vt;bt+=1)St=j[bt].a,St.p.propType&&(Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),Ot.length?jr+=St.p.v[0]*Ot[0]:jr+=St.p.v[0]*Ot),St.a.propType&&(Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),Ot.length?jr+=St.a.v[0]*Ot[0]:jr+=St.a.v[0]*Ot);for(dt=!0,this._pathData.a.v&&(ut=ot[0].an*.5+(_t-this._pathData.f.v-ot[0].an*.5-ot[ot.length-1].an*.5)*Ct/(at-1),ut+=this._pathData.f.v);dt;)pt+yt>=ut+jr||!xt?(Et=(ut+jr-pt)/lt.partialLength,It=mt.point[0]+(lt.point[0]-mt.point[0])*Et,Dt=mt.point[1]+(lt.point[1]-mt.point[1])*Et,et.translate(-_[0]*ot[it].an*.005,-(_[1]*kt)*.01),dt=!1):xt&&(pt+=lt.partialLength,ht+=1,ht>=xt.length&&(ht=0,ft+=1,gt[ft]?xt=gt[ft].points:$t.v.c?(ht=0,ft=0,xt=gt[ft].points):(pt-=lt.partialLength,xt=null)),xt&&(mt=lt,lt=xt[ht],yt=lt.partialLength));Lt=ot[it].an/2-ot[it].add,et.translate(-Lt,0,0)}else Lt=ot[it].an/2-ot[it].add,et.translate(-Lt,0,0),et.translate(-_[0]*ot[it].an*.005,-_[1]*kt*.01,0);for(bt=0;bt<vt;bt+=1)St=j[bt].a,St.t.propType&&(Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),(nt!==0||i.j!==0)&&(this._hasMaskedPath?Ot.length?ut+=St.t.v*Ot[0]:ut+=St.t.v*Ot:Ot.length?nt+=St.t.v*Ot[0]:nt+=St.t.v*Ot));for(i.strokeWidthAnim&&(Nt=i.sw||0),i.strokeColorAnim&&(i.sc?er=[i.sc[0],i.sc[1],i.sc[2]]:er=[0,0,0]),i.fillColorAnim&&i.fc&&(lr=[i.fc[0],i.fc[1],i.fc[2]]),bt=0;bt<vt;bt+=1)St=j[bt].a,St.a.propType&&(Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),Ot.length?et.translate(-St.a.v[0]*Ot[0],-St.a.v[1]*Ot[1],St.a.v[2]*Ot[2]):et.translate(-St.a.v[0]*Ot,-St.a.v[1]*Ot,St.a.v[2]*Ot));for(bt=0;bt<vt;bt+=1)St=j[bt].a,St.s.propType&&(Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),Ot.length?et.scale(1+(St.s.v[0]-1)*Ot[0],1+(St.s.v[1]-1)*Ot[1],1):et.scale(1+(St.s.v[0]-1)*Ot,1+(St.s.v[1]-1)*Ot,1));for(bt=0;bt<vt;bt+=1){if(St=j[bt].a,Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),St.sk.propType&&(Ot.length?et.skewFromAxis(-St.sk.v*Ot[0],St.sa.v*Ot[1]):et.skewFromAxis(-St.sk.v*Ot,St.sa.v*Ot)),St.r.propType&&(Ot.length?et.rotateZ(-St.r.v*Ot[2]):et.rotateZ(-St.r.v*Ot)),St.ry.propType&&(Ot.length?et.rotateY(St.ry.v*Ot[1]):et.rotateY(St.ry.v*Ot)),St.rx.propType&&(Ot.length?et.rotateX(St.rx.v*Ot[0]):et.rotateX(St.rx.v*Ot)),St.o.propType&&(Ot.length?Kt+=(St.o.v*Ot[0]-Kt)*Ot[0]:Kt+=(St.o.v*Ot-Kt)*Ot),i.strokeWidthAnim&&St.sw.propType&&(Ot.length?Nt+=St.sw.v*Ot[0]:Nt+=St.sw.v*Ot),i.strokeColorAnim&&St.sc.propType)for(Wt=0;Wt<3;Wt+=1)Ot.length?er[Wt]+=(St.sc.v[Wt]-er[Wt])*Ot[0]:er[Wt]+=(St.sc.v[Wt]-er[Wt])*Ot;if(i.fillColorAnim&&i.fc){if(St.fc.propType)for(Wt=0;Wt<3;Wt+=1)Ot.length?lr[Wt]+=(St.fc.v[Wt]-lr[Wt])*Ot[0]:lr[Wt]+=(St.fc.v[Wt]-lr[Wt])*Ot;St.fh.propType&&(Ot.length?lr=addHueToRGB(lr,St.fh.v*Ot[0]):lr=addHueToRGB(lr,St.fh.v*Ot)),St.fs.propType&&(Ot.length?lr=addSaturationToRGB(lr,St.fs.v*Ot[0]):lr=addSaturationToRGB(lr,St.fs.v*Ot)),St.fb.propType&&(Ot.length?lr=addBrightnessToRGB(lr,St.fb.v*Ot[0]):lr=addBrightnessToRGB(lr,St.fb.v*Ot))}}for(bt=0;bt<vt;bt+=1)St=j[bt].a,St.p.propType&&(Rt=j[bt].s,Ot=Rt.getMult(ot[it].anIndexes[bt],_e.a[bt].s.totalChars),this._hasMaskedPath?Ot.length?et.translate(0,St.p.v[1]*Ot[0],-St.p.v[2]*Ot[1]):et.translate(0,St.p.v[1]*Ot,-St.p.v[2]*Ot):Ot.length?et.translate(St.p.v[0]*Ot[0],St.p.v[1]*Ot[1],-St.p.v[2]*Ot[2]):et.translate(St.p.v[0]*Ot,St.p.v[1]*Ot,-St.p.v[2]*Ot));if(i.strokeWidthAnim&&(Ut=Nt<0?0:Nt),i.strokeColorAnim&&(Jt="rgb("+Math.round(er[0]*255)+","+Math.round(er[1]*255)+","+Math.round(er[2]*255)+")"),i.fillColorAnim&&i.fc&&(Bt="rgb("+Math.round(lr[0]*255)+","+Math.round(lr[1]*255)+","+Math.round(lr[2]*255)+")"),this._hasMaskedPath){if(et.translate(0,-i.ls),et.translate(0,_[1]*kt*.01+st,0),this._pathData.p.v){wt=(lt.point[1]-mt.point[1])/(lt.point[0]-mt.point[0]);var Ar=Math.atan(wt)*180/Math.PI;lt.point[0]<mt.point[0]&&(Ar+=180),et.rotate(-Ar*Math.PI/180)}et.translate(It,Dt,0),ut-=_[0]*ot[it].an*.005,ot[it+1]&&Ct!==ot[it+1].ind&&(ut+=ot[it].an/2,ut+=i.tr*.001*i.finalSize)}else{switch(et.translate(nt,st,0),i.ps&&et.translate(i.ps[0],i.ps[1]+i.ascent,0),i.j){case 1:et.translate(ot[it].animatorJustifyOffset+i.justifyOffset+(i.boxWidth-i.lineWidths[ot[it].line]),0,0);break;case 2:et.translate(ot[it].animatorJustifyOffset+i.justifyOffset+(i.boxWidth-i.lineWidths[ot[it].line])/2,0,0);break}et.translate(0,-i.ls),et.translate(Lt,0,0),et.translate(_[0]*ot[it].an*.005,_[1]*kt*.01,0),nt+=ot[it].l+i.tr*.001*i.finalSize}tt==="html"?tr=et.toCSS():tt==="svg"?tr=et.to2dCSS():ar=[et.props[0],et.props[1],et.props[2],et.props[3],et.props[4],et.props[5],et.props[6],et.props[7],et.props[8],et.props[9],et.props[10],et.props[11],et.props[12],et.props[13],et.props[14],et.props[15]],hr=Kt}rt<=it?(At=new LetterProps(hr,Ut,Jt,Bt,tr,ar),this.renderedLetters.push(At),rt+=1,this.lettersChangedFlag=!0):(At=this.renderedLetters[it],this.lettersChangedFlag=At.update(hr,Ut,Jt,Bt,tr,ar)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(i,o,_){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(i,o,_),this.textProperty=new TextProperty(this,i.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(i.t,this.renderType,this),this.initTransform(i,o,_),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)},ITextElement.prototype.createPathShape=function(i,o){var _,j=o.length,_e,et="";for(_=0;_<j;_+=1)o[_].ty==="sh"&&(_e=o[_].ks.k,et+=buildShapeString(_e,_e.i.length,!0,i));return et},ITextElement.prototype.updateDocumentData=function(i,o){this.textProperty.updateDocumentData(i,o)},ITextElement.prototype.canResizeFont=function(i){this.textProperty.canResizeFont(i)},ITextElement.prototype.setMinimumFontSize=function(i){this.textProperty.setMinimumFontSize(i)},ITextElement.prototype.applyTextPropertiesToMatrix=function(i,o,_,j,_e){switch(i.ps&&o.translate(i.ps[0],i.ps[1]+i.ascent,0),o.translate(0,-i.ls,0),i.j){case 1:o.translate(i.justifyOffset+(i.boxWidth-i.lineWidths[_]),0,0);break;case 2:o.translate(i.justifyOffset+(i.boxWidth-i.lineWidths[_])/2,0,0);break}o.translate(j,_e,0)},ITextElement.prototype.buildColor=function(i){return"rgb("+Math.round(i[0]*255)+","+Math.round(i[1]*255)+","+Math.round(i[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(i,o,_){this.textSpans=[],this.renderType="svg",this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(i){for(var o=0,_=i.length,j=[],_e="";o<_;)i[o]==="\r"||i[o]===""?(j.push(_e),_e=""):_e+=i[o],o+=1;return j.push(_e),j},SVGTextLottieElement.prototype.buildShapeData=function(i,o){if(i.shapes&&i.shapes.length){var _=i.shapes[0];if(_.it){var j=_.it[_.it.length-1];j.s&&(j.s.k[0]=o,j.s.k[1]=o)}}return i},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var i,o,_=this.textProperty.currentData;this.renderedLetters=createSizedArray(_?_.l.length:0),_.fc?this.layerElement.setAttribute("fill",this.buildColor(_.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),_.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(_.sc)),this.layerElement.setAttribute("stroke-width",_.sw)),this.layerElement.setAttribute("font-size",_.finalSize);var j=this.globalData.fontManager.getFontByName(_.f);if(j.fClass)this.layerElement.setAttribute("class",j.fClass);else{this.layerElement.setAttribute("font-family",j.fFamily);var _e=_.fWeight,et=_.fStyle;this.layerElement.setAttribute("font-style",et),this.layerElement.setAttribute("font-weight",_e)}this.layerElement.setAttribute("aria-label",_.t);var tt=_.l||[],rt=!!this.globalData.fontManager.chars;o=tt.length;var nt,st=this.mHelper,it="",at=this.data.singleShape,ot=0,ct=0,ut=!0,lt=_.tr*.001*_.finalSize;if(at&&!rt&&!_.sz){var pt=this.textContainer,dt="start";switch(_.j){case 1:dt="end";break;case 2:dt="middle";break;default:dt="start";break}pt.setAttribute("text-anchor",dt),pt.setAttribute("letter-spacing",lt);var ht=this.buildTextContents(_.finalText);for(o=ht.length,ct=_.ps?_.ps[1]+_.ascent:0,i=0;i<o;i+=1)nt=this.textSpans[i].span||createNS("tspan"),nt.textContent=ht[i],nt.setAttribute("x",0),nt.setAttribute("y",ct),nt.style.display="inherit",pt.appendChild(nt),this.textSpans[i]||(this.textSpans[i]={span:null,glyph:null}),this.textSpans[i].span=nt,ct+=_.finalLineHeight;this.layerElement.appendChild(pt)}else{var ft=this.textSpans.length,mt;for(i=0;i<o;i+=1){if(this.textSpans[i]||(this.textSpans[i]={span:null,childSpan:null,glyph:null}),!rt||!at||i===0){if(nt=ft>i?this.textSpans[i].span:createNS(rt?"g":"text"),ft<=i){if(nt.setAttribute("stroke-linecap","butt"),nt.setAttribute("stroke-linejoin","round"),nt.setAttribute("stroke-miterlimit","4"),this.textSpans[i].span=nt,rt){var xt=createNS("g");nt.appendChild(xt),this.textSpans[i].childSpan=xt}this.textSpans[i].span=nt,this.layerElement.appendChild(nt)}nt.style.display="inherit"}if(st.reset(),at&&(tt[i].n&&(ot=-lt,ct+=_.yOffset,ct+=ut?1:0,ut=!1),this.applyTextPropertiesToMatrix(_,st,tt[i].line,ot,ct),ot+=tt[i].l||0,ot+=lt),rt){mt=this.globalData.fontManager.getCharData(_.finalText[i],j.fStyle,this.globalData.fontManager.getFontByName(_.f).fFamily);var gt;if(mt.t===1)gt=new SVGCompElement(mt.data,this.globalData,this);else{var yt=emptyShapeData;mt.data&&mt.data.shapes&&(yt=this.buildShapeData(mt.data,_.finalSize)),gt=new SVGShapeElement(yt,this.globalData,this)}if(this.textSpans[i].glyph){var _t=this.textSpans[i].glyph;this.textSpans[i].childSpan.removeChild(_t.layerElement),_t.destroy()}this.textSpans[i].glyph=gt,gt._debug=!0,gt.prepareFrame(0),gt.renderFrame(),this.textSpans[i].childSpan.appendChild(gt.layerElement),mt.t===1&&this.textSpans[i].childSpan.setAttribute("transform","scale("+_.finalSize/100+","+_.finalSize/100+")")}else at&&nt.setAttribute("transform","translate("+st.props[12]+","+st.props[13]+")"),nt.textContent=tt[i].val,nt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}at&&nt&&nt.setAttribute("d",it)}for(;i<this.textSpans.length;)this.textSpans[i].span.style.display="none",i+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var i=this.layerElement.getBBox();this.bbox={top:i.y,left:i.x,width:i.width,height:i.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var i,o=this.textSpans.length,_;for(this.renderedFrame=this.comp.renderedFrame,i=0;i<o;i+=1)_=this.textSpans[i].glyph,_&&(_.prepareFrame(this.comp.renderedFrame-this.data.st),_._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var i,o,_=this.textAnimator.renderedLetters,j=this.textProperty.currentData.l;o=j.length;var _e,et,tt;for(i=0;i<o;i+=1)j[i].n||(_e=_[i],et=this.textSpans[i].span,tt=this.textSpans[i].glyph,tt&&tt.renderFrame(),_e._mdf.m&&et.setAttribute("transform",_e.m),_e._mdf.o&&et.setAttribute("opacity",_e.o),_e._mdf.sw&&et.setAttribute("stroke-width",_e.sw),_e._mdf.sc&&et.setAttribute("stroke",_e.sc),_e._mdf.fc&&et.setAttribute("fill",_e.fc))}};function ISolidElement(i,o,_){this.initElement(i,o,_)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var i=createNS("rect");i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),this.layerElement.appendChild(i)};function NullElement(i,o,_){this.initFrame(),this.initBaseData(i,o,_),this.initFrame(),this.initTransform(i,o,_),this.initHierarchy()}NullElement.prototype.prepareFrame=function(i){this.prepareProperties(i,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(i){return new NullElement(i,this.globalData,this)},SVGRendererBase.prototype.createShape=function(i){return new SVGShapeElement(i,this.globalData,this)},SVGRendererBase.prototype.createText=function(i){return new SVGTextLottieElement(i,this.globalData,this)},SVGRendererBase.prototype.createImage=function(i){return new IImageElement(i,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(i){return new ISolidElement(i,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(i){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+i.w+" "+i.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",i.w),this.svgElement.setAttribute("height",i.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var o=this.globalData.defs;this.setupGlobalData(i,o),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=i;var _=createNS("clipPath"),j=createNS("rect");j.setAttribute("width",i.w),j.setAttribute("height",i.h),j.setAttribute("x",0),j.setAttribute("y",0);var _e=createElementID();_.setAttribute("id",_e),_.appendChild(j),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_e+")"),o.appendChild(_),this.layers=i.layers,this.elements=createSizedArray(i.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var i,o=this.layers?this.layers.length:0;for(i=0;i<o;i+=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(i){var o=0,_=this.layers.length;for(o=0;o<_;o+=1)if(this.layers[o].ind===i)return o;return-1},SVGRendererBase.prototype.buildItem=function(i){var o=this.elements;if(!(o[i]||this.layers[i].ty===99)){o[i]=!0;var _=this.createItem(this.layers[i]);if(o[i]=_,getExpressionsPlugin()&&(this.layers[i].ty===0&&this.globalData.projectInterface.registerComposition(_),_.initExpressions()),this.appendElementInPos(_,i),this.layers[i].tt){var j="tp"in this.layers[i]?this.findIndexByInd(this.layers[i].tp):i-1;if(j===-1)return;if(!this.elements[j]||this.elements[j]===!0)this.buildItem(j),this.addPendingElement(_);else{var _e=o[j],et=_e.getMatte(this.layers[i].tt);_.setMatte(et)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();if(i.checkParenting(),i.data.tt)for(var o=0,_=this.elements.length;o<_;){if(this.elements[o]===i){var j="tp"in i.data?this.findIndexByInd(i.data.tp):o-1,_e=this.elements[j],et=_e.getMatte(this.layers[o].tt);i.setMatte(et);break}o+=1}}},SVGRendererBase.prototype.renderFrame=function(i){if(!(this.renderedFrame===i||this.destroyed)){i===null?i=this.renderedFrame:this.renderedFrame=i,this.globalData.frameNum=i,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=i,this.globalData._mdf=!1;var o,_=this.layers.length;for(this.completeLayers||this.checkLayers(i),o=_-1;o>=0;o-=1)(this.completeLayers||this.elements[o])&&this.elements[o].prepareFrame(i-this.layers[o].st);if(this.globalData._mdf)for(o=0;o<_;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(i,o){var _=i.getBaseElement();if(_){for(var j=0,_e;j<o;)this.elements[j]&&this.elements[j]!==!0&&this.elements[j].getBaseElement()&&(_e=this.elements[j].getBaseElement()),j+=1;_e?this.layerElement.insertBefore(_,_e):this.layerElement.appendChild(_)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(i,o,_){this.initFrame(),this.initBaseData(i,o,_),this.initTransform(i,o,_),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!o.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(i){if(this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=i/this.data.sr;else{var o=this.tm.v;o===this.data.op&&(o=this.data.op-1),this.renderedFrame=o}var _,j=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&(this.elements[_].prepareFrame(this.renderedFrame-this.layers[_].st),this.elements[_]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var i,o=this.layers.length;for(i=0;i<o;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},ICompElement.prototype.setElements=function(i){this.elements=i},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var i,o=this.layers.length;for(i=0;i<o;i+=1)this.elements[i]&&this.elements[i].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(i,o,_){this.layers=i.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(i,o,_),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,o.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(i){return new SVGCompElement(i,this.globalData,this)};function SVGRenderer(i,o){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var _="";if(o&&o.title){var j=createNS("title"),_e=createElementID();j.setAttribute("id",_e),j.textContent=o.title,this.svgElement.appendChild(j),_+=_e}if(o&&o.description){var et=createNS("desc"),tt=createElementID();et.setAttribute("id",tt),et.textContent=o.description,this.svgElement.appendChild(et),_+=" "+tt}_&&this.svgElement.setAttribute("aria-labelledby",_);var rt=createNS("defs");this.svgElement.appendChild(rt);var nt=createNS("g");this.svgElement.appendChild(nt),this.layerElement=nt,this.renderConfig={preserveAspectRatio:o&&o.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:o&&o.contentVisibility||"visible",progressiveLoad:o&&o.progressiveLoad||!1,hideOnTransparent:!(o&&o.hideOnTransparent===!1),viewBoxOnly:o&&o.viewBoxOnly||!1,viewBoxSize:o&&o.viewBoxSize||!1,className:o&&o.className||"",id:o&&o.id||"",focusable:o&&o.focusable,filterSize:{width:o&&o.filterSize&&o.filterSize.width||"100%",height:o&&o.filterSize&&o.filterSize.height||"100%",x:o&&o.filterSize&&o.filterSize.x||"0%",y:o&&o.filterSize&&o.filterSize.y||"0%"},width:o&&o.width,height:o&&o.height,runExpressions:!o||o.runExpressions===void 0||o.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:rt,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(i){return new SVGCompElement(i,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(o){var _,j=o.length,_e="_";for(_=0;_<j;_+=1)_e+=o[_].transform.key+"_";var et=this.sequences[_e];return et||(et={transforms:[].concat(o),finalTransform:new Matrix,_mdf:!1},this.sequences[_e]=et,this.sequenceList.push(et)),et},processSequence:function(o,_){for(var j=0,_e=o.transforms.length,et=_;j<_e&&!_;){if(o.transforms[j].transform.mProps._mdf){et=!0;break}j+=1}if(et)for(o.finalTransform.reset(),j=_e-1;j>=0;j-=1)o.finalTransform.multiply(o.transforms[j].transform.mProps.v);o._mdf=et},processSequences:function(o){var _,j=this.sequenceList.length;for(_=0;_<j;_+=1)this.processSequence(this.sequenceList[_],o)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var o="__lottie_element_luma_buffer",_=null,j=null,_e=null;function et(){var nt=createNS("svg"),st=createNS("filter"),it=createNS("feColorMatrix");return st.setAttribute("id",o),it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),st.appendChild(it),nt.appendChild(st),nt.setAttribute("id",o+"_svg"),featureSupport.svgLumaHidden&&(nt.style.display="none"),nt}function tt(){_||(_e=et(),document.body.appendChild(_e),_=createTag("canvas"),j=_.getContext("2d"),j.filter="url(#"+o+")",j.fillStyle="rgba(0,0,0,0)",j.fillRect(0,0,1,1))}function rt(nt){return _||tt(),_.width=nt.width,_.height=nt.height,j.filter="url(#"+o+")",_}return{load:tt,get:rt}};function createCanvas(i,o){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(i,o);var _=createTag("canvas");return _.width=i,_.height=o,_}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(i){var o,_=i.data.ef?i.data.ef.length:0;this.filters=[];var j;for(o=0;o<_;o+=1){j=null;var _e=i.data.ef[o].ty;if(registeredEffects[_e]){var et=registeredEffects[_e].effect;j=new et(i.effectsManager.effectElements[o],i)}j&&this.filters.push(j)}this.filters.length&&i.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(i){var o,_=this.filters.length;for(o=0;o<_;o+=1)this.filters[o].renderFrame(i)},CVEffects.prototype.getEffects=function(i){var o,_=this.filters.length,j=[];for(o=0;o<_;o+=1)this.filters[o].type===i&&j.push(this.filters[o]);return j};function registerEffect(i,o){registeredEffects[i]={effect:o}}function CVMaskElement(i,o){this.data=i,this.element=o,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var _,j=this.masksProperties.length,_e=!1;for(_=0;_<j;_+=1)this.masksProperties[_].mode!=="n"&&(_e=!0),this.viewData[_]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[_],3);this.hasMasks=_e,_e&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var i=this.element.finalTransform.mat,o=this.element.canvasContext,_,j=this.masksProperties.length,_e,et,tt;for(o.beginPath(),_=0;_<j;_+=1)if(this.masksProperties[_].mode!=="n"){this.masksProperties[_].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),tt=this.viewData[_].v,_e=i.applyToPointArray(tt.v[0][0],tt.v[0][1],0),o.moveTo(_e[0],_e[1]);var rt,nt=tt._length;for(rt=1;rt<nt;rt+=1)et=i.applyToTriplePoints(tt.o[rt-1],tt.i[rt],tt.v[rt]),o.bezierCurveTo(et[0],et[1],et[2],et[3],et[4],et[5]);et=i.applyToTriplePoints(tt.o[rt-1],tt.i[0],tt.v[0]),o.bezierCurveTo(et[0],et[1],et[2],et[3],et[4],et[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var o=this.globalData.canvasContext,_=assetLoader.createCanvas(o.canvas.width,o.canvas.height);this.buffers.push(_);var j=assetLoader.createCanvas(o.canvas.width,o.canvas.height);this.buffers.push(j),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var o=this.globalData;if(o.blendMode!==this.data.bm){o.blendMode=this.data.bm;var _=getBlendMode(this.data.bm);o.canvasContext.globalCompositeOperation=_}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(o){o.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var o=this.buffers[0],_=o.getContext("2d");this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var o=this.buffers[1],_=o.getContext("2d");this.clearCanvas(_),_.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var j=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(j.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var _e=assetLoader.getLumaCanvas(this.canvasContext.canvas),et=_e.getContext("2d");et.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(_e,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(o,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(o){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!o)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var _=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(_),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(_),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(i,o,_,j){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var _e=4;o.ty==="rc"?_e=5:o.ty==="el"?_e=6:o.ty==="sr"&&(_e=7),this.sh=ShapePropertyFactory.getShapeProp(i,o,_e,i);var et,tt=_.length,rt;for(et=0;et<tt;et+=1)_[et].closed||(rt={transforms:j.addTransformSequence(_[et].transforms),trNodes:[]},this.styledShapes.push(rt),_[et].elements.push(rt))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(i,o,_){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(i,o){var _={data:i,type:i.ty,preTransforms:this.transformsManager.addTransformSequence(o),transforms:[],elements:[],closed:i.hd===!0},j={};if(i.ty==="fl"||i.ty==="st"?(j.c=PropertyFactory.getProp(this,i.c,1,255,this),j.c.k||(_.co="rgb("+bmFloor(j.c.v[0])+","+bmFloor(j.c.v[1])+","+bmFloor(j.c.v[2])+")")):(i.ty==="gf"||i.ty==="gs")&&(j.s=PropertyFactory.getProp(this,i.s,1,null,this),j.e=PropertyFactory.getProp(this,i.e,1,null,this),j.h=PropertyFactory.getProp(this,i.h||{k:0},0,.01,this),j.a=PropertyFactory.getProp(this,i.a||{k:0},0,degToRads,this),j.g=new GradientProperty(this,i.g,this)),j.o=PropertyFactory.getProp(this,i.o,0,.01,this),i.ty==="st"||i.ty==="gs"){if(_.lc=lineCapEnum[i.lc||2],_.lj=lineJoinEnum[i.lj||2],i.lj==1&&(_.ml=i.ml),j.w=PropertyFactory.getProp(this,i.w,0,null,this),j.w.k||(_.wi=j.w.v),i.d){var _e=new DashProperty(this,i.d,"canvas",this);j.d=_e,j.d.k||(_.da=j.d.dashArray,_.do=j.d.dashoffset[0])}}else _.r=i.r===2?"evenodd":"nonzero";return this.stylesList.push(_),j.style=_,j},CVShapeElement.prototype.createGroupElement=function(){var i={it:[],prevViewData:[]};return i},CVShapeElement.prototype.createTransformElement=function(i){var o={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,i.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,i,this)}};return o},CVShapeElement.prototype.createShapeElement=function(i){var o=new CVShapeData(this,i,this.stylesList,this.transformsManager);return this.shapes.push(o),this.addShapeToModifiers(o),o},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var i,o=this.itemsData.length;for(i=0;i<o;i+=1)this.prevViewData[i]=this.itemsData[i];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),o=this.dynamicProperties.length,i=0;i<o;i+=1)this.dynamicProperties[i].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(i){var o,_=this.stylesList.length;for(o=0;o<_;o+=1)this.stylesList[o].closed||this.stylesList[o].transforms.push(i)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var i,o=this.stylesList.length;for(i=0;i<o;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.pop()},CVShapeElement.prototype.closeStyles=function(i){var o,_=i.length;for(o=0;o<_;o+=1)i[o].closed=!0},CVShapeElement.prototype.searchShapes=function(i,o,_,j,_e){var et,tt=i.length-1,rt,nt,st=[],it=[],at,ot,ct,ut=[].concat(_e);for(et=tt;et>=0;et-=1){if(at=this.searchProcessedElement(i[et]),at?o[et]=_[at-1]:i[et]._shouldRender=j,i[et].ty==="fl"||i[et].ty==="st"||i[et].ty==="gf"||i[et].ty==="gs")at?o[et].style.closed=!1:o[et]=this.createStyleElement(i[et],ut),st.push(o[et].style);else if(i[et].ty==="gr"){if(!at)o[et]=this.createGroupElement(i[et]);else for(nt=o[et].it.length,rt=0;rt<nt;rt+=1)o[et].prevViewData[rt]=o[et].it[rt];this.searchShapes(i[et].it,o[et].it,o[et].prevViewData,j,ut)}else i[et].ty==="tr"?(at||(ct=this.createTransformElement(i[et]),o[et]=ct),ut.push(o[et]),this.addTransformToStyleList(o[et])):i[et].ty==="sh"||i[et].ty==="rc"||i[et].ty==="el"||i[et].ty==="sr"?at||(o[et]=this.createShapeElement(i[et])):i[et].ty==="tm"||i[et].ty==="rd"||i[et].ty==="pb"||i[et].ty==="zz"||i[et].ty==="op"?(at?(ot=o[et],ot.closed=!1):(ot=ShapeModifiers.getModifier(i[et].ty),ot.init(this,i[et]),o[et]=ot,this.shapeModifiers.push(ot)),it.push(ot)):i[et].ty==="rp"&&(at?(ot=o[et],ot.closed=!0):(ot=ShapeModifiers.getModifier(i[et].ty),o[et]=ot,ot.init(this,i,et,o),this.shapeModifiers.push(ot),j=!1),it.push(ot));this.addProcessedElement(i[et],et+1)}for(this.removeTransformFromStyleList(),this.closeStyles(st),tt=it.length,et=0;et<tt;et+=1)it[et].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(i,o){(i._opMdf||o.op._mdf||this._isFirstFrame)&&(o.opacity=i.opacity,o.opacity*=o.op.v,o._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var i,o=this.stylesList.length,_,j,_e,et,tt,rt,nt=this.globalData.renderer,st=this.globalData.canvasContext,it,at;for(i=0;i<o;i+=1)if(at=this.stylesList[i],it=at.type,!((it==="st"||it==="gs")&&at.wi===0||!at.data._shouldRender||at.coOp===0||this.globalData.currentGlobalAlpha===0)){for(nt.save(),tt=at.elements,it==="st"||it==="gs"?(nt.ctxStrokeStyle(it==="st"?at.co:at.grd),nt.ctxLineWidth(at.wi),nt.ctxLineCap(at.lc),nt.ctxLineJoin(at.lj),nt.ctxMiterLimit(at.ml||0)):nt.ctxFillStyle(it==="fl"?at.co:at.grd),nt.ctxOpacity(at.coOp),it!=="st"&&it!=="gs"&&st.beginPath(),nt.ctxTransform(at.preTransforms.finalTransform.props),j=tt.length,_=0;_<j;_+=1){for((it==="st"||it==="gs")&&(st.beginPath(),at.da&&(st.setLineDash(at.da),st.lineDashOffset=at.do)),rt=tt[_].trNodes,et=rt.length,_e=0;_e<et;_e+=1)rt[_e].t==="m"?st.moveTo(rt[_e].p[0],rt[_e].p[1]):rt[_e].t==="c"?st.bezierCurveTo(rt[_e].pts[0],rt[_e].pts[1],rt[_e].pts[2],rt[_e].pts[3],rt[_e].pts[4],rt[_e].pts[5]):st.closePath();(it==="st"||it==="gs")&&(nt.ctxStroke(),at.da&&st.setLineDash(this.dashResetter))}it!=="st"&&it!=="gs"&&this.globalData.renderer.ctxFill(at.r),nt.restore()}},CVShapeElement.prototype.renderShape=function(i,o,_,j){var _e,et=o.length-1,tt;for(tt=i,_e=et;_e>=0;_e-=1)o[_e].ty==="tr"?(tt=_[_e].transform,this.renderShapeTransform(i,tt)):o[_e].ty==="sh"||o[_e].ty==="el"||o[_e].ty==="rc"||o[_e].ty==="sr"?this.renderPath(o[_e],_[_e]):o[_e].ty==="fl"?this.renderFill(o[_e],_[_e],tt):o[_e].ty==="st"?this.renderStroke(o[_e],_[_e],tt):o[_e].ty==="gf"||o[_e].ty==="gs"?this.renderGradientFill(o[_e],_[_e],tt):o[_e].ty==="gr"?this.renderShape(tt,o[_e].it,_[_e].it):o[_e].ty;j&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(i,o){if(this._isFirstFrame||o._mdf||i.transforms._mdf){var _=i.trNodes,j=o.paths,_e,et,tt,rt=j._length;_.length=0;var nt=i.transforms.finalTransform;for(tt=0;tt<rt;tt+=1){var st=j.shapes[tt];if(st&&st.v){for(et=st._length,_e=1;_e<et;_e+=1)_e===1&&_.push({t:"m",p:nt.applyToPointArray(st.v[0][0],st.v[0][1],0)}),_.push({t:"c",pts:nt.applyToTriplePoints(st.o[_e-1],st.i[_e],st.v[_e])});et===1&&_.push({t:"m",p:nt.applyToPointArray(st.v[0][0],st.v[0][1],0)}),st.c&&et&&(_.push({t:"c",pts:nt.applyToTriplePoints(st.o[_e-1],st.i[0],st.v[0])}),_.push({t:"z"}))}}i.trNodes=_}},CVShapeElement.prototype.renderPath=function(i,o){if(i.hd!==!0&&i._shouldRender){var _,j=o.styledShapes.length;for(_=0;_<j;_+=1)this.renderStyledShape(o.styledShapes[_],o.sh)}},CVShapeElement.prototype.renderFill=function(i,o,_){var j=o.style;(o.c._mdf||this._isFirstFrame)&&(j.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")"),(o.o._mdf||_._opMdf||this._isFirstFrame)&&(j.coOp=o.o.v*_.opacity)},CVShapeElement.prototype.renderGradientFill=function(i,o,_){var j=o.style,_e;if(!j.grd||o.g._mdf||o.s._mdf||o.e._mdf||i.t!==1&&(o.h._mdf||o.a._mdf)){var et=this.globalData.canvasContext,tt=o.s.v,rt=o.e.v;if(i.t===1)_e=et.createLinearGradient(tt[0],tt[1],rt[0],rt[1]);else{var nt=Math.sqrt(Math.pow(tt[0]-rt[0],2)+Math.pow(tt[1]-rt[1],2)),st=Math.atan2(rt[1]-tt[1],rt[0]-tt[0]),it=o.h.v;it>=1?it=.99:it<=-1&&(it=-.99);var at=nt*it,ot=Math.cos(st+o.a.v)*at+tt[0],ct=Math.sin(st+o.a.v)*at+tt[1];_e=et.createRadialGradient(ot,ct,0,tt[0],tt[1],nt)}var ut,lt=i.g.p,pt=o.g.c,dt=1;for(ut=0;ut<lt;ut+=1)o.g._hasOpacity&&o.g._collapsable&&(dt=o.g.o[ut*2+1]),_e.addColorStop(pt[ut*4]/100,"rgba("+pt[ut*4+1]+","+pt[ut*4+2]+","+pt[ut*4+3]+","+dt+")");j.grd=_e}j.coOp=o.o.v*_.opacity},CVShapeElement.prototype.renderStroke=function(i,o,_){var j=o.style,_e=o.d;_e&&(_e._mdf||this._isFirstFrame)&&(j.da=_e.dashArray,j.do=_e.dashoffset[0]),(o.c._mdf||this._isFirstFrame)&&(j.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")"),(o.o._mdf||_._opMdf||this._isFirstFrame)&&(j.coOp=o.o.v*_.opacity),(o.w._mdf||this._isFirstFrame)&&(j.wi=o.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(i,o,_){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i.l?i.l.length:0);var o=!1;i.fc?(o=!0,this.values.fill=this.buildColor(i.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=o;var _=!1;i.sc&&(_=!0,this.values.stroke=this.buildColor(i.sc),this.values.sWidth=i.sw);var j=this.globalData.fontManager.getFontByName(i.f),_e,et,tt=i.l,rt=this.mHelper;this.stroke=_,this.values.fValue=i.finalSize+"px "+this.globalData.fontManager.getFontByName(i.f).fFamily,et=i.finalText.length;var nt,st,it,at,ot,ct,ut,lt,pt,dt,ht=this.data.singleShape,ft=i.tr*.001*i.finalSize,mt=0,xt=0,gt=!0,yt=0;for(_e=0;_e<et;_e+=1){nt=this.globalData.fontManager.getCharData(i.finalText[_e],j.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),st=nt&&nt.data||{},rt.reset(),ht&&tt[_e].n&&(mt=-ft,xt+=i.yOffset,xt+=gt?1:0,gt=!1),ot=st.shapes?st.shapes[0].it:[],ut=ot.length,rt.scale(i.finalSize/100,i.finalSize/100),ht&&this.applyTextPropertiesToMatrix(i,rt,tt[_e].line,mt,xt),pt=createSizedArray(ut-1);var _t=0;for(ct=0;ct<ut;ct+=1)if(ot[ct].ty==="sh"){for(at=ot[ct].ks.k.i.length,lt=ot[ct].ks.k,dt=[],it=1;it<at;it+=1)it===1&&dt.push(rt.applyToX(lt.v[0][0],lt.v[0][1],0),rt.applyToY(lt.v[0][0],lt.v[0][1],0)),dt.push(rt.applyToX(lt.o[it-1][0],lt.o[it-1][1],0),rt.applyToY(lt.o[it-1][0],lt.o[it-1][1],0),rt.applyToX(lt.i[it][0],lt.i[it][1],0),rt.applyToY(lt.i[it][0],lt.i[it][1],0),rt.applyToX(lt.v[it][0],lt.v[it][1],0),rt.applyToY(lt.v[it][0],lt.v[it][1],0));dt.push(rt.applyToX(lt.o[it-1][0],lt.o[it-1][1],0),rt.applyToY(lt.o[it-1][0],lt.o[it-1][1],0),rt.applyToX(lt.i[0][0],lt.i[0][1],0),rt.applyToY(lt.i[0][0],lt.i[0][1],0),rt.applyToX(lt.v[0][0],lt.v[0][1],0),rt.applyToY(lt.v[0][0],lt.v[0][1],0)),pt[_t]=dt,_t+=1}ht&&(mt+=tt[_e].l,mt+=ft),this.textSpans[yt]?this.textSpans[yt].elem=pt:this.textSpans[yt]={elem:pt},yt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var i=this.canvasContext;i.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,_,j,_e,et,tt,rt=this.textAnimator.renderedLetters,nt=this.textProperty.currentData.l;_=nt.length;var st,it=null,at=null,ot=null,ct,ut,lt=this.globalData.renderer;for(o=0;o<_;o+=1)if(!nt[o].n){if(st=rt[o],st&&(lt.save(),lt.ctxTransform(st.p),lt.ctxOpacity(st.o)),this.fill){for(st&&st.fc?it!==st.fc&&(lt.ctxFillStyle(st.fc),it=st.fc):it!==this.values.fill&&(it=this.values.fill,lt.ctxFillStyle(this.values.fill)),ct=this.textSpans[o].elem,_e=ct.length,this.globalData.canvasContext.beginPath(),j=0;j<_e;j+=1)for(ut=ct[j],tt=ut.length,this.globalData.canvasContext.moveTo(ut[0],ut[1]),et=2;et<tt;et+=6)this.globalData.canvasContext.bezierCurveTo(ut[et],ut[et+1],ut[et+2],ut[et+3],ut[et+4],ut[et+5]);this.globalData.canvasContext.closePath(),lt.ctxFill()}if(this.stroke){for(st&&st.sw?ot!==st.sw&&(ot=st.sw,lt.ctxLineWidth(st.sw)):ot!==this.values.sWidth&&(ot=this.values.sWidth,lt.ctxLineWidth(this.values.sWidth)),st&&st.sc?at!==st.sc&&(at=st.sc,lt.ctxStrokeStyle(st.sc)):at!==this.values.stroke&&(at=this.values.stroke,lt.ctxStrokeStyle(this.values.stroke)),ct=this.textSpans[o].elem,_e=ct.length,this.globalData.canvasContext.beginPath(),j=0;j<_e;j+=1)for(ut=ct[j],tt=ut.length,this.globalData.canvasContext.moveTo(ut[0],ut[1]),et=2;et<tt;et+=6)this.globalData.canvasContext.bezierCurveTo(ut[et],ut[et+1],ut[et+2],ut[et+3],ut[et+4],ut[et+5]);this.globalData.canvasContext.closePath(),lt.ctxStroke()}st&&this.globalData.renderer.restore()}};function CVImageElement(i,o,_){this.assetData=o.getAssetData(i.refId),this.img=o.imageLoader.getAsset(this.assetData),this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var i=createTag("canvas");i.width=this.assetData.w,i.height=this.assetData.h;var o=i.getContext("2d"),_=this.img.width,j=this.img.height,_e=_/j,et=this.assetData.w/this.assetData.h,tt,rt,nt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;_e>et&&nt==="xMidYMid slice"||_e<et&&nt!=="xMidYMid slice"?(rt=j,tt=rt*et):(tt=_,rt=tt/et),o.drawImage(this.img,(_-tt)/2,(j-rt)/2,tt,rt,0,0,this.assetData.w,this.assetData.h),this.img=i}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(i,o,_){this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(i){return new CVShapeElement(i,this.globalData,this)},CanvasRendererBase.prototype.createText=function(i){return new CVTextElement(i,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(i){return new CVImageElement(i,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(i){return new CVSolidElement(i,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(i){i[0]===1&&i[1]===0&&i[4]===0&&i[5]===1&&i[12]===0&&i[13]===0||this.canvasContext.transform(i[0],i[1],i[4],i[5],i[12],i[13])},CanvasRendererBase.prototype.ctxOpacity=function(i){this.canvasContext.globalAlpha*=i<0?0:i},CanvasRendererBase.prototype.ctxFillStyle=function(i){this.canvasContext.fillStyle=i},CanvasRendererBase.prototype.ctxStrokeStyle=function(i){this.canvasContext.strokeStyle=i},CanvasRendererBase.prototype.ctxLineWidth=function(i){this.canvasContext.lineWidth=i},CanvasRendererBase.prototype.ctxLineCap=function(i){this.canvasContext.lineCap=i},CanvasRendererBase.prototype.ctxLineJoin=function(i){this.canvasContext.lineJoin=i},CanvasRendererBase.prototype.ctxMiterLimit=function(i){this.canvasContext.miterLimit=i},CanvasRendererBase.prototype.ctxFill=function(i){this.canvasContext.fill(i)},CanvasRendererBase.prototype.ctxFillRect=function(i,o,_,j){this.canvasContext.fillRect(i,o,_,j)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(i){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}i&&(this.globalData.blendMode="source-over"),this.contextData.restore(i)},CanvasRendererBase.prototype.configAnimation=function(i){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var o=this.animationItem.container.style;o.width="100%",o.height="100%";var _="0px 0px 0px";o.transformOrigin=_,o.mozTransformOrigin=_,o.webkitTransformOrigin=_,o["-webkit-transform"]=_,o.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=i,this.layers=i.layers,this.transformCanvas={w:i.w,h:i.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(i,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(i.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(i,o){this.reset();var _,j;i?(_=i,j=o,this.canvasContext.canvas.width=_,this.canvasContext.canvas.height=j):(this.animationItem.wrapper&&this.animationItem.container?(_=this.animationItem.wrapper.offsetWidth,j=this.animationItem.wrapper.offsetHeight):(_=this.canvasContext.canvas.width,j=this.canvasContext.canvas.height),this.canvasContext.canvas.width=_*this.renderConfig.dpr,this.canvasContext.canvas.height=j*this.renderConfig.dpr);var _e,et;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var tt=this.renderConfig.preserveAspectRatio.split(" "),rt=tt[1]||"meet",nt=tt[0]||"xMidYMid",st=nt.substr(0,4),it=nt.substr(4);_e=_/j,et=this.transformCanvas.w/this.transformCanvas.h,et>_e&&rt==="meet"||et<_e&&rt==="slice"?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=_/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=j/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.h/this.renderConfig.dpr)),st==="xMid"&&(et<_e&&rt==="meet"||et>_e&&rt==="slice")?this.transformCanvas.tx=(_-this.transformCanvas.w*(j/this.transformCanvas.h))/2*this.renderConfig.dpr:st==="xMax"&&(et<_e&&rt==="meet"||et>_e&&rt==="slice")?this.transformCanvas.tx=(_-this.transformCanvas.w*(j/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,it==="YMid"&&(et>_e&&rt==="meet"||et<_e&&rt==="slice")?this.transformCanvas.ty=(j-this.transformCanvas.h*(_/this.transformCanvas.w))/2*this.renderConfig.dpr:it==="YMax"&&(et>_e&&rt==="meet"||et<_e&&rt==="slice")?this.transformCanvas.ty=(j-this.transformCanvas.h*(_/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=_/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=j/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var i,o=this.layers?this.layers.length:0;for(i=o-1;i>=0;i-=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(i,o){if(!(this.renderedFrame===i&&this.renderConfig.clearCanvas===!0&&!o||this.destroyed||i===-1)){this.renderedFrame=i,this.globalData.frameNum=i-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||o,this.globalData.projectInterface.currentFrame=i;var _,j=this.layers.length;for(this.completeLayers||this.checkLayers(i),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].prepareFrame(i-this.layers[_].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),_=j-1;_>=0;_-=1)(this.completeLayers||this.elements[_])&&this.elements[_].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(i){var o=this.elements;if(!(o[i]||this.layers[i].ty===99)){var _=this.createItem(this.layers[i],this,this.globalData);o[i]=_,_.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();i.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var i,o=15;for(i=0;i<o;i+=1){var _=new CanvasContext;this.stack[i]=_}this._length=o,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var i=this._length*2,o=0;for(o=this._length;o<i;o+=1)this.stack[o]=new CanvasContext;this._length=i},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(i){this.cArrPos-=1;var o=this.stack[this.cArrPos],_=o.transform,j,_e=this.cTr.props;for(j=0;j<16;j+=1)_e[j]=_[j];if(i){this.nativeContext.restore();var et=this.stack[this.cArrPos+1];this.appliedFillStyle=et.fillStyle,this.appliedStrokeStyle=et.strokeStyle,this.appliedLineWidth=et.lineWidth,this.appliedLineCap=et.lineCap,this.appliedLineJoin=et.lineJoin,this.appliedMiterLimit=et.miterLimit}this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13]),(i||o.opacity!==-1&&this.currentOpacity!==o.opacity)&&(this.nativeContext.globalAlpha=o.opacity,this.currentOpacity=o.opacity),this.currentFillStyle=o.fillStyle,this.currentStrokeStyle=o.strokeStyle,this.currentLineWidth=o.lineWidth,this.currentLineCap=o.lineCap,this.currentLineJoin=o.lineJoin,this.currentMiterLimit=o.miterLimit},CVContextData.prototype.save=function(i){i&&this.nativeContext.save();var o=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var _=this.stack[this.cArrPos],j;for(j=0;j<16;j+=1)_.transform[j]=o[j];this.cArrPos+=1;var _e=this.stack[this.cArrPos];_e.opacity=_.opacity,_e.fillStyle=_.fillStyle,_e.strokeStyle=_.strokeStyle,_e.lineWidth=_.lineWidth,_e.lineCap=_.lineCap,_e.lineJoin=_.lineJoin,_e.miterLimit=_.miterLimit},CVContextData.prototype.setOpacity=function(i){this.stack[this.cArrPos].opacity=i},CVContextData.prototype.setContext=function(i){this.nativeContext=i},CVContextData.prototype.fillStyle=function(i){this.stack[this.cArrPos].fillStyle!==i&&(this.currentFillStyle=i,this.stack[this.cArrPos].fillStyle=i)},CVContextData.prototype.strokeStyle=function(i){this.stack[this.cArrPos].strokeStyle!==i&&(this.currentStrokeStyle=i,this.stack[this.cArrPos].strokeStyle=i)},CVContextData.prototype.lineWidth=function(i){this.stack[this.cArrPos].lineWidth!==i&&(this.currentLineWidth=i,this.stack[this.cArrPos].lineWidth=i)},CVContextData.prototype.lineCap=function(i){this.stack[this.cArrPos].lineCap!==i&&(this.currentLineCap=i,this.stack[this.cArrPos].lineCap=i)},CVContextData.prototype.lineJoin=function(i){this.stack[this.cArrPos].lineJoin!==i&&(this.currentLineJoin=i,this.stack[this.cArrPos].lineJoin=i)},CVContextData.prototype.miterLimit=function(i){this.stack[this.cArrPos].miterLimit!==i&&(this.currentMiterLimit=i,this.stack[this.cArrPos].miterLimit=i)},CVContextData.prototype.transform=function(i){this.transformMat.cloneFromProps(i);var o=this.cTr;this.transformMat.multiply(o),o.cloneFromProps(this.transformMat.props);var _=o.props;this.nativeContext.setTransform(_[0],_[1],_[4],_[5],_[12],_[13])},CVContextData.prototype.opacity=function(i){var o=this.stack[this.cArrPos].opacity;o*=i<0?0:i,this.stack[this.cArrPos].opacity!==o&&(this.currentOpacity!==i&&(this.nativeContext.globalAlpha=i,this.currentOpacity=i),this.stack[this.cArrPos].opacity=o)},CVContextData.prototype.fill=function(i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(i)},CVContextData.prototype.fillRect=function(i,o,_,j){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(i,o,_,j)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(i,o,_){this.completeLayers=!1,this.layers=i.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(i,o,_),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,o.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var i=this.canvasContext;i.beginPath(),i.moveTo(0,0),i.lineTo(this.data.w,0),i.lineTo(this.data.w,this.data.h),i.lineTo(0,this.data.h),i.lineTo(0,0),i.clip();var o,_=this.layers.length;for(o=_-1;o>=0;o-=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()},CVCompElement.prototype.destroy=function(){var i,o=this.layers.length;for(i=o-1;i>=0;i-=1)this.elements[i]&&this.elements[i].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(i){return new CVCompElement(i,this.globalData,this)};function CanvasRenderer(i,o){this.animationItem=i,this.renderConfig={clearCanvas:o&&o.clearCanvas!==void 0?o.clearCanvas:!0,context:o&&o.context||null,progressiveLoad:o&&o.progressiveLoad||!1,preserveAspectRatio:o&&o.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:o&&o.contentVisibility||"visible",className:o&&o.className||"",id:o&&o.id||"",runExpressions:!o||o.runExpressions===void 0||o.runExpressions},this.renderConfig.dpr=o&&o.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=o&&o.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(i){return new CVCompElement(i,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var o=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _=this.finalTransform.mat.toCSS();o.transform=_,o.webkitTransform=_}this.finalTransform._opMdf&&(o.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(i,o,_){this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var i;this.data.hasMask?(i=createNS("rect"),i.setAttribute("width",this.data.sw),i.setAttribute("height",this.data.sh),i.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(i=createTag("div"),i.style.width=this.data.sw+"px",i.style.height=this.data.sh+"px",i.style.backgroundColor=this.data.sc),this.layerElement.appendChild(i)};function HShapeElement(i,o,_){this.shapes=[],this.shapesData=i.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(i,o,_),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var i;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),i=this.svgElement;else{i=createNS("svg");var o=this.comp.data?this.comp.data:this.globalData.compSize;i.setAttribute("width",o.w),i.setAttribute("height",o.h),i.appendChild(this.shapesContainer),this.layerElement.appendChild(i)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=i},HShapeElement.prototype.getTransformedPoint=function(i,o){var _,j=i.length;for(_=0;_<j;_+=1)o=i[_].mProps.v.applyToPointArray(o[0],o[1],0);return o},HShapeElement.prototype.calculateShapeBoundingBox=function(i,o){var _=i.sh.v,j=i.transformers,_e,et=_._length,tt,rt,nt,st;if(!(et<=1)){for(_e=0;_e<et-1;_e+=1)tt=this.getTransformedPoint(j,_.v[_e]),rt=this.getTransformedPoint(j,_.o[_e]),nt=this.getTransformedPoint(j,_.i[_e+1]),st=this.getTransformedPoint(j,_.v[_e+1]),this.checkBounds(tt,rt,nt,st,o);_.c&&(tt=this.getTransformedPoint(j,_.v[_e]),rt=this.getTransformedPoint(j,_.o[_e]),nt=this.getTransformedPoint(j,_.i[0]),st=this.getTransformedPoint(j,_.v[0]),this.checkBounds(tt,rt,nt,st,o))}},HShapeElement.prototype.checkBounds=function(i,o,_,j,_e){this.getBoundsOfCurve(i,o,_,j);var et=this.shapeBoundingBox;_e.x=bmMin(et.left,_e.x),_e.xMax=bmMax(et.right,_e.xMax),_e.y=bmMin(et.top,_e.y),_e.yMax=bmMax(et.bottom,_e.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(i,o,_,j){for(var _e=[[i[0],j[0]],[i[1],j[1]]],et,tt,rt,nt,st,it,at,ot=0;ot<2;++ot)tt=6*i[ot]-12*o[ot]+6*_[ot],et=-3*i[ot]+9*o[ot]-9*_[ot]+3*j[ot],rt=3*o[ot]-3*i[ot],tt|=0,et|=0,rt|=0,et===0&&tt===0||(et===0?(nt=-rt/tt,nt>0&&nt<1&&_e[ot].push(this.calculateF(nt,i,o,_,j,ot))):(st=tt*tt-4*rt*et,st>=0&&(it=(-tt+bmSqrt(st))/(2*et),it>0&&it<1&&_e[ot].push(this.calculateF(it,i,o,_,j,ot)),at=(-tt-bmSqrt(st))/(2*et),at>0&&at<1&&_e[ot].push(this.calculateF(at,i,o,_,j,ot)))));this.shapeBoundingBox.left=bmMin.apply(null,_e[0]),this.shapeBoundingBox.top=bmMin.apply(null,_e[1]),this.shapeBoundingBox.right=bmMax.apply(null,_e[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,_e[1])},HShapeElement.prototype.calculateF=function(i,o,_,j,_e,et){return bmPow(1-i,3)*o[et]+3*bmPow(1-i,2)*i*_[et]+3*(1-i)*bmPow(i,2)*j[et]+bmPow(i,3)*_e[et]},HShapeElement.prototype.calculateBoundingBox=function(i,o){var _,j=i.length;for(_=0;_<j;_+=1)i[_]&&i[_].sh?this.calculateShapeBoundingBox(i[_],o):i[_]&&i[_].it?this.calculateBoundingBox(i[_].it,o):i[_]&&i[_].style&&i[_].w&&this.expandStrokeBoundingBox(i[_].w,o)},HShapeElement.prototype.expandStrokeBoundingBox=function(i,o){var _=0;if(i.keyframes){for(var j=0;j<i.keyframes.length;j+=1){var _e=i.keyframes[j].s;_e>_&&(_=_e)}_*=i.mult}else _=i.v*i.mult;o.x-=_,o.xMax+=_,o.y-=_,o.yMax+=_},HShapeElement.prototype.currentBoxContains=function(i){return this.currentBBox.x<=i.x&&this.currentBBox.y<=i.y&&this.currentBBox.width+this.currentBBox.x>=i.x+i.width&&this.currentBBox.height+this.currentBBox.y>=i.y+i.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var i=this.tempBoundingBox,o=999999;if(i.x=o,i.xMax=-o,i.y=o,i.yMax=-o,this.calculateBoundingBox(this.itemsData,i),i.width=i.xMax<i.x?0:i.xMax-i.x,i.height=i.yMax<i.y?0:i.yMax-i.y,this.currentBoxContains(i))return;var _=!1;if(this.currentBBox.w!==i.width&&(this.currentBBox.w=i.width,this.shapeCont.setAttribute("width",i.width),_=!0),this.currentBBox.h!==i.height&&(this.currentBBox.h=i.height,this.shapeCont.setAttribute("height",i.height),_=!0),_||this.currentBBox.x!==i.x||this.currentBBox.y!==i.y){this.currentBBox.w=i.width,this.currentBBox.h=i.height,this.currentBBox.x=i.x,this.currentBBox.y=i.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var j=this.shapeCont.style,_e="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";j.transform=_e,j.webkitTransform=_e}}};function HTextElement(i,o,_){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var i=createNS("g");this.maskedElement.appendChild(i),this.innerElem=i}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i.l?i.l.length:0);var o=this.innerElem.style,_=i.fc?this.buildColor(i.fc):"rgba(0,0,0,0)";o.fill=_,o.color=_,i.sc&&(o.stroke=this.buildColor(i.sc),o.strokeWidth=i.sw+"px");var j=this.globalData.fontManager.getFontByName(i.f);if(!this.globalData.fontManager.chars)if(o.fontSize=i.finalSize+"px",o.lineHeight=i.finalSize+"px",j.fClass)this.innerElem.className=j.fClass;else{o.fontFamily=j.fFamily;var _e=i.fWeight,et=i.fStyle;o.fontStyle=et,o.fontWeight=_e}var tt,rt,nt=i.l;rt=nt.length;var st,it,at,ot=this.mHelper,ct,ut="",lt=0;for(tt=0;tt<rt;tt+=1){if(this.globalData.fontManager.chars?(this.textPaths[lt]?st=this.textPaths[lt]:(st=createNS("path"),st.setAttribute("stroke-linecap",lineCapEnum[1]),st.setAttribute("stroke-linejoin",lineJoinEnum[2]),st.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[lt]?(it=this.textSpans[lt],at=it.children[0]):(it=createTag("div"),it.style.lineHeight=0,at=createNS("svg"),at.appendChild(st),styleDiv(it)))):this.isMasked?st=this.textPaths[lt]?this.textPaths[lt]:createNS("text"):this.textSpans[lt]?(it=this.textSpans[lt],st=this.textPaths[lt]):(it=createTag("span"),styleDiv(it),st=createTag("span"),styleDiv(st),it.appendChild(st)),this.globalData.fontManager.chars){var pt=this.globalData.fontManager.getCharData(i.finalText[tt],j.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily),dt;if(pt?dt=pt.data:dt=null,ot.reset(),dt&&dt.shapes&&dt.shapes.length&&(ct=dt.shapes[0].it,ot.scale(i.finalSize/100,i.finalSize/100),ut=this.createPathShape(ot,ct),st.setAttribute("d",ut)),this.isMasked)this.innerElem.appendChild(st);else{if(this.innerElem.appendChild(it),dt&&dt.shapes){document.body.appendChild(at);var ht=at.getBBox();at.setAttribute("width",ht.width+2),at.setAttribute("height",ht.height+2),at.setAttribute("viewBox",ht.x-1+" "+(ht.y-1)+" "+(ht.width+2)+" "+(ht.height+2));var ft=at.style,mt="translate("+(ht.x-1)+"px,"+(ht.y-1)+"px)";ft.transform=mt,ft.webkitTransform=mt,nt[tt].yOffset=ht.y-1}else at.setAttribute("width",1),at.setAttribute("height",1);it.appendChild(at)}}else if(st.textContent=nt[tt].val,st.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(st);else{this.innerElem.appendChild(it);var xt=st.style,gt="translate3d(0,"+-i.finalSize/1.2+"px,0)";xt.transform=gt,xt.webkitTransform=gt}this.isMasked?this.textSpans[lt]=st:this.textSpans[lt]=it,this.textSpans[lt].style.display="block",this.textPaths[lt]=st,lt+=1}for(;lt<this.textSpans.length;)this.textSpans[lt].style.display="none",lt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var i;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),i=this.svgElement.style;var o="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";i.transform=o,i.webkitTransform=o}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var _,j,_e=0,et=this.textAnimator.renderedLetters,tt=this.textProperty.currentData.l;j=tt.length;var rt,nt,st;for(_=0;_<j;_+=1)tt[_].n?_e+=1:(nt=this.textSpans[_],st=this.textPaths[_],rt=et[_e],_e+=1,rt._mdf.m&&(this.isMasked?nt.setAttribute("transform",rt.m):(nt.style.webkitTransform=rt.m,nt.style.transform=rt.m)),nt.style.opacity=rt.o,rt.sw&&rt._mdf.sw&&st.setAttribute("stroke-width",rt.sw),rt.sc&&rt._mdf.sc&&st.setAttribute("stroke",rt.sc),rt.fc&&rt._mdf.fc&&(st.setAttribute("fill",rt.fc),st.style.color=rt.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var it=this.innerElem.getBBox();this.currentBBox.w!==it.width&&(this.currentBBox.w=it.width,this.svgElement.setAttribute("width",it.width)),this.currentBBox.h!==it.height&&(this.currentBBox.h=it.height,this.svgElement.setAttribute("height",it.height));var at=1;if(this.currentBBox.w!==it.width+at*2||this.currentBBox.h!==it.height+at*2||this.currentBBox.x!==it.x-at||this.currentBBox.y!==it.y-at){this.currentBBox.w=it.width+at*2,this.currentBBox.h=it.height+at*2,this.currentBBox.x=it.x-at,this.currentBBox.y=it.y-at,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),i=this.svgElement.style;var ot="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=ot,i.webkitTransform=ot}}}};function HCameraElement(i,o,_){this.initFrame(),this.initBaseData(i,o,_),this.initHierarchy();var j=PropertyFactory.getProp;if(this.pe=j(this,i.pe,0,0,this),i.ks.p.s?(this.px=j(this,i.ks.p.x,1,0,this),this.py=j(this,i.ks.p.y,1,0,this),this.pz=j(this,i.ks.p.z,1,0,this)):this.p=j(this,i.ks.p,1,0,this),i.ks.a&&(this.a=j(this,i.ks.a,1,0,this)),i.ks.or.k.length&&i.ks.or.k[0].to){var _e,et=i.ks.or.k.length;for(_e=0;_e<et;_e+=1)i.ks.or.k[_e].to=null,i.ks.or.k[_e].ti=null}this.or=j(this,i.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=j(this,i.ks.rx,0,degToRads,this),this.ry=j(this,i.ks.ry,0,degToRads,this),this.rz=j(this,i.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var i,o=this.comp.threeDElements.length,_,j,_e;for(i=0;i<o;i+=1)if(_=this.comp.threeDElements[i],_.type==="3d"){j=_.perspectiveElem.style,_e=_.container.style;var et=this.pe.v+"px",tt="0px 0px 0px",rt="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";j.perspective=et,j.webkitPerspective=et,_e.transformOrigin=tt,_e.mozTransformOrigin=tt,_e.webkitTransformOrigin=tt,j.transform=rt,j.webkitTransform=rt}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var i=this._isFirstFrame,o,_;if(this.hierarchy)for(_=this.hierarchy.length,o=0;o<_;o+=1)i=this.hierarchy[o].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(_=this.hierarchy.length-1,o=_;o>=0;o-=1){var j=this.hierarchy[o].finalTransform.mProp;this.mat.translate(-j.p.v[0],-j.p.v[1],j.p.v[2]),this.mat.rotateX(-j.or.v[0]).rotateY(-j.or.v[1]).rotateZ(j.or.v[2]),this.mat.rotateX(-j.rx.v).rotateY(-j.ry.v).rotateZ(j.rz.v),this.mat.scale(1/j.s.v[0],1/j.s.v[1],1/j.s.v[2]),this.mat.translate(j.a.v[0],j.a.v[1],j.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var _e;this.p?_e=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:_e=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var et=Math.sqrt(Math.pow(_e[0],2)+Math.pow(_e[1],2)+Math.pow(_e[2],2)),tt=[_e[0]/et,_e[1]/et,_e[2]/et],rt=Math.sqrt(tt[2]*tt[2]+tt[0]*tt[0]),nt=Math.atan2(tt[1],rt),st=Math.atan2(tt[0],-tt[2]);this.mat.rotateY(st).rotateX(-nt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var it=!this._prevMat.equals(this.mat);if((it||this.pe._mdf)&&this.comp.threeDElements){_=this.comp.threeDElements.length;var at,ot,ct;for(o=0;o<_;o+=1)if(at=this.comp.threeDElements[o],at.type==="3d"){if(it){var ut=this.mat.toCSS();ct=at.container.style,ct.transform=ut,ct.webkitTransform=ut}this.pe._mdf&&(ot=at.perspectiveElem.style,ot.perspective=this.pe.v+"px",ot.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(i){this.prepareProperties(i,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(i,o,_){this.assetData=o.getAssetData(i.refId),this.initElement(i,o,_)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var i=this.globalData.getAssetsPath(this.assetData),o=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(o),o.crossOrigin="anonymous",o.src=i,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(i,o){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:o&&o.className||"",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(o&&o.hideOnTransparent===!1),filterSize:{width:o&&o.filterSize&&o.filterSize.width||"400%",height:o&&o.filterSize&&o.filterSize.height||"400%",x:o&&o.filterSize&&o.filterSize.x||"-100%",y:o&&o.filterSize&&o.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var i=this.pendingElements.pop();i.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(i,o){var _=i.getBaseElement();if(_){var j=this.layers[o];if(!j.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(_,o);else{for(var _e=0,et,tt,rt;_e<o;)this.elements[_e]&&this.elements[_e]!==!0&&this.elements[_e].getBaseElement&&(tt=this.elements[_e],rt=this.layers[_e].ddd?this.getThreeDContainerByPos(_e):tt.getBaseElement(),et=rt||et),_e+=1;et?(!j.ddd||!this.supports3d)&&this.layerElement.insertBefore(_,et):(!j.ddd||!this.supports3d)&&this.layerElement.appendChild(_)}else this.addTo3dContainer(_,o)}},HybridRendererBase.prototype.createShape=function(i){return this.supports3d?new HShapeElement(i,this.globalData,this):new SVGShapeElement(i,this.globalData,this)},HybridRendererBase.prototype.createText=function(i){return this.supports3d?new HTextElement(i,this.globalData,this):new SVGTextLottieElement(i,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(i){return this.camera=new HCameraElement(i,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(i){return this.supports3d?new HImageElement(i,this.globalData,this):new IImageElement(i,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(i){return this.supports3d?new HSolidElement(i,this.globalData,this):new ISolidElement(i,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(i){for(var o=0,_=this.threeDElements.length;o<_;){if(this.threeDElements[o].startPos<=i&&this.threeDElements[o].endPos>=i)return this.threeDElements[o].perspectiveElem;o+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(i,o){var _=createTag("div"),j,_e;styleDiv(_);var et=createTag("div");if(styleDiv(et),o==="3d"){j=_.style,j.width=this.globalData.compSize.w+"px",j.height=this.globalData.compSize.h+"px";var tt="50% 50%";j.webkitTransformOrigin=tt,j.mozTransformOrigin=tt,j.transformOrigin=tt,_e=et.style;var rt="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";_e.transform=rt,_e.webkitTransform=rt}_.appendChild(et);var nt={container:et,perspectiveElem:_,startPos:i,endPos:i,type:o};return this.threeDElements.push(nt),nt},HybridRendererBase.prototype.build3dContainers=function(){var i,o=this.layers.length,_,j="";for(i=0;i<o;i+=1)this.layers[i].ddd&&this.layers[i].ty!==3?(j!=="3d"&&(j="3d",_=this.createThreeDContainer(i,"3d")),_.endPos=Math.max(_.endPos,i)):(j!=="2d"&&(j="2d",_=this.createThreeDContainer(i,"2d")),_.endPos=Math.max(_.endPos,i));for(o=this.threeDElements.length,i=o-1;i>=0;i-=1)this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(i,o){for(var _=0,j=this.threeDElements.length;_<j;){if(o<=this.threeDElements[_].endPos){for(var _e=this.threeDElements[_].startPos,et;_e<o;)this.elements[_e]&&this.elements[_e].getBaseElement&&(et=this.elements[_e].getBaseElement()),_e+=1;et?this.threeDElements[_].container.insertBefore(i,et):this.threeDElements[_].container.appendChild(i);break}_+=1}},HybridRendererBase.prototype.configAnimation=function(i){var o=createTag("div"),_=this.animationItem.wrapper,j=o.style;j.width=i.w+"px",j.height=i.h+"px",this.resizerElem=o,styleDiv(o),j.transformStyle="flat",j.mozTransformStyle="flat",j.webkitTransformStyle="flat",this.renderConfig.className&&o.setAttribute("class",this.renderConfig.className),_.appendChild(o),j.overflow="hidden";var _e=createNS("svg");_e.setAttribute("width","1"),_e.setAttribute("height","1"),styleDiv(_e),this.resizerElem.appendChild(_e);var et=createNS("defs");_e.appendChild(et),this.data=i,this.setupGlobalData(i,_e),this.globalData.defs=et,this.layers=i.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var i,o=this.layers?this.layers.length:0;for(i=0;i<o;i+=1)this.elements[i]&&this.elements[i].destroy&&this.elements[i].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,_=i/o,j=this.globalData.compSize.w/this.globalData.compSize.h,_e,et,tt,rt;j>_?(_e=i/this.globalData.compSize.w,et=i/this.globalData.compSize.w,tt=0,rt=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(_e=o/this.globalData.compSize.h,et=o/this.globalData.compSize.h,tt=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,rt=0);var nt=this.resizerElem.style;nt.webkitTransform="matrix3d("+_e+",0,0,0,0,"+et+",0,0,0,0,1,0,"+tt+","+rt+",0,1)",nt.transform=nt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var i=this.globalData.compSize.w,o=this.globalData.compSize.h,_,j=this.threeDElements.length;for(_=0;_<j;_+=1){var _e=this.threeDElements[_].perspectiveElem.style;_e.webkitPerspective=Math.sqrt(Math.pow(i,2)+Math.pow(o,2))+"px",_e.perspective=_e.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(i){var o,_=i.length,j=createTag("div");for(o=0;o<_;o+=1)if(i[o].xt){var _e=this.createComp(i[o],j,this.globalData.comp,null);_e.initExpressions(),this.globalData.projectInterface.registerComposition(_e)}};function HCompElement(i,o,_){this.layers=i.layers,this.supports3d=!i.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(i,o,_),this.tm=i.tm?PropertyFactory.getProp(this,i.tm,0,o.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(i,o){for(var _=0,j;_<o;)this.elements[_]&&this.elements[_].getBaseElement&&(j=this.elements[_].getBaseElement()),_+=1;j?this.layerElement.insertBefore(i,j):this.layerElement.appendChild(i)},HCompElement.prototype.createComp=function(i){return this.supports3d?new HCompElement(i,this.globalData,this):new SVGCompElement(i,this.globalData,this)};function HybridRenderer(i,o){this.animationItem=i,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:o&&o.className||"",imagePreserveAspectRatio:o&&o.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(o&&o.hideOnTransparent===!1),filterSize:{width:o&&o.filterSize&&o.filterSize.width||"400%",height:o&&o.filterSize&&o.filterSize.height||"400%",x:o&&o.filterSize&&o.filterSize.x||"-100%",y:o&&o.filterSize&&o.filterSize.y||"-100%"},runExpressions:!o||o.runExpressions===void 0||o.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(i){return this.supports3d?new HCompElement(i,this.globalData,this):new SVGCompElement(i,this.globalData,this)};var CompExpressionInterface=function(){return function(i){function o(_){for(var j=0,_e=i.layers.length;j<_e;){if(i.layers[j].nm===_||i.layers[j].ind===_)return i.elements[j].layerInterface;j+=1}return null}return Object.defineProperty(o,"_name",{value:i.data.nm}),o.layer=o,o.pixelAspect=1,o.height=i.data.h||i.globalData.compSize.h,o.width=i.data.w||i.globalData.compSize.w,o.pixelAspect=1,o.frameDuration=1/i.globalData.frameRate,o.displayStartTime=0,o.numLayers=i.layers.length,o}}();function _typeof$2(i){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(i)}function seedRandom(i,o){var _=this,j=256,_e=6,et=52,tt="random",rt=o.pow(j,_e),nt=o.pow(2,et),st=nt*2,it=j-1,at;function ot(ft,mt,xt){var gt=[];mt=mt===!0?{entropy:!0}:mt||{};var yt=pt(lt(mt.entropy?[ft,ht(i)]:ft===null?dt():ft,3),gt),_t=new ct(gt),Et=function(){for(var $t=_t.g(_e),jt=rt,Tt=0;$t<nt;)$t=($t+Tt)*j,jt*=j,Tt=_t.g(1);for(;$t>=st;)$t/=2,jt/=2,Tt>>>=1;return($t+Tt)/jt};return Et.int32=function(){return _t.g(4)|0},Et.quick=function(){return _t.g(4)/4294967296},Et.double=Et,pt(ht(_t.S),i),(mt.pass||xt||function(wt,$t,jt,Tt){return Tt&&(Tt.S&&ut(Tt,_t),wt.state=function(){return ut(_t,{})}),jt?(o[tt]=wt,$t):wt})(Et,yt,"global"in mt?mt.global:this==o,mt.state)}o["seed"+tt]=ot;function ct(ft){var mt,xt=ft.length,gt=this,yt=0,_t=gt.i=gt.j=0,Et=gt.S=[];for(xt||(ft=[xt++]);yt<j;)Et[yt]=yt++;for(yt=0;yt<j;yt++)Et[yt]=Et[_t=it&_t+ft[yt%xt]+(mt=Et[yt])],Et[_t]=mt;gt.g=function(wt){for(var $t,jt=0,Tt=gt.i,kt=gt.j,Pt=gt.S;wt--;)$t=Pt[Tt=it&Tt+1],jt=jt*j+Pt[it&(Pt[Tt]=Pt[kt=it&kt+$t])+(Pt[kt]=$t)];return gt.i=Tt,gt.j=kt,jt}}function ut(ft,mt){return mt.i=ft.i,mt.j=ft.j,mt.S=ft.S.slice(),mt}function lt(ft,mt){var xt=[],gt=_typeof$2(ft),yt;if(mt&&gt=="object")for(yt in ft)try{xt.push(lt(ft[yt],mt-1))}catch{}return xt.length?xt:gt=="string"?ft:ft+"\0"}function pt(ft,mt){for(var xt=ft+"",gt,yt=0;yt<xt.length;)mt[it&yt]=it&(gt^=mt[it&yt]*19)+xt.charCodeAt(yt++);return ht(mt)}function dt(){try{var ft=new Uint8Array(j);return(_.crypto||_.msCrypto).getRandomValues(ft),ht(ft)}catch{var mt=_.navigator,xt=mt&&mt.plugins;return[+new Date,_,xt,_.screen,ht(i)]}}function ht(ft){return String.fromCharCode.apply(0,ft)}pt(o.random(),i)}function initialize$2(i){seedRandom([],i)}var propTypes={SHAPE:"shape"};function _typeof$1(i){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(i)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(i){return i.constructor===Array||i.constructor===Float32Array}function isNumerable(i,o){return i==="number"||o instanceof Number||i==="boolean"||i==="string"}function $bm_neg(i){var o=_typeof$1(i);if(o==="number"||i instanceof Number||o==="boolean")return-i;if($bm_isInstanceOfArray(i)){var _,j=i.length,_e=[];for(_=0;_<j;_+=1)_e[_]=-i[_];return _e}return i.propType?i.v:-i}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(i,o){var _=_typeof$1(i),j=_typeof$1(o);if(isNumerable(_,i)&&isNumerable(j,o)||_==="string"||j==="string")return i+o;if($bm_isInstanceOfArray(i)&&isNumerable(j,o))return i=i.slice(0),i[0]+=o,i;if(isNumerable(_,i)&&$bm_isInstanceOfArray(o))return o=o.slice(0),o[0]=i+o[0],o;if($bm_isInstanceOfArray(i)&&$bm_isInstanceOfArray(o)){for(var _e=0,et=i.length,tt=o.length,rt=[];_e<et||_e<tt;)(typeof i[_e]=="number"||i[_e]instanceof Number)&&(typeof o[_e]=="number"||o[_e]instanceof Number)?rt[_e]=i[_e]+o[_e]:rt[_e]=o[_e]===void 0?i[_e]:i[_e]||o[_e],_e+=1;return rt}return 0}var add=sum;function sub(i,o){var _=_typeof$1(i),j=_typeof$1(o);if(isNumerable(_,i)&&isNumerable(j,o))return _==="string"&&(i=parseInt(i,10)),j==="string"&&(o=parseInt(o,10)),i-o;if($bm_isInstanceOfArray(i)&&isNumerable(j,o))return i=i.slice(0),i[0]-=o,i;if(isNumerable(_,i)&&$bm_isInstanceOfArray(o))return o=o.slice(0),o[0]=i-o[0],o;if($bm_isInstanceOfArray(i)&&$bm_isInstanceOfArray(o)){for(var _e=0,et=i.length,tt=o.length,rt=[];_e<et||_e<tt;)(typeof i[_e]=="number"||i[_e]instanceof Number)&&(typeof o[_e]=="number"||o[_e]instanceof Number)?rt[_e]=i[_e]-o[_e]:rt[_e]=o[_e]===void 0?i[_e]:i[_e]||o[_e],_e+=1;return rt}return 0}function mul(i,o){var _=_typeof$1(i),j=_typeof$1(o),_e;if(isNumerable(_,i)&&isNumerable(j,o))return i*o;var et,tt;if($bm_isInstanceOfArray(i)&&isNumerable(j,o)){for(tt=i.length,_e=createTypedArray("float32",tt),et=0;et<tt;et+=1)_e[et]=i[et]*o;return _e}if(isNumerable(_,i)&&$bm_isInstanceOfArray(o)){for(tt=o.length,_e=createTypedArray("float32",tt),et=0;et<tt;et+=1)_e[et]=i*o[et];return _e}return 0}function div(i,o){var _=_typeof$1(i),j=_typeof$1(o),_e;if(isNumerable(_,i)&&isNumerable(j,o))return i/o;var et,tt;if($bm_isInstanceOfArray(i)&&isNumerable(j,o)){for(tt=i.length,_e=createTypedArray("float32",tt),et=0;et<tt;et+=1)_e[et]=i[et]/o;return _e}if(isNumerable(_,i)&&$bm_isInstanceOfArray(o)){for(tt=o.length,_e=createTypedArray("float32",tt),et=0;et<tt;et+=1)_e[et]=i/o[et];return _e}return 0}function mod(i,o){return typeof i=="string"&&(i=parseInt(i,10)),typeof o=="string"&&(o=parseInt(o,10)),i%o}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(i,o,_){if(o>_){var j=_;_=o,o=j}return Math.min(Math.max(i,o),_)}function radiansToDegrees(i){return i/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(i){return i*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(i,o){if(typeof i=="number"||i instanceof Number)return o=o||0,Math.abs(i-o);o||(o=helperLengthArray);var _,j=Math.min(i.length,o.length),_e=0;for(_=0;_<j;_+=1)_e+=Math.pow(o[_]-i[_],2);return Math.sqrt(_e)}function normalize(i){return div(i,length(i))}function rgbToHsl(i){var o=i[0],_=i[1],j=i[2],_e=Math.max(o,_,j),et=Math.min(o,_,j),tt,rt,nt=(_e+et)/2;if(_e===et)tt=0,rt=0;else{var st=_e-et;switch(rt=nt>.5?st/(2-_e-et):st/(_e+et),_e){case o:tt=(_-j)/st+(_<j?6:0);break;case _:tt=(j-o)/st+2;break;case j:tt=(o-_)/st+4;break}tt/=6}return[tt,rt,nt,i[3]]}function hue2rgb(i,o,_){return _<0&&(_+=1),_>1&&(_-=1),_<1/6?i+(o-i)*6*_:_<1/2?o:_<2/3?i+(o-i)*(2/3-_)*6:i}function hslToRgb(i){var o=i[0],_=i[1],j=i[2],_e,et,tt;if(_===0)_e=j,tt=j,et=j;else{var rt=j<.5?j*(1+_):j+_-j*_,nt=2*j-rt;_e=hue2rgb(nt,rt,o+1/3),et=hue2rgb(nt,rt,o),tt=hue2rgb(nt,rt,o-1/3)}return[_e,et,tt,i[3]]}function linear(i,o,_,j,_e){if((j===void 0||_e===void 0)&&(j=o,_e=_,o=0,_=1),_<o){var et=_;_=o,o=et}if(i<=o)return j;if(i>=_)return _e;var tt=_===o?0:(i-o)/(_-o);if(!j.length)return j+(_e-j)*tt;var rt,nt=j.length,st=createTypedArray("float32",nt);for(rt=0;rt<nt;rt+=1)st[rt]=j[rt]+(_e[rt]-j[rt])*tt;return st}function random(i,o){if(o===void 0&&(i===void 0?(i=0,o=1):(o=i,i=void 0)),o.length){var _,j=o.length;i||(i=createTypedArray("float32",j));var _e=createTypedArray("float32",j),et=BMMath.random();for(_=0;_<j;_+=1)_e[_]=i[_]+et*(o[_]-i[_]);return _e}i===void 0&&(i=0);var tt=BMMath.random();return i+tt*(o-i)}function createPath(i,o,_,j){var _e,et=i.length,tt=shapePool.newElement();tt.setPathData(!!j,et);var rt=[0,0],nt,st;for(_e=0;_e<et;_e+=1)nt=o&&o[_e]?o[_e]:rt,st=_&&_[_e]?_[_e]:rt,tt.setTripleAt(i[_e][0],i[_e][1],st[0]+i[_e][0],st[1]+i[_e][1],nt[0]+i[_e][0],nt[1]+i[_e][1],_e,!0);return tt}function initiateExpression(elem,data,property){function noOp(i){return i}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function i(o,_){var j,_e,et=this.pv.length?this.pv.length:1,tt=createTypedArray("float32",et);o=5;var rt=Math.floor(time*o);for(j=0,_e=0;j<rt;){for(_e=0;_e<et;_e+=1)tt[_e]+=-_+_*2*BMMath.random();j+=1}var nt=time*o,st=nt-Math.floor(nt),it=createTypedArray("float32",et);if(et>1){for(_e=0;_e<et;_e+=1)it[_e]=this.pv[_e]+tt[_e]+(-_+_*2*BMMath.random())*st;return it}return this.pv+tt[0]+(-_+_*2*BMMath.random())*st}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(i,o){return loopIn(i,o,!0)}function loopOutDuration(i,o){return loopOut(i,o,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(i,o){var _=[o[0]-i[0],o[1]-i[1],o[2]-i[2]],j=Math.atan2(_[0],Math.sqrt(_[1]*_[1]+_[2]*_[2]))/degToRads,_e=-Math.atan2(_[1],_[2])/degToRads;return[_e,j,0]}function easeOut(i,o,_,j,_e){return applyEase(easeOutBez,i,o,_,j,_e)}function easeIn(i,o,_,j,_e){return applyEase(easeInBez,i,o,_,j,_e)}function ease(i,o,_,j,_e){return applyEase(easeInOutBez,i,o,_,j,_e)}function applyEase(i,o,_,j,_e,et){_e===void 0?(_e=_,et=j):o=(o-_)/(j-_),o>1?o=1:o<0&&(o=0);var tt=i(o);if($bm_isInstanceOfArray(_e)){var rt,nt=_e.length,st=createTypedArray("float32",nt);for(rt=0;rt<nt;rt+=1)st[rt]=(et[rt]-_e[rt])*tt+_e[rt];return st}return(et-_e)*tt+_e}function nearestKey(i){var o,_=data.k.length,j,_e;if(!data.k.length||typeof data.k[0]=="number")j=0,_e=0;else if(j=-1,i*=elem.comp.globalData.frameRate,i<data.k[0].t)j=1,_e=data.k[0].t;else{for(o=0;o<_-1;o+=1)if(i===data.k[o].t){j=o+1,_e=data.k[o].t;break}else if(i>data.k[o].t&&i<data.k[o+1].t){i-data.k[o].t>data.k[o+1].t-i?(j=o+2,_e=data.k[o+1].t):(j=o+1,_e=data.k[o].t);break}j===-1&&(j=o+1,_e=data.k[o].t)}var et={};return et.index=j,et.time=_e/elem.comp.globalData.frameRate,et}function key(i){var o,_,j;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+i);i-=1,o={time:data.k[i].t/elem.comp.globalData.frameRate,value:[]};var _e=Object.prototype.hasOwnProperty.call(data.k[i],"s")?data.k[i].s:data.k[i-1].e;for(j=_e.length,_=0;_<j;_+=1)o[_]=_e[_],o.value[_]=_e[_];return o}function framesToTime(i,o){return o||(o=elem.comp.globalData.frameRate),i/o}function timeToFrames(i,o){return!i&&i!==0&&(i=time),o||(o=elem.comp.globalData.frameRate),i*o}function seedRandom(i){BMMath.seedrandom(randSeed+i)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(i,o){return typeof value=="string"?o===void 0?value.substring(i):value.substring(i,o):""}function substr(i,o){return typeof value=="string"?o===void 0?value.substr(i):value.substr(i,o):""}function posterizeTime(i){time=i===0?0:Math.floor(time*i)/i,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(i){return value=i,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var i={};i.initExpressions=o,i.resetFrame=ExpressionManager.resetFrame;function o(_){var j=0,_e=[];function et(){j+=1}function tt(){j-=1,j===0&&nt()}function rt(st){_e.indexOf(st)===-1&&_e.push(st)}function nt(){var st,it=_e.length;for(st=0;st<it;st+=1)_e[st].release();_e.length=0}_.renderer.compInterface=CompExpressionInterface(_.renderer),_.renderer.globalData.projectInterface.registerComposition(_.renderer),_.renderer.globalData.pushExpression=et,_.renderer.globalData.popExpression=tt,_.renderer.globalData.registerExpressionProperty=rt}return i}(),MaskManagerInterface=function(){function i(_,j){this._mask=_,this._data=j}Object.defineProperty(i.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(i.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var o=function(j){var _e=createSizedArray(j.viewData.length),et,tt=j.viewData.length;for(et=0;et<tt;et+=1)_e[et]=new i(j.viewData[et],j.masksProperties[et]);var rt=function(st){for(et=0;et<tt;){if(j.masksProperties[et].nm===st)return _e[et];et+=1}return null};return rt};return o}(),ExpressionPropertyInterface=function(){var i={pv:0,v:0,mult:1},o={pv:[0,0,0],v:[0,0,0],mult:1};function _(tt,rt,nt){Object.defineProperty(tt,"velocity",{get:function(){return rt.getVelocityAtTime(rt.comp.currentFrame)}}),tt.numKeys=rt.keyframes?rt.keyframes.length:0,tt.key=function(st){if(!tt.numKeys)return 0;var it="";"s"in rt.keyframes[st-1]?it=rt.keyframes[st-1].s:"e"in rt.keyframes[st-2]?it=rt.keyframes[st-2].e:it=rt.keyframes[st-2].s;var at=nt==="unidimensional"?new Number(it):Object.assign({},it);return at.time=rt.keyframes[st-1].t/rt.elem.comp.globalData.frameRate,at.value=nt==="unidimensional"?it[0]:it,at},tt.valueAtTime=rt.getValueAtTime,tt.speedAtTime=rt.getSpeedAtTime,tt.velocityAtTime=rt.getVelocityAtTime,tt.propertyGroup=rt.propertyGroup}function j(tt){(!tt||!("pv"in tt))&&(tt=i);var rt=1/tt.mult,nt=tt.pv*rt,st=new Number(nt);return st.value=nt,_(st,tt,"unidimensional"),function(){return tt.k&&tt.getValue(),nt=tt.v*rt,st.value!==nt&&(st=new Number(nt),st.value=nt,st[0]=nt,_(st,tt,"unidimensional")),st}}function _e(tt){(!tt||!("pv"in tt))&&(tt=o);var rt=1/tt.mult,nt=tt.data&&tt.data.l||tt.pv.length,st=createTypedArray("float32",nt),it=createTypedArray("float32",nt);return st.value=it,_(st,tt,"multidimensional"),function(){tt.k&&tt.getValue();for(var at=0;at<nt;at+=1)it[at]=tt.v[at]*rt,st[at]=it[at];return st}}function et(){return i}return function(tt){return tt?tt.propType==="unidimensional"?j(tt):_e(tt):et}}(),TransformExpressionInterface=function(){return function(i){function o(tt){switch(tt){case"scale":case"Scale":case"ADBE Scale":case 6:return o.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return o.rotation;case"ADBE Rotate X":return o.xRotation;case"ADBE Rotate Y":return o.yRotation;case"position":case"Position":case"ADBE Position":case 2:return o.position;case"ADBE Position_0":return o.xPosition;case"ADBE Position_1":return o.yPosition;case"ADBE Position_2":return o.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return o.anchorPoint;case"opacity":case"Opacity":case 11:return o.opacity;default:return null}}Object.defineProperty(o,"rotation",{get:ExpressionPropertyInterface(i.r||i.rz)}),Object.defineProperty(o,"zRotation",{get:ExpressionPropertyInterface(i.rz||i.r)}),Object.defineProperty(o,"xRotation",{get:ExpressionPropertyInterface(i.rx)}),Object.defineProperty(o,"yRotation",{get:ExpressionPropertyInterface(i.ry)}),Object.defineProperty(o,"scale",{get:ExpressionPropertyInterface(i.s)});var _,j,_e,et;return i.p?et=ExpressionPropertyInterface(i.p):(_=ExpressionPropertyInterface(i.px),j=ExpressionPropertyInterface(i.py),i.pz&&(_e=ExpressionPropertyInterface(i.pz))),Object.defineProperty(o,"position",{get:function(){return i.p?et():[_(),j(),_e?_e():0]}}),Object.defineProperty(o,"xPosition",{get:ExpressionPropertyInterface(i.px)}),Object.defineProperty(o,"yPosition",{get:ExpressionPropertyInterface(i.py)}),Object.defineProperty(o,"zPosition",{get:ExpressionPropertyInterface(i.pz)}),Object.defineProperty(o,"anchorPoint",{get:ExpressionPropertyInterface(i.a)}),Object.defineProperty(o,"opacity",{get:ExpressionPropertyInterface(i.o)}),Object.defineProperty(o,"skew",{get:ExpressionPropertyInterface(i.sk)}),Object.defineProperty(o,"skewAxis",{get:ExpressionPropertyInterface(i.sa)}),Object.defineProperty(o,"orientation",{get:ExpressionPropertyInterface(i.or)}),o}}(),LayerExpressionInterface=function(){function i(st){var it=new Matrix;if(st!==void 0){var at=this._elem.finalTransform.mProp.getValueAtTime(st);at.clone(it)}else{var ot=this._elem.finalTransform.mProp;ot.applyToMatrix(it)}return it}function o(st,it){var at=this.getMatrix(it);return at.props[12]=0,at.props[13]=0,at.props[14]=0,this.applyPoint(at,st)}function _(st,it){var at=this.getMatrix(it);return this.applyPoint(at,st)}function j(st,it){var at=this.getMatrix(it);return at.props[12]=0,at.props[13]=0,at.props[14]=0,this.invertPoint(at,st)}function _e(st,it){var at=this.getMatrix(it);return this.invertPoint(at,st)}function et(st,it){if(this._elem.hierarchy&&this._elem.hierarchy.length){var at,ot=this._elem.hierarchy.length;for(at=0;at<ot;at+=1)this._elem.hierarchy[at].finalTransform.mProp.applyToMatrix(st)}return st.applyToPointArray(it[0],it[1],it[2]||0)}function tt(st,it){if(this._elem.hierarchy&&this._elem.hierarchy.length){var at,ot=this._elem.hierarchy.length;for(at=0;at<ot;at+=1)this._elem.hierarchy[at].finalTransform.mProp.applyToMatrix(st)}return st.inversePoint(it)}function rt(st){var it=new Matrix;if(it.reset(),this._elem.finalTransform.mProp.applyToMatrix(it),this._elem.hierarchy&&this._elem.hierarchy.length){var at,ot=this._elem.hierarchy.length;for(at=0;at<ot;at+=1)this._elem.hierarchy[at].finalTransform.mProp.applyToMatrix(it);return it.inversePoint(st)}return it.inversePoint(st)}function nt(){return[1,1,1,1]}return function(st){var it;function at(lt){ct.mask=new MaskManagerInterface(lt,st)}function ot(lt){ct.effect=lt}function ct(lt){switch(lt){case"ADBE Root Vectors Group":case"Contents":case 2:return ct.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return it;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ct.effect;case"ADBE Text Properties":return ct.textInterface;default:return null}}ct.getMatrix=i,ct.invertPoint=tt,ct.applyPoint=et,ct.toWorld=_,ct.toWorldVec=o,ct.fromWorld=_e,ct.fromWorldVec=j,ct.toComp=_,ct.fromComp=rt,ct.sampleImage=nt,ct.sourceRectAtTime=st.sourceRectAtTime.bind(st),ct._elem=st,it=TransformExpressionInterface(st.finalTransform.mProp);var ut=getDescriptor(it,"anchorPoint");return Object.defineProperties(ct,{hasParent:{get:function(){return st.hierarchy.length}},parent:{get:function(){return st.hierarchy[0].layerInterface}},rotation:getDescriptor(it,"rotation"),scale:getDescriptor(it,"scale"),position:getDescriptor(it,"position"),opacity:getDescriptor(it,"opacity"),anchorPoint:ut,anchor_point:ut,transform:{get:function(){return it}},active:{get:function(){return st.isInRange}}}),ct.startTime=st.data.st,ct.index=st.data.ind,ct.source=st.data.refId,ct.height=st.data.ty===0?st.data.h:100,ct.width=st.data.ty===0?st.data.w:100,ct.inPoint=st.data.ip/st.comp.globalData.frameRate,ct.outPoint=st.data.op/st.comp.globalData.frameRate,ct._name=st.data.nm,ct.registerMaskInterface=at,ct.registerEffectsInterface=ot,ct}}(),propertyGroupFactory=function(){return function(i,o){return function(_){return _=_===void 0?1:_,_<=0?i:o(_-1)}}}(),PropertyInterface=function(){return function(i,o){var _={_name:i};function j(_e){return _e=_e===void 0?1:_e,_e<=0?_:o(_e-1)}return j}}(),EffectsExpressionInterface=function(){var i={createEffectsInterface:o};function o(_e,et){if(_e.effectsManager){var tt=[],rt=_e.data.ef,nt,st=_e.effectsManager.effectElements.length;for(nt=0;nt<st;nt+=1)tt.push(_(rt[nt],_e.effectsManager.effectElements[nt],et,_e));var it=_e.data.ef||[],at=function(ct){for(nt=0,st=it.length;nt<st;){if(ct===it[nt].nm||ct===it[nt].mn||ct===it[nt].ix)return tt[nt];nt+=1}return null};return Object.defineProperty(at,"numProperties",{get:function(){return it.length}}),at}return null}function _(_e,et,tt,rt){function nt(ct){for(var ut=_e.ef,lt=0,pt=ut.length;lt<pt;){if(ct===ut[lt].nm||ct===ut[lt].mn||ct===ut[lt].ix)return ut[lt].ty===5?it[lt]:it[lt]();lt+=1}throw new Error}var st=propertyGroupFactory(nt,tt),it=[],at,ot=_e.ef.length;for(at=0;at<ot;at+=1)_e.ef[at].ty===5?it.push(_(_e.ef[at],et.effectElements[at],et.effectElements[at].propertyGroup,rt)):it.push(j(et.effectElements[at],_e.ef[at].ty,rt,st));return _e.mn==="ADBE Color Control"&&Object.defineProperty(nt,"color",{get:function(){return it[0]()}}),Object.defineProperties(nt,{numProperties:{get:function(){return _e.np}},_name:{value:_e.nm},propertyGroup:{value:st}}),nt.enabled=_e.en!==0,nt.active=nt.enabled,nt}function j(_e,et,tt,rt){var nt=ExpressionPropertyInterface(_e.p);function st(){return et===10?tt.comp.compInterface(_e.p.v):nt()}return _e.p.setGroupProperty&&_e.p.setGroupProperty(PropertyInterface("",rt)),st}return i}(),ShapePathInterface=function(){return function(o,_,j){var _e=_.sh;function et(rt){return rt==="Shape"||rt==="shape"||rt==="Path"||rt==="path"||rt==="ADBE Vector Shape"||rt===2?et.path:null}var tt=propertyGroupFactory(et,j);return _e.setGroupProperty(PropertyInterface("Path",tt)),Object.defineProperties(et,{path:{get:function(){return _e.k&&_e.getValue(),_e}},shape:{get:function(){return _e.k&&_e.getValue(),_e}},_name:{value:o.nm},ix:{value:o.ix},propertyIndex:{value:o.ix},mn:{value:o.mn},propertyGroup:{value:j}}),et}}(),ShapeExpressionInterface=function(){function i(ut,lt,pt){var dt=[],ht,ft=ut?ut.length:0;for(ht=0;ht<ft;ht+=1)ut[ht].ty==="gr"?dt.push(_(ut[ht],lt[ht],pt)):ut[ht].ty==="fl"?dt.push(j(ut[ht],lt[ht],pt)):ut[ht].ty==="st"?dt.push(tt(ut[ht],lt[ht],pt)):ut[ht].ty==="tm"?dt.push(rt(ut[ht],lt[ht],pt)):ut[ht].ty==="tr"||(ut[ht].ty==="el"?dt.push(st(ut[ht],lt[ht],pt)):ut[ht].ty==="sr"?dt.push(it(ut[ht],lt[ht],pt)):ut[ht].ty==="sh"?dt.push(ShapePathInterface(ut[ht],lt[ht],pt)):ut[ht].ty==="rc"?dt.push(at(ut[ht],lt[ht],pt)):ut[ht].ty==="rd"?dt.push(ot(ut[ht],lt[ht],pt)):ut[ht].ty==="rp"?dt.push(ct(ut[ht],lt[ht],pt)):ut[ht].ty==="gf"?dt.push(_e(ut[ht],lt[ht],pt)):dt.push(et(ut[ht],lt[ht])));return dt}function o(ut,lt,pt){var dt,ht=function(xt){for(var gt=0,yt=dt.length;gt<yt;){if(dt[gt]._name===xt||dt[gt].mn===xt||dt[gt].propertyIndex===xt||dt[gt].ix===xt||dt[gt].ind===xt)return dt[gt];gt+=1}return typeof xt=="number"?dt[xt-1]:null};ht.propertyGroup=propertyGroupFactory(ht,pt),dt=i(ut.it,lt.it,ht.propertyGroup),ht.numProperties=dt.length;var ft=nt(ut.it[ut.it.length-1],lt.it[lt.it.length-1],ht.propertyGroup);return ht.transform=ft,ht.propertyIndex=ut.cix,ht._name=ut.nm,ht}function _(ut,lt,pt){var dt=function(xt){switch(xt){case"ADBE Vectors Group":case"Contents":case 2:return dt.content;default:return dt.transform}};dt.propertyGroup=propertyGroupFactory(dt,pt);var ht=o(ut,lt,dt.propertyGroup),ft=nt(ut.it[ut.it.length-1],lt.it[lt.it.length-1],dt.propertyGroup);return dt.content=ht,dt.transform=ft,Object.defineProperty(dt,"_name",{get:function(){return ut.nm}}),dt.numProperties=ut.np,dt.propertyIndex=ut.ix,dt.nm=ut.nm,dt.mn=ut.mn,dt}function j(ut,lt,pt){function dt(ht){return ht==="Color"||ht==="color"?dt.color:ht==="Opacity"||ht==="opacity"?dt.opacity:null}return Object.defineProperties(dt,{color:{get:ExpressionPropertyInterface(lt.c)},opacity:{get:ExpressionPropertyInterface(lt.o)},_name:{value:ut.nm},mn:{value:ut.mn}}),lt.c.setGroupProperty(PropertyInterface("Color",pt)),lt.o.setGroupProperty(PropertyInterface("Opacity",pt)),dt}function _e(ut,lt,pt){function dt(ht){return ht==="Start Point"||ht==="start point"?dt.startPoint:ht==="End Point"||ht==="end point"?dt.endPoint:ht==="Opacity"||ht==="opacity"?dt.opacity:null}return Object.defineProperties(dt,{startPoint:{get:ExpressionPropertyInterface(lt.s)},endPoint:{get:ExpressionPropertyInterface(lt.e)},opacity:{get:ExpressionPropertyInterface(lt.o)},type:{get:function(){return"a"}},_name:{value:ut.nm},mn:{value:ut.mn}}),lt.s.setGroupProperty(PropertyInterface("Start Point",pt)),lt.e.setGroupProperty(PropertyInterface("End Point",pt)),lt.o.setGroupProperty(PropertyInterface("Opacity",pt)),dt}function et(){function ut(){return null}return ut}function tt(ut,lt,pt){var dt=propertyGroupFactory(yt,pt),ht=propertyGroupFactory(gt,dt);function ft(_t){Object.defineProperty(gt,ut.d[_t].nm,{get:ExpressionPropertyInterface(lt.d.dataProps[_t].p)})}var mt,xt=ut.d?ut.d.length:0,gt={};for(mt=0;mt<xt;mt+=1)ft(mt),lt.d.dataProps[mt].p.setGroupProperty(ht);function yt(_t){return _t==="Color"||_t==="color"?yt.color:_t==="Opacity"||_t==="opacity"?yt.opacity:_t==="Stroke Width"||_t==="stroke width"?yt.strokeWidth:null}return Object.defineProperties(yt,{color:{get:ExpressionPropertyInterface(lt.c)},opacity:{get:ExpressionPropertyInterface(lt.o)},strokeWidth:{get:ExpressionPropertyInterface(lt.w)},dash:{get:function(){return gt}},_name:{value:ut.nm},mn:{value:ut.mn}}),lt.c.setGroupProperty(PropertyInterface("Color",dt)),lt.o.setGroupProperty(PropertyInterface("Opacity",dt)),lt.w.setGroupProperty(PropertyInterface("Stroke Width",dt)),yt}function rt(ut,lt,pt){function dt(ft){return ft===ut.e.ix||ft==="End"||ft==="end"?dt.end:ft===ut.s.ix?dt.start:ft===ut.o.ix?dt.offset:null}var ht=propertyGroupFactory(dt,pt);return dt.propertyIndex=ut.ix,lt.s.setGroupProperty(PropertyInterface("Start",ht)),lt.e.setGroupProperty(PropertyInterface("End",ht)),lt.o.setGroupProperty(PropertyInterface("Offset",ht)),dt.propertyIndex=ut.ix,dt.propertyGroup=pt,Object.defineProperties(dt,{start:{get:ExpressionPropertyInterface(lt.s)},end:{get:ExpressionPropertyInterface(lt.e)},offset:{get:ExpressionPropertyInterface(lt.o)},_name:{value:ut.nm}}),dt.mn=ut.mn,dt}function nt(ut,lt,pt){function dt(ft){return ut.a.ix===ft||ft==="Anchor Point"?dt.anchorPoint:ut.o.ix===ft||ft==="Opacity"?dt.opacity:ut.p.ix===ft||ft==="Position"?dt.position:ut.r.ix===ft||ft==="Rotation"||ft==="ADBE Vector Rotation"?dt.rotation:ut.s.ix===ft||ft==="Scale"?dt.scale:ut.sk&&ut.sk.ix===ft||ft==="Skew"?dt.skew:ut.sa&&ut.sa.ix===ft||ft==="Skew Axis"?dt.skewAxis:null}var ht=propertyGroupFactory(dt,pt);return lt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",ht)),lt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",ht)),lt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",ht)),lt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",ht)),lt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",ht)),lt.transform.mProps.sk&&(lt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",ht)),lt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",ht))),lt.transform.op.setGroupProperty(PropertyInterface("Opacity",ht)),Object.defineProperties(dt,{opacity:{get:ExpressionPropertyInterface(lt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(lt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(lt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(lt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(lt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(lt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(lt.transform.mProps.sa)},_name:{value:ut.nm}}),dt.ty="tr",dt.mn=ut.mn,dt.propertyGroup=pt,dt}function st(ut,lt,pt){function dt(mt){return ut.p.ix===mt?dt.position:ut.s.ix===mt?dt.size:null}var ht=propertyGroupFactory(dt,pt);dt.propertyIndex=ut.ix;var ft=lt.sh.ty==="tm"?lt.sh.prop:lt.sh;return ft.s.setGroupProperty(PropertyInterface("Size",ht)),ft.p.setGroupProperty(PropertyInterface("Position",ht)),Object.defineProperties(dt,{size:{get:ExpressionPropertyInterface(ft.s)},position:{get:ExpressionPropertyInterface(ft.p)},_name:{value:ut.nm}}),dt.mn=ut.mn,dt}function it(ut,lt,pt){function dt(mt){return ut.p.ix===mt?dt.position:ut.r.ix===mt?dt.rotation:ut.pt.ix===mt?dt.points:ut.or.ix===mt||mt==="ADBE Vector Star Outer Radius"?dt.outerRadius:ut.os.ix===mt?dt.outerRoundness:ut.ir&&(ut.ir.ix===mt||mt==="ADBE Vector Star Inner Radius")?dt.innerRadius:ut.is&&ut.is.ix===mt?dt.innerRoundness:null}var ht=propertyGroupFactory(dt,pt),ft=lt.sh.ty==="tm"?lt.sh.prop:lt.sh;return dt.propertyIndex=ut.ix,ft.or.setGroupProperty(PropertyInterface("Outer Radius",ht)),ft.os.setGroupProperty(PropertyInterface("Outer Roundness",ht)),ft.pt.setGroupProperty(PropertyInterface("Points",ht)),ft.p.setGroupProperty(PropertyInterface("Position",ht)),ft.r.setGroupProperty(PropertyInterface("Rotation",ht)),ut.ir&&(ft.ir.setGroupProperty(PropertyInterface("Inner Radius",ht)),ft.is.setGroupProperty(PropertyInterface("Inner Roundness",ht))),Object.defineProperties(dt,{position:{get:ExpressionPropertyInterface(ft.p)},rotation:{get:ExpressionPropertyInterface(ft.r)},points:{get:ExpressionPropertyInterface(ft.pt)},outerRadius:{get:ExpressionPropertyInterface(ft.or)},outerRoundness:{get:ExpressionPropertyInterface(ft.os)},innerRadius:{get:ExpressionPropertyInterface(ft.ir)},innerRoundness:{get:ExpressionPropertyInterface(ft.is)},_name:{value:ut.nm}}),dt.mn=ut.mn,dt}function at(ut,lt,pt){function dt(mt){return ut.p.ix===mt?dt.position:ut.r.ix===mt?dt.roundness:ut.s.ix===mt||mt==="Size"||mt==="ADBE Vector Rect Size"?dt.size:null}var ht=propertyGroupFactory(dt,pt),ft=lt.sh.ty==="tm"?lt.sh.prop:lt.sh;return dt.propertyIndex=ut.ix,ft.p.setGroupProperty(PropertyInterface("Position",ht)),ft.s.setGroupProperty(PropertyInterface("Size",ht)),ft.r.setGroupProperty(PropertyInterface("Rotation",ht)),Object.defineProperties(dt,{position:{get:ExpressionPropertyInterface(ft.p)},roundness:{get:ExpressionPropertyInterface(ft.r)},size:{get:ExpressionPropertyInterface(ft.s)},_name:{value:ut.nm}}),dt.mn=ut.mn,dt}function ot(ut,lt,pt){function dt(mt){return ut.r.ix===mt||mt==="Round Corners 1"?dt.radius:null}var ht=propertyGroupFactory(dt,pt),ft=lt;return dt.propertyIndex=ut.ix,ft.rd.setGroupProperty(PropertyInterface("Radius",ht)),Object.defineProperties(dt,{radius:{get:ExpressionPropertyInterface(ft.rd)},_name:{value:ut.nm}}),dt.mn=ut.mn,dt}function ct(ut,lt,pt){function dt(mt){return ut.c.ix===mt||mt==="Copies"?dt.copies:ut.o.ix===mt||mt==="Offset"?dt.offset:null}var ht=propertyGroupFactory(dt,pt),ft=lt;return dt.propertyIndex=ut.ix,ft.c.setGroupProperty(PropertyInterface("Copies",ht)),ft.o.setGroupProperty(PropertyInterface("Offset",ht)),Object.defineProperties(dt,{copies:{get:ExpressionPropertyInterface(ft.c)},offset:{get:ExpressionPropertyInterface(ft.o)},_name:{value:ut.nm}}),dt.mn=ut.mn,dt}return function(ut,lt,pt){var dt;function ht(mt){if(typeof mt=="number")return mt=mt===void 0?1:mt,mt===0?pt:dt[mt-1];for(var xt=0,gt=dt.length;xt<gt;){if(dt[xt]._name===mt)return dt[xt];xt+=1}return null}function ft(){return pt}return ht.propertyGroup=propertyGroupFactory(ht,ft),dt=i(ut,lt,ht.propertyGroup),ht.numProperties=dt.length,ht._name="Contents",ht}}(),TextExpressionInterface=function(){return function(i){var o;function _(j){switch(j){case"ADBE Text Document":return _.sourceText;default:return null}}return Object.defineProperty(_,"sourceText",{get:function(){i.textProperty.getValue();var _e=i.textProperty.currentData.t;return(!o||_e!==o.value)&&(o=new String(_e),o.value=_e||new String(_e),Object.defineProperty(o,"style",{get:function(){return{fillColor:i.textProperty.currentData.fc}}})),o}}),_}}();function _typeof(i){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}var FootageInterface=function(){var i=function(j){var _e="",et=j.getFootageData();function tt(){return _e="",et=j.getFootageData(),rt}function rt(nt){if(et[nt])return _e=nt,et=et[nt],_typeof(et)==="object"?rt:et;var st=nt.indexOf(_e);if(st!==-1){var it=parseInt(nt.substr(st+_e.length),10);return et=et[it],_typeof(et)==="object"?rt:et}return""}return tt},o=function(j){function _e(et){return et==="Outline"?_e.outlineInterface():null}return _e._name="Outline",_e.outlineInterface=i(j),_e};return function(_){function j(_e){return _e==="Data"?j.dataInterface:null}return j._name="Data",j.dataInterface=o(_),j}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(i){return interfaces[i]||null}var expressionHelpers=function(){function i(tt,rt,nt){rt.x&&(nt.k=!0,nt.x=!0,nt.initiateExpression=ExpressionManager.initiateExpression,nt.effectsSequence.push(nt.initiateExpression(tt,rt,nt).bind(nt)))}function o(tt){return tt*=this.elem.globalData.frameRate,tt-=this.offsetTime,tt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<tt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(tt,this._cachingAtTime),this._cachingAtTime.lastFrame=tt),this._cachingAtTime.value}function _(tt){var rt=-.01,nt=this.getValueAtTime(tt),st=this.getValueAtTime(tt+rt),it=0;if(nt.length){var at;for(at=0;at<nt.length;at+=1)it+=Math.pow(st[at]-nt[at],2);it=Math.sqrt(it)*100}else it=0;return it}function j(tt){if(this.vel!==void 0)return this.vel;var rt=-.001,nt=this.getValueAtTime(tt),st=this.getValueAtTime(tt+rt),it;if(nt.length){it=createTypedArray("float32",nt.length);var at;for(at=0;at<nt.length;at+=1)it[at]=(st[at]-nt[at])/rt}else it=(st-nt)/rt;return it}function _e(){return this.pv}function et(tt){this.propertyGroup=tt}return{searchExpressions:i,getSpeedAtTime:_,getVelocityAtTime:j,getValueAtTime:o,getStaticValueAtTime:_e,setGroupProperty:et}}();function addPropertyDecorator(){function i(ot,ct,ut){if(!this.k||!this.keyframes)return this.pv;ot=ot?ot.toLowerCase():"";var lt=this.comp.renderedFrame,pt=this.keyframes,dt=pt[pt.length-1].t;if(lt<=dt)return this.pv;var ht,ft;ut?(ct?ht=Math.abs(dt-this.elem.comp.globalData.frameRate*ct):ht=Math.max(0,dt-this.elem.data.ip),ft=dt-ht):((!ct||ct>pt.length-1)&&(ct=pt.length-1),ft=pt[pt.length-1-ct].t,ht=dt-ft);var mt,xt,gt;if(ot==="pingpong"){var yt=Math.floor((lt-ft)/ht);if(yt%2!==0)return this.getValueAtTime((ht-(lt-ft)%ht+ft)/this.comp.globalData.frameRate,0)}else if(ot==="offset"){var _t=this.getValueAtTime(ft/this.comp.globalData.frameRate,0),Et=this.getValueAtTime(dt/this.comp.globalData.frameRate,0),wt=this.getValueAtTime(((lt-ft)%ht+ft)/this.comp.globalData.frameRate,0),$t=Math.floor((lt-ft)/ht);if(this.pv.length){for(gt=new Array(_t.length),xt=gt.length,mt=0;mt<xt;mt+=1)gt[mt]=(Et[mt]-_t[mt])*$t+wt[mt];return gt}return(Et-_t)*$t+wt}else if(ot==="continue"){var jt=this.getValueAtTime(dt/this.comp.globalData.frameRate,0),Tt=this.getValueAtTime((dt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(gt=new Array(jt.length),xt=gt.length,mt=0;mt<xt;mt+=1)gt[mt]=jt[mt]+(jt[mt]-Tt[mt])*((lt-dt)/this.comp.globalData.frameRate)/5e-4;return gt}return jt+(jt-Tt)*((lt-dt)/.001)}return this.getValueAtTime(((lt-ft)%ht+ft)/this.comp.globalData.frameRate,0)}function o(ot,ct,ut){if(!this.k)return this.pv;ot=ot?ot.toLowerCase():"";var lt=this.comp.renderedFrame,pt=this.keyframes,dt=pt[0].t;if(lt>=dt)return this.pv;var ht,ft;ut?(ct?ht=Math.abs(this.elem.comp.globalData.frameRate*ct):ht=Math.max(0,this.elem.data.op-dt),ft=dt+ht):((!ct||ct>pt.length-1)&&(ct=pt.length-1),ft=pt[ct].t,ht=ft-dt);var mt,xt,gt;if(ot==="pingpong"){var yt=Math.floor((dt-lt)/ht);if(yt%2===0)return this.getValueAtTime(((dt-lt)%ht+dt)/this.comp.globalData.frameRate,0)}else if(ot==="offset"){var _t=this.getValueAtTime(dt/this.comp.globalData.frameRate,0),Et=this.getValueAtTime(ft/this.comp.globalData.frameRate,0),wt=this.getValueAtTime((ht-(dt-lt)%ht+dt)/this.comp.globalData.frameRate,0),$t=Math.floor((dt-lt)/ht)+1;if(this.pv.length){for(gt=new Array(_t.length),xt=gt.length,mt=0;mt<xt;mt+=1)gt[mt]=wt[mt]-(Et[mt]-_t[mt])*$t;return gt}return wt-(Et-_t)*$t}else if(ot==="continue"){var jt=this.getValueAtTime(dt/this.comp.globalData.frameRate,0),Tt=this.getValueAtTime((dt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(gt=new Array(jt.length),xt=gt.length,mt=0;mt<xt;mt+=1)gt[mt]=jt[mt]+(jt[mt]-Tt[mt])*(dt-lt)/.001;return gt}return jt+(jt-Tt)*(dt-lt)/.001}return this.getValueAtTime((ht-((dt-lt)%ht+dt))/this.comp.globalData.frameRate,0)}function _(ot,ct){if(!this.k)return this.pv;if(ot=(ot||.4)*.5,ct=Math.floor(ct||5),ct<=1)return this.pv;var ut=this.comp.renderedFrame/this.comp.globalData.frameRate,lt=ut-ot,pt=ut+ot,dt=ct>1?(pt-lt)/(ct-1):1,ht=0,ft=0,mt;this.pv.length?mt=createTypedArray("float32",this.pv.length):mt=0;for(var xt;ht<ct;){if(xt=this.getValueAtTime(lt+ht*dt),this.pv.length)for(ft=0;ft<this.pv.length;ft+=1)mt[ft]+=xt[ft];else mt+=xt;ht+=1}if(this.pv.length)for(ft=0;ft<this.pv.length;ft+=1)mt[ft]/=ct;else mt/=ct;return mt}function j(ot){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ct=this._transformCachingAtTime.v;if(ct.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ut=this.a.getValueAtTime(ot);ct.translate(-ut[0]*this.a.mult,-ut[1]*this.a.mult,ut[2]*this.a.mult)}if(this.appliedTransformations<2){var lt=this.s.getValueAtTime(ot);ct.scale(lt[0]*this.s.mult,lt[1]*this.s.mult,lt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var pt=this.sk.getValueAtTime(ot),dt=this.sa.getValueAtTime(ot);ct.skewFromAxis(-pt*this.sk.mult,dt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var ht=this.r.getValueAtTime(ot);ct.rotate(-ht*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ft=this.rz.getValueAtTime(ot),mt=this.ry.getValueAtTime(ot),xt=this.rx.getValueAtTime(ot),gt=this.or.getValueAtTime(ot);ct.rotateZ(-ft*this.rz.mult).rotateY(mt*this.ry.mult).rotateX(xt*this.rx.mult).rotateZ(-gt[2]*this.or.mult).rotateY(gt[1]*this.or.mult).rotateX(gt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var yt=this.px.getValueAtTime(ot),_t=this.py.getValueAtTime(ot);if(this.data.p.z){var Et=this.pz.getValueAtTime(ot);ct.translate(yt*this.px.mult,_t*this.py.mult,-Et*this.pz.mult)}else ct.translate(yt*this.px.mult,_t*this.py.mult,0)}else{var wt=this.p.getValueAtTime(ot);ct.translate(wt[0]*this.p.mult,wt[1]*this.p.mult,-wt[2]*this.p.mult)}return ct}function _e(){return this.v.clone(new Matrix)}var et=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ot,ct,ut){var lt=et(ot,ct,ut);return lt.dynamicProperties.length?lt.getValueAtTime=j.bind(lt):lt.getValueAtTime=_e.bind(lt),lt.setGroupProperty=expressionHelpers.setGroupProperty,lt};var tt=PropertyFactory.getProp;PropertyFactory.getProp=function(ot,ct,ut,lt,pt){var dt=tt(ot,ct,ut,lt,pt);dt.kf?dt.getValueAtTime=expressionHelpers.getValueAtTime.bind(dt):dt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(dt),dt.setGroupProperty=expressionHelpers.setGroupProperty,dt.loopOut=i,dt.loopIn=o,dt.smooth=_,dt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(dt),dt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(dt),dt.numKeys=ct.a===1?ct.k.length:0,dt.propertyIndex=ct.ix;var ht=0;return ut!==0&&(ht=createTypedArray("float32",ct.a===1?ct.k[0].s.length:ct.k.length)),dt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:ht},expressionHelpers.searchExpressions(ot,ct,dt),dt.k&&pt.addDynamicProperty(dt),dt};function rt(ot){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ot*=this.elem.globalData.frameRate,ot-=this.offsetTime,ot!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ot?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ot,this.interpolateShape(ot,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var nt=ShapePropertyFactory.getConstructorFunction(),st=ShapePropertyFactory.getKeyframedConstructorFunction();function it(){}it.prototype={vertices:function(ct,ut){this.k&&this.getValue();var lt=this.v;ut!==void 0&&(lt=this.getValueAtTime(ut,0));var pt,dt=lt._length,ht=lt[ct],ft=lt.v,mt=createSizedArray(dt);for(pt=0;pt<dt;pt+=1)ct==="i"||ct==="o"?mt[pt]=[ht[pt][0]-ft[pt][0],ht[pt][1]-ft[pt][1]]:mt[pt]=[ht[pt][0],ht[pt][1]];return mt},points:function(ct){return this.vertices("v",ct)},inTangents:function(ct){return this.vertices("i",ct)},outTangents:function(ct){return this.vertices("o",ct)},isClosed:function(){return this.v.c},pointOnPath:function(ct,ut){var lt=this.v;ut!==void 0&&(lt=this.getValueAtTime(ut,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(lt));for(var pt=this._segmentsLength,dt=pt.lengths,ht=pt.totalLength*ct,ft=0,mt=dt.length,xt=0,gt;ft<mt;){if(xt+dt[ft].addedLength>ht){var yt=ft,_t=lt.c&&ft===mt-1?0:ft+1,Et=(ht-xt)/dt[ft].addedLength;gt=bez.getPointInSegment(lt.v[yt],lt.v[_t],lt.o[yt],lt.i[_t],Et,dt[ft]);break}else xt+=dt[ft].addedLength;ft+=1}return gt||(gt=lt.c?[lt.v[0][0],lt.v[0][1]]:[lt.v[lt._length-1][0],lt.v[lt._length-1][1]]),gt},vectorOnPath:function(ct,ut,lt){ct==1?ct=this.v.c:ct==0&&(ct=.999);var pt=this.pointOnPath(ct,ut),dt=this.pointOnPath(ct+.001,ut),ht=dt[0]-pt[0],ft=dt[1]-pt[1],mt=Math.sqrt(Math.pow(ht,2)+Math.pow(ft,2));if(mt===0)return[0,0];var xt=lt==="tangent"?[ht/mt,ft/mt]:[-ft/mt,ht/mt];return xt},tangentOnPath:function(ct,ut){return this.vectorOnPath(ct,ut,"tangent")},normalOnPath:function(ct,ut){return this.vectorOnPath(ct,ut,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([it],nt),extendPrototype([it],st),st.prototype.getValueAtTime=rt,st.prototype.initiateExpression=ExpressionManager.initiateExpression;var at=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ot,ct,ut,lt,pt){var dt=at(ot,ct,ut,lt,pt);return dt.propertyIndex=ct.ix,dt.lock=!1,ut===3?expressionHelpers.searchExpressions(ot,ct.pt,dt):ut===4&&expressionHelpers.searchExpressions(ot,ct.ks,dt),dt.k&&ot.addDynamicProperty(dt),dt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function i(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(o,_){var j=this.calculateExpression(_);if(o.t!==j){var _e={};return this.copyData(_e,o),_e.t=j.toString(),_e.__complete=!1,_e}return o},TextProperty.prototype.searchProperty=function(){var o=this.searchKeyframes(),_=this.searchExpressions();return this.kf=o||_,this.kf},TextProperty.prototype.searchExpressions=i}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function i(o,_){var j=createNS("feMerge");j.setAttribute("result",o);var _e,et;for(et=0;et<_.length;et+=1)_e=createNS("feMergeNode"),_e.setAttribute("in",_[et]),j.appendChild(_e),j.appendChild(_e);return j}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(i,o,_,j,_e){this.filterManager=o;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=et,et.setAttribute("result",j+"_tint_1"),i.appendChild(et),et=createNS("feColorMatrix"),et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.setAttribute("result",j+"_tint_2"),i.appendChild(et),this.matrixFilter=et;var tt=this.createMergeNode(j,[_e,j+"_tint_1",j+"_tint_2"]);i.appendChild(tt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var o=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,j=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+j+" 0"),this.matrixFilter.setAttribute("values",_[0]-o[0]+" 0 0 0 "+o[0]+" "+(_[1]-o[1])+" 0 0 0 "+o[1]+" "+(_[2]-o[2])+" 0 0 0 "+o[2]+" 0 0 0 1 0")}};function SVGFillFilter(i,o,_,j){this.filterManager=o;var _e=createNS("feColorMatrix");_e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_e.setAttribute("result",j),i.appendChild(_e),this.matrixFilter=_e}SVGFillFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var o=this.filterManager.effectElements[2].p.v,_=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+o[0]+" 0 0 0 0 "+o[1]+" 0 0 0 0 "+o[2]+" 0 0 0 "+_+" 0")}};function SVGStrokeEffect(i,o,_){this.initialized=!1,this.filterManager=o,this.elem=_,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var i=this.elem.layerElement.children||this.elem.layerElement.childNodes,o,_,j,_e;for(this.filterManager.effectElements[1].p.v===1?(_e=this.elem.maskManager.masksProperties.length,j=0):(j=this.filterManager.effectElements[0].p.v-1,_e=j+1),_=createNS("g"),_.setAttribute("fill","none"),_.setAttribute("stroke-linecap","round"),_.setAttribute("stroke-dashoffset",1),j;j<_e;j+=1)o=createNS("path"),_.appendChild(o),this.paths.push({p:o,m:j});if(this.filterManager.effectElements[10].p.v===3){var et=createNS("mask"),tt=createElementID();et.setAttribute("id",tt),et.setAttribute("mask-type","alpha"),et.appendChild(_),this.elem.globalData.defs.appendChild(et);var rt=createNS("g");for(rt.setAttribute("mask","url("+getLocationHref()+"#"+tt+")");i[0];)rt.appendChild(i[0]);this.elem.layerElement.appendChild(rt),this.masker=et,_.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(_),this.elem.layerElement.removeAttribute("mask"),_.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_},SVGStrokeEffect.prototype.renderFrame=function(i){this.initialized||this.initialize();var o,_=this.paths.length,j,_e;for(o=0;o<_;o+=1)if(this.paths[o].m!==-1&&(j=this.elem.maskManager.viewData[this.paths[o].m],_e=this.paths[o].p,(i||this.filterManager._mdf||j.prop._mdf)&&_e.setAttribute("d",j.lastPath),i||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||j.prop._mdf)){var et;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var tt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,rt=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,nt=_e.getTotalLength();et="0 0 0 "+nt*tt+" ";var st=nt*(rt-tt),it=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,at=Math.floor(st/it),ot;for(ot=0;ot<at;ot+=1)et+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";et+="0 "+nt*10+" 0 0"}else et="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;_e.setAttribute("stroke-dasharray",et)}if((i||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(i||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(i||this.filterManager.effectElements[3].p._mdf)){var ct=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ct[0]*255)+","+bmFloor(ct[1]*255)+","+bmFloor(ct[2]*255)+")")}};function SVGTritoneFilter(i,o,_,j){this.filterManager=o;var _e=createNS("feColorMatrix");_e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","linearRGB"),_e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.appendChild(_e);var et=createNS("feComponentTransfer");et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("result",j),this.matrixFilter=et;var tt=createNS("feFuncR");tt.setAttribute("type","table"),et.appendChild(tt),this.feFuncR=tt;var rt=createNS("feFuncG");rt.setAttribute("type","table"),et.appendChild(rt),this.feFuncG=rt;var nt=createNS("feFuncB");nt.setAttribute("type","table"),et.appendChild(nt),this.feFuncB=nt,i.appendChild(et)}SVGTritoneFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var o=this.filterManager.effectElements[0].p.v,_=this.filterManager.effectElements[1].p.v,j=this.filterManager.effectElements[2].p.v,_e=j[0]+" "+_[0]+" "+o[0],et=j[1]+" "+_[1]+" "+o[1],tt=j[2]+" "+_[2]+" "+o[2];this.feFuncR.setAttribute("tableValues",_e),this.feFuncG.setAttribute("tableValues",et),this.feFuncB.setAttribute("tableValues",tt)}};function SVGProLevelsFilter(i,o,_,j){this.filterManager=o;var _e=this.filterManager.effectElements,et=createNS("feComponentTransfer");(_e[10].p.k||_e[10].p.v!==0||_e[11].p.k||_e[11].p.v!==1||_e[12].p.k||_e[12].p.v!==1||_e[13].p.k||_e[13].p.v!==0||_e[14].p.k||_e[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",et)),(_e[17].p.k||_e[17].p.v!==0||_e[18].p.k||_e[18].p.v!==1||_e[19].p.k||_e[19].p.v!==1||_e[20].p.k||_e[20].p.v!==0||_e[21].p.k||_e[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",et)),(_e[24].p.k||_e[24].p.v!==0||_e[25].p.k||_e[25].p.v!==1||_e[26].p.k||_e[26].p.v!==1||_e[27].p.k||_e[27].p.v!==0||_e[28].p.k||_e[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",et)),(_e[31].p.k||_e[31].p.v!==0||_e[32].p.k||_e[32].p.v!==1||_e[33].p.k||_e[33].p.v!==1||_e[34].p.k||_e[34].p.v!==0||_e[35].p.k||_e[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",et)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(et.setAttribute("color-interpolation-filters","sRGB"),i.appendChild(et)),(_e[3].p.k||_e[3].p.v!==0||_e[4].p.k||_e[4].p.v!==1||_e[5].p.k||_e[5].p.v!==1||_e[6].p.k||_e[6].p.v!==0||_e[7].p.k||_e[7].p.v!==1)&&(et=createNS("feComponentTransfer"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("result",j),i.appendChild(et),this.feFuncRComposed=this.createFeFunc("feFuncR",et),this.feFuncGComposed=this.createFeFunc("feFuncG",et),this.feFuncBComposed=this.createFeFunc("feFuncB",et))}SVGProLevelsFilter.prototype.createFeFunc=function(i,o){var _=createNS(i);return _.setAttribute("type","table"),o.appendChild(_),_},SVGProLevelsFilter.prototype.getTableValue=function(i,o,_,j,_e){for(var et=0,tt=256,rt,nt=Math.min(i,o),st=Math.max(i,o),it=Array.call(null,{length:tt}),at,ot=0,ct=_e-j,ut=o-i;et<=256;)rt=et/256,rt<=nt?at=ut<0?_e:j:rt>=st?at=ut<0?j:_e:at=j+ct*Math.pow((rt-i)/ut,1/_),it[ot]=at,ot+=1,et+=256/(tt-1);return it.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var o,_=this.filterManager.effectElements;this.feFuncRComposed&&(i||_[3].p._mdf||_[4].p._mdf||_[5].p._mdf||_[6].p._mdf||_[7].p._mdf)&&(o=this.getTableValue(_[3].p.v,_[4].p.v,_[5].p.v,_[6].p.v,_[7].p.v),this.feFuncRComposed.setAttribute("tableValues",o),this.feFuncGComposed.setAttribute("tableValues",o),this.feFuncBComposed.setAttribute("tableValues",o)),this.feFuncR&&(i||_[10].p._mdf||_[11].p._mdf||_[12].p._mdf||_[13].p._mdf||_[14].p._mdf)&&(o=this.getTableValue(_[10].p.v,_[11].p.v,_[12].p.v,_[13].p.v,_[14].p.v),this.feFuncR.setAttribute("tableValues",o)),this.feFuncG&&(i||_[17].p._mdf||_[18].p._mdf||_[19].p._mdf||_[20].p._mdf||_[21].p._mdf)&&(o=this.getTableValue(_[17].p.v,_[18].p.v,_[19].p.v,_[20].p.v,_[21].p.v),this.feFuncG.setAttribute("tableValues",o)),this.feFuncB&&(i||_[24].p._mdf||_[25].p._mdf||_[26].p._mdf||_[27].p._mdf||_[28].p._mdf)&&(o=this.getTableValue(_[24].p.v,_[25].p.v,_[26].p.v,_[27].p.v,_[28].p.v),this.feFuncB.setAttribute("tableValues",o)),this.feFuncA&&(i||_[31].p._mdf||_[32].p._mdf||_[33].p._mdf||_[34].p._mdf||_[35].p._mdf)&&(o=this.getTableValue(_[31].p.v,_[32].p.v,_[33].p.v,_[34].p.v,_[35].p.v),this.feFuncA.setAttribute("tableValues",o))}};function SVGDropShadowEffect(i,o,_,j,_e){var et=o.container.globalData.renderConfig.filterSize,tt=o.data.fs||et;i.setAttribute("x",tt.x||et.x),i.setAttribute("y",tt.y||et.y),i.setAttribute("width",tt.width||et.width),i.setAttribute("height",tt.height||et.height),this.filterManager=o;var rt=createNS("feGaussianBlur");rt.setAttribute("in","SourceAlpha"),rt.setAttribute("result",j+"_drop_shadow_1"),rt.setAttribute("stdDeviation","0"),this.feGaussianBlur=rt,i.appendChild(rt);var nt=createNS("feOffset");nt.setAttribute("dx","25"),nt.setAttribute("dy","0"),nt.setAttribute("in",j+"_drop_shadow_1"),nt.setAttribute("result",j+"_drop_shadow_2"),this.feOffset=nt,i.appendChild(nt);var st=createNS("feFlood");st.setAttribute("flood-color","#00ff00"),st.setAttribute("flood-opacity","1"),st.setAttribute("result",j+"_drop_shadow_3"),this.feFlood=st,i.appendChild(st);var it=createNS("feComposite");it.setAttribute("in",j+"_drop_shadow_3"),it.setAttribute("in2",j+"_drop_shadow_2"),it.setAttribute("operator","in"),it.setAttribute("result",j+"_drop_shadow_4"),i.appendChild(it);var at=this.createMergeNode(j,[j+"_drop_shadow_4",_e]);i.appendChild(at)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){if((i||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),i||this.filterManager.effectElements[0].p._mdf){var o=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)))}if((i||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),i||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var _=this.filterManager.effectElements[3].p.v,j=(this.filterManager.effectElements[2].p.v-90)*degToRads,_e=_*Math.cos(j),et=_*Math.sin(j);this.feOffset.setAttribute("dx",_e),this.feOffset.setAttribute("dy",et)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(i,o,_){this.initialized=!1,this.filterManager=o,this.filterElem=i,this.elem=_,_.matteElement=createNS("g"),_.matteElement.appendChild(_.layerElement),_.matteElement.appendChild(_.transformedElement),_.baseElement=_.matteElement}SVGMatte3Effect.prototype.findSymbol=function(i){for(var o=0,_=_svgMatteSymbols.length;o<_;){if(_svgMatteSymbols[o]===i)return _svgMatteSymbols[o];o+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(i,o){var _=i.layerElement.parentNode;if(_){for(var j=_.children,_e=0,et=j.length;_e<et&&j[_e]!==i.layerElement;)_e+=1;var tt;_e<=et-2&&(tt=j[_e+1]);var rt=createNS("use");rt.setAttribute("href","#"+o),tt?_.insertBefore(rt,tt):_.appendChild(rt)}},SVGMatte3Effect.prototype.setElementAsMask=function(i,o){if(!this.findSymbol(o)){var _=createElementID(),j=createNS("mask");j.setAttribute("id",o.layerId),j.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(o);var _e=i.globalData.defs;_e.appendChild(j);var et=createNS("symbol");et.setAttribute("id",_),this.replaceInParent(o,_),et.appendChild(o.layerElement),_e.appendChild(et);var tt=createNS("use");tt.setAttribute("href","#"+_),j.appendChild(tt),o.data.hd=!1,o.show()}i.setMatte(o.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var i=this.filterManager.effectElements[0].p.v,o=this.elem.comp.elements,_=0,j=o.length;_<j;)o[_]&&o[_].data.ind===i&&this.setElementAsMask(this.elem,o[_]),_+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(i,o,_,j){i.setAttribute("x","-100%"),i.setAttribute("y","-100%"),i.setAttribute("width","300%"),i.setAttribute("height","300%"),this.filterManager=o;var _e=createNS("feGaussianBlur");_e.setAttribute("result",j),i.appendChild(_e),this.feGaussianBlur=_e}SVGGaussianBlurEffect.prototype.renderFrame=function(i){if(i||this.filterManager._mdf){var o=.3,_=this.filterManager.effectElements[0].p.v*o,j=this.filterManager.effectElements[1].p.v,_e=j==3?0:_,et=j==2?0:_;this.feGaussianBlur.setAttribute("stdDeviation",_e+" "+et);var tt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",tt)}};function TransformEffect(){}TransformEffect.prototype.init=function(i){this.effectsManager=i,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(i){if(this._opMdf=!1,this._mdf=!1,i||this.effectsManager._mdf){var o=this.effectsManager.effectElements,_=o[0].p.v,j=o[1].p.v,_e=o[2].p.v===1,et=o[3].p.v,tt=_e?et:o[4].p.v,rt=o[5].p.v,nt=o[6].p.v,st=o[7].p.v;this.matrix.reset(),this.matrix.translate(-_[0],-_[1],_[2]),this.matrix.scale(tt*.01,et*.01,1),this.matrix.rotate(-st*degToRads),this.matrix.skewFromAxis(-rt*degToRads,(nt+90)*degToRads),this.matrix.translate(j[0],j[1],0),this._mdf=!0,this.opacity!==o[8].p.v&&(this.opacity=o[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(i,o){this.init(o)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(i){this.init(i)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(i,o){(o==null||o>i.length)&&(o=i.length);for(var _=0,j=Array(o);_<o;_++)j[_]=i[_];return j}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _defineProperty(i,o,_){return(o=_toPropertyKey(o))in i?Object.defineProperty(i,o,{value:_,enumerable:!0,configurable:!0,writable:!0}):i[o]=_,i}function _iterableToArrayLimit(i,o){var _=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(_!=null){var j,_e,et,tt,rt=[],nt=!0,st=!1;try{if(et=(_=_.call(i)).next,o!==0)for(;!(nt=(j=et.call(_)).done)&&(rt.push(j.value),rt.length!==o);nt=!0);}catch(it){st=!0,_e=it}finally{try{if(!nt&&_.return!=null&&(tt=_.return(),Object(tt)!==tt))return}finally{if(st)throw _e}}return rt}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(i,o){var _=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);o&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(i,_e).enumerable})),_.push.apply(_,j)}return _}function _objectSpread2(i){for(var o=1;o<arguments.length;o++){var _=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(_),!0).forEach(function(j){_defineProperty(i,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(_,j))})}return i}function _objectWithoutProperties(i,o){if(i==null)return{};var _,j,_e=_objectWithoutPropertiesLoose(i,o);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(i);for(j=0;j<et.length;j++)_=et[j],o.includes(_)||{}.propertyIsEnumerable.call(i,_)&&(_e[_]=i[_])}return _e}function _objectWithoutPropertiesLoose(i,o){if(i==null)return{};var _={};for(var j in i)if({}.hasOwnProperty.call(i,j)){if(o.includes(j))continue;_[j]=i[j]}return _}function _slicedToArray(i,o){return _arrayWithHoles(i)||_iterableToArrayLimit(i,o)||_unsupportedIterableToArray(i,o)||_nonIterableRest()}function _toPrimitive(i,o){if(typeof i!="object"||!i)return i;var _=i[Symbol.toPrimitive];if(_!==void 0){var j=_.call(i,o);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function _toPropertyKey(i){var o=_toPrimitive(i,"string");return typeof o=="symbol"?o:o+""}function _unsupportedIterableToArray(i,o){if(i){if(typeof i=="string")return _arrayLikeToArray(i,o);var _={}.toString.call(i).slice(8,-1);return _==="Object"&&i.constructor&&(_=i.constructor.name),_==="Map"||_==="Set"?Array.from(i):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?_arrayLikeToArray(i,o):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function i(o,_){var j=o.animationData,_e=o.loop,et=o.autoplay,tt=o.initialSegment,rt=o.onComplete,nt=o.onLoopComplete,st=o.onEnterFrame,it=o.onSegmentStart,at=o.onConfigReady,ot=o.onDataReady,ct=o.onDataFailed,ut=o.onLoadedImages,lt=o.onDOMLoaded,pt=o.onDestroy;o.lottieRef,o.renderer,o.name,o.assetsPath,o.rendererSettings;var dt=_objectWithoutProperties(o,_excluded$1),ht=reactExports.useState(!1),ft=_slicedToArray(ht,2),mt=ft[0],xt=ft[1],gt=reactExports.useRef(),yt=reactExports.useRef(null),_t=function(){var Ct;(Ct=gt.current)===null||Ct===void 0||Ct.play()},Et=function(){var Ct;(Ct=gt.current)===null||Ct===void 0||Ct.stop()},wt=function(){var Ct;(Ct=gt.current)===null||Ct===void 0||Ct.pause()},$t=function(Ct){var Lt;(Lt=gt.current)===null||Lt===void 0||Lt.setSpeed(Ct)},jt=function(Ct,Lt){var It;(It=gt.current)===null||It===void 0||It.goToAndPlay(Ct,Lt)},Tt=function(Ct,Lt){var It;(It=gt.current)===null||It===void 0||It.goToAndStop(Ct,Lt)},kt=function(Ct){var Lt;(Lt=gt.current)===null||Lt===void 0||Lt.setDirection(Ct)},Pt=function(Ct,Lt){var It;(It=gt.current)===null||It===void 0||It.playSegments(Ct,Lt)},St=function(Ct){var Lt;(Lt=gt.current)===null||Lt===void 0||Lt.setSubframe(Ct)},Rt=function(Ct){var Lt;return(Lt=gt.current)===null||Lt===void 0?void 0:Lt.getDuration(Ct)},bt=function(){var Ct;(Ct=gt.current)===null||Ct===void 0||Ct.destroy(),gt.current=void 0},vt=function(){var Ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Lt;if(yt.current){(Lt=gt.current)===null||Lt===void 0||Lt.destroy();var It=_objectSpread2(_objectSpread2(_objectSpread2({},o),Ct),{},{container:yt.current});return gt.current=lottie.loadAnimation(It),xt(!!gt.current),function(){var Dt;(Dt=gt.current)===null||Dt===void 0||Dt.destroy(),gt.current=void 0}}};reactExports.useEffect(function(){var Ot=vt();return function(){return Ot==null?void 0:Ot()}},[j,_e]),reactExports.useEffect(function(){gt.current&&(gt.current.autoplay=!!et)},[et]),reactExports.useEffect(function(){if(gt.current){if(!tt){gt.current.resetSegments(!0);return}!Array.isArray(tt)||!tt.length||((gt.current.currentRawFrame<tt[0]||gt.current.currentRawFrame>tt[1])&&(gt.current.currentRawFrame=tt[0]),gt.current.setSegment(tt[0],tt[1]))}},[tt]),reactExports.useEffect(function(){var Ot=[{name:"complete",handler:rt},{name:"loopComplete",handler:nt},{name:"enterFrame",handler:st},{name:"segmentStart",handler:it},{name:"config_ready",handler:at},{name:"data_ready",handler:ot},{name:"data_failed",handler:ct},{name:"loaded_images",handler:ut},{name:"DOMLoaded",handler:lt},{name:"destroy",handler:pt}],Ct=Ot.filter(function(It){return It.handler!=null});if(Ct.length){var Lt=Ct.map(function(It){var Dt;return(Dt=gt.current)===null||Dt===void 0||Dt.addEventListener(It.name,It.handler),function(){var Zt;(Zt=gt.current)===null||Zt===void 0||Zt.removeEventListener(It.name,It.handler)}});return function(){Lt.forEach(function(It){return It()})}}},[rt,nt,st,it,at,ot,ct,ut,lt,pt]);var At=React$7.createElement("div",_objectSpread2({style:_,ref:yt},dt));return{View:At,play:_t,stop:Et,pause:wt,setSpeed:$t,goToAndStop:Tt,goToAndPlay:jt,setDirection:kt,playSegments:Pt,setSubframe:St,getDuration:Rt,destroy:bt,animationContainerRef:yt,animationLoaded:mt,animationItem:gt.current}};function getContainerVisibility(i){var o=i.getBoundingClientRect(),_=o.top,j=o.height,_e=window.innerHeight-_,et=window.innerHeight+j;return _e/et}function getContainerCursorPosition(i,o,_){var j=i.getBoundingClientRect(),_e=j.top,et=j.left,tt=j.width,rt=j.height,nt=(o-et)/tt,st=(_-_e)/rt;return{x:nt,y:st}}var useInitInteractivity=function i(o){var _=o.wrapperRef,j=o.animationItem,_e=o.mode,et=o.actions;reactExports.useEffect(function(){var tt=_.current;if(!(!tt||!j||!et.length)){j.stop();var rt=function(){var it=null,at=function(){var ct=getContainerVisibility(tt),ut=et.find(function(pt){var dt=pt.visibility;return dt&&ct>=dt[0]&&ct<=dt[1]});if(ut){if(ut.type==="seek"&&ut.visibility&&ut.frames.length===2){var lt=ut.frames[0]+Math.ceil((ct-ut.visibility[0])/(ut.visibility[1]-ut.visibility[0])*ut.frames[1]);//! goToAndStop must be relative to the start of the current segment
j.goToAndStop(lt-j.firstFrame-1,!0)}ut.type==="loop"&&(it===null||it!==ut.frames||j.isPaused)&&(j.playSegments(ut.frames,!0),it=ut.frames),ut.type==="play"&&j.isPaused&&(j.resetSegments(!0),j.play()),ut.type==="stop"&&j.goToAndStop(ut.frames[0]-j.firstFrame-1,!0)}};return document.addEventListener("scroll",at),function(){document.removeEventListener("scroll",at)}},nt=function(){var it=function(ut,lt){var pt=ut,dt=lt;if(pt!==-1&&dt!==-1){var ht=getContainerCursorPosition(tt,pt,dt);pt=ht.x,dt=ht.y}var ft=et.find(function(gt){var yt=gt.position;return yt&&Array.isArray(yt.x)&&Array.isArray(yt.y)?pt>=yt.x[0]&&pt<=yt.x[1]&&dt>=yt.y[0]&&dt<=yt.y[1]:yt&&!Number.isNaN(yt.x)&&!Number.isNaN(yt.y)?pt===yt.x&&dt===yt.y:!1});if(ft){if(ft.type==="seek"&&ft.position&&Array.isArray(ft.position.x)&&Array.isArray(ft.position.y)&&ft.frames.length===2){var mt=(pt-ft.position.x[0])/(ft.position.x[1]-ft.position.x[0]),xt=(dt-ft.position.y[0])/(ft.position.y[1]-ft.position.y[0]);j.playSegments(ft.frames,!0),j.goToAndStop(Math.ceil((mt+xt)/2*(ft.frames[1]-ft.frames[0])),!0)}ft.type==="loop"&&j.playSegments(ft.frames,!0),ft.type==="play"&&(j.isPaused&&j.resetSegments(!1),j.playSegments(ft.frames)),ft.type==="stop"&&j.goToAndStop(ft.frames[0],!0)}},at=function(ut){it(ut.clientX,ut.clientY)},ot=function(){it(-1,-1)};return tt.addEventListener("mousemove",at),tt.addEventListener("mouseout",ot),function(){tt.removeEventListener("mousemove",at),tt.removeEventListener("mouseout",ot)}};switch(_e){case"scroll":return rt();case"cursor":return nt()}}},[_e,j])},useLottieInteractivity=function i(o){var _=o.actions,j=o.mode,_e=o.lottieObj,et=_e.animationItem,tt=_e.View,rt=_e.animationContainerRef;return useInitInteractivity({actions:_,animationItem:et,mode:j,wrapperRef:rt}),tt},_excluded=["style","interactivity"],Lottie=function i(o){var _,j,_e,et=o.style,tt=o.interactivity,rt=_objectWithoutProperties(o,_excluded),nt=useLottie(rt,et),st=nt.View,it=nt.play,at=nt.stop,ot=nt.pause,ct=nt.setSpeed,ut=nt.goToAndStop,lt=nt.goToAndPlay,pt=nt.setDirection,dt=nt.playSegments,ht=nt.setSubframe,ft=nt.getDuration,mt=nt.destroy,xt=nt.animationContainerRef,gt=nt.animationLoaded,yt=nt.animationItem;return reactExports.useEffect(function(){o.lottieRef&&(o.lottieRef.current={play:it,stop:at,pause:ot,setSpeed:ct,goToAndPlay:lt,goToAndStop:ut,setDirection:pt,playSegments:dt,setSubframe:ht,getDuration:ft,destroy:mt,animationContainerRef:xt,animationLoaded:gt,animationItem:yt})},[(_=o.lottieRef)===null||_===void 0?void 0:_.current]),useLottieInteractivity({lottieObj:{View:st,play:it,stop:at,pause:ot,setSpeed:ct,goToAndStop:ut,goToAndPlay:lt,setDirection:pt,playSegments:dt,setSubframe:ht,getDuration:ft,destroy:mt,animationContainerRef:xt,animationLoaded:gt,animationItem:yt},actions:(j=tt==null?void 0:tt.actions)!==null&&j!==void 0?j:[],mode:(_e=tt==null?void 0:tt.mode)!==null&&_e!==void 0?_e:"scroll"})};const v="5.7.4",fr=30,ip=0,op=60,w=200,h=200,nm="Loading",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:60,s:[360]}]},p:{a:0,k:[100,100,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"el",d:1,s:{a:0,k:[80,80]},p:{a:0,k:[0,0]},nm:"Ellipse"},{ty:"st",c:{a:0,k:[.475,.855,.914,1]},o:{a:0,k:100},w:{a:0,k:8},lc:2,lj:1,ml:4,d:[{n:"d",nm:"dash",v:{a:0,k:50}},{n:"g",nm:"gap",v:{a:0,k:100}},{n:"o",nm:"offset",v:{a:0,k:0}}],nm:"Stroke"}],ip:0,op:60,st:0}],loaderAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers},routeMessages={"/dashboard":"Loading Dashboard...","/orders":"Fetching Orders...","/orders/new":"Preparing New Order...","/customers":"Fetching Customer Data...","/customers/new":"Loading Customer Form...","/analytics":"Loading Analytics...","/analytics/overview":"Preparing Analytics Overview...","/analytics/custom":"Loading Custom Dashboard...","/products":"Loading Products...","/brands":"Fetching Brand Information...","/settings":"Loading Settings...","/profile":"Loading Profile..."},ProgressLoader=({progress:i=0,message:o,isVisible:_,fullscreen:j=!0})=>{const _e=useLocation(),[et,tt]=reactExports.useState(0),rt=()=>{if(o)return o;if(routeMessages[_e.pathname])return routeMessages[_e.pathname];const nt=_e.pathname.split("/").filter(Boolean);for(let st=nt.length;st>0;st--){const it="/"+nt.slice(0,st).join("/");if(routeMessages[it])return routeMessages[it]}return"Loading..."};return reactExports.useEffect(()=>{if(i!==void 0){const nt=setTimeout(()=>{tt(i)},100);return()=>clearTimeout(nt)}},[i]),reactExports.useEffect(()=>{if(_&&i===void 0){const nt=setInterval(()=>{tt(st=>st>=90?90:st+Math.random()*10)},500);return()=>clearInterval(nt)}},[_,i]),reactExports.useEffect(()=>{if(!_){const nt=setTimeout(()=>{tt(0)},300);return()=>clearTimeout(nt)}},[_]),_?jsxRuntimeExports.jsxs("div",{className:`progress-loader-overlay ${j?"fullscreen":""}`,children:[jsxRuntimeExports.jsx("div",{className:"progress-loader-backdrop"}),jsxRuntimeExports.jsx("div",{className:"progress-loader-container",children:jsxRuntimeExports.jsxs("div",{className:"progress-loader-content",children:[jsxRuntimeExports.jsx("div",{className:"progress-loader-animation",children:jsxRuntimeExports.jsx(Lottie,{animationData:loaderAnimation,loop:!0,autoplay:!0,style:{width:120,height:120}})}),jsxRuntimeExports.jsx("div",{className:"progress-info",children:jsxRuntimeExports.jsx("h3",{className:"progress-message",children:rt()})}),jsxRuntimeExports.jsxs("div",{className:"progress-loader-bar-container",children:[jsxRuntimeExports.jsx("div",{className:"progress-loader-bar",children:jsxRuntimeExports.jsx("div",{className:"progress-bar-fill",style:{width:`${Math.min(100,Math.max(0,et))}%`}})}),jsxRuntimeExports.jsxs("span",{className:"progress-percentage",children:[Math.round(et),"%"]})]})]})})]}):null},imageManagementContainer="_imageManagementContainer_1xhs5_4",imageHeader="_imageHeader_1xhs5_11",headerLeft="_headerLeft_1xhs5_19",headerSubtitle="_headerSubtitle_1xhs5_30",headerRight="_headerRight_1xhs5_36",batchUploadButton="_batchUploadButton_1xhs5_73",uploadButton$1="_uploadButton_1xhs5_121",refreshButton$1="_refreshButton_1xhs5_141",refreshIcon="_refreshIcon_1xhs5_161",refreshing="_refreshing_1xhs5_166",statsGrid="_statsGrid_1xhs5_177",statCard$1="_statCard_1xhs5_184",statIcon="_statIcon_1xhs5_218",statContent="_statContent_1xhs5_230",statValue$3="_statValue_1xhs5_238",brandFilters="_brandFilters_1xhs5_249",brandPill="_brandPill_1xhs5_260",active$2="_active_1xhs5_278",controlsSection="_controlsSection_1xhs5_289",searchContainer$1="_searchContainer_1xhs5_298",searchIcon$2="_searchIcon_1xhs5_304",searchInput$2="_searchInput_1xhs5_314",clearSearch="_clearSearch_1xhs5_336",controlsRight="_controlsRight_1xhs5_354",selectionInfo="_selectionInfo_1xhs5_360",bulkDeleteBtn="_bulkDeleteBtn_1xhs5_372",sortSelect="_sortSelect_1xhs5_388",selectAllContainer="_selectAllContainer_1xhs5_432",contentArea="_contentArea_1xhs5_462",imagesGrid="_imagesGrid_1xhs5_466",emptyState$4="_emptyState_1xhs5_481",emptyIcon="_emptyIcon_1xhs5_497",clearFiltersBtn="_clearFiltersBtn_1xhs5_510",errorBanner$1="_errorBanner_1xhs5_529",pagination="_pagination_1xhs5_556",paginationBtn="_paginationBtn_1xhs5_564",pageInfo="_pageInfo_1xhs5_586",styles$7={imageManagementContainer,imageHeader,headerLeft,headerSubtitle,headerRight,batchUploadButton,uploadButton:uploadButton$1,refreshButton:refreshButton$1,refreshIcon,refreshing,statsGrid,statCard:statCard$1,statIcon,statContent,statValue:statValue$3,brandFilters,brandPill,active:active$2,controlsSection,searchContainer:searchContainer$1,searchIcon:searchIcon$2,searchInput:searchInput$2,clearSearch,controlsRight,selectionInfo,bulkDeleteBtn,sortSelect,selectAllContainer,contentArea,imagesGrid,emptyState:emptyState$4,emptyIcon,clearFiltersBtn,errorBanner:errorBanner$1,pagination,paginationBtn,pageInfo},imageCard="_imageCard_fjgh6_7",selected$1="_selected_fjgh6_24",selectionCheckbox="_selectionCheckbox_fjgh6_30",brandTag="_brandTag_fjgh6_57",imagePreview="_imagePreview_fjgh6_72",imagePlaceholder="_imagePlaceholder_fjgh6_89",hoverOverlay="_hoverOverlay_fjgh6_109",hoverActions="_hoverActions_fjgh6_129",hoverActionBtn="_hoverActionBtn_fjgh6_135",deleteBtn$1="_deleteBtn_fjgh6_154",infoBtn="_infoBtn_fjgh6_160",imageName="_imageName_fjgh6_175",imageMeta="_imageMeta_fjgh6_187",metaItem$1="_metaItem_fjgh6_196",detailsModal="_detailsModal_fjgh6_244",detailsContent="_detailsContent_fjgh6_259",detailsHeader="_detailsHeader_fjgh6_270",closeDetailsBtn="_closeDetailsBtn_fjgh6_285",detailsBody="_detailsBody_fjgh6_304",detailRow="_detailRow_fjgh6_323",detailLabel="_detailLabel_fjgh6_329",detailValue="_detailValue_fjgh6_333",urlRow="_urlRow_fjgh6_342",urlContainer="_urlContainer_fjgh6_349",urlInput="_urlInput_fjgh6_355",copyUrlBtn="_copyUrlBtn_fjgh6_368",styles$6={imageCard,selected:selected$1,selectionCheckbox,brandTag,imagePreview,imagePlaceholder,hoverOverlay,hoverActions,hoverActionBtn,deleteBtn:deleteBtn$1,infoBtn,imageName,imageMeta,metaItem:metaItem$1,detailsModal,detailsContent,detailsHeader,closeDetailsBtn,detailsBody,detailRow,detailLabel,detailValue,urlRow,urlContainer,urlInput,copyUrlBtn},ImageCard=({image:i,isSelected:o,onSelect:_,onDelete:j,brandColor:_e})=>{const[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(!1),[st,it]=reactExports.useState(!1),at=lt=>lt<1024?lt+" B":lt<1024*1024?(lt/1024).toFixed(1)+" KB":(lt/1024/1024).toFixed(2)+" MB",ot=lt=>new Date(lt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),ct=async()=>{try{await navigator.clipboard.writeText(i.url),it(!0),setTimeout(()=>it(!1),2e3)}catch(lt){console.error("Failed to copy URL:",lt)}},ut=()=>{const lt=document.createElement("a");lt.href=i.url,lt.download=i.name,lt.target="_blank",document.body.appendChild(lt),lt.click(),document.body.removeChild(lt)};return jsxRuntimeExports.jsxs("div",{className:`${styles$6.imageCard} ${o?styles$6.selected:""}`,children:[jsxRuntimeExports.jsx("div",{className:styles$6.selectionCheckbox,onClick:lt=>{lt.stopPropagation(),_()},children:jsxRuntimeExports.jsx("input",{type:"checkbox",checked:o,onChange:()=>{}})}),jsxRuntimeExports.jsx("div",{className:styles$6.brandTag,style:{"--brand-color":_e},children:i.brand_name}),jsxRuntimeExports.jsx("div",{className:styles$6.imagePreview,children:et?jsxRuntimeExports.jsxs("div",{className:styles$6.imagePlaceholder,children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("p",{children:"Unable to load image"})]}):jsxRuntimeExports.jsx("img",{src:i.url,alt:i.name,onError:()=>tt(!0),loading:"lazy"})}),jsxRuntimeExports.jsx("div",{className:styles$6.hoverOverlay,children:jsxRuntimeExports.jsxs("div",{className:styles$6.hoverActions,children:[jsxRuntimeExports.jsx("button",{className:styles$6.hoverActionBtn,onClick:lt=>{lt.stopPropagation(),ut()},title:"Download",children:jsxRuntimeExports.jsx("span",{children:""})}),jsxRuntimeExports.jsx("button",{className:styles$6.hoverActionBtn,onClick:lt=>{lt.stopPropagation(),ct()},title:"Copy URL",children:jsxRuntimeExports.jsx("span",{children:st?"":""})}),jsxRuntimeExports.jsx("button",{className:`${styles$6.hoverActionBtn} ${styles$6.infoBtn}`,onClick:lt=>{lt.stopPropagation(),nt(!rt)},title:"View Details",children:jsxRuntimeExports.jsx("span",{children:""})}),jsxRuntimeExports.jsx("button",{className:`${styles$6.hoverActionBtn} ${styles$6.deleteBtn}`,onClick:lt=>{lt.stopPropagation(),j()},title:"Delete",children:jsxRuntimeExports.jsx("span",{children:""})})]})}),jsxRuntimeExports.jsx("div",{className:styles$6.imageName,title:i.name,children:i.name}),jsxRuntimeExports.jsxs("div",{className:styles$6.imageMeta,children:[jsxRuntimeExports.jsx("span",{className:styles$6.metaItem,children:at(i.size)}),jsxRuntimeExports.jsx("span",{className:styles$6.metaItem,children:new Date(i.uploaded_at).toLocaleDateString()})]}),rt&&reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{className:styles$6.detailsModal,onClick:()=>nt(!1),children:jsxRuntimeExports.jsxs("div",{className:styles$6.detailsContent,onClick:lt=>lt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$6.detailsHeader,children:[jsxRuntimeExports.jsx("h3",{children:"Image Details"}),jsxRuntimeExports.jsx("button",{className:styles$6.closeDetailsBtn,onClick:()=>nt(!1),children:""})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.detailsBody,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.detailRow,children:[jsxRuntimeExports.jsx("span",{className:styles$6.detailLabel,children:"Filename:"}),jsxRuntimeExports.jsx("span",{className:styles$6.detailValue,children:i.name})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.detailRow,children:[jsxRuntimeExports.jsx("span",{className:styles$6.detailLabel,children:"Brand:"}),jsxRuntimeExports.jsx("span",{className:styles$6.detailValue,children:i.brand_name})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.detailRow,children:[jsxRuntimeExports.jsx("span",{className:styles$6.detailLabel,children:"Size:"}),jsxRuntimeExports.jsx("span",{className:styles$6.detailValue,children:at(i.size)})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.detailRow,children:[jsxRuntimeExports.jsx("span",{className:styles$6.detailLabel,children:"Type:"}),jsxRuntimeExports.jsx("span",{className:styles$6.detailValue,children:i.content_type})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.detailRow,children:[jsxRuntimeExports.jsx("span",{className:styles$6.detailLabel,children:"Uploaded:"}),jsxRuntimeExports.jsx("span",{className:styles$6.detailValue,children:ot(i.uploaded_at)})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.detailRow,children:[jsxRuntimeExports.jsx("span",{className:styles$6.detailLabel,children:"ID:"}),jsxRuntimeExports.jsx("span",{className:styles$6.detailValue,children:i.id})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.urlRow,children:[jsxRuntimeExports.jsx("label",{className:styles$6.detailLabel,children:"URL:"}),jsxRuntimeExports.jsxs("div",{className:styles$6.urlContainer,children:[jsxRuntimeExports.jsx("input",{type:"text",value:i.url,readOnly:!0,className:styles$6.urlInput}),jsxRuntimeExports.jsx("button",{className:styles$6.copyUrlBtn,onClick:ct,children:st?"Copied!":"Copy"})]})]})]})]})}),document.body)]})},modalOverlay$2="_modalOverlay_pu16j_2",modalContent$1="_modalContent_pu16j_17",modalHeader$2="_modalHeader_pu16j_32",closeButton$1="_closeButton_pu16j_50",modalBody="_modalBody_pu16j_65",formGroup$1="_formGroup_pu16j_71",dropZone$1="_dropZone_pu16j_111",dragActive="_dragActive_pu16j_132",dropZoneContent="_dropZoneContent_pu16j_138",fileTypes="_fileTypes_pu16j_166",uploadButton="_uploadButton_pu16j_172",progressBar$1="_progressBar_pu16j_204",progressFill$1="_progressFill_pu16j_214",errorMessage="_errorMessage_pu16j_238",modalFooter="_modalFooter_pu16j_290",cancelButton="_cancelButton_pu16j_299",fileInput="_fileInput_pu16j_322",filePreviewsContainer="_filePreviewsContainer_pu16j_327",filePreviews="_filePreviews_pu16j_327",filePreviewItem="_filePreviewItem_pu16j_346",previewImageContainer="_previewImageContainer_pu16j_357",previewInfo="_previewInfo_pu16j_372",fileName$1="_fileName_pu16j_377",fileSize$1="_fileSize_pu16j_386",fileBrandSelect="_fileBrandSelect_pu16j_392",removeFileBtn="_removeFileBtn_pu16j_403",errorContainer="_errorContainer_pu16j_427",uploadProgressContainer="_uploadProgressContainer_pu16j_432",progressText="_progressText_pu16j_436",styles$5={modalOverlay:modalOverlay$2,modalContent:modalContent$1,modalHeader:modalHeader$2,closeButton:closeButton$1,modalBody,formGroup:formGroup$1,dropZone:dropZone$1,dragActive,dropZoneContent,fileTypes,uploadButton,progressBar:progressBar$1,progressFill:progressFill$1,errorMessage,modalFooter,cancelButton,fileInput,filePreviewsContainer,filePreviews,filePreviewItem,previewImageContainer,previewInfo,fileName:fileName$1,fileSize:fileSize$1,fileBrandSelect,removeFileBtn,errorContainer,uploadProgressContainer,progressText},ImageUploadModal=({brands:i,onClose:o,onUploadSuccess:_,defaultBrand:j})=>{var Et;const[_e,et]=reactExports.useState(j||((Et=i[0])==null?void 0:Et.id)||""),[tt,rt]=reactExports.useState([]),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(0),[ot,ct]=reactExports.useState([]),[ut,lt]=reactExports.useState(!1),pt=reactExports.useRef(null),dt=wt=>{const $t=Array.from(wt.target.files||[]);ht($t)},ht=wt=>{ct([]);const $t=[];wt.forEach(jt=>{if(!jt.type.startsWith("image/")){$t.push(`${jt.name} is not an image file`);return}const Tt=new FileReader;Tt.onload=kt=>{var St,Rt;const Pt={file:jt,preview:(St=kt.target)==null?void 0:St.result,name:jt.name,size:jt.size,brand:_e||((Rt=i[0])==null?void 0:Rt.id)||""};rt(bt=>[...bt,Pt])},Tt.readAsDataURL(jt)}),$t.length>0&&ct($t)},ft=reactExports.useCallback(wt=>{wt.preventDefault(),wt.stopPropagation(),wt.type==="dragenter"||wt.type==="dragover"?lt(!0):wt.type==="dragleave"&&lt(!1)},[]),mt=reactExports.useCallback(wt=>{wt.preventDefault(),wt.stopPropagation(),lt(!1);const $t=Array.from(wt.dataTransfer.files);ht($t)},[_e]),xt=wt=>{rt($t=>$t.filter((jt,Tt)=>Tt!==wt))},gt=(wt,$t)=>{rt(jt=>jt.map((Tt,kt)=>kt===wt?{...Tt,brand:$t}:Tt))},yt=async()=>{var $t;const wt=tt.filter(jt=>!jt.brand);if(wt.length>0){ct([`Please select a brand for: ${wt.map(jt=>jt.name).join(", ")}`]);return}st(!0),at(0),ct([]);try{const jt=tt.length;let Tt=0;const kt=[];for(const Pt of tt)try{const St=(($t=i.find(Rt=>Rt.id===Pt.brand))==null?void 0:$t.brand_name)||"Unknown";console.log(`Uploading ${Pt.file.name} to brand: ${St}`),await new Promise(Rt=>setTimeout(Rt,500)),console.warn("File upload not yet implemented - backend endpoint needed"),kt.push(`Upload pending: ${Pt.name} (backend not implemented)`),Tt++,at(Math.round(Tt/jt*100))}catch(St){console.error(`Error uploading ${Pt.name}:`,St),kt.push(`Failed to upload ${Pt.name}`),Tt++,at(Math.round(Tt/jt*100))}kt.length>0?ct(kt):_()}catch(jt){console.error("Upload error:",jt),ct([jt instanceof Error?jt.message:"An error occurred during upload"])}finally{st(!1)}},_t=wt=>wt<1024?wt+" B":wt<1024*1024?(wt/1024).toFixed(1)+" KB":(wt/1024/1024).toFixed(2)+" MB";return jsxRuntimeExports.jsx("div",{className:styles$5.modalOverlay,onClick:o,children:jsxRuntimeExports.jsxs("div",{className:styles$5.modalContent,onClick:wt=>wt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$5.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Upload Images"}),jsxRuntimeExports.jsx("button",{className:styles$5.closeButton,onClick:o,children:"X"})]}),jsxRuntimeExports.jsxs("div",{className:styles$5.modalBody,children:[jsxRuntimeExports.jsxs("div",{className:styles$5.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Default Brand for New Files"}),jsxRuntimeExports.jsxs("select",{value:_e,onChange:wt=>{et(wt.target.value),rt($t=>$t.map(jt=>jt.brand?jt:{...jt,brand:wt.target.value}))},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a brand..."}),i.map(wt=>jsxRuntimeExports.jsx("option",{value:wt.id,children:wt.brand_name},wt.id))]}),tt.length===0&&jsxRuntimeExports.jsx("small",{style:{color:"#94a3b8",fontSize:"0.75rem",marginTop:"0.25rem",display:"block"},children:"This will be applied to newly uploaded files. You can change individual file brands below."})]}),jsxRuntimeExports.jsxs("div",{className:`${styles$5.dropZone} ${ut?styles$5.dragActive:""}`,onDragEnter:ft,onDragLeave:ft,onDragOver:ft,onDrop:mt,onClick:()=>{var wt;return(wt=pt.current)==null?void 0:wt.click()},children:[jsxRuntimeExports.jsx("input",{ref:pt,type:"file",multiple:!0,accept:"image/*",onChange:dt,className:styles$5.fileInput}),jsxRuntimeExports.jsxs("div",{className:styles$5.dropZoneContent,children:[jsxRuntimeExports.jsx("span",{children:"Upload"}),jsxRuntimeExports.jsx("h3",{children:"Drop images here or click to browse"}),jsxRuntimeExports.jsx("p",{children:"Support for JPG, PNG, WebP, GIF"}),jsxRuntimeExports.jsx("p",{className:styles$5.fileTypes,children:"Maximum 10MB per file"})]})]}),ot.length>0&&jsxRuntimeExports.jsx("div",{className:styles$5.errorContainer,children:ot.map((wt,$t)=>jsxRuntimeExports.jsxs("div",{className:styles$5.errorMessage,children:["Warning: ",wt]},$t))}),tt.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$5.filePreviewsContainer,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[jsxRuntimeExports.jsxs("h3",{style:{margin:0},children:["Selected Files (",tt.length,")"]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:jsxRuntimeExports.jsxs("select",{onChange:wt=>{wt.target.value&&(rt($t=>$t.map(jt=>({...jt,brand:wt.target.value}))),wt.target.value="")},style:{padding:"0.375rem 0.5rem",fontSize:"0.75rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#ffffff"},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Apply brand to all..."}),i.map(wt=>jsxRuntimeExports.jsx("option",{value:wt.id,children:wt.brand_name},wt.id))]})})]}),jsxRuntimeExports.jsx("div",{className:styles$5.filePreviews,children:tt.map((wt,$t)=>jsxRuntimeExports.jsxs("div",{className:styles$5.filePreviewItem,children:[jsxRuntimeExports.jsx("div",{className:styles$5.previewImageContainer,children:jsxRuntimeExports.jsx("img",{src:wt.preview,alt:wt.name})}),jsxRuntimeExports.jsxs("div",{className:styles$5.previewInfo,children:[jsxRuntimeExports.jsx("div",{className:styles$5.fileName,title:wt.name,children:wt.name}),jsxRuntimeExports.jsx("div",{className:styles$5.fileSize,children:_t(wt.size)}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[jsxRuntimeExports.jsx("label",{style:{fontSize:"0.75rem",color:"#94a3b8",fontWeight:"500"},children:"Brand:"}),jsxRuntimeExports.jsxs("select",{value:wt.brand||"",onChange:jt=>gt($t,jt.target.value),className:styles$5.fileBrandSelect,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select brand..."}),i.map(jt=>jsxRuntimeExports.jsx("option",{value:jt.id,children:jt.brand_name},jt.id))]})]})]}),jsxRuntimeExports.jsx("button",{className:styles$5.removeFileBtn,onClick:()=>xt($t),children:"X"})]},$t))})]}),nt&&jsxRuntimeExports.jsxs("div",{className:styles$5.uploadProgressContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$5.progressBar,children:jsxRuntimeExports.jsx("div",{className:styles$5.progressFill,style:{width:`${it}%`}})}),jsxRuntimeExports.jsxs("p",{className:styles$5.progressText,children:["Uploading... ",it,"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$5.modalFooter,children:[jsxRuntimeExports.jsx("button",{className:styles$5.cancelButton,onClick:o,disabled:nt,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:styles$5.uploadButton,onClick:yt,disabled:tt.length===0||nt,children:nt?"Uploading...":`Upload ${tt.length} Image${tt.length!==1?"s":""}`})]})]})})};class ImageProcessingService{constructor(){this.canvas=null,typeof window<"u"&&(this.canvas=document.createElement("canvas"))}async getProductSKUs(o,_){var j;try{const _e={status:"active"};return _&&(_e.brand=_),((j=(await productService.list(_e)).data)==null?void 0:j.map(tt=>({sku:tt.sku,name:tt.name,brand_name:tt.brand||"Unknown"})))||[]}catch(_e){return console.error("Error fetching product SKUs:",_e),[]}}matchSKUFromFilename(o,_){const j=o.replace(/\.[^/.]+$/,"").replace(/[_\-\s]+/g," ").toUpperCase();let _e=null;for(const et of _){const tt=et.sku.toUpperCase(),rt=this.calculateSKUMatchConfidence(j,tt);rt>.7&&(!_e||rt>_e.confidence)&&(_e={sku:et.sku,confidence:rt,productInfo:et})}return _e}calculateSKUMatchConfidence(o,_){if(o.includes(_))return 1;if(o.startsWith(_))return .95;if(o.endsWith(_))return .9;const j=[_,_.replace(/[^a-zA-Z0-9]/g,""),_.replace(/[^a-zA-Z0-9]/g,"").split("").join("[-_\\s]*")];for(const et of j)try{if(new RegExp(et,"i").test(o))return .8}catch{}return this.calculateStringSimilarity(o,_)>.8?.75:0}calculateStringSimilarity(o,_){const j=o.length,_e=_.length,et=Array(j+1).fill(null).map(()=>Array(_e+1).fill(null));for(let rt=0;rt<=j;rt++)et[rt][0]=rt;for(let rt=0;rt<=_e;rt++)et[0][rt]=rt;for(let rt=1;rt<=j;rt++)for(let nt=1;nt<=_e;nt++){const st=o[rt-1]===_[nt-1]?0:1;et[rt][nt]=Math.min(et[rt-1][nt]+1,et[rt][nt-1]+1,et[rt-1][nt-1]+st)}const tt=Math.max(j,_e);return tt===0?1:(tt-et[j][_e])/tt}async convertToWebP(o,_=.8){return new Promise((j,_e)=>{if(!this.canvas){_e(new Error("Canvas not available"));return}const et=new Image,tt=this.canvas.getContext("2d");if(!tt){_e(new Error("Canvas context not available"));return}et.onload=()=>{this.canvas.width=et.width,this.canvas.height=et.height,tt.drawImage(et,0,0),this.canvas.toBlob(rt=>{rt?j(rt):_e(new Error("Failed to convert to WebP"))},"image/webp",_)},et.onerror=()=>_e(new Error("Failed to load image")),et.src=URL.createObjectURL(o)})}async analyzeImageWithAI(o){var _,j;try{const _e=this.initializeOpenAI();if(!_e)return this.analyzeImageBasic(o);const et=await this.convertFileToBase64(o),rt=(j=(_=(await _e.chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:[{type:"text",text:`Analyze this product image and provide:
1. The main product type/category (be specific, e.g., 'Decorative Candle', 'Throw Pillow', 'Wall Art', etc.)
2. The primary color (use common color names like 'Red', 'Blue', 'Green', 'Beige', etc.)
3. Any additional descriptive details about the product

Respond in JSON format: {"productType": "...", "color": "...", "confidence": 0.0-1.0, "details": "..."}`},{type:"image_url",image_url:{url:`data:${o.type};base64,${et}`,detail:"low"}}]}],max_tokens:300,temperature:.1})).choices[0])==null?void 0:_.message)==null?void 0:j.content;if(!rt)throw new Error("No response from OpenAI");const nt=JSON.parse(rt);return{productType:nt.productType||"Unknown",color:nt.color||"Unknown",confidence:Math.min(nt.confidence||.8,1),additionalInfo:[nt.details||"AI analysis completed",`Image size: ${o.size} bytes`,`File type: ${o.type}`]}}catch(_e){return console.error("OpenAI analysis failed, falling back to basic analysis:",_e),this.analyzeImageBasic(o)}}async analyzeImageBasic(o){return new Promise(_=>{const j=new Image;j.onload=()=>{if(!this.canvas){_({productType:"Unknown",color:"Unknown",confidence:.1,additionalInfo:["Canvas not available"]});return}const _e=this.canvas.getContext("2d");if(!_e){_({productType:"Unknown",color:"Unknown",confidence:.1,additionalInfo:["Context not available"]});return}this.canvas.width=Math.min(j.width,300),this.canvas.height=Math.min(j.height,300),_e.drawImage(j,0,0,this.canvas.width,this.canvas.height);const et=this.extractDominantColor(_e),tt=this.analyzeProductType(_e,j.width,j.height);_({productType:tt.type,color:et.name,confidence:Math.max(tt.confidence,et.confidence),additionalInfo:[`Dimensions: ${j.width}x${j.height}`,`Aspect ratio: ${(j.width/j.height).toFixed(2)}`,`Dominant RGB: ${et.rgb}`,"Basic analysis (OpenAI unavailable)"]})},j.onerror=()=>{_({productType:"Unknown",color:"Unknown",confidence:.1,additionalInfo:["Failed to load image"]})},j.src=URL.createObjectURL(o)})}initializeOpenAI(){return console.warn("OpenAI API key not found. Using fallback analysis."),null}async convertFileToBase64(o){return new Promise((_,j)=>{const _e=new FileReader;_e.onload=()=>{const tt=_e.result.split(",")[1];_(tt)},_e.onerror=j,_e.readAsDataURL(o)})}extractDominantColor(o){const j=o.getImageData(0,0,o.canvas.width,o.canvas.height).data;let _e=0,et=0,tt=0,rt=0;for(let st=0;st<j.length;st+=40)_e+=j[st],et+=j[st+1],tt+=j[st+2],rt++;return _e=Math.round(_e/rt),et=Math.round(et/rt),tt=Math.round(tt/rt),{name:this.rgbToColorName(_e,et,tt),rgb:`rgb(${_e}, ${et}, ${tt})`,confidence:.7}}rgbToColorName(o,_,j){const _e=Math.max(o,_,j),et=Math.min(o,_,j),tt=(_e+et)/2;return tt<50?"Black":tt>200?"White":_e-et<30?tt>150?"Light Gray":"Gray":o>_&&o>j?_>j&&o>180?"Pink":"Red":_>o&&_>j?_>180?"Light Green":"Green":j>o&&j>_?j>180?"Light Blue":"Blue":o>150&&_>150?"Yellow":o>100&&j>100?"Purple":_>100&&j>100?"Cyan":"Mixed Color"}analyzeProductType(o,_,j){const _e=_/j,et=_*j;return _e>1.5&&_e<2?{type:"Textile/Throw",confidence:.7}:_e>.8&&_e<1.2?et>5e5?{type:"Large Decor Item",confidence:.6}:{type:"Small Decor Item",confidence:.6}:_e>.3&&_e<.7?{type:"Tall Item/Candle",confidence:.7}:_e>2?{type:"Wide Item/Textile",confidence:.6}:{type:"General Product",confidence:.4}}generateFinalFilename(o,_,j="webp"){const _e=o.toLowerCase();let et=`${_e}.${j}`,tt=1;for(;_.includes(et);)et=`${_e}_${tt}.${j}`,tt++;return et}async uploadToStorage(o,_,j,_e){throw new Error("File upload not yet implemented in new architecture. Needs backend upload endpoint.")}async searchItemsWithLogos(o,_){try{const j=[];for(const _e of o){const tt=(await productService.list({search:_e,limit:1})).data.find(rt=>rt.sku===_e);tt&&j.push({sku:tt.sku,name:tt.name,brand_name:tt.brand||"Unknown",image_url:tt.image_url,brand_logo_url:null,colour:tt.color_family,category:tt.category_name})}return j}catch(j){return console.error("Error in searchItemsWithLogos:",j),[]}}async processImage(o,_,j,_e,et){try{const tt=o.name,rt=this.matchSKUFromFilename(tt,_);if(!rt)return{success:!1,originalFilename:tt,finalFilename:"",error:"No matching SKU found in filename"};const nt=this.generateFinalFilename(rt.sku,j,"webp");await this.convertToWebP(o);const st=await this.analyzeImageWithAI(o);if(rt.sku&&(st.color!=="Unknown"||st.productType!=="Unknown"))try{const ut=(await productService.list({search:rt.sku,limit:1})).data.find(lt=>lt.sku===rt.sku);if(ut){const lt={};st.color!=="Unknown"&&(lt.color_family=st.color),st.productType!=="Unknown"&&(lt.category_name=st.productType),await productService.update(ut.id,lt),console.log(`Updated item data for SKU ${rt.sku}:`,lt)}}catch(ct){console.error(`Error updating item data for SKU ${rt.sku}:`,ct)}let it="";try{console.warn("File upload skipped - not yet implemented in new architecture")}catch(ct){console.warn("File upload not available:",ct)}const ot=(await this.searchItemsWithLogos([rt.sku],et))[0];return j.push(nt),{success:!0,originalFilename:tt,finalFilename:nt,matchedSku:rt.sku,productType:st.productType,detectedColor:st.color,confidence:Math.min(rt.confidence,st.confidence),webpUrl:it||void 0,itemDetails:ot||void 0}}catch(tt){return{success:!1,originalFilename:o.name,finalFilename:"",error:tt instanceof Error?tt.message:"Unknown error"}}}async processBatchImages(o,_,j,_e){var ot;const et=Array.from(o),tt=[],rt=[],nt=[],st=await this.getProductSKUs(_,j),it=((ot=st[0])==null?void 0:ot.brand_name)||"Unknown",at={total:et.length,processed:0,current:"",results:tt,errors:rt};for(let ct=0;ct<et.length;ct++){const ut=et[ct];at.current=ut.name,at.processed=ct,_e&&_e({...at});try{const lt=await this.processImage(ut,st,nt,it,_);tt.push(lt),!lt.success&&lt.error&&rt.push(`${ut.name}: ${lt.error}`),await new Promise(pt=>setTimeout(pt,100))}catch(lt){const pt=`${ut.name}: ${lt instanceof Error?lt.message:"Unknown error"}`;rt.push(pt),tt.push({success:!1,originalFilename:ut.name,finalFilename:"",error:pt})}}return at.processed=et.length,at.current="",_e&&_e({...at}),at}}const imageProcessingService=new ImageProcessingService,modal$2="_modal_1chn0_5",overlay="_overlay_1chn0_31",content="_content_1chn0_51",closeButton="_closeButton_1chn0_79",step="_step_1chn0_129",header$2="_header_1chn0_143",brandGrid="_brandGrid_1chn0_183",brandCard="_brandCard_1chn0_197",selected="_selected_1chn0_233",brandIcon="_brandIcon_1chn0_247",brandName="_brandName_1chn0_269",dropZone="_dropZone_1chn0_283",fileList="_fileList_1chn0_351",files="_files_1chn0_371",fileItem="_fileItem_1chn0_387",fileInfo="_fileInfo_1chn0_411",fileName="_fileName_1chn0_425",fileSize="_fileSize_1chn0_445",removeButton="_removeButton_1chn0_459",processingInfo="_processingInfo_1chn0_489",pipeline="_pipeline_1chn0_517",pipelineStep="_pipelineStep_1chn0_529",progressContainer="_progressContainer_1chn0_579",progressBar="_progressBar_1chn0_587",progressFill="_progressFill_1chn0_605",progressStats="_progressStats_1chn0_619",currentFile="_currentFile_1chn0_635",processingSteps="_processingSteps_1chn0_651",stepIndicator="_stepIndicator_1chn0_663",stepComplete="_stepComplete_1chn0_679",resultsSummary="_resultsSummary_1chn0_689",summaryCard="_summaryCard_1chn0_703",summaryCount="_summaryCount_1chn0_723",summaryLabel="_summaryLabel_1chn0_737",successIcon="_successIcon_1chn0_751",errorIcon="_errorIcon_1chn0_759",infoIcon="_infoIcon_1chn0_767",resultsTable="_resultsTable_1chn0_777",tableHeader$1="_tableHeader_1chn0_795",tableBody$1="_tableBody_1chn0_823",tableRow$1="_tableRow_1chn0_833",finalName="_finalName_1chn0_875",sku="_sku_1chn0_891",status$1="_status_1chn0_901",successText="_successText_1chn0_913",errorText="_errorText_1chn0_923",actions$1="_actions_1chn0_935",btnPrimary="_btnPrimary_1chn0_953",btnSecondary="_btnSecondary_1chn0_953",styles$4={modal:modal$2,overlay,content,closeButton,step,header:header$2,brandGrid,brandCard,selected,brandIcon,brandName,dropZone,fileList,files,fileItem,fileInfo,fileName,fileSize,removeButton,processingInfo,pipeline,pipelineStep,progressContainer,progressBar,progressFill,progressStats,currentFile,processingSteps,stepIndicator,stepComplete,resultsSummary,summaryCard,summaryCount,summaryLabel,successIcon,errorIcon,infoIcon,resultsTable,tableHeader:tableHeader$1,tableBody:tableBody$1,tableRow:tableRow$1,finalName,sku,status:status$1,successText,errorText,actions:actions$1,btnPrimary,btnSecondary},BatchImageUpload=({companyId:i,onClose:o,onComplete:_})=>{const[j,_e]=reactExports.useState("select-brand"),[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState(null),[st,it]=reactExports.useState([]),[at,ot]=reactExports.useState(!1),[ct,ut]=reactExports.useState({total:0,processed:0,current:"",results:[],errors:[]}),lt=reactExports.useRef(null);reactExports.useEffect(()=>{pt()},[i]);const pt=async()=>{try{const Tt=(await productService.getBrands()).map(kt=>({id:kt.brand.toLowerCase().replace(/[^a-z0-9]/g,"-"),brand_name:kt.brand}));tt(Tt)}catch(jt){console.error("Error loading brands:",jt)}},dt=jt=>{const Tt=jt.target.files;Tt&&it(Array.from(Tt))},ht=jt=>{jt.preventDefault();const Tt=jt.dataTransfer.files;Tt&&it(Array.from(Tt))},ft=jt=>{jt.preventDefault()},mt=jt=>{it(Tt=>Tt.filter((kt,Pt)=>Pt!==jt))},xt=async()=>{if(!(!rt||st.length===0)){ot(!0),_e("processing");try{const jt=await imageProcessingService.processBatchImages(st,i,rt.id,Tt=>{ut({...Tt})});ut(jt),_e("results"),_&&_(jt.results)}catch(jt){console.error("Error processing images:",jt)}finally{ot(!1)}}},gt=()=>{const jt=["Original Filename,Final Filename,Matched SKU,Product Type,Detected Color,Confidence,Success,Error",...ct.results.map(St=>`"${St.originalFilename}","${St.finalFilename}","${St.matchedSku||""}","${St.productType||""}","${St.detectedColor||""}",${St.confidence||0},${St.success},"${St.error||""}"`)].join(`
`),Tt=new Blob([jt],{type:"text/csv"}),kt=URL.createObjectURL(Tt),Pt=document.createElement("a");Pt.href=kt,Pt.download=`image-processing-results-${new Date().toISOString().split("T")[0]}.csv`,Pt.click(),URL.revokeObjectURL(kt)},yt=jt=>{if(jt===0)return"0 Bytes";const Tt=1024,kt=["Bytes","KB","MB","GB"],Pt=Math.floor(Math.log(jt)/Math.log(Tt));return parseFloat((jt/Math.pow(Tt,Pt)).toFixed(2))+" "+kt[Pt]},_t=()=>jsxRuntimeExports.jsxs("div",{className:styles$4.step,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h2",{children:"Select Brand"}),jsxRuntimeExports.jsx("p",{children:"Choose the brand for your image uploads"})]}),jsxRuntimeExports.jsx("div",{className:styles$4.brandGrid,children:et.map(jt=>jsxRuntimeExports.jsxs("div",{className:`${styles$4.brandCard} ${(rt==null?void 0:rt.id)===jt.id?styles$4.selected:""}`,onClick:()=>nt(jt),children:[jsxRuntimeExports.jsx("div",{className:styles$4.brandIcon,children:jsxRuntimeExports.jsx(Image$1,{size:24})}),jsxRuntimeExports.jsx("span",{className:styles$4.brandName,children:jt.brand_name})]},jt.id))}),jsxRuntimeExports.jsxs("div",{className:styles$4.actions,children:[jsxRuntimeExports.jsx("button",{className:styles$4.btnSecondary,onClick:o,children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:styles$4.btnPrimary,onClick:()=>_e("upload-files"),disabled:!rt,children:"Continue"})]})]}),Et=()=>jsxRuntimeExports.jsxs("div",{className:styles$4.step,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h2",{children:"Upload Images"}),jsxRuntimeExports.jsxs("p",{children:["Upload images for ",jsxRuntimeExports.jsx("strong",{children:rt==null?void 0:rt.brand_name})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.dropZone,onDrop:ht,onDragOver:ft,onClick:()=>{var jt;return(jt=lt.current)==null?void 0:jt.click()},children:[jsxRuntimeExports.jsx(Upload,{size:48}),jsxRuntimeExports.jsx("h3",{children:"Drag & drop images here"}),jsxRuntimeExports.jsx("p",{children:"or click to browse files"}),jsxRuntimeExports.jsx("small",{children:"Supports: JPG, PNG, WebP, GIF"})]}),jsxRuntimeExports.jsx("input",{ref:lt,type:"file",multiple:!0,accept:"image/*",onChange:dt,style:{display:"none"}}),st.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$4.fileList,children:[jsxRuntimeExports.jsxs("h3",{children:["Selected Files (",st.length,")"]}),jsxRuntimeExports.jsx("div",{className:styles$4.files,children:st.map((jt,Tt)=>jsxRuntimeExports.jsxs("div",{className:styles$4.fileItem,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.fileInfo,children:[jsxRuntimeExports.jsx(Image$1,{size:16}),jsxRuntimeExports.jsx("span",{className:styles$4.fileName,children:jt.name}),jsxRuntimeExports.jsx("span",{className:styles$4.fileSize,children:yt(jt.size)})]}),jsxRuntimeExports.jsx("button",{className:styles$4.removeButton,onClick:()=>mt(Tt),children:jsxRuntimeExports.jsx(Trash2,{size:16})})]},Tt))})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.processingInfo,children:[jsxRuntimeExports.jsx("h3",{children:"AI Processing Pipeline:"}),jsxRuntimeExports.jsxs("div",{className:styles$4.pipeline,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.pipelineStep,children:[jsxRuntimeExports.jsx(Zap,{size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"SKU Matching"}),jsxRuntimeExports.jsx("p",{children:"Smart filename analysis to match product SKUs"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.pipelineStep,children:[jsxRuntimeExports.jsx(Sparkles,{size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"WebP Conversion"}),jsxRuntimeExports.jsx("p",{children:"Optimized format for better performance"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.pipelineStep,children:[jsxRuntimeExports.jsx(Eye,{size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"AI Analysis"}),jsxRuntimeExports.jsx("p",{children:"Product type and color detection"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.pipelineStep,children:[jsxRuntimeExports.jsx(Upload,{size:20}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Cloud Storage"}),jsxRuntimeExports.jsx("p",{children:"Organized by brand (pending backend implementation)"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.actions,children:[jsxRuntimeExports.jsx("button",{className:styles$4.btnSecondary,onClick:()=>_e("select-brand"),children:"Back"}),jsxRuntimeExports.jsxs("button",{className:styles$4.btnPrimary,onClick:xt,disabled:st.length===0,children:["Process ",st.length," Images"]})]})]}),wt=()=>jsxRuntimeExports.jsxs("div",{className:styles$4.step,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h2",{children:"AI Processing in Progress"}),jsxRuntimeExports.jsx("p",{children:"Processing images with AI-powered analysis..."})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.progressContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$4.progressBar,children:jsxRuntimeExports.jsx("div",{className:styles$4.progressFill,style:{width:`${ct.processed/ct.total*100}%`}})}),jsxRuntimeExports.jsxs("div",{className:styles$4.progressStats,children:[jsxRuntimeExports.jsxs("span",{children:[ct.processed," / ",ct.total," processed"]}),jsxRuntimeExports.jsxs("span",{children:[Math.round(ct.processed/ct.total*100),"%"]})]}),ct.current&&jsxRuntimeExports.jsx("div",{className:styles$4.currentFile,children:jsxRuntimeExports.jsxs("span",{children:["Processing: ",jsxRuntimeExports.jsx("strong",{children:ct.current})]})})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.processingSteps,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.stepIndicator,children:[jsxRuntimeExports.jsx(CheckCircle,{className:styles$4.stepComplete,size:20}),jsxRuntimeExports.jsx("span",{children:"SKU Matching & Filename Generation"})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.stepIndicator,children:[jsxRuntimeExports.jsx(CheckCircle,{className:styles$4.stepComplete,size:20}),jsxRuntimeExports.jsx("span",{children:"WebP Conversion & Optimization"})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.stepIndicator,children:[jsxRuntimeExports.jsx(CheckCircle,{className:styles$4.stepComplete,size:20}),jsxRuntimeExports.jsx("span",{children:"AI Product Analysis"})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.stepIndicator,children:[jsxRuntimeExports.jsx(AlertTriangle,{className:styles$4.stepPending,size:20}),jsxRuntimeExports.jsx("span",{children:"Cloud Storage Upload (pending backend)"})]})]})]}),$t=()=>{const jt=ct.results.filter(kt=>kt.success).length,Tt=ct.results.filter(kt=>!kt.success).length;return jsxRuntimeExports.jsxs("div",{className:styles$4.step,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.header,children:[jsxRuntimeExports.jsx("h2",{children:"Processing Complete!"}),jsxRuntimeExports.jsxs("p",{children:["Processed ",ct.total," images for ",jsxRuntimeExports.jsx("strong",{children:rt==null?void 0:rt.brand_name})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.resultsSummary,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.summaryCard,children:[jsxRuntimeExports.jsx(CheckCircle,{className:styles$4.successIcon,size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:styles$4.summaryCount,children:jt}),jsxRuntimeExports.jsx("span",{className:styles$4.summaryLabel,children:"Successful"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.summaryCard,children:[jsxRuntimeExports.jsx(XCircle,{className:styles$4.errorIcon,size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:styles$4.summaryCount,children:Tt}),jsxRuntimeExports.jsx("span",{className:styles$4.summaryLabel,children:"Failed"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.summaryCard,children:[jsxRuntimeExports.jsx(Eye,{className:styles$4.infoIcon,size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("span",{className:styles$4.summaryCount,children:[(ct.results.reduce((kt,Pt)=>kt+(Pt.confidence||0),0)/ct.results.length*100).toFixed(0),"%"]}),jsxRuntimeExports.jsx("span",{className:styles$4.summaryLabel,children:"Avg Confidence"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.resultsTable,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.tableHeader,children:[jsxRuntimeExports.jsx("span",{children:"Original File"}),jsxRuntimeExports.jsx("span",{children:"Final File"}),jsxRuntimeExports.jsx("span",{children:"SKU"}),jsxRuntimeExports.jsx("span",{children:"Product Type"}),jsxRuntimeExports.jsx("span",{children:"Color"}),jsxRuntimeExports.jsx("span",{children:"Status"})]}),jsxRuntimeExports.jsx("div",{className:styles$4.tableBody,children:ct.results.map((kt,Pt)=>jsxRuntimeExports.jsxs("div",{className:styles$4.tableRow,children:[jsxRuntimeExports.jsx("span",{className:styles$4.fileName,children:kt.originalFilename}),jsxRuntimeExports.jsx("span",{className:styles$4.finalName,children:kt.finalFilename||"-"}),jsxRuntimeExports.jsx("span",{className:styles$4.sku,children:kt.matchedSku||"-"}),jsxRuntimeExports.jsx("span",{children:kt.productType||"-"}),jsxRuntimeExports.jsx("span",{children:kt.detectedColor||"-"}),jsxRuntimeExports.jsxs("div",{className:styles$4.status,children:[kt.success?jsxRuntimeExports.jsx(CheckCircle,{className:styles$4.successIcon,size:16}):jsxRuntimeExports.jsx(XCircle,{className:styles$4.errorIcon,size:16}),jsxRuntimeExports.jsx("span",{className:kt.success?styles$4.successText:styles$4.errorText,children:kt.success?"Success":"Failed"})]})]},Pt))})]}),jsxRuntimeExports.jsxs("div",{className:styles$4.actions,children:[jsxRuntimeExports.jsxs("button",{className:styles$4.btnSecondary,onClick:gt,children:[jsxRuntimeExports.jsx(Download,{size:16}),"Download Results"]}),jsxRuntimeExports.jsx("button",{className:styles$4.btnPrimary,onClick:o,children:"Complete"})]})]})};return jsxRuntimeExports.jsxs("div",{className:styles$4.modal,children:[jsxRuntimeExports.jsx("div",{className:styles$4.overlay,onClick:o}),jsxRuntimeExports.jsxs("div",{className:styles$4.content,children:[jsxRuntimeExports.jsx("button",{className:styles$4.closeButton,onClick:o,children:"x"}),j==="select-brand"&&_t(),j==="upload-files"&&Et(),j==="processing"&&wt(),j==="results"&&$t()]})]})},IMAGES_PER_PAGE=50,ImageManagement=()=>{var It,Dt,Zt;const{brandId:i}=useParams(),o=useNavigate(),[_,j]=reactExports.useState([]),[_e,et]=reactExports.useState([]),[tt,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState(""),[it,at]=reactExports.useState("date"),[ot,ct]=reactExports.useState([]),[ut,lt]=reactExports.useState(!1),[pt,dt]=reactExports.useState(!1),[ht,ft]=reactExports.useState(!1),[mt,xt]=reactExports.useState(null),[gt,yt]=reactExports.useState(1),[_t,Et]=reactExports.useState(null);reactExports.useEffect(()=>{wt()},[i]);const wt=async()=>{try{const Qt=authService.getCachedAgent();Qt&&xt(Qt.id),await $t()}catch(Qt){console.error("Error loading user data:",Qt),await $t()}},$t=async()=>{try{rt(!0),Et(null);const Yt=(await productService.getBrands()).map((Kt,er)=>({id:Kt.brand.toLowerCase().replace(/[^a-z0-9]/g,"-"),brand_name:Kt.brand,brand_normalized:Kt.brand.toLowerCase().replace(/[^a-z0-9]/g,""),is_active:!0}));et(Yt);const Ft=[];console.warn("Image listing not yet implemented - backend storage API needed"),j(Ft)}catch(Qt){console.error("Error loading data:",Qt),Et("Failed to load images")}finally{rt(!1)}},jt=reactExports.useCallback(async()=>{ft(!0),yt(1),await $t(),ft(!1)},[i]),Tt=reactExports.useCallback(async()=>{lt(!1),await jt()},[jt]),kt=reactExports.useCallback(Qt=>{o(Qt==="all"?"/images":`/images/${Qt}`)},[o]),Pt=reactExports.useCallback(async Qt=>{if(window.confirm("Are you sure you want to delete this image?"))try{if(!_.find(Ft=>Ft.id===Qt))return;console.warn("Image deletion not yet implemented - backend API needed"),j(Ft=>Ft.filter(Kt=>Kt.id!==Qt)),ct(Ft=>Ft.filter(Kt=>Kt!==Qt))}catch(Yt){console.error("Error deleting image:",Yt),alert("Failed to delete image")}},[_]),St=reactExports.useCallback(async()=>{if(ot.length===0)return;const Qt=`Are you sure you want to delete ${ot.length} image${ot.length>1?"s":""}?`;if(window.confirm(Qt))try{console.warn("Bulk image deletion not yet implemented - backend API needed"),j(Yt=>Yt.filter(Ft=>!ot.includes(Ft.id))),ct([])}catch(Yt){console.error("Error deleting images:",Yt),alert("Failed to delete images")}},[ot,_]),Rt=reactExports.useCallback(Qt=>{ct(Yt=>Yt.includes(Qt)?Yt.filter(Ft=>Ft!==Qt):[...Yt,Qt])},[]),bt=reactExports.useCallback(()=>{const Qt=Ot.map(Ft=>Ft.id),Yt=Qt.every(Ft=>ot.includes(Ft));ct(Yt?Ft=>Ft.filter(Kt=>!Qt.includes(Kt)):Ft=>Array.from(new Set([...Ft,...Qt])))},[]),vt=reactExports.useMemo(()=>{let Qt=[..._];if(nt){const Yt=nt.toLowerCase();Qt=Qt.filter(Ft=>Ft.name.toLowerCase().includes(Yt)||Ft.brand_name.toLowerCase().includes(Yt))}return Qt.sort((Yt,Ft)=>{switch(it){case"date":return new Date(Ft.uploaded_at).getTime()-new Date(Yt.uploaded_at).getTime();case"size":return Ft.size-Yt.size;case"name":default:return Yt.name.localeCompare(Ft.name)}}),Qt},[_,nt,it]),At=Math.ceil(vt.length/IMAGES_PER_PAGE),Ot=vt.slice((gt-1)*IMAGES_PER_PAGE,gt*IMAGES_PER_PAGE),Ct=reactExports.useMemo(()=>{const Qt=_.reduce((Kt,er)=>Kt+er.size,0),Yt=_e.map(Kt=>({...Kt,count:_.filter(er=>er.brand_id===Kt.id).length})),Ft=Yt.filter(Kt=>Kt.count>0).length;return{totalSize:Qt,brandCounts:Yt,activeBrands:Ft}},[_,_e]),Lt=Ot.length>0&&Ot.every(Qt=>ot.includes(Qt.id));return jsxRuntimeExports.jsxs("div",{className:styles$7.imageManagementContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.imageHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.headerLeft,children:[jsxRuntimeExports.jsxs("h1",{children:["Image Management",i?` - ${(It=_e.find(Qt=>Qt.id===i))==null?void 0:It.brand_name}`:""]}),jsxRuntimeExports.jsx("p",{className:styles$7.headerSubtitle,children:i?`Manage product images for ${(Dt=_e.find(Qt=>Qt.id===i))==null?void 0:Dt.brand_name}`:"Manage product images across all brands"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.headerRight,children:[jsxRuntimeExports.jsxs("button",{className:styles$7.batchUploadButton,onClick:()=>dt(!0),disabled:!mt,children:[jsxRuntimeExports.jsx("span",{children:"AI"})," AI Batch Upload"]}),jsxRuntimeExports.jsxs("button",{className:styles$7.uploadButton,onClick:()=>lt(!0),children:[jsxRuntimeExports.jsx("span",{children:"Upload"})," Upload Images"]}),jsxRuntimeExports.jsx("button",{className:`${styles$7.refreshButton} ${ht?styles$7.refreshing:""}`,onClick:jt,disabled:ht,children:jsxRuntimeExports.jsx("span",{className:styles$7.refreshIcon,children:"Refresh"})})]})]}),_t&&jsxRuntimeExports.jsxs("div",{className:styles$7.errorBanner,children:[jsxRuntimeExports.jsxs("span",{children:["Warning: ",_t]}),jsxRuntimeExports.jsx("button",{onClick:jt,children:"Retry"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.statsGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.statCard,children:[jsxRuntimeExports.jsx("div",{className:styles$7.statIcon,children:"Images"}),jsxRuntimeExports.jsxs("div",{className:styles$7.statContent,children:[jsxRuntimeExports.jsx("h3",{children:"Total Images"}),jsxRuntimeExports.jsx("p",{className:styles$7.statValue,children:_.length})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.statCard,children:[jsxRuntimeExports.jsx("div",{className:styles$7.statIcon,children:"Size"}),jsxRuntimeExports.jsxs("div",{className:styles$7.statContent,children:[jsxRuntimeExports.jsx("h3",{children:"Total Size"}),jsxRuntimeExports.jsxs("p",{className:styles$7.statValue,children:[(Ct.totalSize/1024/1024).toFixed(2)," MB"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.statCard,children:[jsxRuntimeExports.jsx("div",{className:styles$7.statIcon,children:"Brands"}),jsxRuntimeExports.jsxs("div",{className:styles$7.statContent,children:[jsxRuntimeExports.jsx("h3",{children:"Active Brands"}),jsxRuntimeExports.jsxs("p",{className:styles$7.statValue,children:[Ct.activeBrands," / ",_e.length]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.statCard,children:[jsxRuntimeExports.jsx("div",{className:styles$7.statIcon,children:"View"}),jsxRuntimeExports.jsxs("div",{className:styles$7.statContent,children:[jsxRuntimeExports.jsx("h3",{children:"Showing"}),jsxRuntimeExports.jsxs("p",{className:styles$7.statValue,children:[Ot.length," / ",vt.length]})]})]})]}),!i&&jsxRuntimeExports.jsxs("div",{className:styles$7.brandFilters,children:[jsxRuntimeExports.jsxs("button",{className:`${styles$7.brandPill} ${i?"":styles$7.active}`,onClick:()=>kt("all"),children:["All Brands (",_.length,")"]}),Ct.brandCounts.map(Qt=>jsxRuntimeExports.jsxs("button",{className:`${styles$7.brandPill} ${i===Qt.id?styles$7.active:""}`,onClick:()=>kt(Qt.id),style:{"--brand-color":"#79d5e9"},children:[Qt.brand_name," (",Qt.count,")"]},Qt.id))]}),jsxRuntimeExports.jsxs("div",{className:styles$7.controlsSection,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.searchContainer,children:[jsxRuntimeExports.jsx("span",{className:styles$7.searchIcon,children:"Search"}),jsxRuntimeExports.jsx("input",{type:"text",className:styles$7.searchInput,placeholder:"Search images by name...",value:nt,onChange:Qt=>st(Qt.target.value)}),nt&&jsxRuntimeExports.jsx("button",{className:styles$7.clearSearch,onClick:()=>st(""),children:"X"})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.controlsRight,children:[ot.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$7.selectionInfo,children:[jsxRuntimeExports.jsxs("span",{children:[ot.length," selected"]}),jsxRuntimeExports.jsx("button",{className:styles$7.bulkDeleteBtn,onClick:St,children:"Delete Selected"})]}),jsxRuntimeExports.jsxs("select",{className:styles$7.sortSelect,value:it,onChange:Qt=>at(Qt.target.value),children:[jsxRuntimeExports.jsx("option",{value:"name",children:"Sort by Name"}),jsxRuntimeExports.jsx("option",{value:"date",children:"Sort by Date (Newest First)"}),jsxRuntimeExports.jsx("option",{value:"size",children:"Sort by Size"})]})]})]}),Ot.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$7.selectAllContainer,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"selectAll",checked:Lt,onChange:bt}),jsxRuntimeExports.jsxs("label",{htmlFor:"selectAll",children:["Select All on Page (",Ot.length,")"]})]}),jsxRuntimeExports.jsx("div",{className:styles$7.contentArea,children:tt?jsxRuntimeExports.jsx(ProgressLoader,{isVisible:!0,message:"Loading images...",progress:50}):vt.length===0?jsxRuntimeExports.jsxs("div",{className:styles$7.emptyState,children:[jsxRuntimeExports.jsx("div",{className:styles$7.emptyIcon,children:"Images"}),jsxRuntimeExports.jsx("h3",{children:"No images found"}),jsxRuntimeExports.jsx("p",{children:nt?`No images match "${nt}"`:i?`No images for ${(Zt=_e.find(Qt=>Qt.id===i))==null?void 0:Zt.brand_name}`:"Upload your first image to get started"}),nt&&jsxRuntimeExports.jsx("button",{className:styles$7.clearFiltersBtn,onClick:()=>st(""),children:"Clear Search"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$7.imagesGrid,children:Ot.map(Qt=>jsxRuntimeExports.jsx(ImageCard,{image:Qt,isSelected:ot.includes(Qt.id),onSelect:()=>Rt(Qt.id),onDelete:()=>Pt(Qt.id),brandColor:"#79d5e9"},Qt.id))}),At>1&&jsxRuntimeExports.jsxs("div",{className:styles$7.pagination,children:[jsxRuntimeExports.jsx("button",{onClick:()=>yt(Math.max(1,gt-1)),disabled:gt===1,className:styles$7.paginationBtn,children:"Previous"}),jsxRuntimeExports.jsxs("span",{className:styles$7.pageInfo,children:["Page ",gt," of ",At]}),jsxRuntimeExports.jsx("button",{onClick:()=>yt(Math.min(At,gt+1)),disabled:gt===At,className:styles$7.paginationBtn,children:"Next"})]})]})}),ut&&jsxRuntimeExports.jsx(ImageUploadModal,{brands:i?_e.filter(Qt=>Qt.id===i):_e,onClose:()=>lt(!1),onUploadSuccess:Tt,defaultBrand:i}),pt&&mt&&jsxRuntimeExports.jsx(BatchImageUpload,{companyId:mt,onClose:()=>dt(!1),onComplete:async()=>{dt(!1),await jt()}})]})},FixOrder=({orderId:i})=>jsxRuntimeExports.jsxs("div",{style:{padding:"20px"},children:[jsxRuntimeExports.jsx("h3",{children:"Fix Order"}),jsxRuntimeExports.jsx("p",{children:"Order repair tool - coming soon"}),i&&jsxRuntimeExports.jsxs("p",{children:["Order ID: ",i]})]});function Settings(){const[i,o]=reactExports.useState(""),[_,j]=reactExports.useState(""),[_e,et]=reactExports.useState(""),[tt,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState(!1),it=useNavigate(),at=useLocation();reactExports.useEffect(()=>{(async()=>{try{const lt=authService.getCachedAgent();if(!lt){it("/login");return}o(lt.is_admin?"Admin":"Sales Agent"),j(lt.name||lt.id),et("")}catch(lt){console.error("Error loading user data:",lt)}finally{rt(!1)}})()},[it]);const ct=(()=>{const ut=at.pathname;return ut.includes("/settings/general")?"general":ut.includes("/settings/profile")?"profile":ut.includes("/settings/notifications")?"notifications":ut.includes("/settings/database")?"database":ut.includes("/settings/security")?"security":ut.includes("/settings/fix-order")?"fix-order":"general"})();return tt?jsxRuntimeExports.jsx(ProgressLoader,{isVisible:!0,message:"Loading settings...",progress:50}):at.pathname==="/settings"?(it("/settings/general"),null):jsxRuntimeExports.jsxs("div",{className:"settings-container",children:[jsxRuntimeExports.jsxs("div",{className:"settings-header",children:[jsxRuntimeExports.jsx("button",{className:"back-button",onClick:()=>it(-1),title:"Go back",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h1",{children:["Settings - ",ct.charAt(0).toUpperCase()+ct.slice(1)]})]}),jsxRuntimeExports.jsx("div",{className:"settings-content",children:jsxRuntimeExports.jsx("div",{className:"settings-main",children:jsxRuntimeExports.jsx("div",{className:"settings-section",children:jsxRuntimeExports.jsxs("div",{className:"section-content",children:[ct==="general"&&jsxRuntimeExports.jsx(GeneralSettings,{userName:_,userEmail:_e,userRole:i}),ct==="profile"&&jsxRuntimeExports.jsx(ProfileSettings,{userName:_,onProfileUpdate:ut=>j(ut),savingProfile:nt,setSavingProfile:st}),ct==="notifications"&&jsxRuntimeExports.jsx(NotificationSettings,{}),ct==="database"&&i==="Admin"&&jsxRuntimeExports.jsx(DatabaseSettings,{}),ct==="security"&&jsxRuntimeExports.jsx(SecuritySettings,{}),ct==="fix-order"&&i==="Admin"&&jsxRuntimeExports.jsx(FixOrder,{})]})})})})]})}function GeneralSettings({userName:i,userEmail:o,userRole:_}){const j=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"general-settings",children:[jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Account Information"}),jsxRuntimeExports.jsxs("div",{className:"info-grid",children:[jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx("label",{children:"Name"}),jsxRuntimeExports.jsx("p",{children:i||"Not set"})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx("label",{children:"Email"}),jsxRuntimeExports.jsx("p",{children:o})]}),jsxRuntimeExports.jsxs("div",{className:"info-item",children:[jsxRuntimeExports.jsx("label",{children:"Role"}),jsxRuntimeExports.jsx("p",{className:"role-badge",children:_||"User"})]})]})]}),_==="Admin"&&jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Management Tools"}),jsxRuntimeExports.jsx("div",{className:"tools-grid",children:jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>j("/settings/fix-order"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Fix Order"}),jsxRuntimeExports.jsx("small",{children:"Edit and re-submit orders to Zoho"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Application Preferences"}),jsxRuntimeExports.jsxs("div",{className:"preference-item",children:[jsxRuntimeExports.jsxs("div",{className:"preference-info",children:[jsxRuntimeExports.jsx("h4",{children:"Theme"}),jsxRuntimeExports.jsx("p",{children:"Choose your preferred color theme"})]}),jsxRuntimeExports.jsxs("select",{className:"preference-select",defaultValue:"dark",children:[jsxRuntimeExports.jsx("option",{value:"dark",children:"Dark"}),jsxRuntimeExports.jsx("option",{value:"light",children:"Light (Coming soon)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"preference-item",children:[jsxRuntimeExports.jsxs("div",{className:"preference-info",children:[jsxRuntimeExports.jsx("h4",{children:"Language"}),jsxRuntimeExports.jsx("p",{children:"Select your preferred language"})]}),jsxRuntimeExports.jsxs("select",{className:"preference-select",defaultValue:"en",children:[jsxRuntimeExports.jsx("option",{value:"en",children:"English"}),jsxRuntimeExports.jsx("option",{value:"es",children:"Spanish (Coming soon)"}),jsxRuntimeExports.jsx("option",{value:"fr",children:"French (Coming soon)"})]})]})]})]})}function ProfileSettings({userName:i,onProfileUpdate:o,savingProfile:_,setSavingProfile:j}){const[_e,et]=reactExports.useState({firstName:"",lastName:"",phone:"",department:""});reactExports.useEffect(()=>{const rt=i.split(" ");et({firstName:rt[0]||"",lastName:rt.slice(1).join(" ")||"",phone:"",department:""})},[i]);const tt=async rt=>{rt.preventDefault(),j(!0);try{o(`${_e.firstName} ${_e.lastName}`.trim()),alert("Profile update saved locally. Backend support coming soon.")}catch(nt){console.error("Error updating profile:",nt),alert("Failed to update profile")}finally{j(!1)}};return jsxRuntimeExports.jsx("div",{className:"profile-settings",children:jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Profile Information"}),jsxRuntimeExports.jsxs("form",{className:"profile-form",onSubmit:tt,children:[jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"firstName",children:"First Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"firstName",value:_e.firstName,onChange:rt=>et({..._e,firstName:rt.target.value}),placeholder:"Enter your first name",className:"form-input"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"lastName",children:"Last Name"}),jsxRuntimeExports.jsx("input",{type:"text",id:"lastName",value:_e.lastName,onChange:rt=>et({..._e,lastName:rt.target.value}),placeholder:"Enter your last name",className:"form-input"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",id:"phone",value:_e.phone,onChange:rt=>et({..._e,phone:rt.target.value}),placeholder:"Enter your phone number",className:"form-input"})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{htmlFor:"department",children:"Department"}),jsxRuntimeExports.jsx("input",{type:"text",id:"department",value:_e.department,onChange:rt=>et({..._e,department:rt.target.value}),placeholder:"Enter your department",className:"form-input"})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"save-button",disabled:_,children:_?"Saving...":"Save Changes"})]})]})})}function NotificationSettings(){const[i,o]=reactExports.useState({orderUpdates:!0,newCustomers:!0,lowInventory:!1,dailyReports:!0,weeklyReports:!1}),_=j=>{o(_e=>({..._e,[j]:!_e[j]}))};return jsxRuntimeExports.jsxs("div",{className:"notification-settings",children:[jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Email Notifications"}),jsxRuntimeExports.jsxs("div",{className:"notification-list",children:[jsxRuntimeExports.jsxs("div",{className:"notification-item",children:[jsxRuntimeExports.jsxs("div",{className:"notification-info",children:[jsxRuntimeExports.jsx("h4",{children:"Order Updates"}),jsxRuntimeExports.jsx("p",{children:"Receive notifications when order status changes"})]}),jsxRuntimeExports.jsxs("label",{className:"toggle-switch",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i.orderUpdates,onChange:()=>_("orderUpdates")}),jsxRuntimeExports.jsx("span",{className:"toggle-slider"})]})]}),jsxRuntimeExports.jsxs("div",{className:"notification-item",children:[jsxRuntimeExports.jsxs("div",{className:"notification-info",children:[jsxRuntimeExports.jsx("h4",{children:"New Customers"}),jsxRuntimeExports.jsx("p",{children:"Get notified when new customers are added"})]}),jsxRuntimeExports.jsxs("label",{className:"toggle-switch",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i.newCustomers,onChange:()=>_("newCustomers")}),jsxRuntimeExports.jsx("span",{className:"toggle-slider"})]})]}),jsxRuntimeExports.jsxs("div",{className:"notification-item",children:[jsxRuntimeExports.jsxs("div",{className:"notification-info",children:[jsxRuntimeExports.jsx("h4",{children:"Low Inventory Alerts"}),jsxRuntimeExports.jsx("p",{children:"Alerts when inventory falls below threshold"})]}),jsxRuntimeExports.jsxs("label",{className:"toggle-switch",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i.lowInventory,onChange:()=>_("lowInventory")}),jsxRuntimeExports.jsx("span",{className:"toggle-slider"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Report Emails"}),jsxRuntimeExports.jsxs("div",{className:"notification-list",children:[jsxRuntimeExports.jsxs("div",{className:"notification-item",children:[jsxRuntimeExports.jsxs("div",{className:"notification-info",children:[jsxRuntimeExports.jsx("h4",{children:"Daily Reports"}),jsxRuntimeExports.jsx("p",{children:"Receive daily sales and activity reports"})]}),jsxRuntimeExports.jsxs("label",{className:"toggle-switch",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i.dailyReports,onChange:()=>_("dailyReports")}),jsxRuntimeExports.jsx("span",{className:"toggle-slider"})]})]}),jsxRuntimeExports.jsxs("div",{className:"notification-item",children:[jsxRuntimeExports.jsxs("div",{className:"notification-info",children:[jsxRuntimeExports.jsx("h4",{children:"Weekly Summary"}),jsxRuntimeExports.jsx("p",{children:"Get weekly performance summaries"})]}),jsxRuntimeExports.jsxs("label",{className:"toggle-switch",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:i.weeklyReports,onChange:()=>_("weeklyReports")}),jsxRuntimeExports.jsx("span",{className:"toggle-slider"})]})]})]})]})]})}function DatabaseSettings(){const[i,o]=reactExports.useState("maintenance");return jsxRuntimeExports.jsxs("div",{className:"database-settings",children:[jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Database Management"}),jsxRuntimeExports.jsxs("p",{className:"setting-description",children:["Manage database operations and maintenance tasks. These operations should be performed during off-peak hours.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("small",{style:{color:"#a0a0a0",marginTop:"0.5rem",display:"block"},children:"Access restricted to Admins"})]})]}),jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsxs("div",{className:"migration-tabs",children:[jsxRuntimeExports.jsx("button",{className:`migration-tab ${i==="maintenance"?"active":""}`,onClick:()=>o("maintenance"),children:"Database Maintenance"}),jsxRuntimeExports.jsx("button",{className:`migration-tab ${i==="export"?"active":""}`,onClick:()=>o("export"),children:"Data Export"})]}),i==="maintenance"&&jsxRuntimeExports.jsxs("div",{className:"tools-grid",children:[jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>alert("Feature coming soon"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Optimize Tables"}),jsxRuntimeExports.jsx("small",{children:"Improve database performance"})]}),jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>alert("Feature coming soon"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Clean Up Data"}),jsxRuntimeExports.jsx("small",{children:"Remove old records"})]}),jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>alert("Feature coming soon"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Rebuild Indexes"}),jsxRuntimeExports.jsx("small",{children:"Optimize query performance"})]})]}),i==="export"&&jsxRuntimeExports.jsxs("div",{className:"tools-grid",children:[jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>alert("Feature coming soon"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Export Orders"}),jsxRuntimeExports.jsx("small",{children:"Download order data"})]}),jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>alert("Feature coming soon"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Export Customers"}),jsxRuntimeExports.jsx("small",{children:"Download customer data"})]}),jsxRuntimeExports.jsxs("button",{className:"tool-button",onClick:()=>alert("Feature coming soon"),children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Export Inventory"}),jsxRuntimeExports.jsx("small",{children:"Download inventory data"})]})]})]})]})}function SecuritySettings(){const i=()=>{alert("PIN change functionality coming soon. Contact an admin to reset your PIN.")};return jsxRuntimeExports.jsxs("div",{className:"security-settings",children:[jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"PIN Authentication"}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"Your account uses a PIN for authentication."}),jsxRuntimeExports.jsx("button",{className:"action-button",onClick:i,children:"Change PIN"})]}),jsxRuntimeExports.jsxs("div",{className:"setting-group",children:[jsxRuntimeExports.jsx("h3",{children:"Active Sessions"}),jsxRuntimeExports.jsx("p",{className:"setting-description",children:"View and manage your active sessions across different devices."}),jsxRuntimeExports.jsx("div",{className:"session-list",children:jsxRuntimeExports.jsx("div",{className:"session-item",children:jsxRuntimeExports.jsxs("div",{className:"session-info",children:[jsxRuntimeExports.jsx("h4",{children:"Current Session"}),jsxRuntimeExports.jsx("p",{children:"Active now"})]})})})]})]})}const ProductList=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(Package,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Product List"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Product listing - coming soon"})]}),BarcodeScannerApp=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(Scan,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Barcode Scanner"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Barcode scanning feature - coming soon"})]}),AirtableDemo=()=>jsxRuntimeExports.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[jsxRuntimeExports.jsx(Database,{size:48,style:{color:"#79d5e9",marginBottom:"16px"}}),jsxRuntimeExports.jsx("h2",{children:"Airtable Demo"}),jsxRuntimeExports.jsx("p",{style:{color:"#666"},children:"Airtable integration demo - coming soon"})]}),messageService={async getContacts(){return(await api.get("/v1/messages/contacts")).contacts},async getUnreadCount(){return api.get("/v1/messages/unread-count")},async listConversations(i={}){return api.get("/v1/messages/conversations",i)},async createConversation(i){return(await api.post("/v1/messages/conversations",{recipient_id:i})).conversation},async getConversation(i,o={}){return api.get(`/v1/messages/conversations/${i}`,o)},async sendMessage(i,o){return(await api.post(`/v1/messages/conversations/${i}/messages`,o)).message},async markConversationRead(i){await api.put(`/v1/messages/conversations/${i}/read`)},async listBroadcasts(i={}){return api.get("/v1/messages/broadcasts",i)},async sendBroadcast(i){return(await api.post("/v1/messages/broadcasts",i)).broadcast},async markBroadcastRead(i){await api.put(`/v1/messages/broadcasts/${i}/read`)}},messagingContainer="_messagingContainer_nvujz_1",loadingContainer="_loadingContainer_nvujz_9",spinner="_spinner_nvujz_19",sidebar="_sidebar_nvujz_35",sidebarHeader="_sidebarHeader_nvujz_44",headerTitle="_headerTitle_nvujz_49",searchContainer="_searchContainer_nvujz_62",searchIcon$1="_searchIcon_nvujz_68",searchInput$1="_searchInput_nvujz_76",conversationsList="_conversationsList_nvujz_97",conversationItem="_conversationItem_nvujz_103",active$1="_active_nvujz_118",avatar="_avatar_nvujz_123",onlineStatus="_onlineStatus_nvujz_145",online="_online_nvujz_145",offline="_offline_nvujz_159",conversationContent="_conversationContent_nvujz_163",conversationHeader="_conversationHeader_nvujz_168",role="_role_nvujz_185",lastMessage="_lastMessage_nvujz_194",unreadBadge="_unreadBadge_nvujz_203",chatArea="_chatArea_nvujz_215",chatHeader="_chatHeader_nvujz_222",chatUserInfo="_chatUserInfo_nvujz_232",userStatus="_userStatus_nvujz_245",chatActions="_chatActions_nvujz_251",actionButton$1="_actionButton_nvujz_256",messagesContainer="_messagesContainer_nvujz_276",messageWrapper="_messageWrapper_nvujz_285",sent="_sent_nvujz_290",received="_received_nvujz_294",message="_message_nvujz_276",messageTime="_messageTime_nvujz_323",messageInput="_messageInput_nvujz_330",attachButton="_attachButton_nvujz_340",textInput="_textInput_nvujz_360",sendButton="_sendButton_nvujz_381",emptyState$3="_emptyState_nvujz_406",styles$3={messagingContainer,loadingContainer,spinner,sidebar,sidebarHeader,headerTitle,searchContainer,searchIcon:searchIcon$1,searchInput:searchInput$1,conversationsList,conversationItem,active:active$1,avatar,onlineStatus,online,offline,conversationContent,conversationHeader,role,lastMessage,unreadBadge,chatArea,chatHeader,chatUserInfo,userStatus,chatActions,actionButton:actionButton$1,messagesContainer,messageWrapper,sent,received,message,messageTime,messageInput,attachButton,textInput,sendButton,emptyState:emptyState$3},Messaging=()=>{const[i,o]=reactExports.useState(null),[_,j]=reactExports.useState([]),[_e,et]=reactExports.useState(null),[tt,rt]=reactExports.useState([]),[nt,st]=reactExports.useState(""),[it,at]=reactExports.useState(!0),[ot,ct]=reactExports.useState(""),[ut,lt]=reactExports.useState(null),pt=reactExports.useRef(null);reactExports.useEffect(()=>{dt()},[]),reactExports.useEffect(()=>{_e!=null&&_e.conversation&&mt(_e.conversation.id)},[_e]),reactExports.useEffect(()=>{yt()},[tt]);const dt=async()=>{try{const jt=authService.getCachedAgent();if(!jt){at(!1);return}const Tt={id:jt.id,first_name:jt.name.split(" ")[0]||jt.name,last_name:jt.name.split(" ").slice(1).join(" ")||"",email:"",role:jt.is_admin?"admin":"agent",company_id:"",is_online:!0};o(Tt),await ht()}catch(jt){console.error("Error initializing messaging:",jt)}finally{at(!1)}},ht=async()=>{try{const[jt,Tt]=await Promise.all([messageService.listConversations({limit:50}),messageService.getContacts()]),kt=jt.conversations.map(Rt=>{var bt,vt;return{user:{id:Rt.agent_id===(i==null?void 0:i.id)?Rt.admin_id:Rt.agent_id,first_name:((bt=Rt.other_user_name)==null?void 0:bt.split(" ")[0])||"Unknown",last_name:((vt=Rt.other_user_name)==null?void 0:vt.split(" ").slice(1).join(" "))||"",email:"",role:Rt.agent_id===(i==null?void 0:i.id)?"admin":"agent",company_id:"",is_online:!1},conversation:Rt,lastMessage:Rt.last_message?{id:"last",content:Rt.last_message,sender_id:"",recipient_id:"",created_at:Rt.last_message_at,message_type:"text"}:void 0,unreadCount:(i==null?void 0:i.role)==="admin"?Rt.admin_unread_count:Rt.agent_unread_count}}),Pt=new Set(kt.map(Rt=>Rt.user.id)),St=Tt.filter(Rt=>!Pt.has(Rt.id)).map(Rt=>({user:{id:Rt.id,first_name:Rt.name.split(" ")[0]||Rt.name,last_name:Rt.name.split(" ").slice(1).join(" ")||"",email:"",role:Rt.is_admin?"admin":"agent",company_id:"",is_online:!1},unreadCount:0}));j([...kt,...St])}catch(jt){console.error("Error loading conversations:",jt),j([])}},ft=async jt=>{if(i)try{await messageService.markConversationRead(jt),j(Tt=>Tt.map(kt=>{var Pt;return((Pt=kt.conversation)==null?void 0:Pt.id)===jt?{...kt,unreadCount:0}:kt}))}catch(Tt){console.error("Error marking messages as read:",Tt)}},mt=async jt=>{if(i)try{lt(jt);const{messages:Tt}=await messageService.getConversation(jt,{limit:100}),kt=Tt.map(Pt=>{var St,Rt;return{id:Pt.id.toString(),content:Pt.content||"",sender_id:Pt.sender_id,recipient_id:"",created_at:Pt.created_at,read_at:Pt.read_at||void 0,message_type:Pt.attachments&&Pt.attachments.length>0?"file":"text",sender:{id:Pt.sender_id,first_name:((St=Pt.sender_name)==null?void 0:St.split(" ")[0])||"Unknown",last_name:((Rt=Pt.sender_name)==null?void 0:Rt.split(" ").slice(1).join(" "))||"",email:"",role:"",company_id:""}}});rt(kt),await ft(jt)}catch(Tt){console.error("Error loading messages:",Tt),rt([])}},xt=async()=>{var Tt;if(!nt.trim()||!_e||!i)return;const jt=nt.trim();st("");try{let kt=(Tt=_e.conversation)==null?void 0:Tt.id;if(!kt){const Rt=await messageService.createConversation(_e.user.id);kt=Rt.id;const bt={..._e,conversation:Rt};et(bt),j(vt=>vt.map(At=>At.user.id===_e.user.id?bt:At))}const Pt=await messageService.sendMessage(kt,{content:jt}),St={id:Pt.id.toString(),content:Pt.content||"",sender_id:i.id,recipient_id:_e.user.id,created_at:Pt.created_at,message_type:"text",sender:i};rt(Rt=>[...Rt,St]),j(Rt=>Rt.map(bt=>{var vt;return((vt=bt.conversation)==null?void 0:vt.id)===kt?{...bt,lastMessage:St}:bt}))}catch(kt){console.error("Error sending message:",kt),st(jt)}},gt=jt=>{jt.key==="Enter"&&!jt.shiftKey&&(jt.preventDefault(),xt())},yt=()=>{var jt;(jt=pt.current)==null||jt.scrollIntoView({behavior:"smooth"})},_t=jt=>new Date(jt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Et=(jt,Tt)=>`${jt.charAt(0)}${Tt.charAt(0)}`.toUpperCase(),wt=_.filter(jt=>jt.user.first_name.toLowerCase().includes(ot.toLowerCase())||jt.user.last_name.toLowerCase().includes(ot.toLowerCase())),$t=jt=>{et(jt),jt.conversation?mt(jt.conversation.id):rt([])};return it?jsxRuntimeExports.jsxs("div",{className:styles$3.loadingContainer,children:[jsxRuntimeExports.jsx("div",{className:styles$3.spinner}),jsxRuntimeExports.jsx("p",{children:"Loading messages..."})]}):jsxRuntimeExports.jsxs("div",{className:styles$3.messagingContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$3.sidebar,children:[jsxRuntimeExports.jsx("div",{className:styles$3.sidebarHeader,children:jsxRuntimeExports.jsxs("div",{className:styles$3.headerTitle,children:[jsxRuntimeExports.jsx(Users$1,{size:20}),jsxRuntimeExports.jsx("h2",{children:"Messages"})]})}),jsxRuntimeExports.jsxs("div",{className:styles$3.searchContainer,children:[jsxRuntimeExports.jsx(Search,{size:16,className:styles$3.searchIcon}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search conversations...",value:ot,onChange:jt=>ct(jt.target.value),className:styles$3.searchInput})]}),jsxRuntimeExports.jsx("div",{className:styles$3.conversationsList,children:wt.length===0?jsxRuntimeExports.jsxs("div",{className:styles$3.emptyConversations,children:[jsxRuntimeExports.jsx(Users$1,{size:32}),jsxRuntimeExports.jsx("p",{children:"No conversations yet"}),jsxRuntimeExports.jsx("small",{children:"Messaging feature is being set up"})]}):wt.map(jt=>jsxRuntimeExports.jsxs("div",{className:`${styles$3.conversationItem} ${(_e==null?void 0:_e.user.id)===jt.user.id?styles$3.active:""}`,onClick:()=>$t(jt),children:[jsxRuntimeExports.jsxs("div",{className:styles$3.avatar,children:[jt.user.avatar_url?jsxRuntimeExports.jsx("img",{src:jt.user.avatar_url,alt:"Avatar"}):jsxRuntimeExports.jsx("span",{children:Et(jt.user.first_name,jt.user.last_name)}),jsxRuntimeExports.jsx("div",{className:`${styles$3.onlineStatus} ${jt.user.is_online?styles$3.online:styles$3.offline}`})]}),jsxRuntimeExports.jsxs("div",{className:styles$3.conversationContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$3.conversationHeader,children:[jsxRuntimeExports.jsxs("h4",{children:[jt.user.first_name," ",jt.user.last_name]}),jsxRuntimeExports.jsx("span",{className:styles$3.role,children:jt.user.role})]}),jt.lastMessage&&jsxRuntimeExports.jsx("p",{className:styles$3.lastMessage,children:jt.lastMessage.content})]}),jt.unreadCount>0&&jsxRuntimeExports.jsx("div",{className:styles$3.unreadBadge,children:jt.unreadCount})]},jt.user.id))})]}),jsxRuntimeExports.jsx("div",{className:styles$3.chatArea,children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$3.chatHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$3.chatUserInfo,children:[jsxRuntimeExports.jsxs("div",{className:styles$3.avatar,children:[_e.user.avatar_url?jsxRuntimeExports.jsx("img",{src:_e.user.avatar_url,alt:"Avatar"}):jsxRuntimeExports.jsx("span",{children:Et(_e.user.first_name,_e.user.last_name)}),jsxRuntimeExports.jsx("div",{className:`${styles$3.onlineStatus} ${_e.user.is_online?styles$3.online:styles$3.offline}`})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{children:[_e.user.first_name," ",_e.user.last_name]}),jsxRuntimeExports.jsx("p",{className:styles$3.userStatus,children:_e.user.is_online?"Online":"Last seen recently"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$3.chatActions,children:[jsxRuntimeExports.jsx("button",{className:styles$3.actionButton,children:jsxRuntimeExports.jsx(Phone,{size:18})}),jsxRuntimeExports.jsx("button",{className:styles$3.actionButton,children:jsxRuntimeExports.jsx(Video,{size:18})}),jsxRuntimeExports.jsx("button",{className:styles$3.actionButton,children:jsxRuntimeExports.jsx(MoreVertical,{size:18})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$3.messagesContainer,children:[tt.length===0?jsxRuntimeExports.jsx("div",{className:styles$3.noMessages,children:jsxRuntimeExports.jsx("p",{children:"No messages yet. Start the conversation!"})}):tt.map(jt=>jsxRuntimeExports.jsx("div",{className:`${styles$3.messageWrapper} ${jt.sender_id===(i==null?void 0:i.id)?styles$3.sent:styles$3.received}`,children:jsxRuntimeExports.jsxs("div",{className:styles$3.message,children:[jsxRuntimeExports.jsx("p",{children:jt.content}),jsxRuntimeExports.jsx("span",{className:styles$3.messageTime,children:_t(jt.created_at)})]})},jt.id)),jsxRuntimeExports.jsx("div",{ref:pt})]}),jsxRuntimeExports.jsxs("div",{className:styles$3.messageInput,children:[jsxRuntimeExports.jsx("button",{className:styles$3.attachButton,children:jsxRuntimeExports.jsx(Paperclip,{size:18})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Type a message...",value:nt,onChange:jt=>st(jt.target.value),onKeyPress:gt,className:styles$3.textInput}),jsxRuntimeExports.jsx("button",{className:styles$3.sendButton,onClick:xt,disabled:!nt.trim(),children:jsxRuntimeExports.jsx(Send,{size:18})})]})]}):jsxRuntimeExports.jsxs("div",{className:styles$3.emptyState,children:[jsxRuntimeExports.jsx(Users$1,{size:64}),jsxRuntimeExports.jsx("h3",{children:"Select a conversation"}),jsxRuntimeExports.jsx("p",{children:"Choose a team member to start messaging"})]})})]})},warehouseContainer="_warehouseContainer_19m7g_3",warehouseHeader="_warehouseHeader_19m7g_10",headerContent="_headerContent_19m7g_19",titleSection$2="_titleSection_19m7g_26",titleIcon="_titleIcon_19m7g_32",headerStats="_headerStats_19m7g_50",statCard="_statCard_19m7g_55",statValue$2="_statValue_19m7g_60",statLabel$2="_statLabel_19m7g_67",headerActions="_headerActions_19m7g_73",lastRefresh="_lastRefresh_19m7g_80",refreshButton="_refreshButton_19m7g_88",spinning="_spinning_19m7g_114",errorBanner="_errorBanner_19m7g_123",kanbanBoard="_kanbanBoard_19m7g_138",kanbanColumn="_kanbanColumn_19m7g_145",columnHeader="_columnHeader_19m7g_155",columnTitle="_columnTitle_19m7g_164",columnCount="_columnCount_19m7g_173",columnContent="_columnContent_19m7g_184",orderCard="_orderCard_19m7g_194",orderHeader="_orderHeader_19m7g_209",orderNumber$1="_orderNumber_19m7g_216",viewButton="_viewButton_19m7g_222",customerInfo$1="_customerInfo_19m7g_239",orderMeta="_orderMeta_19m7g_248",metaItem="_metaItem_19m7g_255",orderActions="_orderActions_19m7g_263",actionButton="_actionButton_19m7g_267",deliveredBadge="_deliveredBadge_19m7g_294",emptyState$2="_emptyState_19m7g_310",styles$2={warehouseContainer,warehouseHeader,headerContent,titleSection:titleSection$2,titleIcon,headerStats,statCard,statValue:statValue$2,statLabel:statLabel$2,headerActions,lastRefresh,refreshButton,spinning,errorBanner,kanbanBoard,kanbanColumn,columnHeader,columnTitle,columnCount,columnContent,orderCard,orderHeader,orderNumber:orderNumber$1,viewButton,customerInfo:customerInfo$1,orderMeta,metaItem,orderActions,actionButton,deliveredBadge,emptyState:emptyState$2},OrderCard=({order:i,onStatusUpdate:o,isUpdating:_})=>{var it,at;const j=useNavigate(),_e=ot=>ot?new Date(ot).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit"}):"N/A",et=ot=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(ot),tt=ot=>{switch(ot){case"sent_to_packing":return"packed";case"packed":return"delivery_booked";case"delivery_booked":return"delivered";default:return null}},rt=ot=>{switch(ot){case"sent_to_packing":return"Mark as Packed";case"packed":return"Book Delivery";case"delivery_booked":return"Mark as Delivered";default:return null}},nt=async()=>{const ot=tt(i.warehouse_status);ot&&await o(i.id,ot)},st=()=>{j(`/orders/${i.id}`)};return jsxRuntimeExports.jsxs("div",{className:styles$2.orderCard,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.orderHeader,children:[jsxRuntimeExports.jsx("div",{className:styles$2.orderNumber,children:i.legacy_order_number||`#${i.id.slice(0,8)}`}),jsxRuntimeExports.jsx("button",{onClick:st,className:styles$2.viewButton,title:"View Order Details",children:jsxRuntimeExports.jsx(Eye,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.customerInfo,children:[jsxRuntimeExports.jsx(User,{size:14}),jsxRuntimeExports.jsx("span",{children:((it=i.customers)==null?void 0:it.display_name)||((at=i.customers)==null?void 0:at.trading_name)||"Unknown Customer"})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.orderMeta,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.metaItem,children:[jsxRuntimeExports.jsx(Calendar,{size:14}),jsxRuntimeExports.jsx("span",{children:_e(i.order_date||i.created_at)})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.metaItem,children:[jsxRuntimeExports.jsx(DollarSign,{size:14}),jsxRuntimeExports.jsx("span",{children:et(i.total||0)})]})]}),i.warehouse_status!=="delivered"&&jsxRuntimeExports.jsx("div",{className:styles$2.orderActions,children:jsxRuntimeExports.jsx("button",{onClick:nt,disabled:_,className:styles$2.actionButton,children:_?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{size:14,className:styles$2.spinning}),"Updating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckCircle,{size:14}),rt(i.warehouse_status)]})})}),i.warehouse_status==="delivered"&&jsxRuntimeExports.jsxs("div",{className:styles$2.deliveredBadge,children:[jsxRuntimeExports.jsx(CheckCircle,{size:14}),"Delivered"]})]})},Warehouse=()=>{const[i,o]=reactExports.useState(null),[_,j]=reactExports.useState({pending:[],sentToPacking:[],packed:[],deliveryBooked:[],delivered:[]}),[_e,et]=reactExports.useState(!0),[tt,rt]=reactExports.useState(null),[nt,st]=reactExports.useState(new Set),[it,at]=reactExports.useState(new Date);reactExports.useEffect(()=>{if(!authService.getCachedAgent()){rt("User not authenticated"),et(!1);return}o({company_id:"jwt-managed"})},[]);const ot=reactExports.useCallback(async()=>{if(i!=null&&i.company_id)try{rt(null);const dt=await shippingService.getOrdersByWarehouseStatus(i.company_id);j(dt),at(new Date)}catch(dt){console.error("Error fetching warehouse orders:",dt),rt("Failed to fetch warehouse orders")}finally{et(!1)}},[i==null?void 0:i.company_id]);reactExports.useEffect(()=>{i!=null&&i.company_id&&ot()},[ot,i]),reactExports.useEffect(()=>{const dt=setInterval(ot,3e4);return()=>clearInterval(dt)},[ot]);const ct=async(dt,ht)=>{st(ft=>new Set(Array.from(ft).concat(dt)));try{let ft;switch(ht){case"packed":ft=await shippingService.markOrderAsPacked(dt);break;case"delivery_booked":ft=await shippingService.bookDelivery(dt);break;case"delivered":ft=await shippingService.markAsDelivered(dt);break;default:throw new Error("Invalid status update")}if(ft.success)await ot();else throw new Error(ft.message)}catch(ft){console.error("Error updating order status:",ft),rt(ft instanceof Error?ft.message:"Failed to update order status"),setTimeout(()=>rt(null),5e3)}finally{st(ft=>{const mt=new Set(ft);return mt.delete(dt),mt})}},ut=()=>{const dt=_.sentToPacking.length+_.packed.length+_.deliveryBooked.length+_.delivered.length,ft=_.sentToPacking.concat(_.packed).concat(_.deliveryBooked).concat(_.delivered).reduce((mt,xt)=>mt+(xt.total||0),0);return{totalOrders:dt,totalValue:ft}},{totalOrders:lt,totalValue:pt}=ut();return _e?null:jsxRuntimeExports.jsxs("div",{className:styles$2.warehouseContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.warehouseHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.headerContent,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.titleSection,children:[jsxRuntimeExports.jsx(Package,{className:styles$2.titleIcon,size:28}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{children:"Warehouse Management"}),jsxRuntimeExports.jsx("p",{children:"Track orders through packing and delivery workflow"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.headerStats,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.statCard,children:[jsxRuntimeExports.jsx("div",{className:styles$2.statValue,children:lt}),jsxRuntimeExports.jsx("div",{className:styles$2.statLabel,children:"Active Orders"})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.statCard,children:[jsxRuntimeExports.jsx("div",{className:styles$2.statValue,children:new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",maximumFractionDigits:0}).format(pt)}),jsxRuntimeExports.jsx("div",{className:styles$2.statLabel,children:"Total Value"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.headerActions,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.lastRefresh,children:[jsxRuntimeExports.jsx(Clock,{size:14}),"Last updated: ",it.toLocaleTimeString()]}),jsxRuntimeExports.jsxs("button",{onClick:ot,className:styles$2.refreshButton,disabled:_e,children:[jsxRuntimeExports.jsx(RefreshCw,{size:16,className:_e?styles$2.spinning:""}),"Refresh"]})]})]}),tt&&jsxRuntimeExports.jsxs("div",{className:styles$2.errorBanner,children:[jsxRuntimeExports.jsx(AlertTriangle,{size:16}),jsxRuntimeExports.jsx("span",{children:tt})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.kanbanBoard,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.kanbanColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnTitle,children:[jsxRuntimeExports.jsx(Package,{size:20}),jsxRuntimeExports.jsx("span",{children:"Sent to Packing"})]}),jsxRuntimeExports.jsx("div",{className:styles$2.columnCount,children:_.sentToPacking.length})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.columnContent,children:[_.sentToPacking.map(dt=>jsxRuntimeExports.jsx(OrderCard,{order:dt,onStatusUpdate:ct,isUpdating:nt.has(dt.id)},dt.id)),_.sentToPacking.length===0&&jsxRuntimeExports.jsxs("div",{className:styles$2.emptyState,children:[jsxRuntimeExports.jsx(Package,{size:32}),jsxRuntimeExports.jsx("p",{children:"No orders sent to packing"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.kanbanColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnTitle,children:[jsxRuntimeExports.jsx(CheckCircle,{size:20}),jsxRuntimeExports.jsx("span",{children:"Packed"})]}),jsxRuntimeExports.jsx("div",{className:styles$2.columnCount,children:_.packed.length})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.columnContent,children:[_.packed.map(dt=>jsxRuntimeExports.jsx(OrderCard,{order:dt,onStatusUpdate:ct,isUpdating:nt.has(dt.id)},dt.id)),_.packed.length===0&&jsxRuntimeExports.jsxs("div",{className:styles$2.emptyState,children:[jsxRuntimeExports.jsx(CheckCircle,{size:32}),jsxRuntimeExports.jsx("p",{children:"No packed orders"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.kanbanColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnTitle,children:[jsxRuntimeExports.jsx(Truck,{size:20}),jsxRuntimeExports.jsx("span",{children:"Delivery Booked"})]}),jsxRuntimeExports.jsx("div",{className:styles$2.columnCount,children:_.deliveryBooked.length})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.columnContent,children:[_.deliveryBooked.map(dt=>jsxRuntimeExports.jsx(OrderCard,{order:dt,onStatusUpdate:ct,isUpdating:nt.has(dt.id)},dt.id)),_.deliveryBooked.length===0&&jsxRuntimeExports.jsxs("div",{className:styles$2.emptyState,children:[jsxRuntimeExports.jsx(Truck,{size:32}),jsxRuntimeExports.jsx("p",{children:"No delivery bookings"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.kanbanColumn,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.columnTitle,children:[jsxRuntimeExports.jsx(MapPin,{size:20}),jsxRuntimeExports.jsx("span",{children:"Delivered"})]}),jsxRuntimeExports.jsx("div",{className:styles$2.columnCount,children:_.delivered.length})]}),jsxRuntimeExports.jsxs("div",{className:styles$2.columnContent,children:[_.delivered.map(dt=>jsxRuntimeExports.jsx(OrderCard,{order:dt,onStatusUpdate:ct,isUpdating:nt.has(dt.id)},dt.id)),_.delivered.length===0&&jsxRuntimeExports.jsxs("div",{className:styles$2.emptyState,children:[jsxRuntimeExports.jsx(MapPin,{size:32}),jsxRuntimeExports.jsx("p",{children:"No delivered orders"})]})]})]})]})]})},Warehouse$1=withLoader(Warehouse),couriers="_couriers_s4lxq_2",header$1="_header_s4lxq_9",titleSection$1="_titleSection_s4lxq_21",addButton="_addButton_s4lxq_34",loading$1="_loading_s4lxq_54",couriersGrid="_couriersGrid_s4lxq_63",courierCard="_courierCard_s4lxq_69",inactive="_inactive_s4lxq_85",courierHeader="_courierHeader_s4lxq_90",courierInfo$1="_courierInfo_s4lxq_97",logo="_logo_s4lxq_103",logoPlaceholder="_logoPlaceholder_s4lxq_112",status="_status_s4lxq_131",active="_active_s4lxq_140",actions="_actions_s4lxq_150",editBtn="_editBtn_s4lxq_155",deleteBtn="_deleteBtn_s4lxq_156",courierDetails="_courierDetails_s4lxq_183",contact="_contact_s4lxq_189",services="_services_s4lxq_195",coverage="_coverage_s4lxq_196",rates="_rates_s4lxq_197",stats$1="_stats_s4lxq_198",tags="_tags_s4lxq_210",tag="_tag_s4lxq_210",rateGrid="_rateGrid_s4lxq_226",statGrid="_statGrid_s4lxq_243",stat$1="_stat_s4lxq_131",statValue$1="_statValue_s4lxq_259",statLabel$1="_statLabel_s4lxq_266",features="_features_s4lxq_272",feature="_feature_s4lxq_272",enabled="_enabled_s4lxq_284",disabled="_disabled_s4lxq_289",emptyState$1="_emptyState_s4lxq_294",modalOverlay$1="_modalOverlay_s4lxq_317",modal$1="_modal_s4lxq_317",modalHeader$1="_modalHeader_s4lxq_342",form="_form_s4lxq_371",formGrid="_formGrid_s4lxq_375",formGroup="_formGroup_s4lxq_382",formSection="_formSection_s4lxq_410",arrayInput="_arrayInput_s4lxq_421",addArrayBtn="_addArrayBtn_s4lxq_452",checkboxGroup="_checkboxGroup_s4lxq_467",checkbox="_checkbox_s4lxq_467",formActions="_formActions_s4lxq_488",primaryBtn="_primaryBtn_s4lxq_516",styles$1={couriers,header:header$1,titleSection:titleSection$1,addButton,loading:loading$1,couriersGrid,courierCard,inactive,courierHeader,courierInfo:courierInfo$1,logo,logoPlaceholder,status,active,actions,editBtn,deleteBtn,courierDetails,contact,services,coverage,rates,stats:stats$1,tags,tag,rateGrid,statGrid,stat:stat$1,statValue:statValue$1,statLabel:statLabel$1,features,feature,enabled,disabled,emptyState:emptyState$1,modalOverlay:modalOverlay$1,modal:modal$1,modalHeader:modalHeader$1,form,formGrid,formGroup,formSection,arrayInput,addArrayBtn,checkboxGroup,checkbox,formActions,primaryBtn},Couriers=()=>{const[i,o]=reactExports.useState([]),[_,j]=reactExports.useState(!0),[_e,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(null),[nt,st]=reactExports.useState({}),[it,at]=reactExports.useState({name:"",logo_url:"",contact_email:"",contact_phone:"",website:"",service_types:[""],coverage_areas:[""],base_rate:"",per_kg_rate:"",express_rate:"",tracking_enabled:!1,api_integration_enabled:!1,is_active:!0});reactExports.useEffect(()=>{ot()},[]);const ot=async()=>{try{if(!authService.getCachedAgent()){console.warn("No authenticated agent found"),j(!1);return}console.warn("TODO: Implement GET /api/v1/couriers backend endpoint"),o([]),st({})}catch(_t){console.error("Error loading couriers:",_t)}finally{j(!1)}},ct=()=>({total_shipments:0,delivered_shipments:0,pending_shipments:0,average_delivery_time:0,success_rate:0}),ut=async _t=>{_t.preventDefault();try{if(!authService.getCachedAgent()){console.warn("No authenticated agent found");return}const wt={...it,service_types:it.service_types.filter($t=>$t.trim()),coverage_areas:it.coverage_areas.filter($t=>$t.trim()),base_rate:it.base_rate?parseFloat(it.base_rate):null,per_kg_rate:it.per_kg_rate?parseFloat(it.per_kg_rate):null,express_rate:it.express_rate?parseFloat(it.express_rate):null,updated_at:new Date().toISOString()};tt?(console.warn("TODO: Implement PUT /api/v1/couriers/:id backend endpoint"),console.log("Would update courier:",tt.id,wt)):(console.warn("TODO: Implement POST /api/v1/couriers backend endpoint"),console.log("Would create courier:",wt)),et(!1),rt(null),dt(),ot()}catch(Et){console.error("Error saving courier:",Et)}},lt=_t=>{var Et,wt,$t;rt(_t),at({name:_t.name,logo_url:_t.logo_url||"",contact_email:_t.contact_email||"",contact_phone:_t.contact_phone||"",website:_t.website||"",service_types:_t.service_types.length>0?_t.service_types:[""],coverage_areas:_t.coverage_areas.length>0?_t.coverage_areas:[""],base_rate:((Et=_t.base_rate)==null?void 0:Et.toString())||"",per_kg_rate:((wt=_t.per_kg_rate)==null?void 0:wt.toString())||"",express_rate:(($t=_t.express_rate)==null?void 0:$t.toString())||"",tracking_enabled:_t.tracking_enabled,api_integration_enabled:_t.api_integration_enabled,is_active:_t.is_active}),et(!0)},pt=async _t=>{if(window.confirm("Are you sure you want to delete this courier?"))try{console.warn("TODO: Implement DELETE /api/v1/couriers/:id backend endpoint"),console.log("Would delete courier:",_t),ot()}catch(Et){console.error("Error deleting courier:",Et)}},dt=()=>{at({name:"",logo_url:"",contact_email:"",contact_phone:"",website:"",service_types:[""],coverage_areas:[""],base_rate:"",per_kg_rate:"",express_rate:"",tracking_enabled:!1,api_integration_enabled:!1,is_active:!0})},ht=()=>{at(_t=>({..._t,service_types:[..._t.service_types,""]}))},ft=()=>{at(_t=>({..._t,coverage_areas:[..._t.coverage_areas,""]}))},mt=(_t,Et)=>{at(wt=>({...wt,service_types:wt.service_types.map(($t,jt)=>jt===_t?Et:$t)}))},xt=(_t,Et)=>{at(wt=>({...wt,coverage_areas:wt.coverage_areas.map(($t,jt)=>jt===_t?Et:$t)}))},gt=_t=>{at(Et=>({...Et,service_types:Et.service_types.filter((wt,$t)=>$t!==_t)}))},yt=_t=>{at(Et=>({...Et,coverage_areas:Et.coverage_areas.filter((wt,$t)=>$t!==_t)}))};return _?jsxRuntimeExports.jsx("div",{className:styles$1.loading,children:"Loading couriers..."}):jsxRuntimeExports.jsxs("div",{className:styles$1.couriers,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.header,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.titleSection,children:[jsxRuntimeExports.jsx("h1",{children:"Courier Management"}),jsxRuntimeExports.jsx("p",{children:"Manage your shipping partners and their rates"})]}),jsxRuntimeExports.jsxs("button",{className:styles$1.addButton,onClick:()=>{dt(),et(!0)},children:[jsxRuntimeExports.jsx(Plus,{}),"Add New Courier"]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.couriersGrid,children:[i.map(_t=>{const Et=nt[_t.id]||ct();return jsxRuntimeExports.jsxs("div",{className:`${styles$1.courierCard} ${_t.is_active?"":styles$1.inactive}`,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.courierHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.courierInfo,children:[_t.logo_url?jsxRuntimeExports.jsx("img",{src:_t.logo_url,alt:_t.name,className:styles$1.logo}):jsxRuntimeExports.jsx("div",{className:styles$1.logoPlaceholder,children:jsxRuntimeExports.jsx(Truck,{})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{children:_t.name}),jsxRuntimeExports.jsx("span",{className:`${styles$1.status} ${_t.is_active?styles$1.active:styles$1.inactive}`,children:_t.is_active?"Active":"Inactive"})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.actions,children:[jsxRuntimeExports.jsx("button",{onClick:()=>lt(_t),className:styles$1.editBtn,children:jsxRuntimeExports.jsx(Pen,{})}),jsxRuntimeExports.jsx("button",{onClick:()=>pt(_t.id),className:styles$1.deleteBtn,children:jsxRuntimeExports.jsx(Trash2,{})})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.courierDetails,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.contact,children:[_t.contact_email&&jsxRuntimeExports.jsxs("p",{children:["Email: ",_t.contact_email]}),_t.contact_phone&&jsxRuntimeExports.jsxs("p",{children:["Phone: ",_t.contact_phone]}),_t.website&&jsxRuntimeExports.jsxs("p",{children:["Web: ",_t.website]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.services,children:[jsxRuntimeExports.jsx("h4",{children:"Services"}),jsxRuntimeExports.jsx("div",{className:styles$1.tags,children:_t.service_types.map((wt,$t)=>jsxRuntimeExports.jsx("span",{className:styles$1.tag,children:wt},$t))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.coverage,children:[jsxRuntimeExports.jsxs("h4",{children:[jsxRuntimeExports.jsx(MapPin,{})," Coverage Areas"]}),jsxRuntimeExports.jsx("div",{className:styles$1.tags,children:_t.coverage_areas.map((wt,$t)=>jsxRuntimeExports.jsx("span",{className:styles$1.tag,children:wt},$t))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.rates,children:[jsxRuntimeExports.jsx("h4",{children:"Rates"}),jsxRuntimeExports.jsxs("div",{className:styles$1.rateGrid,children:[_t.base_rate&&jsxRuntimeExports.jsxs("span",{children:["Base: ",_t.base_rate.toLocaleString("en-GB",{style:"currency",currency:"GBP"})]}),_t.per_kg_rate&&jsxRuntimeExports.jsxs("span",{children:["Per kg: ",_t.per_kg_rate.toLocaleString("en-GB",{style:"currency",currency:"GBP"})]}),_t.express_rate&&jsxRuntimeExports.jsxs("span",{children:["Express: ",_t.express_rate.toLocaleString("en-GB",{style:"currency",currency:"GBP"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.stats,children:[jsxRuntimeExports.jsxs("h4",{children:[jsxRuntimeExports.jsx(TrendingUp,{})," Performance"]}),jsxRuntimeExports.jsxs("div",{className:styles$1.statGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.stat,children:[jsxRuntimeExports.jsx("span",{className:styles$1.statValue,children:Et.total_shipments}),jsxRuntimeExports.jsx("span",{className:styles$1.statLabel,children:"Total Shipments"})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.stat,children:[jsxRuntimeExports.jsxs("span",{className:styles$1.statValue,children:[Et.success_rate,"%"]}),jsxRuntimeExports.jsx("span",{className:styles$1.statLabel,children:"Success Rate"})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.stat,children:[jsxRuntimeExports.jsxs("span",{className:styles$1.statValue,children:[Et.average_delivery_time,"d"]}),jsxRuntimeExports.jsx("span",{className:styles$1.statLabel,children:"Avg Delivery"})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.stat,children:[jsxRuntimeExports.jsx("span",{className:styles$1.statValue,children:Et.pending_shipments}),jsxRuntimeExports.jsx("span",{className:styles$1.statLabel,children:"Pending"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.features,children:[jsxRuntimeExports.jsx("div",{className:styles$1.feature,children:jsxRuntimeExports.jsxs("span",{className:_t.tracking_enabled?styles$1.enabled:styles$1.disabled,children:[_t.tracking_enabled?"Y":"N"," Tracking"]})}),jsxRuntimeExports.jsx("div",{className:styles$1.feature,children:jsxRuntimeExports.jsxs("span",{className:_t.api_integration_enabled?styles$1.enabled:styles$1.disabled,children:[_t.api_integration_enabled?"Y":"N"," API Integration"]})})]})]})]},_t.id)}),i.length===0&&jsxRuntimeExports.jsxs("div",{className:styles$1.emptyState,children:[jsxRuntimeExports.jsx(Truck,{size:48}),jsxRuntimeExports.jsx("h3",{children:"No Couriers Added"}),jsxRuntimeExports.jsx("p",{children:"Courier management feature is being set up. Add your first courier to start managing shipments."}),jsxRuntimeExports.jsx("small",{children:"Note: Backend courier endpoints are not yet implemented."})]})]}),_e&&jsxRuntimeExports.jsx("div",{className:styles$1.modalOverlay,onClick:()=>et(!1),children:jsxRuntimeExports.jsxs("div",{className:styles$1.modal,onClick:_t=>_t.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles$1.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:tt?"Edit Courier":"Add New Courier"}),jsxRuntimeExports.jsx("button",{onClick:()=>et(!1),children:"x"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ut,className:styles$1.form,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Courier Name*"}),jsxRuntimeExports.jsx("input",{type:"text",value:it.name,onChange:_t=>at(Et=>({...Et,name:_t.target.value})),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Logo URL"}),jsxRuntimeExports.jsx("input",{type:"url",value:it.logo_url,onChange:_t=>at(Et=>({...Et,logo_url:_t.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Contact Email"}),jsxRuntimeExports.jsx("input",{type:"email",value:it.contact_email,onChange:_t=>at(Et=>({...Et,contact_email:_t.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Contact Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",value:it.contact_phone,onChange:_t=>at(Et=>({...Et,contact_phone:_t.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Website"}),jsxRuntimeExports.jsx("input",{type:"url",value:it.website,onChange:_t=>at(Et=>({...Et,website:_t.target.value}))})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formSection,children:[jsxRuntimeExports.jsx("h3",{children:"Service Types"}),it.service_types.map((_t,Et)=>jsxRuntimeExports.jsxs("div",{className:styles$1.arrayInput,children:[jsxRuntimeExports.jsx("input",{type:"text",value:_t,onChange:wt=>mt(Et,wt.target.value),placeholder:"e.g., Next Day, Standard, Express"}),it.service_types.length>1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gt(Et),children:"x"})]},Et)),jsxRuntimeExports.jsx("button",{type:"button",onClick:ht,className:styles$1.addArrayBtn,children:"+ Add Service Type"})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formSection,children:[jsxRuntimeExports.jsx("h3",{children:"Coverage Areas"}),it.coverage_areas.map((_t,Et)=>jsxRuntimeExports.jsxs("div",{className:styles$1.arrayInput,children:[jsxRuntimeExports.jsx("input",{type:"text",value:_t,onChange:wt=>xt(Et,wt.target.value),placeholder:"e.g., UK, Europe, Worldwide"}),it.coverage_areas.length>1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>yt(Et),children:"x"})]},Et)),jsxRuntimeExports.jsx("button",{type:"button",onClick:ft,className:styles$1.addArrayBtn,children:"+ Add Coverage Area"})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formSection,children:[jsxRuntimeExports.jsx("h3",{children:"Rates"}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGrid,children:[jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Base Rate (GBP)"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:it.base_rate,onChange:_t=>at(Et=>({...Et,base_rate:_t.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Per KG Rate (GBP)"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:it.per_kg_rate,onChange:_t=>at(Et=>({...Et,per_kg_rate:_t.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formGroup,children:[jsxRuntimeExports.jsx("label",{children:"Express Rate (GBP)"}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",value:it.express_rate,onChange:_t=>at(Et=>({...Et,express_rate:_t.target.value}))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formSection,children:[jsxRuntimeExports.jsx("h3",{children:"Settings"}),jsxRuntimeExports.jsxs("div",{className:styles$1.checkboxGroup,children:[jsxRuntimeExports.jsxs("label",{className:styles$1.checkbox,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:it.tracking_enabled,onChange:_t=>at(Et=>({...Et,tracking_enabled:_t.target.checked}))}),"Tracking Enabled"]}),jsxRuntimeExports.jsxs("label",{className:styles$1.checkbox,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:it.api_integration_enabled,onChange:_t=>at(Et=>({...Et,api_integration_enabled:_t.target.checked}))}),"API Integration Enabled"]}),jsxRuntimeExports.jsxs("label",{className:styles$1.checkbox,children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:it.is_active,onChange:_t=>at(Et=>({...Et,is_active:_t.target.checked}))}),"Active"]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles$1.formActions,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>et(!1),children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:styles$1.primaryBtn,children:tt?"Update Courier":"Add Courier"})]})]})]})})]})},deliveries="_deliveries_nccqx_2",header="_header_nccqx_9",titleSection="_titleSection_nccqx_21",stats="_stats_nccqx_34",stat="_stat_nccqx_34",statValue="_statValue_nccqx_46",statLabel="_statLabel_nccqx_52",loading="_loading_nccqx_59",controls="_controls_nccqx_68",searchBox="_searchBox_nccqx_75",searchIcon="_searchIcon_nccqx_80",searchInput="_searchInput_nccqx_89",filters="_filters_nccqx_106",statusFilter="_statusFilter_nccqx_111",sortFilter="_sortFilter_nccqx_112",deliveriesTable="_deliveriesTable_nccqx_130",tableHeader="_tableHeader_nccqx_138",headerCell="_headerCell_nccqx_147",tableBody="_tableBody_nccqx_155",tableRow="_tableRow_nccqx_160",cell="_cell_nccqx_174",customerInfo="_customerInfo_nccqx_179",customerName="_customerName_nccqx_185",trackingNumber="_trackingNumber_nccqx_191",orderInfo="_orderInfo_nccqx_197",orderNumber="_orderNumber_nccqx_203",orderTotal="_orderTotal_nccqx_209",courierInfo="_courierInfo_nccqx_215",courierLogo="_courierLogo_nccqx_221",courierPlaceholder="_courierPlaceholder_nccqx_230",courierName="_courierName_nccqx_242",statusBadge="_statusBadge_nccqx_248",dateInfo="_dateInfo_nccqx_259",deliveredIcon="_deliveredIcon_nccqx_267",pendingIcon="_pendingIcon_nccqx_272",estimatedIcon="_estimatedIcon_nccqx_277",actionBtn="_actionBtn_nccqx_282",emptyState="_emptyState_nccqx_301",modalOverlay="_modalOverlay_nccqx_324",modal="_modal_nccqx_324",modalHeader="_modalHeader_nccqx_349",modalContent="_modalContent_nccqx_378",deliveryHeader="_deliveryHeader_nccqx_382",deliveryInfo="_deliveryInfo_nccqx_391",courierSection="_courierSection_nccqx_404",courierLogoLarge="_courierLogoLarge_nccqx_411",courierPlaceholderLarge="_courierPlaceholderLarge_nccqx_420",statusSection="_statusSection_nccqx_432",statusBadgeLarge="_statusBadgeLarge_nccqx_437",timeline="_timeline_nccqx_448",timelineItems="_timelineItems_nccqx_459",timelineItem="_timelineItem_nccqx_459",timelineMarker="_timelineMarker_nccqx_471",timelineContent="_timelineContent_nccqx_483",addressSection="_addressSection_nccqx_499",address="_address_nccqx_499",notesSection="_notesSection_nccqx_526",styles={deliveries,header,titleSection,stats,stat,statValue,statLabel,loading,controls,searchBox,searchIcon,searchInput,filters,statusFilter,sortFilter,deliveriesTable,tableHeader,headerCell,tableBody,tableRow,cell,customerInfo,customerName,trackingNumber,orderInfo,orderNumber,orderTotal,courierInfo,courierLogo,courierPlaceholder,courierName,statusBadge,dateInfo,deliveredIcon,pendingIcon,estimatedIcon,actionBtn,emptyState,modalOverlay,modal,modalHeader,modalContent,deliveryHeader,deliveryInfo,courierSection,courierLogoLarge,courierPlaceholderLarge,statusSection,statusBadgeLarge,timeline,timelineItems,timelineItem,timelineMarker,timelineContent,addressSection,address,notesSection},Deliveries=()=>{var wt,$t,jt,Tt;const[i,o]=reactExports.useState([]),[_,j]=reactExports.useState([]),[_e,et]=reactExports.useState(!0),[tt,rt]=reactExports.useState(""),[nt,st]=reactExports.useState("all"),[it,at]=reactExports.useState("created_at"),[ot,ct]=reactExports.useState("desc"),[ut,lt]=reactExports.useState(null),[pt,dt]=reactExports.useState(!1);reactExports.useEffect(()=>{ht()},[]),reactExports.useEffect(()=>{ft()},[i,tt,nt,it,ot]);const ht=async()=>{try{if(!authService.getCachedAgent()){et(!1);return}console.warn("TODO: Implement GET /api/v1/deliveries backend endpoint"),o([])}catch(kt){console.error("Error loading deliveries:",kt)}finally{et(!1)}},ft=()=>{let kt=[...i];tt&&(kt=kt.filter(Pt=>{var vt,At;const St=((vt=Pt.customers)==null?void 0:vt.company_name)||"",Rt=((At=Pt.orders)==null?void 0:At.legacy_order_number)||"",bt=Pt.tracking_number||"";return St.toLowerCase().includes(tt.toLowerCase())||Rt.toLowerCase().includes(tt.toLowerCase())||bt.toLowerCase().includes(tt.toLowerCase())})),nt!=="all"&&(kt=kt.filter(Pt=>Pt.shipping_status===nt)),kt.sort((Pt,St)=>{var vt,At;let Rt,bt;switch(it){case"customer_name":Rt=((vt=Pt.customers)==null?void 0:vt.company_name)||"",bt=((At=St.customers)==null?void 0:At.company_name)||"";break;case"shipped_date":Rt=Pt.shipped_date||"",bt=St.shipped_date||"";break;case"delivered_date":Rt=Pt.delivered_date||"",bt=St.delivered_date||"";break;default:Rt=Pt.created_at,bt=St.created_at}return Rt<bt?ot==="asc"?-1:1:Rt>bt?ot==="asc"?1:-1:0}),j(kt)},mt=kt=>{switch(kt){case"processing":return"#fbbf24";case"shipped":case"in_transit":return"#3b82f6";case"out_for_delivery":return"#f59e0b";case"delivered":return"#10b981";case"failed":case"returned":return"#ef4444";default:return"#6b7280"}},xt=kt=>{switch(kt){case"processing":return"Processing";case"shipped":return"Shipped";case"in_transit":return"In Transit";case"out_for_delivery":return"Out for Delivery";case"delivered":return"Delivered";case"failed":return"Failed";case"returned":return"Returned";default:return"Unknown"}},gt=kt=>kt?new Date(kt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",yt=kt=>{lt(kt),dt(!0)},Et=(()=>{const kt={total:i.length,delivered:0,in_transit:0,processing:0,failed:0};return i.forEach(Pt=>{switch(Pt.shipping_status){case"delivered":kt.delivered++;break;case"shipped":case"in_transit":case"out_for_delivery":kt.in_transit++;break;case"processing":kt.processing++;break;case"failed":case"returned":kt.failed++;break}}),kt})();return _e?jsxRuntimeExports.jsx("div",{className:styles.loading,children:"Loading deliveries..."}):jsxRuntimeExports.jsxs("div",{className:styles.deliveries,children:[jsxRuntimeExports.jsxs("div",{className:styles.header,children:[jsxRuntimeExports.jsxs("div",{className:styles.titleSection,children:[jsxRuntimeExports.jsx("h1",{children:"Delivery Management"}),jsxRuntimeExports.jsx("p",{children:"Track and manage all your shipments"})]}),jsxRuntimeExports.jsxs("div",{className:styles.stats,children:[jsxRuntimeExports.jsxs("div",{className:styles.stat,children:[jsxRuntimeExports.jsx("span",{className:styles.statValue,children:Et.total}),jsxRuntimeExports.jsx("span",{className:styles.statLabel,children:"Total"})]}),jsxRuntimeExports.jsxs("div",{className:styles.stat,children:[jsxRuntimeExports.jsx("span",{className:styles.statValue,style:{color:"#10b981"},children:Et.delivered}),jsxRuntimeExports.jsx("span",{className:styles.statLabel,children:"Delivered"})]}),jsxRuntimeExports.jsxs("div",{className:styles.stat,children:[jsxRuntimeExports.jsx("span",{className:styles.statValue,style:{color:"#3b82f6"},children:Et.in_transit}),jsxRuntimeExports.jsx("span",{className:styles.statLabel,children:"In Transit"})]}),jsxRuntimeExports.jsxs("div",{className:styles.stat,children:[jsxRuntimeExports.jsx("span",{className:styles.statValue,style:{color:"#fbbf24"},children:Et.processing}),jsxRuntimeExports.jsx("span",{className:styles.statLabel,children:"Processing"})]}),jsxRuntimeExports.jsxs("div",{className:styles.stat,children:[jsxRuntimeExports.jsx("span",{className:styles.statValue,style:{color:"#ef4444"},children:Et.failed}),jsxRuntimeExports.jsx("span",{className:styles.statLabel,children:"Issues"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles.controls,children:[jsxRuntimeExports.jsxs("div",{className:styles.searchBox,children:[jsxRuntimeExports.jsx(Search,{className:styles.searchIcon}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer, order number, or tracking number...",value:tt,onChange:kt=>rt(kt.target.value),className:styles.searchInput})]}),jsxRuntimeExports.jsxs("div",{className:styles.filters,children:[jsxRuntimeExports.jsxs("select",{value:nt,onChange:kt=>st(kt.target.value),className:styles.statusFilter,children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"processing",children:"Processing"}),jsxRuntimeExports.jsx("option",{value:"shipped",children:"Shipped"}),jsxRuntimeExports.jsx("option",{value:"in_transit",children:"In Transit"}),jsxRuntimeExports.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),jsxRuntimeExports.jsx("option",{value:"delivered",children:"Delivered"}),jsxRuntimeExports.jsx("option",{value:"failed",children:"Failed"}),jsxRuntimeExports.jsx("option",{value:"returned",children:"Returned"})]}),jsxRuntimeExports.jsxs("select",{value:`${it}-${ot}`,onChange:kt=>{const[Pt,St]=kt.target.value.split("-");at(Pt),ct(St)},className:styles.sortFilter,children:[jsxRuntimeExports.jsx("option",{value:"created_at-desc",children:"Newest First"}),jsxRuntimeExports.jsx("option",{value:"created_at-asc",children:"Oldest First"}),jsxRuntimeExports.jsx("option",{value:"customer_name-asc",children:"Customer A-Z"}),jsxRuntimeExports.jsx("option",{value:"customer_name-desc",children:"Customer Z-A"}),jsxRuntimeExports.jsx("option",{value:"shipped_date-desc",children:"Recently Shipped"}),jsxRuntimeExports.jsx("option",{value:"delivered_date-desc",children:"Recently Delivered"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles.deliveriesTable,children:[jsxRuntimeExports.jsxs("div",{className:styles.tableHeader,children:[jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Customer"}),jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Order"}),jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Courier"}),jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Status"}),jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Shipped"}),jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Delivered"}),jsxRuntimeExports.jsx("div",{className:styles.headerCell,children:"Actions"})]}),jsxRuntimeExports.jsxs("div",{className:styles.tableBody,children:[_.map(kt=>{var St,Rt,bt,vt,At,Ot;const Pt=((St=kt.customers)==null?void 0:St.company_name)||"Unknown Customer";return jsxRuntimeExports.jsxs("div",{className:styles.tableRow,children:[jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsxs("div",{className:styles.customerInfo,children:[jsxRuntimeExports.jsx("span",{className:styles.customerName,children:Pt}),jsxRuntimeExports.jsx("span",{className:styles.trackingNumber,children:kt.tracking_number?`#${kt.tracking_number}`:"No tracking"})]})}),jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsxs("div",{className:styles.orderInfo,children:[jsxRuntimeExports.jsx("span",{className:styles.orderNumber,children:((Rt=kt.orders)==null?void 0:Rt.legacy_order_number)||`#${kt.order_id.slice(0,8)}`}),jsxRuntimeExports.jsx("span",{className:styles.orderTotal,children:((vt=(bt=kt.orders)==null?void 0:bt.total)==null?void 0:vt.toFixed(2))||"0.00"})]})}),jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsxs("div",{className:styles.courierInfo,children:[(At=kt.couriers)!=null&&At.logo_url?jsxRuntimeExports.jsx("img",{src:kt.couriers.logo_url,alt:kt.couriers.name,className:styles.courierLogo}):jsxRuntimeExports.jsx("div",{className:styles.courierPlaceholder,children:jsxRuntimeExports.jsx(Truck,{})}),jsxRuntimeExports.jsx("span",{className:styles.courierName,children:((Ot=kt.couriers)==null?void 0:Ot.name)||"Unknown Courier"})]})}),jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsx("span",{className:styles.statusBadge,style:{backgroundColor:mt(kt.shipping_status)},children:xt(kt.shipping_status)})}),jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsxs("div",{className:styles.dateInfo,children:[kt.shipping_status==="delivered"?jsxRuntimeExports.jsx(CheckCircle,{className:styles.deliveredIcon}):jsxRuntimeExports.jsx(Clock,{className:styles.pendingIcon}),jsxRuntimeExports.jsx("span",{children:gt(kt.shipped_date)})]})}),jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsx("div",{className:styles.dateInfo,children:kt.delivered_date?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckCircle,{className:styles.deliveredIcon}),jsxRuntimeExports.jsx("span",{children:gt(kt.delivered_date)})]}):kt.estimated_delivery_date?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Calendar,{className:styles.estimatedIcon}),jsxRuntimeExports.jsxs("span",{children:["Est: ",gt(kt.estimated_delivery_date)]})]}):jsxRuntimeExports.jsx("span",{children:"-"})})}),jsxRuntimeExports.jsx("div",{className:styles.cell,children:jsxRuntimeExports.jsxs("button",{onClick:()=>yt(kt),className:styles.actionBtn,children:[jsxRuntimeExports.jsx(Eye,{}),"View"]})})]},kt.id)}),_.length===0&&jsxRuntimeExports.jsxs("div",{className:styles.emptyState,children:[jsxRuntimeExports.jsx(Truck,{size:48}),jsxRuntimeExports.jsx("h3",{children:"No Deliveries Found"}),jsxRuntimeExports.jsx("p",{children:"No deliveries match your current filters. The deliveries feature is being migrated."})]})]})]}),pt&&ut&&jsxRuntimeExports.jsx("div",{className:styles.modalOverlay,onClick:()=>dt(!1),children:jsxRuntimeExports.jsxs("div",{className:styles.modal,onClick:kt=>kt.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:styles.modalHeader,children:[jsxRuntimeExports.jsx("h2",{children:"Delivery Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>dt(!1),children:"x"})]}),jsxRuntimeExports.jsxs("div",{className:styles.modalContent,children:[jsxRuntimeExports.jsxs("div",{className:styles.deliveryHeader,children:[jsxRuntimeExports.jsxs("div",{className:styles.deliveryInfo,children:[jsxRuntimeExports.jsx("h3",{children:(wt=ut.customers)==null?void 0:wt.company_name}),jsxRuntimeExports.jsxs("p",{children:["Order: ",(($t=ut.orders)==null?void 0:$t.legacy_order_number)||`#${ut.order_id.slice(0,8)}`]}),ut.tracking_number&&jsxRuntimeExports.jsxs("p",{children:["Tracking: ",jsxRuntimeExports.jsx("strong",{children:ut.tracking_number})]})]}),jsxRuntimeExports.jsxs("div",{className:styles.courierSection,children:[(jt=ut.couriers)!=null&&jt.logo_url?jsxRuntimeExports.jsx("img",{src:ut.couriers.logo_url,alt:ut.couriers.name,className:styles.courierLogoLarge}):jsxRuntimeExports.jsx("div",{className:styles.courierPlaceholderLarge,children:jsxRuntimeExports.jsx(Truck,{})}),jsxRuntimeExports.jsx("span",{children:((Tt=ut.couriers)==null?void 0:Tt.name)||"Unknown Courier"})]})]}),jsxRuntimeExports.jsx("div",{className:styles.statusSection,children:jsxRuntimeExports.jsx("div",{className:styles.currentStatus,children:jsxRuntimeExports.jsx("span",{className:styles.statusBadgeLarge,style:{backgroundColor:mt(ut.shipping_status)},children:xt(ut.shipping_status)})})}),jsxRuntimeExports.jsxs("div",{className:styles.timeline,children:[jsxRuntimeExports.jsx("h4",{children:"Delivery Timeline"}),jsxRuntimeExports.jsxs("div",{className:styles.timelineItems,children:[jsxRuntimeExports.jsxs("div",{className:styles.timelineItem,children:[jsxRuntimeExports.jsx("div",{className:styles.timelineMarker,children:"Box"}),jsxRuntimeExports.jsxs("div",{className:styles.timelineContent,children:[jsxRuntimeExports.jsx("strong",{children:"Order Created"}),jsxRuntimeExports.jsx("span",{children:gt(ut.created_at)})]})]}),ut.shipped_date&&jsxRuntimeExports.jsxs("div",{className:styles.timelineItem,children:[jsxRuntimeExports.jsx("div",{className:styles.timelineMarker,children:"Truck"}),jsxRuntimeExports.jsxs("div",{className:styles.timelineContent,children:[jsxRuntimeExports.jsx("strong",{children:"Shipped"}),jsxRuntimeExports.jsx("span",{children:gt(ut.shipped_date)})]})]}),ut.delivered_date&&jsxRuntimeExports.jsxs("div",{className:styles.timelineItem,children:[jsxRuntimeExports.jsx("div",{className:styles.timelineMarker,children:"Check"}),jsxRuntimeExports.jsxs("div",{className:styles.timelineContent,children:[jsxRuntimeExports.jsx("strong",{children:"Delivered"}),jsxRuntimeExports.jsx("span",{children:gt(ut.delivered_date)})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:styles.addressSection,children:[jsxRuntimeExports.jsxs("h4",{children:[jsxRuntimeExports.jsx(MapPin,{})," Delivery Address"]}),jsxRuntimeExports.jsxs("div",{className:styles.address,children:[jsxRuntimeExports.jsx("p",{children:ut.delivery_address.line1}),ut.delivery_address.line2&&jsxRuntimeExports.jsx("p",{children:ut.delivery_address.line2}),jsxRuntimeExports.jsx("p",{children:ut.delivery_address.city}),jsxRuntimeExports.jsx("p",{children:ut.delivery_address.postal_code}),jsxRuntimeExports.jsx("p",{children:ut.delivery_address.country})]})]}),ut.shipping_notes&&jsxRuntimeExports.jsxs("div",{className:styles.notesSection,children:[jsxRuntimeExports.jsx("h4",{children:"Notes"}),jsxRuntimeExports.jsx("p",{children:ut.shipping_notes})]})]})]})})]})},FaCatalogue=File$2,iconMapping={users:jsxRuntimeExports.jsx(UsersGroup,{}),orders:jsxRuntimeExports.jsx(Clipboard,{}),invoices:jsxRuntimeExports.jsx(File$2,{}),sales:jsxRuntimeExports.jsx(User$1,{}),admin:jsxRuntimeExports.jsx(Database$1,{}),finance:jsxRuntimeExports.jsx(Dollar,{}),overview:jsxRuntimeExports.jsx(Home$1,{}),analytics:jsxRuntimeExports.jsx(ChartLine,{}),settings:jsxRuntimeExports.jsx(Cog,{}),cart:jsxRuntimeExports.jsx(Cart,{}),inventory:jsxRuntimeExports.jsx(Store,{}),calendar:jsxRuntimeExports.jsx(Calendar$1,{}),mail:jsxRuntimeExports.jsx(Mail$1,{}),notifications:jsxRuntimeExports.jsx(Bell$1,{})},getAgentPermissions=i=>({isAdmin:i.is_admin,orders:!0,finance:i.is_admin,analytics:i.is_admin,customers:!0,inventory:i.is_admin,marketing:i.is_admin,catalogues:i.is_admin,purchasing:i.is_admin,imageManagement:i.is_admin,salesManagement:!0,customerManagement:!0,suppliers:i.is_admin});function SettingsDropdown(){const[i,o]=reactExports.useState(!1),_=useNavigate(),j=reactExports.useRef(null);return reactExports.useEffect(()=>{function _e(et){j.current&&!j.current.contains(et.target)&&o(!1)}return i&&document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[i]),jsxRuntimeExports.jsxs("div",{className:"settings-dropdown-wrapper",ref:j,children:[jsxRuntimeExports.jsx("button",{className:"master-sidebar-action-btn settings-btn",onClick:()=>o(!i),"aria-label":"Settings",children:jsxRuntimeExports.jsx(Cog,{})}),i&&jsxRuntimeExports.jsxs("div",{className:"settings-dropdown",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{_("/profile"),o(!1)},className:"settings-option",children:[jsxRuntimeExports.jsx(User$1,{})," Profile"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{_("/help"),o(!1)},className:"settings-option",children:[jsxRuntimeExports.jsx(QuestionCircle,{})," Help"]})]})]})}function Breadcrumbs({customerNames:i,analyticsPageNames:o}){const _=useLocation(),_e=(()=>{const tt=_.pathname.split("/").filter(nt=>nt);if(tt.length===0||tt.length===1&&tt[0]==="dashboard")return[{name:"Home",to:"/dashboard",isLast:!0}];const rt={dashboard:"Dashboard",customers:"Customers",enquiries:"Enquiries",new:"Create Customer",orders:"Orders",approval:"Approvals",invoices:"Invoices",inventory:"Inventory",products:"Products",images:"Image Management",items:"Items",edit:"Edit",brand:"Brands","select-brand":"Select Brand","order-summary":"Order Summary","order-confirmation":"Order Confirmation","order-detail":"Order Detail",blomus:"Blomus",elvang:"Elvang","my-flame-lifestyle":"My Flame",myflamelifestyle:"My Flame Lifestyle",gefu:"GEFU",ppd:"PPD",rader:"Rder",remember:"Remember",relaxound:"Relaxound","purchase-orders":"Purchase Orders","order-management":"Order Management","purchase-suggestions":"Purchase Assistant",reports:"Reports",saved:"Saved Reports",templates:"Report Templates",agents:"Agent Management",settings:"Settings",profile:"Profile",help:"Help",map:"Customer Map",management:"Account Management","catalogue-library":"Catalogue Library",catalogues:"Catalogue Library","catalogue-builder":"Catalogue Builder",airtable:"Airtable Integration"};return tt.map((nt,st)=>{const it=`/${tt.slice(0,st+1).join("/")}`,at=st===tt.length-1;let ot=rt[nt]||nt.charAt(0).toUpperCase()+nt.slice(1);if(tt[0]==="customers"&&st===1&&nt.includes("-")&&nt.length>30){const ct=i[nt];ct?ot=ct:ot="Customer"}if(tt[0]==="analytics"&&tt[1]==="custom"&&st===2&&(nt.includes("-")||nt==="customers")){const ct=o[nt];ct?ot=ct:ot="Analytics Page"}return{name:ot,to:it,isLast:at}})})(),et=_e.length===1&&_e[0].name==="Home";return _e.length===0?null:et?jsxRuntimeExports.jsx("div",{className:"breadcrumbs",children:jsxRuntimeExports.jsxs("span",{className:"breadcrumb-item active",children:[jsxRuntimeExports.jsx(Home$1,{className:"breadcrumb-icon"}),jsxRuntimeExports.jsx("span",{children:"Home"})]})}):jsxRuntimeExports.jsxs("div",{className:"breadcrumbs",children:[jsxRuntimeExports.jsxs(Link$1,{to:"/dashboard",className:"breadcrumb-item",children:[jsxRuntimeExports.jsx(Home$1,{className:"breadcrumb-icon"}),jsxRuntimeExports.jsx("span",{children:"Home"})]}),_e.map((tt,rt)=>jsxRuntimeExports.jsxs(React$7.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"breadcrumb-separator",children:"/"}),tt.isLast?jsxRuntimeExports.jsx("span",{className:"breadcrumb-item active",children:tt.name}):jsxRuntimeExports.jsx(Link$1,{to:tt.to,className:"breadcrumb-item",children:tt.name})]},tt.to))]})}function MasterLayout(){const i=useLocation(),o=useNavigate(),[_,j]=reactExports.useState(null),[_e,et]=reactExports.useState(!0),[tt,rt]=reactExports.useState(new Set),[nt,st]=reactExports.useState(!1),[it,at]=reactExports.useState(!1),[ot,ct]=reactExports.useState(!1),[ut,lt]=reactExports.useState([]),[pt,dt]=reactExports.useState({}),[ht,ft]=reactExports.useState({}),[mt,xt]=reactExports.useState(null),[gt,yt]=reactExports.useState(!1),[_t,Et]=reactExports.useState([]),[wt,$t]=reactExports.useState(0),[jt,Tt]=reactExports.useState(!1),kt=reactExports.useCallback(()=>{const Ut=i.pathname;return Ut.startsWith("/products/")?"page-products":Ut.startsWith("/enquiries")?"page-enquiries":Ut.startsWith("/customers")?"page-customers":Ut.startsWith("/orders")?"page-orders":Ut.startsWith("/inventory")?"page-inventory":Ut.startsWith("/analytics")?"page-analytics":Ut.startsWith("/dashboard")?"page-dashboard":Ut.startsWith("/settings")?"page-settings":"page-default"},[i.pathname]),Pt=reactExports.useCallback(async Ut=>{if(pt[Ut])return pt[Ut];try{const Jt=await customerService.getById(Ut),Bt=(Jt==null?void 0:Jt.company_name)||(Jt==null?void 0:Jt.contact_name);if(Bt)return dt(tr=>({...tr,[Ut]:Bt})),Bt}catch(Jt){console.error("Error in fetchCustomerName:",Jt)}return null},[pt]),St=reactExports.useCallback(async Ut=>{if(ht[Ut])return ht[Ut];if(Ut==="customers"){const Jt="Customer Analytics";return ft(Bt=>({...Bt,[Ut]:Jt})),Jt}try{const Jt=await analyticsPageService.getPage(Ut);if(!Jt)return null;const Bt=Jt.name;if(Bt)return ft(tr=>({...tr,[Ut]:Bt})),Bt}catch(Jt){console.error("Error in fetchAnalyticsPageName:",Jt)}return null},[ht]);reactExports.useEffect(()=>{const Ut=()=>{var tr;try{const ar=localStorage.getItem("selectedTheme")||"splitfin";let hr=null;{const pr=[{id:"splitfin",gradient:["#34495d","#2c3e50","#1a1f2a"],colors:{primary:"#1a1f2a",accent:"#79d5e9",background:"#0f1419",surface:"#1a1f2a",text:"#ffffff"},type:"dark"},{id:"fire",gradient:["#653232","#602031","#5a1f26"],colors:{primary:"#311d1d",accent:"#ff6b6b",background:"#2d1b1b",surface:"#311d1d",text:"#ffffff"},type:"dark"},{id:"forest",gradient:["#345d55","#2b4231","#1b2a1a"],colors:{primary:"#1d3121",accent:"#4caf50",background:"#1b2a1a",surface:"#1d3121",text:"#ffffff"},type:"dark"},{id:"steel",gradient:["#373838","#323232","#2d2d2d"],colors:{primary:"#373838",accent:"#90a4ae",background:"#1a1a1a",surface:"#373838",text:"#ffffff"},type:"dark"},{id:"light",gradient:["#ebeeee","#f5f5f5","#fdfbfb"],colors:{primary:"#ebeeee",accent:"#1976d2",background:"#ffffff",surface:"#ebeeee",text:"#000000"},type:"light"},{id:"aqua",gradient:["#d8fffe","#eafffe","#fefeff"],colors:{primary:"#d8fffe",accent:"#00bcd4",background:"#fefeff",surface:"#d8fffe",text:"#000000"},type:"light"}];hr=pr.find(yr=>yr.id===ar)||pr[0]}if(hr){console.log("MasterLayout applying theme:",hr);const pr=document.documentElement,xr=(Er=>{const jr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(Er);return jr?{r:parseInt(jr[1],16),g:parseInt(jr[2],16),b:parseInt(jr[3],16)}:{r:26,g:31,b:42}})(hr.colors.surface);pr.style.setProperty("--theme-name",hr.id),pr.style.setProperty("--theme-type",hr.type),pr.setAttribute("data-theme-type",hr.type),pr.style.setProperty("--color-primary",hr.colors.primary),pr.style.setProperty("--color-accent",hr.colors.accent),pr.style.setProperty("--bg-primary",hr.colors.background),pr.style.setProperty("--bg-secondary",hr.colors.surface),pr.style.setProperty("--bg-secondary-rgb",`${xr.r}, ${xr.g}, ${xr.b}`),pr.style.setProperty("--text-primary",hr.colors.text),hr.type==="light"?(pr.style.setProperty("--text-secondary","rgba(0, 0, 0, 0.7)"),pr.style.setProperty("--text-tertiary","rgba(0, 0, 0, 0.5)"),pr.style.setProperty("--text-muted","rgba(0, 0, 0, 0.4)"),pr.style.setProperty("--border-primary","rgba(0, 0, 0, 0.1)"),pr.style.setProperty("--bg-hover","rgba(0, 0, 0, 0.05)"),pr.style.setProperty("--bg-active",`rgba(${(tr=hr.colors.accent.replace("#","").match(/.{1,2}/g))==null?void 0:tr.map(Er=>parseInt(Er,16)).join(", ")}, 0.1)`),pr.style.setProperty("--sidebar-text-inactive","rgba(0, 0, 0, 0.6)"),pr.style.setProperty("--sidebar-text-active","#000000"),pr.style.setProperty("--sidebar-border-active","rgba(0, 0, 0, 0.2)")):(pr.style.setProperty("--text-secondary","rgba(255, 255, 255, 0.7)"),pr.style.setProperty("--text-tertiary","rgba(255, 255, 255, 0.5)"),pr.style.setProperty("--text-muted","rgba(255, 255, 255, 0.4)"),pr.style.setProperty("--border-primary","rgba(255, 255, 255, 0.1)"),pr.style.setProperty("--bg-hover","rgba(255, 255, 255, 0.05)"),pr.style.setProperty("--bg-active","rgba(121, 213, 233, 0.1)"),pr.style.setProperty("--sidebar-text-inactive","rgba(255, 255, 255, 0.6)"),pr.style.setProperty("--sidebar-text-active","#ffffff"),pr.style.setProperty("--sidebar-border-active","rgba(255, 255, 255, 0.2)")),pr.style.setProperty("--sidebar-gradient",`linear-gradient(135deg, ${hr.gradient[0]}, ${hr.gradient[1]}, ${hr.gradient[2]})`);const vr=hr.type==="light"?"/logos/splitfin.svg":"/logos/splitfinrow.png";pr.style.setProperty("--logo-url",vr),requestAnimationFrame(()=>{document.querySelectorAll(".master-logo-image, .master-mobile-logo").forEach(jr=>{jr instanceof HTMLImageElement&&(jr.src=vr)})})}}catch(ar){console.error("Error applying theme:",ar)}};Ut();const Jt=tr=>{tr.key==="selectedTheme"&&(console.log("Storage change detected, applying theme"),Ut())};window.addEventListener("storage",Jt);const Bt=tr=>{console.log("Theme change event received:",tr.detail),requestAnimationFrame(()=>{Ut()})};return window.addEventListener("themeChanged",Bt),()=>{window.removeEventListener("storage",Jt),window.removeEventListener("themeChanged",Bt)}},[]);const Rt=async()=>{try{const Ut=await notificationService.list({limit:20});Et(Ut.data||[]),$t(Ut.unread_count||0)}catch(Ut){console.error("Error loading notifications:",Ut)}};reactExports.useEffect(()=>{(async()=>{try{const Jt=await authService.getCurrentAgent();if(!Jt){o("/login");return}j(Jt),await Qt(),await Rt()}catch(Jt){console.error("Auth check failed:",Jt),o("/login")}finally{et(!1)}})()},[o]),reactExports.useEffect(()=>{st(!1)},[i.pathname]),reactExports.useEffect(()=>{i.pathname.startsWith("/settings")&&!tt.has("Settings")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Settings"),Jt}),i.pathname.startsWith("/dashboard")&&!tt.has("Dashboard")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Dashboard"),Jt}),i.pathname.startsWith("/analytics")&&!tt.has("Analytics")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Analytics"),Jt}),i.pathname.startsWith("/customers")&&!tt.has("Customers")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Customers"),Jt}),i.pathname.startsWith("/enquiries")&&!tt.has("Enquiries")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Enquiries"),Jt}),i.pathname.startsWith("/orders")&&!tt.has("Orders")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Orders"),Jt}),i.pathname.startsWith("/inventory")&&!tt.has("Inventory")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Inventory"),Jt}),i.pathname.startsWith("/shipping")&&!tt.has("Shipping")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Shipping"),Jt}),i.pathname.startsWith("/finance")&&!tt.has("Finance")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Finance"),Jt}),i.pathname.startsWith("/suppliers")&&!tt.has("Suppliers")&&rt(Ut=>{const Jt=new Set(Ut);return Jt.add("Suppliers"),Jt})},[i.pathname]),reactExports.useEffect(()=>{const Ut=i.pathname.split("/").filter(Jt=>Jt);if(Ut[0]==="customers"&&Ut[1]&&Ut[1]!=="new"&&Ut[1]!=="map"){const Jt=Ut[1];Jt.includes("-")&&Jt.length>30&&Pt(Jt)}},[i.pathname,Pt]),reactExports.useEffect(()=>{const Ut=i.pathname.split("/").filter(Jt=>Jt);if(Ut[0]==="analytics"&&Ut[1]==="custom"&&Ut[2]){const Jt=Ut[2];St(Jt)}},[i.pathname,St]);const bt=reactExports.useCallback(()=>{xt(tr=>(tr&&clearTimeout(tr),null));const Jt=window.innerWidth<=1024&&window.innerWidth>768?5e3:3e3,Bt=setTimeout(()=>{yt(tr=>(tr||at(!0),tr))},Jt);xt(Bt)},[]),vt=reactExports.useCallback(()=>{yt(!0),at(!1),xt(Ut=>(Ut&&clearTimeout(Ut),null))},[]),At=reactExports.useCallback(()=>{yt(!1),bt()},[]),Ot=reactExports.useCallback(Ut=>{it?(Ut.stopPropagation(),yt(!0),at(!1),xt(Jt=>(Jt&&clearTimeout(Jt),null)),setTimeout(()=>{yt(!1),bt()},100)):(yt(!0),at(!1),bt())},[it]),Ct=reactExports.useCallback(Ut=>{yt(!0),at(!1),xt(Jt=>(Jt&&clearTimeout(Jt),null))},[]),Lt=reactExports.useCallback(Ut=>{setTimeout(()=>{yt(!1)},500)},[]),It=reactExports.useCallback(()=>{yt(!0),xt(Ut=>(Ut&&clearTimeout(Ut),null)),setTimeout(()=>{yt(!1),bt()},300)},[]);reactExports.useEffect(()=>{i.pathname.includes("/products/")?(at(!0),mt&&(clearTimeout(mt),xt(null))):bt()},[i.pathname]),reactExports.useEffect(()=>()=>{mt&&clearTimeout(mt)},[mt]);const Dt=Ut=>{rt(Jt=>{const Bt=new Set(Jt);return Bt.has(Ut)?Bt.delete(Ut):Bt.add(Ut),Bt})},Zt=()=>{authService.logout(),o("/login")},Qt=async()=>{try{const Ut=await analyticsPageService.getUserPages();lt(Ut)}catch(Ut){console.error("Failed to load custom analytics pages:",Ut)}},Yt=()=>{const Ut=_?getAgentPermissions(_):null;return{Dashboard:{icon:jsxRuntimeExports.jsx(ChartLine,{}),links:[]},Analytics:{icon:jsxRuntimeExports.jsx(ChartLine,{}),links:Ut!=null&&Ut.analytics?[{to:"/analytics/overview",label:"Overview",icon:jsxRuntimeExports.jsx(Home$1,{})},...ut.map(Bt=>({to:`/analytics/custom/${Bt.id}`,label:Bt.name,icon:iconMapping[Bt.icon]||jsxRuntimeExports.jsx(ChartLine,{})}))]:[]},Customers:{icon:jsxRuntimeExports.jsx(Users,{}),links:Ut!=null&&Ut.customers?[{to:"/customers",label:"View Customers",icon:jsxRuntimeExports.jsx(Users,{})},{to:"/customers/new",label:"Create Customer",icon:jsxRuntimeExports.jsx(UserPlus$1,{})},{to:"/customers/map",label:"Customer Map",icon:jsxRuntimeExports.jsx(Map$6,{})}]:[]},Enquiries:{icon:jsxRuntimeExports.jsx(Mail$1,{}),links:Ut!=null&&Ut.customers?[{to:"/enquiries",label:"View Enquiries",icon:jsxRuntimeExports.jsx(Mail$1,{})},{to:"/enquiries/new",label:"New Enquiry",icon:jsxRuntimeExports.jsx(Plus$1,{})}]:[]},Orders:{icon:jsxRuntimeExports.jsx(Clipboard,{}),links:Ut!=null&&Ut.orders?[{to:"/orders/new",label:"Start New Order",icon:jsxRuntimeExports.jsx(Plus$1,{})},{to:"/orders",label:"View Orders",icon:jsxRuntimeExports.jsx(Clipboard,{})},{to:"/orders/management",label:"Order Management",icon:jsxRuntimeExports.jsx(Store,{})}]:[]},Inventory:{icon:jsxRuntimeExports.jsx(Package$1,{}),links:Ut!=null&&Ut.inventory?[{to:"/inventory/overview",label:"Overview",icon:jsxRuntimeExports.jsx(ChartLine,{})},{to:"/inventory/products",label:"Inventory Management",icon:jsxRuntimeExports.jsx(Box$1,{})},{to:"/inventory/product-list",label:"Product List",icon:jsxRuntimeExports.jsx(Package$1,{})},{to:"/inventory/stocklists",label:"Stocklists",icon:jsxRuntimeExports.jsx(File$2,{})}]:[]},Shipping:{icon:jsxRuntimeExports.jsx(Truck$1,{}),links:Ut!=null&&Ut.inventory?[{to:"/shipping/warehouse",label:"Warehouse",icon:jsxRuntimeExports.jsx(Store,{})},{to:"/shipping/couriers",label:"Couriers",icon:jsxRuntimeExports.jsx(Truck$1,{})},{to:"/shipping/deliveries",label:"Deliveries",icon:jsxRuntimeExports.jsx(Package$1,{})}]:[]},Finance:{icon:jsxRuntimeExports.jsx(Cart,{}),links:Ut!=null&&Ut.finance?[{to:"/finance/invoices",label:"Invoices",icon:jsxRuntimeExports.jsx(File$2,{})},{to:"/finance/purchase-orders",label:"Purchase Orders",icon:jsxRuntimeExports.jsx(Cart,{})},{to:"/finance/debt",label:"Debt Management",icon:jsxRuntimeExports.jsx(File$2,{})}]:[]},Suppliers:{icon:jsxRuntimeExports.jsx(User$1,{}),links:Ut!=null&&Ut.suppliers?[{to:"/suppliers",label:"Supplier Management",icon:jsxRuntimeExports.jsx(User$1,{})},{to:"/suppliers/new",label:"Add New Supplier",icon:jsxRuntimeExports.jsx(Plus$1,{})},{to:"/catalogues",label:"Catalogues",icon:jsxRuntimeExports.jsx(FaCatalogue,{})}]:[]},"Image Management":{icon:jsxRuntimeExports.jsx(Image$2,{}),links:Ut!=null&&Ut.imageManagement?[{to:"/image-management",label:"Image Management",icon:jsxRuntimeExports.jsx(Image$2,{})}]:[]},Messaging:{icon:jsxRuntimeExports.jsx(Mail$1,{}),links:[{to:"/messaging",label:"Team Messages",icon:jsxRuntimeExports.jsx(Mail$1,{})}]},Settings:{icon:jsxRuntimeExports.jsx(Cog,{}),links:[{to:"/settings",label:"General Settings",icon:jsxRuntimeExports.jsx(Cog,{})},{to:"/settings/profile",label:"Profile",icon:jsxRuntimeExports.jsx(User$1,{})},{to:"/settings/help",label:"Help",icon:jsxRuntimeExports.jsx(QuestionCircle,{})}]}}},Ft=()=>{if(!_)return["Dashboard"];const Ut=getAgentPermissions(_),Jt=["Dashboard"];return Ut.isAdmin?Jt.push("Customers","Enquiries","Orders","Inventory","Shipping","Finance","Suppliers","Image Management","Messaging"):(Jt.push("Customers"),Jt.push("Enquiries"),Jt.push("Orders"),Jt.push("Messaging")),Jt.push("Settings"),Jt};if(_e)return jsxRuntimeExports.jsx("div",{className:"loading-container",children:jsxRuntimeExports.jsxs("div",{className:"loading-content",children:[jsxRuntimeExports.jsx("div",{className:"loading-spinner"}),jsxRuntimeExports.jsx("p",{className:"loading-text",children:"Loading..."})]})});if(!_)return null;const Kt=Ft(),er=Yt(),Nt=()=>Kt.map(Ut=>{const Jt=er[Ut],Bt=tt.has(Ut),tr=Jt.links.length>0,ar=Ut==="Dashboard",hr=Ut==="Settings",pr=Ut==="Inventory",yr=Ut==="Shipping";return jsxRuntimeExports.jsxs("div",{className:"master-sidebar-nav-section",children:[jsxRuntimeExports.jsxs("button",{className:`master-sidebar-nav-item ${Bt?"active":""} ${i.pathname.startsWith("/settings")&&hr?"active":""} ${i.pathname.startsWith("/dashboard")&&ar?"active":""} ${i.pathname.startsWith("/inventory")&&pr?"active":""} ${i.pathname.startsWith("/shipping")&&yr?"active":""}`,onClick:()=>{ar?o("/dashboard"):Dt(Ut)},onTouchStart:It,children:[jsxRuntimeExports.jsx("span",{className:"master-sidebar-nav-icon",children:Jt.icon}),!it&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"master-sidebar-nav-text",children:Ut}),tr&&jsxRuntimeExports.jsx("span",{className:"master-sidebar-nav-chevron",children:Bt?jsxRuntimeExports.jsx(ChevronDown$1,{}):jsxRuntimeExports.jsx(ChevronRight$1,{})})]})]}),tr&&!it&&jsxRuntimeExports.jsxs("div",{className:`master-sidebar-dropdown ${Bt?"open":""}`,children:[Jt.links.map(xr=>jsxRuntimeExports.jsxs("div",{className:"master-sidebar-nav-link-wrapper",children:[jsxRuntimeExports.jsxs(Link$1,{to:xr.to,className:`master-sidebar-dropdown-item ${i.pathname===xr.to?"active":""}`,onTouchStart:It,children:[xr.icon&&jsxRuntimeExports.jsx("span",{className:"master-sidebar-dropdown-icon",children:xr.icon}),jsxRuntimeExports.jsx("span",{className:"master-sidebar-dropdown-text",children:xr.label})]}),Ut==="Analytics"&&xr.to.includes("/analytics/custom/")&&jsxRuntimeExports.jsx("button",{className:"master-sidebar-delete-page-btn",onClick:vr=>{vr.preventDefault();const Er=xr.to.split("/analytics/custom/")[1];Wt(Er,xr.label)},title:`Delete ${xr.label}`,children:jsxRuntimeExports.jsx(X$1,{})})]},xr.to)),Ut==="Analytics"&&jsxRuntimeExports.jsxs("button",{className:"master-sidebar-dropdown-item master-sidebar-new-page-btn",onClick:()=>ct(!0),children:[jsxRuntimeExports.jsx("span",{className:"master-sidebar-dropdown-icon",children:jsxRuntimeExports.jsx(Plus$1,{})}),jsxRuntimeExports.jsx("span",{className:"master-sidebar-dropdown-text",children:"New Page"})]})]})]},Ut)}),lr=async(Ut,Jt,Bt)=>{try{const tr=await analyticsPageService.createPage({name:Ut,icon:Jt,template:Bt});await Qt(),o(`/analytics/custom/${tr.id}`),console.log("Successfully created new analytics page:",tr)}catch(tr){console.error("Failed to create new analytics page:",tr)}},Wt=async(Ut,Jt)=>{if(window.confirm(`Are you sure you want to delete "${Jt}"? This action cannot be undone.`))try{await analyticsPageService.deletePage(Ut),await Qt(),i.pathname===`/analytics/custom/${Ut}`&&o("/analytics/overview"),console.log("Successfully deleted analytics page:",Jt)}catch(Bt){console.error("Failed to delete analytics page:",Bt),alert("Failed to delete the page. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:`master-layout-container ${kt()}`,children:[jsxRuntimeExports.jsxs("nav",{className:`master-sidebar-nav desktop-only ${it?"collapsed":""}`,onMouseEnter:vt,onMouseLeave:At,onClick:Ot,onTouchStart:Ct,onTouchEnd:Lt,children:[jsxRuntimeExports.jsxs("div",{className:"master-sidebar-top-actions",children:[jsxRuntimeExports.jsx("button",{className:"master-sidebar-action-btn collapse-btn",onClick:()=>at(!it),"aria-label":it?"Expand sidebar":"Collapse sidebar",children:jsxRuntimeExports.jsx(Menu$1,{})}),jsxRuntimeExports.jsxs("button",{className:"master-sidebar-action-btn notifications-btn",onClick:()=>Tt(!jt),children:[jsxRuntimeExports.jsx(Bell$1,{}),wt>0&&jsxRuntimeExports.jsx("span",{className:"notification-badge",children:wt})]}),!it&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{className:"master-sidebar-action-btn messages-btn",onClick:()=>o("/messaging"),"aria-label":"Team Messages",children:jsxRuntimeExports.jsx(Mail$1,{})}),jsxRuntimeExports.jsx(SettingsDropdown,{})]})]}),jsxRuntimeExports.jsx("div",{className:"master-sidebar-logout-section",children:jsxRuntimeExports.jsxs("button",{className:"master-sidebar-logout-btn",onClick:Zt,children:[jsxRuntimeExports.jsx(Logout,{}),!it&&jsxRuntimeExports.jsx("span",{children:"Logout"})]})}),jsxRuntimeExports.jsxs("div",{className:"master-sidebar-user-section",children:[jsxRuntimeExports.jsx("div",{className:"master-user-avatar",children:jsxRuntimeExports.jsx("span",{children:(_.name||_.id).charAt(0).toUpperCase()})}),!it&&jsxRuntimeExports.jsxs("div",{className:"master-user-info",children:[jsxRuntimeExports.jsx("h4",{children:_.name||_.id}),jsxRuntimeExports.jsx("p",{children:_.is_admin?"Admin":"Sales Agent"})]})]}),jsxRuntimeExports.jsx("div",{className:"master-sidebar-nav-sections",children:Nt()}),jsxRuntimeExports.jsx("div",{className:"master-sidebar-footer"})]}),jt&&jsxRuntimeExports.jsx("div",{className:"notifications-overlay",onClick:()=>Tt(!1),children:jsxRuntimeExports.jsxs("div",{className:"notifications-panel",onClick:Ut=>Ut.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"notifications-header",children:[jsxRuntimeExports.jsx("h3",{children:"Notifications"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tt(!1),children:""})]}),jsxRuntimeExports.jsx("div",{className:"notifications-list",children:_t.length>0?_t.map(Ut=>jsxRuntimeExports.jsx("div",{className:`notification-item ${Ut.read?"":"unread"}`,children:jsxRuntimeExports.jsxs("div",{className:"notification-content",children:[jsxRuntimeExports.jsx("h4",{children:Ut.title}),jsxRuntimeExports.jsx("p",{children:Ut.message}),jsxRuntimeExports.jsx("span",{className:"notification-time",children:new Date(Ut.created_at).toLocaleString()})]})},Ut.id)):jsxRuntimeExports.jsx("div",{className:"no-notifications",children:jsxRuntimeExports.jsx("p",{children:"No notifications"})})})]})}),jsxRuntimeExports.jsxs("div",{className:"master-main-content",children:[jsxRuntimeExports.jsx("div",{className:"master-header-bar desktop-only",children:jsxRuntimeExports.jsx("div",{className:"master-header-left",children:jsxRuntimeExports.jsx(Breadcrumbs,{customerNames:pt,analyticsPageNames:ht})})}),jsxRuntimeExports.jsxs("header",{className:"master-mobile-top-bar mobile-only",children:[jsxRuntimeExports.jsx("div",{className:"master-sidebar-logo",children:jsxRuntimeExports.jsx("img",{src:"/logos/splitfinrow.png",alt:"Splitfin Logo",className:"master-mobile-logo"})}),jsxRuntimeExports.jsx("div",{className:"master-mobile-controls",children:jsxRuntimeExports.jsx("button",{type:"button",className:"master-mobile-menu-toggle",onClick:()=>st(!nt),children:nt?jsxRuntimeExports.jsx(X$1,{}):jsxRuntimeExports.jsx(Menu$1,{})})})]}),nt&&jsxRuntimeExports.jsx("div",{className:"master-mobile-overlay mobile-only",onClick:()=>st(!1)}),jsxRuntimeExports.jsxs("nav",{className:`master-mobile-nav mobile-only ${nt?"open":""}`,children:[jsxRuntimeExports.jsx("div",{className:"master-mobile-nav-header",children:jsxRuntimeExports.jsx("button",{onClick:()=>st(!1),className:"master-mobile-close",children:jsxRuntimeExports.jsx(X$1,{})})}),jsxRuntimeExports.jsxs("div",{className:"master-mobile-user-section",children:[jsxRuntimeExports.jsx("div",{className:"master-user-avatar",children:jsxRuntimeExports.jsx("span",{children:(_.name||_.id).charAt(0).toUpperCase()})}),jsxRuntimeExports.jsxs("div",{className:"master-user-info",children:[jsxRuntimeExports.jsx("h4",{children:_.name||_.id}),jsxRuntimeExports.jsx("p",{children:_.is_admin?"Admin":"Sales Agent"})]})]}),jsxRuntimeExports.jsx("div",{className:"master-sidebar-nav-sections",children:Nt()}),jsxRuntimeExports.jsx("div",{className:"master-mobile-nav-footer",children:jsxRuntimeExports.jsxs("button",{onClick:Zt,className:"master-mobile-logout-btn",children:[jsxRuntimeExports.jsx(Logout,{}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})})]}),jsxRuntimeExports.jsx("div",{className:"master-content-area",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route$1,{path:"/dashboard",element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/analytics/*",element:jsxRuntimeExports.jsx(Analytics$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/customers",element:jsxRuntimeExports.jsx(CustomersManagement,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/customers/new",element:jsxRuntimeExports.jsx(CreateCustomer,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/customers/map",element:jsxRuntimeExports.jsx(CustomerMap$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/customers/:customerId",element:jsxRuntimeExports.jsx(CustomerDetail,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/enquiries",element:jsxRuntimeExports.jsx(EnquiryList,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/enquiries/new",element:jsxRuntimeExports.jsx(NewEnquiry,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/enquiries/:enquiryId",element:jsxRuntimeExports.jsx(ViewEnquiry$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/orders",element:jsxRuntimeExports.jsx(ViewOrders$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/orders/new",element:jsxRuntimeExports.jsx(NewOrder,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/orders/management",element:jsxRuntimeExports.jsx(OrderManagement,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/order/:orderId",element:jsxRuntimeExports.jsx(ViewOrder$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/select-brand/:customerId",element:jsxRuntimeExports.jsx(BrandSelector,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/products/:customerId/:brand",element:jsxRuntimeExports.jsx(NewAllProducts,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/order-summary",element:jsxRuntimeExports.jsx(OrderSummary,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/order-confirmation",element:jsxRuntimeExports.jsx(OrderConfirmation,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/order-detail/:orderId",element:jsxRuntimeExports.jsx(OrderDetail,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/overview",element:jsxRuntimeExports.jsx(InventoryOverview$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/products",element:jsxRuntimeExports.jsx(InventoryProducts$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/product-list",element:jsxRuntimeExports.jsx(ProductList,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/stock",element:jsxRuntimeExports.jsx("div",{style:{color:"var(--text-primary)",padding:"2rem"},children:"Stock Manager - Coming Soon"})}),jsxRuntimeExports.jsx(Route$1,{path:"/shipping/warehouse",element:jsxRuntimeExports.jsx(Warehouse$1,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/shipping/couriers",element:jsxRuntimeExports.jsx(Couriers,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/shipping/deliveries",element:jsxRuntimeExports.jsx(Deliveries,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/stocklists",element:jsxRuntimeExports.jsx("div",{style:{color:"var(--text-primary)",padding:"2rem"},children:"Stocklists - Coming Soon"})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/barcode-scanner",element:jsxRuntimeExports.jsx(BarcodeScannerApp,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/inventory/airtable",element:jsxRuntimeExports.jsx(AirtableDemo,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/catalogues",element:jsxRuntimeExports.jsx(CataloguesLanding,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/image-management",element:jsxRuntimeExports.jsx(ImageManagement,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/messaging",element:jsxRuntimeExports.jsx(Messaging,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/settings",element:jsxRuntimeExports.jsx(Settings,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/settings/*",element:jsxRuntimeExports.jsx(Settings,{})}),jsxRuntimeExports.jsx(Route$1,{index:!0,element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route$1,{path:"*",element:jsxRuntimeExports.jsx("div",{style:{color:"var(--text-primary)",padding:"2rem"},children:"Page not found"})})]})})]}),jsxRuntimeExports.jsx(NewPageModal,{isVisible:ot,onClose:()=>ct(!1),onSave:lr}),jsxRuntimeExports.jsx(OfflineStatus,{})]})}function ProtectedRoute({children:i}){return authService.isLoggedIn()?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}function App(){return jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route$1,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route$1,{path:"/*",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(MasterLayout,{})})})]})}const root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React$7.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})})}));export{productService as p,utils as u,writeSync as w};
//# sourceMappingURL=index-a7voj5dR.js.map
